function kM(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xn(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),r}var Nm={exports:{}},Wo={};var IS;function MM(){if(IS)return Wo;IS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:l}}return Wo.Fragment=e,Wo.jsx=r,Wo.jsxs=r,Wo}var BS;function qM(){return BS||(BS=1,Nm.exports=MM()),Nm.exports}var h=qM(),Tm={exports:{}},Oe={};var HS;function PM(){if(HS)return Oe;HS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function j($,X,oe){this.props=$,this.context=X,this.refs=S,this.updater=oe||w}j.prototype.isReactComponent={},j.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function E(){}E.prototype=j.prototype;function T($,X,oe){this.props=$,this.context=X,this.refs=S,this.updater=oe||w}var O=T.prototype=new E;O.constructor=T,_(O,j.prototype),O.isPureReactComponent=!0;var M=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function L($,X,oe){var ue=oe.ref;return{$$typeof:t,type:$,key:X,ref:ue!==void 0?ue:null,props:oe}}function C($,X){return L($.type,X,$.props)}function q($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(oe){return X[oe]})}var z=/\/+/g;function W($,X){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):X.toString(36)}function ee($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(D,D):($.status="pending",$.then(function(X){$.status==="pending"&&($.status="fulfilled",$.value=X)},function(X){$.status==="pending"&&($.status="rejected",$.reason=X)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function B($,X,oe,ue,fe){var pe=typeof $;(pe==="undefined"||pe==="boolean")&&($=null);var be=!1;if($===null)be=!0;else switch(pe){case"bigint":case"string":case"number":be=!0;break;case"object":switch($.$$typeof){case t:case e:be=!0;break;case v:return be=$._init,B(be($._payload),X,oe,ue,fe)}}if(be)return fe=fe($),be=ue===""?"."+W($,0):ue,M(fe)?(oe="",be!=null&&(oe=be.replace(z,"$&/")+"/"),B(fe,X,oe,"",function(bt){return bt})):fe!=null&&(q(fe)&&(fe=C(fe,oe+(fe.key==null||$&&$.key===fe.key?"":(""+fe.key).replace(z,"$&/")+"/")+be)),X.push(fe)),1;be=0;var ke=ue===""?".":ue+":";if(M($))for(var Pe=0;Pe<$.length;Pe++)ue=$[Pe],pe=ke+W(ue,Pe),be+=B(ue,X,oe,pe,fe);else if(Pe=x($),typeof Pe=="function")for($=Pe.call($),Pe=0;!(ue=$.next()).done;)ue=ue.value,pe=ke+W(ue,Pe++),be+=B(ue,X,oe,pe,fe);else if(pe==="object"){if(typeof $.then=="function")return B(ee($),X,oe,ue,fe);throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return be}function H($,X,oe){if($==null)return $;var ue=[],fe=0;return B($,ue,"","",function(pe){return X.call(oe,pe,fe++)}),ue}function te($){if($._status===-1){var X=$._result;X=X(),X.then(function(oe){($._status===0||$._status===-1)&&($._status=1,$._result=oe)},function(oe){($._status===0||$._status===-1)&&($._status=2,$._result=oe)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var le=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},V={map:H,forEach:function($,X,oe){H($,function(){X.apply(this,arguments)},oe)},count:function($){var X=0;return H($,function(){X++}),X},toArray:function($){return H($,function(X){return X})||[]},only:function($){if(!q($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Oe.Activity=y,Oe.Children=V,Oe.Component=j,Oe.Fragment=r,Oe.Profiler=i,Oe.PureComponent=T,Oe.StrictMode=a,Oe.Suspense=f,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function($){return R.H.useMemoCache($)}},Oe.cache=function($){return function(){return $.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function($,X,oe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ue=_({},$.props),fe=$.key;if(X!=null)for(pe in X.key!==void 0&&(fe=""+X.key),X)!P.call(X,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&X.ref===void 0||(ue[pe]=X[pe]);var pe=arguments.length-2;if(pe===1)ue.children=oe;else if(1<pe){for(var be=Array(pe),ke=0;ke<pe;ke++)be[ke]=arguments[ke+2];ue.children=be}return L($.type,fe,ue)},Oe.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Oe.createElement=function($,X,oe){var ue,fe={},pe=null;if(X!=null)for(ue in X.key!==void 0&&(pe=""+X.key),X)P.call(X,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(fe[ue]=X[ue]);var be=arguments.length-2;if(be===1)fe.children=oe;else if(1<be){for(var ke=Array(be),Pe=0;Pe<be;Pe++)ke[Pe]=arguments[Pe+2];fe.children=ke}if($&&$.defaultProps)for(ue in be=$.defaultProps,be)fe[ue]===void 0&&(fe[ue]=be[ue]);return L($,pe,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function($){return{$$typeof:d,render:$}},Oe.isValidElement=q,Oe.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:te}},Oe.memo=function($,X){return{$$typeof:m,type:$,compare:X===void 0?null:X}},Oe.startTransition=function($){var X=R.T,oe={};R.T=oe;try{var ue=$(),fe=R.S;fe!==null&&fe(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(D,le)}catch(pe){le(pe)}finally{X!==null&&oe.types!==null&&(X.types=oe.types),R.T=X}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function($){return R.H.use($)},Oe.useActionState=function($,X,oe){return R.H.useActionState($,X,oe)},Oe.useCallback=function($,X){return R.H.useCallback($,X)},Oe.useContext=function($){return R.H.useContext($)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function($,X){return R.H.useDeferredValue($,X)},Oe.useEffect=function($,X){return R.H.useEffect($,X)},Oe.useEffectEvent=function($){return R.H.useEffectEvent($)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function($,X,oe){return R.H.useImperativeHandle($,X,oe)},Oe.useInsertionEffect=function($,X){return R.H.useInsertionEffect($,X)},Oe.useLayoutEffect=function($,X){return R.H.useLayoutEffect($,X)},Oe.useMemo=function($,X){return R.H.useMemo($,X)},Oe.useOptimistic=function($,X){return R.H.useOptimistic($,X)},Oe.useReducer=function($,X,oe){return R.H.useReducer($,X,oe)},Oe.useRef=function($){return R.H.useRef($)},Oe.useState=function($){return R.H.useState($)},Oe.useSyncExternalStore=function($,X,oe){return R.H.useSyncExternalStore($,X,oe)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.1",Oe}var FS;function Cr(){return FS||(FS=1,Tm.exports=PM()),Tm.exports}var A=Cr();const Y=Qt(A);var Om={exports:{}},Yo={},Cm={exports:{}},Am={};var GS;function LM(){return GS||(GS=1,(function(t){function e(B,H){var te=B.length;B.push(H);e:for(;0<te;){var le=te-1>>>1,V=B[le];if(0<i(V,H))B[le]=H,B[te]=V,te=le;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var H=B[0],te=B.pop();if(te!==H){B[0]=te;e:for(var le=0,V=B.length,$=V>>>1;le<$;){var X=2*(le+1)-1,oe=B[X],ue=X+1,fe=B[ue];if(0>i(oe,te))ue<V&&0>i(fe,oe)?(B[le]=fe,B[ue]=te,le=ue):(B[le]=oe,B[X]=te,le=X);else if(ue<V&&0>i(fe,te))B[le]=fe,B[ue]=te,le=ue;else break e}}return H}function i(B,H){var te=B.sortIndex-H.sortIndex;return te!==0?te:B.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],v=1,y=null,b=3,x=!1,w=!1,_=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(B){for(var H=r(m);H!==null;){if(H.callback===null)a(m);else if(H.startTime<=B)a(m),H.sortIndex=H.expirationTime,e(f,H);else break;H=r(m)}}function M(B){if(_=!1,O(B),!w)if(r(f)!==null)w=!0,D||(D=!0,U());else{var H=r(m);H!==null&&ee(M,H.startTime-B)}}var D=!1,R=-1,P=5,L=-1;function C(){return S?!0:!(t.unstable_now()-L<P)}function q(){if(S=!1,D){var B=t.unstable_now();L=B;var H=!0;try{e:{w=!1,_&&(_=!1,E(R),R=-1),x=!0;var te=b;try{t:{for(O(B),y=r(f);y!==null&&!(y.expirationTime>B&&C());){var le=y.callback;if(typeof le=="function"){y.callback=null,b=y.priorityLevel;var V=le(y.expirationTime<=B);if(B=t.unstable_now(),typeof V=="function"){y.callback=V,O(B),H=!0;break t}y===r(f)&&a(f),O(B)}else a(f);y=r(f)}if(y!==null)H=!0;else{var $=r(m);$!==null&&ee(M,$.startTime-B),H=!1}}break e}finally{y=null,b=te,x=!1}H=void 0}}finally{H?U():D=!1}}}var U;if(typeof T=="function")U=function(){T(q)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=q,U=function(){W.postMessage(null)}}else U=function(){j(q,0)};function ee(B,H){R=j(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(B){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var te=b;b=H;try{return B()}finally{b=te}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=b;b=B;try{return H()}finally{b=te}},t.unstable_scheduleCallback=function(B,H,te){var le=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=te+V,B={id:v++,callback:H,priorityLevel:B,startTime:te,expirationTime:V,sortIndex:-1},te>le?(B.sortIndex=te,e(m,B),r(f)===null&&B===r(m)&&(_?(E(R),R=-1):_=!0,ee(M,te-le))):(B.sortIndex=V,e(f,B),w||x||(w=!0,D||(D=!0,U()))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var H=b;return function(){var te=b;b=H;try{return B.apply(this,arguments)}finally{b=te}}}})(Am)),Am}var WS;function $M(){return WS||(WS=1,Cm.exports=LM()),Cm.exports}var Rm={exports:{}},Vt={};var YS;function UM(){if(YS)return Vt;YS=1;var t=Cr();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Vt.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,v)},Vt.flushSync=function(f){var m=c.T,v=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=v,a.d.f()}},Vt.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},Vt.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Vt.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):v==="script"&&a.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Vt.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},Vt.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin);a.d.L(f,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Vt.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},Vt.requestFormReset=function(f){a.d.r(f)},Vt.unstable_batchedUpdates=function(f,m){return f(m)},Vt.useFormState=function(f,m,v){return c.H.useFormState(f,m,v)},Vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vt.version="19.2.1",Vt}var VS;function l2(){if(VS)return Rm.exports;VS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rm.exports=UM(),Rm.exports}var KS;function zM(){if(KS)return Yo;KS=1;var t=$M(),e=Cr(),r=l2();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(a(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(a(188));return s!==n?null:n}for(var o=n,u=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return f(p),n;if(g===u)return f(p),s;g=g.sibling}throw Error(a(188))}if(o.return!==u.return)o=p,u=g;else{for(var N=!1,k=p.child;k;){if(k===o){N=!0,o=p,u=g;break}if(k===u){N=!0,u=p,o=g;break}k=k.sibling}if(!N){for(k=g.child;k;){if(k===o){N=!0,o=g,u=p;break}if(k===u){N=!0,u=g,o=p;break}k=k.sibling}if(!N)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var z=Symbol.for("react.client.reference");function W(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case L:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case T:return n.displayName||"Context";case E:return(n._context.displayName||"Context")+".Consumer";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:W(n.type)||"Memo";case P:s=n._payload,n=n._init;try{return W(n(s))}catch{}}return null}var ee=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},le=[],V=-1;function $(n){return{current:n}}function X(n){0>V||(n.current=le[V],le[V]=null,V--)}function oe(n,s){V++,le[V]=n.current,n.current=s}var ue=$(null),fe=$(null),pe=$(null),be=$(null);function ke(n,s){switch(oe(pe,s),oe(fe,n),oe(ue,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?uS(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=uS(s),n=dS(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(ue),oe(ue,n)}function Pe(){X(ue),X(fe),X(pe)}function bt(n){n.memoizedState!==null&&oe(be,n);var s=ue.current,o=dS(s,n.type);s!==o&&(oe(fe,n),oe(ue,o))}function vt(n){fe.current===n&&(X(ue),X(fe)),be.current===n&&(X(be),Bo._currentValue=te)}var Wt,pr;function xt(n){if(Wt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Wt=s&&s[1]||"",pr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+n+pr}var Ae=!1;function Pt(n,s){if(!n||Ae)return"";Ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var J=Z}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(Z){J=Z}n.call(ie.prototype)}}else{try{throw Error()}catch(Z){J=Z}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&J&&typeof Z.stack=="string")return[Z.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),N=g[0],k=g[1];if(N&&k){var I=N.split(`
`),Q=k.split(`
`);for(p=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===I.length||p===Q.length)for(u=I.length-1,p=Q.length-1;1<=u&&0<=p&&I[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(I[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||I[u]!==Q[p]){var ne=`
`+I[u].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=u&&0<=p);break}}}finally{Ae=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?xt(o):""}function De(n,s){switch(n.tag){case 26:case 27:case 5:return xt(n.type);case 16:return xt("Lazy");case 13:return n.child!==s&&s!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Pt(n.type,!1);case 11:return Pt(n.type.render,!1);case 1:return Pt(n.type,!0);case 31:return xt("Activity");default:return""}}function re(n){try{var s="",o=null;do s+=De(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xe=Object.prototype.hasOwnProperty,_e=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,st=t.unstable_shouldYield,it=t.unstable_requestPaint,Ze=t.unstable_now,de=t.unstable_getCurrentPriorityLevel,ae=t.unstable_ImmediatePriority,ge=t.unstable_UserBlockingPriority,Ee=t.unstable_NormalPriority,dt=t.unstable_LowPriority,rr=t.unstable_IdlePriority,Vr=t.log,vr=t.unstable_setDisableYieldValue,ft=null,ze=null;function gr(n){if(typeof Vr=="function"&&vr(n),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(ft,n)}catch{}}var Yt=Math.clz32?Math.clz32:bD,gD=Math.log,yD=Math.LN2;function bD(n){return n>>>=0,n===0?32:31-(gD(n)/yD|0)|0}var ac=256,sc=262144,ic=4194304;function $a(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function oc(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var p=0,g=n.suspendedLanes,N=n.pingedLanes;n=n.warmLanes;var k=u&134217727;return k!==0?(u=k&~g,u!==0?p=$a(u):(N&=k,N!==0?p=$a(N):o||(o=k&~n,o!==0&&(p=$a(o))))):(k=u&~g,k!==0?p=$a(k):N!==0?p=$a(N):o||(o=u&~n,o!==0&&(p=$a(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function eo(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function xD(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gb(){var n=ic;return ic<<=1,(ic&62914560)===0&&(ic=4194304),n}function mf(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function to(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function wD(n,s,o,u,p,g){var N=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var k=n.entanglements,I=n.expirationTimes,Q=n.hiddenUpdates;for(o=N&~o;0<o;){var ne=31-Yt(o),ie=1<<ne;k[ne]=0,I[ne]=-1;var J=Q[ne];if(J!==null)for(Q[ne]=null,ne=0;ne<J.length;ne++){var Z=J[ne];Z!==null&&(Z.lane&=-536870913)}o&=~ie}u!==0&&Wb(n,u,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(N&~s))}function Wb(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Yt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Yb(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Yt(o),p=1<<u;p&s|n[u]&s&&(n[u]|=s),o&=~p}}function Vb(n,s){var o=s&-s;return o=(o&42)!==0?1:pf(o),(o&(n.suspendedLanes|s))!==0?0:o}function pf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Kb(){var n=H.p;return n!==0?n:(n=window.event,n===void 0?32:MS(n.type))}function Xb(n,s){var o=H.p;try{return H.p=n,s()}finally{H.p=o}}var ea=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ea,nr="__reactProps$"+ea,Ds="__reactContainer$"+ea,gf="__reactEvents$"+ea,_D="__reactListeners$"+ea,SD="__reactHandles$"+ea,Qb="__reactResources$"+ea,ro="__reactMarker$"+ea;function yf(n){delete n[Lt],delete n[nr],delete n[gf],delete n[_D],delete n[SD]}function ks(n){var s=n[Lt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Ds]||o[Lt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=yS(n);n!==null;){if(o=n[Lt])return o;n=yS(n)}return s}n=o,o=n.parentNode}return null}function Ms(n){if(n=n[Lt]||n[Ds]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function no(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function qs(n){var s=n[Qb];return s||(s=n[Qb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(n){n[ro]=!0}var Jb=new Set,Zb={};function Ua(n,s){Ps(n,s),Ps(n+"Capture",s)}function Ps(n,s){for(Zb[n]=s,n=0;n<s.length;n++)Jb.add(s[n])}var ED=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ex={},tx={};function jD(n){return xe.call(tx,n)?!0:xe.call(ex,n)?!1:ED.test(n)?tx[n]=!0:(ex[n]=!0,!1)}function lc(n,s,o){if(jD(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function cc(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function En(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Ar(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rx(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ND(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(N){o=""+N,g.call(this,N)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(N){o=""+N},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function bf(n){if(!n._valueTracker){var s=rx(n)?"checked":"value";n._valueTracker=ND(n,s,""+n[s])}}function nx(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=rx(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function uc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var TD=/[\n"\\]/g;function Rr(n){return n.replace(TD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xf(n,s,o,u,p,g,N,k){n.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.type=N:n.removeAttribute("type"),s!=null?N==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ar(s)):n.value!==""+Ar(s)&&(n.value=""+Ar(s)):N!=="submit"&&N!=="reset"||n.removeAttribute("value"),s!=null?wf(n,N,Ar(s)):o!=null?wf(n,N,Ar(o)):u!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+Ar(k):n.removeAttribute("name")}function ax(n,s,o,u,p,g,N,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){bf(n);return}o=o!=null?""+Ar(o):"",s=s!=null?""+Ar(s):o,k||s===n.value||(n.value=s),n.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=k?n.checked:!!u,n.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.name=N),bf(n)}function wf(n,s,o){s==="number"&&uc(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ls(n,s,o,u){if(n=n.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=s.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Ar(o),s=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function sx(n,s,o){if(s!=null&&(s=""+Ar(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Ar(o):""}function ix(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(a(92));if(ee(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ar(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),bf(n)}function $s(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var OD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ox(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||OD.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function lx(n,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&ox(n,p,u)}else for(var g in s)s.hasOwnProperty(g)&&ox(n,g,s[g])}function _f(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var CD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),AD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dc(n){return AD.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function jn(){}var Sf=null;function Ef(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Us=null,zs=null;function cx(n){var s=Ms(n);if(s&&(n=s.stateNode)){var o=n[nr]||null;e:switch(n=s.stateNode,s.type){case"input":if(xf(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rr(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var p=u[nr]||null;if(!p)throw Error(a(90));xf(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&nx(u)}break e;case"textarea":sx(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ls(n,!!o.multiple,s,!1)}}}var jf=!1;function ux(n,s,o){if(jf)return n(s,o);jf=!0;try{var u=n(s);return u}finally{if(jf=!1,(Us!==null||zs!==null)&&(Jc(),Us&&(s=Us,n=zs,zs=Us=null,cx(s),n)))for(s=0;s<n.length;s++)cx(n[s])}}function ao(n,s){var o=n.stateNode;if(o===null)return null;var u=o[nr]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=!1;if(Nn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Nf=!1}var ta=null,Tf=null,fc=null;function dx(){if(fc)return fc;var n,s=Tf,o=s.length,u,p="value"in ta?ta.value:ta.textContent,g=p.length;for(n=0;n<o&&s[n]===p[n];n++);var N=o-n;for(u=1;u<=N&&s[o-u]===p[g-u];u++);return fc=p.slice(n,1<u?1-u:void 0)}function hc(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function mc(){return!0}function fx(){return!1}function ar(n){function s(o,u,p,g,N){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(o=n[k],this[k]=o?o(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mc:fx,this.isPropagationStopped=fx,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),s}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=ar(za),io=y({},za,{view:0,detail:0}),RD=ar(io),Of,Cf,oo,vc=y({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==oo&&(oo&&n.type==="mousemove"?(Of=n.screenX-oo.screenX,Cf=n.screenY-oo.screenY):Cf=Of=0,oo=n),Of)},movementY:function(n){return"movementY"in n?n.movementY:Cf}}),hx=ar(vc),DD=y({},vc,{dataTransfer:0}),kD=ar(DD),MD=y({},io,{relatedTarget:0}),Af=ar(MD),qD=y({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),PD=ar(qD),LD=y({},za,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),$D=ar(LD),UD=y({},za,{data:0}),mx=ar(UD),zD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ID={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HD(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=BD[n])?!!s[n]:!1}function Rf(){return HD}var FD=y({},io,{key:function(n){if(n.key){var s=zD[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=hc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ID[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(n){return n.type==="keypress"?hc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),GD=ar(FD),WD=y({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),px=ar(WD),YD=y({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),VD=ar(YD),KD=y({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),XD=ar(KD),QD=y({},vc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),JD=ar(QD),ZD=y({},za,{newState:0,oldState:0}),ek=ar(ZD),tk=[9,13,27,32],Df=Nn&&"CompositionEvent"in window,lo=null;Nn&&"documentMode"in document&&(lo=document.documentMode);var rk=Nn&&"TextEvent"in window&&!lo,vx=Nn&&(!Df||lo&&8<lo&&11>=lo),gx=" ",yx=!1;function bx(n,s){switch(n){case"keyup":return tk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Is=!1;function nk(n,s){switch(n){case"compositionend":return xx(s);case"keypress":return s.which!==32?null:(yx=!0,gx);case"textInput":return n=s.data,n===gx&&yx?null:n;default:return null}}function ak(n,s){if(Is)return n==="compositionend"||!Df&&bx(n,s)?(n=dx(),fc=Tf=ta=null,Is=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vx&&s.locale!=="ko"?null:s.data;default:return null}}var sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wx(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!sk[n.type]:s==="textarea"}function _x(n,s,o,u){Us?zs?zs.push(u):zs=[u]:Us=u,s=su(s,"onChange"),0<s.length&&(o=new pc("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var co=null,uo=null;function ik(n){aS(n,0)}function gc(n){var s=no(n);if(nx(s))return n}function Sx(n,s){if(n==="change")return s}var Ex=!1;if(Nn){var kf;if(Nn){var Mf="oninput"in document;if(!Mf){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),Mf=typeof jx.oninput=="function"}kf=Mf}else kf=!1;Ex=kf&&(!document.documentMode||9<document.documentMode)}function Nx(){co&&(co.detachEvent("onpropertychange",Tx),uo=co=null)}function Tx(n){if(n.propertyName==="value"&&gc(uo)){var s=[];_x(s,uo,n,Ef(n)),ux(ik,s)}}function ok(n,s,o){n==="focusin"?(Nx(),co=s,uo=o,co.attachEvent("onpropertychange",Tx)):n==="focusout"&&Nx()}function lk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gc(uo)}function ck(n,s){if(n==="click")return gc(s)}function uk(n,s){if(n==="input"||n==="change")return gc(s)}function dk(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var yr=typeof Object.is=="function"?Object.is:dk;function fo(n,s){if(yr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!xe.call(s,p)||!yr(n[p],s[p]))return!1}return!0}function Ox(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cx(n,s){var o=Ox(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ox(o)}}function Ax(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ax(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Rx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=uc(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=uc(n.document)}return s}function qf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var fk=Nn&&"documentMode"in document&&11>=document.documentMode,Bs=null,Pf=null,ho=null,Lf=!1;function Dx(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lf||Bs==null||Bs!==uc(u)||(u=Bs,"selectionStart"in u&&qf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ho&&fo(ho,u)||(ho=u,u=su(Pf,"onSelect"),0<u.length&&(s=new pc("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Bs)))}function Ia(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Hs={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},$f={},kx={};Nn&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Ba(n){if($f[n])return $f[n];if(!Hs[n])return n;var s=Hs[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in kx)return $f[n]=s[o];return n}var Mx=Ba("animationend"),qx=Ba("animationiteration"),Px=Ba("animationstart"),hk=Ba("transitionrun"),mk=Ba("transitionstart"),pk=Ba("transitioncancel"),Lx=Ba("transitionend"),$x=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function Kr(n,s){$x.set(n,s),Ua(s,[n])}var yc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Dr=[],Fs=0,zf=0;function bc(){for(var n=Fs,s=zf=Fs=0;s<n;){var o=Dr[s];Dr[s++]=null;var u=Dr[s];Dr[s++]=null;var p=Dr[s];Dr[s++]=null;var g=Dr[s];if(Dr[s++]=null,u!==null&&p!==null){var N=u.pending;N===null?p.next=p:(p.next=N.next,N.next=p),u.pending=p}g!==0&&Ux(o,p,g)}}function xc(n,s,o,u){Dr[Fs++]=n,Dr[Fs++]=s,Dr[Fs++]=o,Dr[Fs++]=u,zf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function If(n,s,o,u){return xc(n,s,o,u),wc(n)}function Ha(n,s){return xc(n,null,null,s),wc(n)}function Ux(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&s!==null&&(p=31-Yt(o),n=g.hiddenUpdates,u=n[p],u===null?n[p]=[s]:u.push(s),s.lane=o|536870912),g):null}function wc(n){if(50<qo)throw qo=0,Xh=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Gs={};function vk(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(n,s,o,u){return new vk(n,s,o,u)}function Bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Tn(n,s){var o=n.alternate;return o===null?(o=br(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function zx(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function _c(n,s,o,u,p,g){var N=0;if(u=n,typeof n=="function")Bf(n)&&(N=1);else if(typeof n=="string")N=wM(n,o,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case L:return n=br(31,o,s,p),n.elementType=L,n.lanes=g,n;case _:return Fa(o.children,p,g,s);case S:N=8,p|=24;break;case j:return n=br(12,o,s,p|2),n.elementType=j,n.lanes=g,n;case M:return n=br(13,o,s,p),n.elementType=M,n.lanes=g,n;case D:return n=br(19,o,s,p),n.elementType=D,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:N=10;break e;case E:N=9;break e;case O:N=11;break e;case R:N=14;break e;case P:N=16,u=null;break e}N=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return s=br(N,o,s,p),s.elementType=n,s.type=u,s.lanes=g,s}function Fa(n,s,o,u){return n=br(7,n,u,s),n.lanes=o,n}function Hf(n,s,o){return n=br(6,n,null,s),n.lanes=o,n}function Ix(n){var s=br(18,null,null,0);return s.stateNode=n,s}function Ff(n,s,o){return s=br(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Bx=new WeakMap;function kr(n,s){if(typeof n=="object"&&n!==null){var o=Bx.get(n);return o!==void 0?o:(s={value:n,source:s,stack:re(s)},Bx.set(n,s),s)}return{value:n,source:s,stack:re(s)}}var Ws=[],Ys=0,Sc=null,mo=0,Mr=[],qr=0,ra=null,sn=1,on="";function On(n,s){Ws[Ys++]=mo,Ws[Ys++]=Sc,Sc=n,mo=s}function Hx(n,s,o){Mr[qr++]=sn,Mr[qr++]=on,Mr[qr++]=ra,ra=n;var u=sn;n=on;var p=32-Yt(u)-1;u&=~(1<<p),o+=1;var g=32-Yt(s)+p;if(30<g){var N=p-p%5;g=(u&(1<<N)-1).toString(32),u>>=N,p-=N,sn=1<<32-Yt(s)+p|o<<p|u,on=g+n}else sn=1<<g|o<<p|u,on=n}function Gf(n){n.return!==null&&(On(n,1),Hx(n,1,0))}function Wf(n){for(;n===Sc;)Sc=Ws[--Ys],Ws[Ys]=null,mo=Ws[--Ys],Ws[Ys]=null;for(;n===ra;)ra=Mr[--qr],Mr[qr]=null,on=Mr[--qr],Mr[qr]=null,sn=Mr[--qr],Mr[qr]=null}function Fx(n,s){Mr[qr++]=sn,Mr[qr++]=on,Mr[qr++]=ra,sn=s.id,on=s.overflow,ra=n}var $t=null,tt=null,Ue=!1,na=null,Pr=!1,Yf=Error(a(519));function aa(n){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(kr(s,n)),Yf}function Gx(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Lt]=n,s[nr]=u,o){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(o=0;o<Lo.length;o++)qe(Lo[o],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),ax(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),ix(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||lS(s.textContent,o)?(u.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),u.onScroll!=null&&qe("scroll",s),u.onScrollEnd!=null&&qe("scrollend",s),u.onClick!=null&&(s.onclick=jn),s=!0):s=!1,s||aa(n,!0)}function Wx(n){for($t=n.return;$t;)switch($t.tag){case 5:case 31:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:$t=$t.return}}function Vs(n){if(n!==$t)return!1;if(!Ue)return Wx(n),Ue=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||dm(n.type,n.memoizedProps)),o=!o),o&&tt&&aa(n),Wx(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=gS(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=gS(n)}else s===27?(s=tt,ya(n.type)?(n=vm,vm=null,tt=n):tt=s):tt=$t?$r(n.stateNode.nextSibling):null;return!0}function Ga(){tt=$t=null,Ue=!1}function Vf(){var n=na;return n!==null&&(lr===null?lr=n:lr.push.apply(lr,n),na=null),n}function po(n){na===null?na=[n]:na.push(n)}var Kf=$(null),Wa=null,Cn=null;function sa(n,s,o){oe(Kf,s._currentValue),s._currentValue=o}function An(n){n._currentValue=Kf.current,X(Kf)}function Xf(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Qf(n,s,o,u){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var N=p.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=p;for(var I=0;I<s.length;I++)if(k.context===s[I]){g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),Xf(g.return,o,n),u||(N=null);break e}g=k.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(a(341));N.lanes|=o,g=N.alternate,g!==null&&(g.lanes|=o),Xf(N,o,n),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===n){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function Ks(n,s,o,u){n=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var k=p.type;yr(p.pendingProps.value,N.value)||(n!==null?n.push(k):n=[k])}}else if(p===be.current){if(N=p.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Bo):n=[Bo])}p=p.return}n!==null&&Qf(s,n,o,u),s.flags|=262144}function Ec(n){for(n=n.firstContext;n!==null;){if(!yr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ya(n){Wa=n,Cn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ut(n){return Yx(Wa,n)}function jc(n,s){return Wa===null&&Ya(n),Yx(n,s)}function Yx(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Cn===null){if(n===null)throw Error(a(308));Cn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Cn=Cn.next=s;return o}var gk=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},yk=t.unstable_scheduleCallback,bk=t.unstable_NormalPriority,wt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new gk,data:new Map,refCount:0}}function vo(n){n.refCount--,n.refCount===0&&yk(bk,function(){n.controller.abort()})}var go=null,Zf=0,Xs=0,Qs=null;function xk(n,s){if(go===null){var o=go=[];Zf=0,Xs=rm(),Qs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Zf++,s.then(Vx,Vx),s}function Vx(){if(--Zf===0&&go!==null){Qs!==null&&(Qs.status="fulfilled");var n=go;go=null,Xs=0,Qs=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function wk(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Kx=B.S;B.S=function(n,s){D_=Ze(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&xk(n,s),Kx!==null&&Kx(n,s)};var Va=$(null);function eh(){var n=Va.current;return n!==null?n:Qe.pooledCache}function Nc(n,s){s===null?oe(Va,Va.current):oe(Va,s.pool)}function Xx(){var n=eh();return n===null?null:{parent:wt._currentValue,pool:n}}var Js=Error(a(460)),th=Error(a(474)),Tc=Error(a(542)),Oc={then:function(){}};function Qx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Jx(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(jn,jn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,ew(n),n;default:if(typeof s.status=="string")s.then(jn,jn);else{if(n=Qe,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,ew(n),n}throw Xa=s,Js}}function Ka(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xa=o,Js):o}}var Xa=null;function Zx(){if(Xa===null)throw Error(a(459));var n=Xa;return Xa=null,n}function ew(n){if(n===Js||n===Tc)throw Error(a(483))}var Zs=null,yo=0;function Cc(n){var s=yo;return yo+=1,Zs===null&&(Zs=[]),Jx(Zs,n,s)}function bo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ac(n,s){throw s.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function tw(n){function s(G,F){if(n){var K=G.deletions;K===null?(G.deletions=[F],G.flags|=16):K.push(F)}}function o(G,F){if(!n)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function u(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function p(G,F){return G=Tn(G,F),G.index=0,G.sibling=null,G}function g(G,F,K){return G.index=K,n?(K=G.alternate,K!==null?(K=K.index,K<F?(G.flags|=67108866,F):K):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function N(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function k(G,F,K,se){return F===null||F.tag!==6?(F=Hf(K,G.mode,se),F.return=G,F):(F=p(F,K),F.return=G,F)}function I(G,F,K,se){var we=K.type;return we===_?ne(G,F,K.props.children,se,K.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===P&&Ka(we)===F.type)?(F=p(F,K.props),bo(F,K),F.return=G,F):(F=_c(K.type,K.key,K.props,null,G.mode,se),bo(F,K),F.return=G,F)}function Q(G,F,K,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=Ff(K,G.mode,se),F.return=G,F):(F=p(F,K.children||[]),F.return=G,F)}function ne(G,F,K,se,we){return F===null||F.tag!==7?(F=Fa(K,G.mode,se,we),F.return=G,F):(F=p(F,K),F.return=G,F)}function ie(G,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Hf(""+F,G.mode,K),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return K=_c(F.type,F.key,F.props,null,G.mode,K),bo(K,F),K.return=G,K;case w:return F=Ff(F,G.mode,K),F.return=G,F;case P:return F=Ka(F),ie(G,F,K)}if(ee(F)||U(F))return F=Fa(F,G.mode,K,null),F.return=G,F;if(typeof F.then=="function")return ie(G,Cc(F),K);if(F.$$typeof===T)return ie(G,jc(G,F),K);Ac(G,F)}return null}function J(G,F,K,se){var we=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return we!==null?null:k(G,F,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===we?I(G,F,K,se):null;case w:return K.key===we?Q(G,F,K,se):null;case P:return K=Ka(K),J(G,F,K,se)}if(ee(K)||U(K))return we!==null?null:ne(G,F,K,se,null);if(typeof K.then=="function")return J(G,F,Cc(K),se);if(K.$$typeof===T)return J(G,F,jc(G,K),se);Ac(G,K)}return null}function Z(G,F,K,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(K)||null,k(F,G,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return G=G.get(se.key===null?K:se.key)||null,I(F,G,se,we);case w:return G=G.get(se.key===null?K:se.key)||null,Q(F,G,se,we);case P:return se=Ka(se),Z(G,F,K,se,we)}if(ee(se)||U(se))return G=G.get(K)||null,ne(F,G,se,we,null);if(typeof se.then=="function")return Z(G,F,K,Cc(se),we);if(se.$$typeof===T)return Z(G,F,K,jc(F,se),we);Ac(F,se)}return null}function me(G,F,K,se){for(var we=null,Ie=null,ve=F,Re=F=0,$e=null;ve!==null&&Re<K.length;Re++){ve.index>Re?($e=ve,ve=null):$e=ve.sibling;var Be=J(G,ve,K[Re],se);if(Be===null){ve===null&&(ve=$e);break}n&&ve&&Be.alternate===null&&s(G,ve),F=g(Be,F,Re),Ie===null?we=Be:Ie.sibling=Be,Ie=Be,ve=$e}if(Re===K.length)return o(G,ve),Ue&&On(G,Re),we;if(ve===null){for(;Re<K.length;Re++)ve=ie(G,K[Re],se),ve!==null&&(F=g(ve,F,Re),Ie===null?we=ve:Ie.sibling=ve,Ie=ve);return Ue&&On(G,Re),we}for(ve=u(ve);Re<K.length;Re++)$e=Z(ve,G,Re,K[Re],se),$e!==null&&(n&&$e.alternate!==null&&ve.delete($e.key===null?Re:$e.key),F=g($e,F,Re),Ie===null?we=$e:Ie.sibling=$e,Ie=$e);return n&&ve.forEach(function(Sa){return s(G,Sa)}),Ue&&On(G,Re),we}function Se(G,F,K,se){if(K==null)throw Error(a(151));for(var we=null,Ie=null,ve=F,Re=F=0,$e=null,Be=K.next();ve!==null&&!Be.done;Re++,Be=K.next()){ve.index>Re?($e=ve,ve=null):$e=ve.sibling;var Sa=J(G,ve,Be.value,se);if(Sa===null){ve===null&&(ve=$e);break}n&&ve&&Sa.alternate===null&&s(G,ve),F=g(Sa,F,Re),Ie===null?we=Sa:Ie.sibling=Sa,Ie=Sa,ve=$e}if(Be.done)return o(G,ve),Ue&&On(G,Re),we;if(ve===null){for(;!Be.done;Re++,Be=K.next())Be=ie(G,Be.value,se),Be!==null&&(F=g(Be,F,Re),Ie===null?we=Be:Ie.sibling=Be,Ie=Be);return Ue&&On(G,Re),we}for(ve=u(ve);!Be.done;Re++,Be=K.next())Be=Z(ve,G,Re,Be.value,se),Be!==null&&(n&&Be.alternate!==null&&ve.delete(Be.key===null?Re:Be.key),F=g(Be,F,Re),Ie===null?we=Be:Ie.sibling=Be,Ie=Be);return n&&ve.forEach(function(DM){return s(G,DM)}),Ue&&On(G,Re),we}function Ke(G,F,K,se){if(typeof K=="object"&&K!==null&&K.type===_&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var we=K.key;F!==null;){if(F.key===we){if(we=K.type,we===_){if(F.tag===7){o(G,F.sibling),se=p(F,K.props.children),se.return=G,G=se;break e}}else if(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===P&&Ka(we)===F.type){o(G,F.sibling),se=p(F,K.props),bo(se,K),se.return=G,G=se;break e}o(G,F);break}else s(G,F);F=F.sibling}K.type===_?(se=Fa(K.props.children,G.mode,se,K.key),se.return=G,G=se):(se=_c(K.type,K.key,K.props,null,G.mode,se),bo(se,K),se.return=G,G=se)}return N(G);case w:e:{for(we=K.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){o(G,F.sibling),se=p(F,K.children||[]),se.return=G,G=se;break e}else{o(G,F);break}else s(G,F);F=F.sibling}se=Ff(K,G.mode,se),se.return=G,G=se}return N(G);case P:return K=Ka(K),Ke(G,F,K,se)}if(ee(K))return me(G,F,K,se);if(U(K)){if(we=U(K),typeof we!="function")throw Error(a(150));return K=we.call(K),Se(G,F,K,se)}if(typeof K.then=="function")return Ke(G,F,Cc(K),se);if(K.$$typeof===T)return Ke(G,F,jc(G,K),se);Ac(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(o(G,F.sibling),se=p(F,K),se.return=G,G=se):(o(G,F),se=Hf(K,G.mode,se),se.return=G,G=se),N(G)):o(G,F)}return function(G,F,K,se){try{yo=0;var we=Ke(G,F,K,se);return Zs=null,we}catch(ve){if(ve===Js||ve===Tc)throw ve;var Ie=br(29,ve,null,G.mode);return Ie.lanes=se,Ie.return=G,Ie}finally{}}}var Qa=tw(!0),rw=tw(!1),ia=!1;function rh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function oa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function la(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(He&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=wc(n),Ux(n,null,o),s}return xc(n,u,s,o),wc(n)}function xo(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Yb(n,o)}}function ah(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=N:g=g.next=N,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var sh=!1;function wo(){if(sh){var n=Qs;if(n!==null)throw n}}function _o(n,s,o,u){sh=!1;var p=n.updateQueue;ia=!1;var g=p.firstBaseUpdate,N=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var I=k,Q=I.next;I.next=null,N===null?g=Q:N.next=Q,N=I;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==N&&(k===null?ne.firstBaseUpdate=Q:k.next=Q,ne.lastBaseUpdate=I))}if(g!==null){var ie=p.baseState;N=0,ne=Q=I=null,k=g;do{var J=k.lane&-536870913,Z=J!==k.lane;if(Z?(Le&J)===J:(u&J)===J){J!==0&&J===Xs&&(sh=!0),ne!==null&&(ne=ne.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var me=n,Se=k;J=s;var Ke=o;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){ie=me.call(Ke,ie,J);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,J=typeof me=="function"?me.call(Ke,ie,J):me,J==null)break e;ie=y({},ie,J);break e;case 2:ia=!0}}J=k.callback,J!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[J]:Z.push(J))}else Z={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(Q=ne=Z,I=ie):ne=ne.next=Z,N|=J;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);ne===null&&(I=ie),p.baseState=I,p.firstBaseUpdate=Q,p.lastBaseUpdate=ne,g===null&&(p.shared.lanes=0),ha|=N,n.lanes=N,n.memoizedState=ie}}function nw(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function aw(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)nw(o[n],s)}var ei=$(null),Rc=$(0);function sw(n,s){n=Un,oe(Rc,n),oe(ei,s),Un=n|s.baseLanes}function ih(){oe(Rc,Un),oe(ei,ei.current)}function oh(){Un=Rc.current,X(ei),X(Rc)}var xr=$(null),Lr=null;function ca(n){var s=n.alternate;oe(gt,gt.current&1),oe(xr,n),Lr===null&&(s===null||ei.current!==null||s.memoizedState!==null)&&(Lr=n)}function lh(n){oe(gt,gt.current),oe(xr,n),Lr===null&&(Lr=n)}function iw(n){n.tag===22?(oe(gt,gt.current),oe(xr,n),Lr===null&&(Lr=n)):ua()}function ua(){oe(gt,gt.current),oe(xr,xr.current)}function wr(n){X(xr),Lr===n&&(Lr=null),X(gt)}var gt=$(0);function Dc(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||mm(o)||pm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rn=0,Ce=null,Ye=null,_t=null,kc=!1,ti=!1,Ja=!1,Mc=0,So=0,ri=null,_k=0;function ht(){throw Error(a(321))}function ch(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!yr(n[o],s[o]))return!1;return!0}function uh(n,s,o,u,p,g){return Rn=g,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?Hw:jh,Ja=!1,g=o(u,p),Ja=!1,ti&&(g=lw(s,o,u,p)),ow(n),g}function ow(n){B.H=No;var s=Ye!==null&&Ye.next!==null;if(Rn=0,_t=Ye=Ce=null,kc=!1,So=0,ri=null,s)throw Error(a(300));n===null||St||(n=n.dependencies,n!==null&&Ec(n)&&(St=!0))}function lw(n,s,o,u){Ce=n;var p=0;do{if(ti&&(ri=null),So=0,ti=!1,25<=p)throw Error(a(301));if(p+=1,_t=Ye=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=Fw,g=s(o,u)}while(ti);return g}function Sk(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?Eo(s):s,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ce.flags|=1024),s}function dh(){var n=Mc!==0;return Mc=0,n}function fh(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function hh(n){if(kc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}kc=!1}Rn=0,_t=Ye=Ce=null,ti=!1,So=Mc=0,ri=null}function tr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ce.memoizedState=_t=n:_t=_t.next=n,_t}function yt(){if(Ye===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=_t===null?Ce.memoizedState:_t.next;if(s!==null)_t=s,Ye=n;else{if(n===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?Ce.memoizedState=_t=n:_t=_t.next=n}return _t}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(n){var s=So;return So+=1,ri===null&&(ri=[]),n=Jx(ri,n,s),s=Ce,(_t===null?s.memoizedState:_t.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Hw:jh),n}function Pc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Eo(n);if(n.$$typeof===T)return Ut(n)}throw Error(a(438,String(n)))}function mh(n){var s=null,o=Ce.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=qc(),Ce.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=C;return s.index++,o}function Dn(n,s){return typeof s=="function"?s(n):s}function Lc(n){var s=yt();return ph(s,Ye,n)}function ph(n,s,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var p=n.baseQueue,g=u.pending;if(g!==null){if(p!==null){var N=p.next;p.next=g.next,g.next=N}s.baseQueue=p=g,u.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{s=p.next;var k=N=null,I=null,Q=s,ne=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(Le&ie)===ie:(Rn&ie)===ie){var J=Q.revertLane;if(J===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===Xs&&(ne=!0);else if((Rn&J)===J){Q=Q.next,J===Xs&&(ne=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(k=I=ie,N=g):I=I.next=ie,Ce.lanes|=J,ha|=J;ie=Q.action,Ja&&o(g,ie),g=Q.hasEagerState?Q.eagerState:o(g,ie)}else J={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(k=I=J,N=g):I=I.next=J,Ce.lanes|=ie,ha|=ie;Q=Q.next}while(Q!==null&&Q!==s);if(I===null?N=g:I.next=k,!yr(g,n.memoizedState)&&(St=!0,ne&&(o=Qs,o!==null)))throw o;n.memoizedState=g,n.baseState=N,n.baseQueue=I,u.lastRenderedState=g}return p===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function vh(n){var s=yt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var N=p=p.next;do g=n(g,N.action),N=N.next;while(N!==p);yr(g,s.memoizedState)||(St=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function cw(n,s,o){var u=Ce,p=yt(),g=Ue;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=s();var N=!yr((Ye||p).memoizedState,o);if(N&&(p.memoizedState=o,St=!0),p=p.queue,bh(fw.bind(null,u,p,n),[n]),p.getSnapshot!==s||N||_t!==null&&_t.memoizedState.tag&1){if(u.flags|=2048,ni(9,{destroy:void 0},dw.bind(null,u,p,o,s),null),Qe===null)throw Error(a(349));g||(Rn&127)!==0||uw(u,s,o)}return o}function uw(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ce.updateQueue,s===null?(s=qc(),Ce.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function dw(n,s,o,u){s.value=o,s.getSnapshot=u,hw(s)&&mw(n)}function fw(n,s,o){return o(function(){hw(s)&&mw(n)})}function hw(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!yr(n,o)}catch{return!0}}function mw(n){var s=Ha(n,2);s!==null&&cr(s,n,2)}function gh(n){var s=tr();if(typeof n=="function"){var o=n;if(n=o(),Ja){gr(!0);try{o()}finally{gr(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:n},s}function pw(n,s,o,u){return n.baseState=o,ph(n,Ye,typeof u=="function"?u:Dn)}function Ek(n,s,o,u,p){if(zc(n))throw Error(a(485));if(n=s.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};B.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,vw(s,g)):(g.next=o.next,s.pending=o.next=g)}}function vw(n,s){var o=s.action,u=s.payload,p=n.state;if(s.isTransition){var g=B.T,N={};B.T=N;try{var k=o(p,u),I=B.S;I!==null&&I(N,k),gw(n,s,k)}catch(Q){yh(n,s,Q)}finally{g!==null&&N.types!==null&&(g.types=N.types),B.T=g}}else try{g=o(p,u),gw(n,s,g)}catch(Q){yh(n,s,Q)}}function gw(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){yw(n,s,u)},function(u){return yh(n,s,u)}):yw(n,s,o)}function yw(n,s,o){s.status="fulfilled",s.value=o,bw(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,vw(n,o)))}function yh(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,bw(s),s=s.next;while(s!==u)}n.action=null}function bw(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function xw(n,s){return s}function ww(n,s){if(Ue){var o=Qe.formState;if(o!==null){e:{var u=Ce;if(Ue){if(tt){t:{for(var p=tt,g=Pr;p.nodeType!==8;){if(!g){p=null;break t}if(p=$r(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){tt=$r(p.nextSibling),u=p.data==="F!";break e}}aa(u)}u=!1}u&&(s=o[0])}}return o=tr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xw,lastRenderedState:s},o.queue=u,o=zw.bind(null,Ce,u),u.dispatch=o,u=gh(!1),g=Eh.bind(null,Ce,!1,u.queue),u=tr(),p={state:s,dispatch:null,action:n,pending:null},u.queue=p,o=Ek.bind(null,Ce,p,g,o),p.dispatch=o,u.memoizedState=n,[s,o,!1]}function _w(n){var s=yt();return Sw(s,Ye,n)}function Sw(n,s,o){if(s=ph(n,s,xw)[0],n=Lc(Dn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Eo(s)}catch(N){throw N===Js?Tc:N}else u=s;s=yt();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(Ce.flags|=2048,ni(9,{destroy:void 0},jk.bind(null,p,o),null)),[u,g,n]}function jk(n,s){n.action=s}function Ew(n){var s=yt(),o=Ye;if(o!==null)return Sw(s,o,n);yt(),s=s.memoizedState,o=yt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function ni(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=qc(),Ce.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function jw(){return yt().memoizedState}function $c(n,s,o,u){var p=tr();Ce.flags|=n,p.memoizedState=ni(1|s,{destroy:void 0},o,u===void 0?null:u)}function Uc(n,s,o,u){var p=yt();u=u===void 0?null:u;var g=p.memoizedState.inst;Ye!==null&&u!==null&&ch(u,Ye.memoizedState.deps)?p.memoizedState=ni(s,g,o,u):(Ce.flags|=n,p.memoizedState=ni(1|s,g,o,u))}function Nw(n,s){$c(8390656,8,n,s)}function bh(n,s){Uc(2048,8,n,s)}function Nk(n){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=qc(),Ce.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Tw(n){var s=yt().memoizedState;return Nk({ref:s,nextImpl:n}),function(){if((He&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Ow(n,s){return Uc(4,2,n,s)}function Cw(n,s){return Uc(4,4,n,s)}function Aw(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Rw(n,s,o){o=o!=null?o.concat([n]):null,Uc(4,4,Aw.bind(null,s,n),o)}function xh(){}function Dw(n,s){var o=yt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&ch(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function kw(n,s){var o=yt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&ch(s,u[1]))return u[0];if(u=n(),Ja){gr(!0);try{n()}finally{gr(!1)}}return o.memoizedState=[u,s],u}function wh(n,s,o){return o===void 0||(Rn&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=M_(),Ce.lanes|=n,ha|=n,o)}function Mw(n,s,o,u){return yr(o,s)?o:ei.current!==null?(n=wh(n,o,u),yr(n,s)||(St=!0),n):(Rn&42)===0||(Rn&1073741824)!==0&&(Le&261930)===0?(St=!0,n.memoizedState=o):(n=M_(),Ce.lanes|=n,ha|=n,s)}function qw(n,s,o,u,p){var g=H.p;H.p=g!==0&&8>g?g:8;var N=B.T,k={};B.T=k,Eh(n,!1,s,o);try{var I=p(),Q=B.S;if(Q!==null&&Q(k,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ne=wk(I,u);jo(n,s,ne,Er(n))}else jo(n,s,u,Er(n))}catch(ie){jo(n,s,{then:function(){},status:"rejected",reason:ie},Er())}finally{H.p=g,N!==null&&k.types!==null&&(N.types=k.types),B.T=N}}function Tk(){}function _h(n,s,o,u){if(n.tag!==5)throw Error(a(476));var p=Pw(n).queue;qw(n,p,s,te,o===null?Tk:function(){return Lw(n),o(u)})}function Pw(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:te},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Lw(n){var s=Pw(n);s.next===null&&(s=n.alternate.memoizedState),jo(n,s.next.queue,{},Er())}function Sh(){return Ut(Bo)}function $w(){return yt().memoizedState}function Uw(){return yt().memoizedState}function Ok(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Er();n=oa(o);var u=la(s,n,o);u!==null&&(cr(u,s,o),xo(u,s,o)),s={cache:Jf()},n.payload=s;return}s=s.return}}function Ck(n,s,o){var u=Er();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zc(n)?Iw(s,o):(o=If(n,s,o,u),o!==null&&(cr(o,n,u),Bw(o,s,u)))}function zw(n,s,o){var u=Er();jo(n,s,o,u)}function jo(n,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zc(n))Iw(s,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var N=s.lastRenderedState,k=g(N,o);if(p.hasEagerState=!0,p.eagerState=k,yr(k,N))return xc(n,s,p,0),Qe===null&&bc(),!1}catch{}finally{}if(o=If(n,s,p,u),o!==null)return cr(o,n,u),Bw(o,s,u),!0}return!1}function Eh(n,s,o,u){if(u={lane:2,revertLane:rm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zc(n)){if(s)throw Error(a(479))}else s=If(n,o,u,2),s!==null&&cr(s,n,2)}function zc(n){var s=n.alternate;return n===Ce||s!==null&&s===Ce}function Iw(n,s){ti=kc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Bw(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Yb(n,o)}}var No={readContext:Ut,use:Pc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};No.useEffectEvent=ht;var Hw={readContext:Ut,use:Pc,useCallback:function(n,s){return tr().memoizedState=[n,s===void 0?null:s],n},useContext:Ut,useEffect:Nw,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,$c(4194308,4,Aw.bind(null,s,n),o)},useLayoutEffect:function(n,s){return $c(4194308,4,n,s)},useInsertionEffect:function(n,s){$c(4,2,n,s)},useMemo:function(n,s){var o=tr();s=s===void 0?null:s;var u=n();if(Ja){gr(!0);try{n()}finally{gr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=tr();if(o!==void 0){var p=o(s);if(Ja){gr(!0);try{o(s)}finally{gr(!1)}}}else p=s;return u.memoizedState=u.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},u.queue=n,n=n.dispatch=Ck.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var s=tr();return n={current:n},s.memoizedState=n},useState:function(n){n=gh(n);var s=n.queue,o=zw.bind(null,Ce,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:xh,useDeferredValue:function(n,s){var o=tr();return wh(o,n,s)},useTransition:function(){var n=gh(!1);return n=qw.bind(null,Ce,n.queue,!0,!1),tr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Ce,p=tr();if(Ue){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Qe===null)throw Error(a(349));(Le&127)!==0||uw(u,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,Nw(fw.bind(null,u,g,n),[n]),u.flags|=2048,ni(9,{destroy:void 0},dw.bind(null,u,g,o,s),null),o},useId:function(){var n=tr(),s=Qe.identifierPrefix;if(Ue){var o=on,u=sn;o=(u&~(1<<32-Yt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Mc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=_k++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Sh,useFormState:ww,useActionState:ww,useOptimistic:function(n){var s=tr();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Eh.bind(null,Ce,!0,o),o.dispatch=s,[n,s]},useMemoCache:mh,useCacheRefresh:function(){return tr().memoizedState=Ok.bind(null,Ce)},useEffectEvent:function(n){var s=tr(),o={impl:n};return s.memoizedState=o,function(){if((He&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},jh={readContext:Ut,use:Pc,useCallback:Dw,useContext:Ut,useEffect:bh,useImperativeHandle:Rw,useInsertionEffect:Ow,useLayoutEffect:Cw,useMemo:kw,useReducer:Lc,useRef:jw,useState:function(){return Lc(Dn)},useDebugValue:xh,useDeferredValue:function(n,s){var o=yt();return Mw(o,Ye.memoizedState,n,s)},useTransition:function(){var n=Lc(Dn)[0],s=yt().memoizedState;return[typeof n=="boolean"?n:Eo(n),s]},useSyncExternalStore:cw,useId:$w,useHostTransitionStatus:Sh,useFormState:_w,useActionState:_w,useOptimistic:function(n,s){var o=yt();return pw(o,Ye,n,s)},useMemoCache:mh,useCacheRefresh:Uw};jh.useEffectEvent=Tw;var Fw={readContext:Ut,use:Pc,useCallback:Dw,useContext:Ut,useEffect:bh,useImperativeHandle:Rw,useInsertionEffect:Ow,useLayoutEffect:Cw,useMemo:kw,useReducer:vh,useRef:jw,useState:function(){return vh(Dn)},useDebugValue:xh,useDeferredValue:function(n,s){var o=yt();return Ye===null?wh(o,n,s):Mw(o,Ye.memoizedState,n,s)},useTransition:function(){var n=vh(Dn)[0],s=yt().memoizedState;return[typeof n=="boolean"?n:Eo(n),s]},useSyncExternalStore:cw,useId:$w,useHostTransitionStatus:Sh,useFormState:Ew,useActionState:Ew,useOptimistic:function(n,s){var o=yt();return Ye!==null?pw(o,Ye,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:mh,useCacheRefresh:Uw};Fw.useEffectEvent=Tw;function Nh(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Th={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Er(),p=oa(u);p.payload=s,o!=null&&(p.callback=o),s=la(n,p,u),s!==null&&(cr(s,n,u),xo(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Er(),p=oa(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=la(n,p,u),s!==null&&(cr(s,n,u),xo(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Er(),u=oa(o);u.tag=2,s!=null&&(u.callback=s),s=la(n,u,o),s!==null&&(cr(s,n,o),xo(s,n,o))}};function Gw(n,s,o,u,p,g,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,N):s.prototype&&s.prototype.isPureReactComponent?!fo(o,u)||!fo(p,g):!0}function Ww(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Th.enqueueReplaceState(s,s.state,null)}function Za(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=y({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function Yw(n){yc(n)}function Vw(n){console.error(n)}function Kw(n){yc(n)}function Ic(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Xw(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Oh(n,s,o){return o=oa(o),o.tag=3,o.payload={element:null},o.callback=function(){Ic(n,s)},o}function Qw(n){return n=oa(n),n.tag=3,n}function Jw(n,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;n.payload=function(){return p(g)},n.callback=function(){Xw(s,o,u)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(n.callback=function(){Xw(s,o,u),typeof p!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function Ak(n,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ks(s,o,p,!0),o=xr.current,o!==null){switch(o.tag){case 31:case 13:return Lr===null?Zc():o.alternate===null&&mt===0&&(mt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Oc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Zh(n,u,p)),!1;case 22:return o.flags|=65536,u===Oc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Zh(n,u,p)),!1}throw Error(a(435,o.tag))}return Zh(n,u,p),Zc(),!1}if(Ue)return s=xr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Yf&&(n=Error(a(422),{cause:u}),po(kr(n,o)))):(u!==Yf&&(s=Error(a(423),{cause:u}),po(kr(s,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,u=kr(u,o),p=Oh(n.stateNode,u,p),ah(n,p),mt!==4&&(mt=2)),!1;var g=Error(a(520),{cause:u});if(g=kr(g,o),Mo===null?Mo=[g]:Mo.push(g),mt!==4&&(mt=2),s===null)return!0;u=kr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Oh(o.stateNode,u,n),ah(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ma===null||!ma.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Qw(p),Jw(p,n,o,u),ah(o,p),!1}o=o.return}while(o!==null);return!1}var Ch=Error(a(461)),St=!1;function zt(n,s,o,u){s.child=n===null?rw(s,null,o,u):Qa(s,n.child,o,u)}function Zw(n,s,o,u,p){o=o.render;var g=s.ref;if("ref"in u){var N={};for(var k in u)k!=="ref"&&(N[k]=u[k])}else N=u;return Ya(s),u=uh(n,s,o,N,g,p),k=dh(),n!==null&&!St?(fh(n,s,p),kn(n,s,p)):(Ue&&k&&Gf(s),s.flags|=1,zt(n,s,u,p),s.child)}function e_(n,s,o,u,p){if(n===null){var g=o.type;return typeof g=="function"&&!Bf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,t_(n,s,g,u,p)):(n=_c(o.type,null,u,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Lh(n,p)){var N=g.memoizedProps;if(o=o.compare,o=o!==null?o:fo,o(N,u)&&n.ref===s.ref)return kn(n,s,p)}return s.flags|=1,n=Tn(g,u),n.ref=s.ref,n.return=s,s.child=n}function t_(n,s,o,u,p){if(n!==null){var g=n.memoizedProps;if(fo(g,u)&&n.ref===s.ref)if(St=!1,s.pendingProps=u=g,Lh(n,p))(n.flags&131072)!==0&&(St=!0);else return s.lanes=n.lanes,kn(n,s,p)}return Ah(n,s,o,u,p)}function r_(n,s,o,u){var p=u.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(u=s.child=n.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,s.child=null;return n_(n,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nc(s,g!==null?g.cachePool:null),g!==null?sw(s,g):ih(),iw(s);else return u=s.lanes=536870912,n_(n,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Nc(s,g.cachePool),sw(s,g),ua(),s.memoizedState=null):(n!==null&&Nc(s,null),ih(),ua());return zt(n,s,p,o),s.child}function To(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function n_(n,s,o,u,p){var g=eh();return g=g===null?null:{parent:wt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&Nc(s,null),ih(),iw(s),n!==null&&Ks(n,s,u,!0),s.childLanes=p,null}function Bc(n,s){return s=Fc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function a_(n,s,o){return Qa(s,n.child,null,o),n=Bc(s,s.pendingProps),n.flags|=2,wr(s),s.memoizedState=null,n}function Rk(n,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ue){if(u.mode==="hidden")return n=Bc(s,u),s.lanes=536870912,To(null,n);if(lh(s),(n=tt)?(n=vS(n,Pr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ra!==null?{id:sn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},o=Ix(n),o.return=s,s.child=o,$t=s,tt=null)):n=null,n===null)throw aa(s);return s.lanes=536870912,null}return Bc(s,u)}var g=n.memoizedState;if(g!==null){var N=g.dehydrated;if(lh(s),p)if(s.flags&256)s.flags&=-257,s=a_(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(a(558));else if(St||Ks(n,s,o,!1),p=(o&n.childLanes)!==0,St||p){if(u=Qe,u!==null&&(N=Vb(u,o),N!==0&&N!==g.retryLane))throw g.retryLane=N,Ha(n,N),cr(u,n,N),Ch;Zc(),s=a_(n,s,o)}else n=g.treeContext,tt=$r(N.nextSibling),$t=s,Ue=!0,na=null,Pr=!1,n!==null&&Fx(s,n),s=Bc(s,u),s.flags|=4096;return s}return n=Tn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Hc(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Ah(n,s,o,u,p){return Ya(s),o=uh(n,s,o,u,void 0,p),u=dh(),n!==null&&!St?(fh(n,s,p),kn(n,s,p)):(Ue&&u&&Gf(s),s.flags|=1,zt(n,s,o,p),s.child)}function s_(n,s,o,u,p,g){return Ya(s),s.updateQueue=null,o=lw(s,u,o,p),ow(n),u=dh(),n!==null&&!St?(fh(n,s,g),kn(n,s,g)):(Ue&&u&&Gf(s),s.flags|=1,zt(n,s,o,g),s.child)}function i_(n,s,o,u,p){if(Ya(s),s.stateNode===null){var g=Gs,N=o.contextType;typeof N=="object"&&N!==null&&(g=Ut(N)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Th,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},rh(s),N=o.contextType,g.context=typeof N=="object"&&N!==null?Ut(N):Gs,g.state=s.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(Nh(s,o,N,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&Th.enqueueReplaceState(g,g.state,null),_o(s,u,g,p),wo(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var k=s.memoizedProps,I=Za(o,k);g.props=I;var Q=g.context,ne=o.contextType;N=Gs,typeof ne=="object"&&ne!==null&&(N=Ut(ne));var ie=o.getDerivedStateFromProps;ne=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||Q!==N)&&Ww(s,g,u,N),ia=!1;var J=s.memoizedState;g.state=J,_o(s,u,g,p),wo(),Q=s.memoizedState,k||J!==Q||ia?(typeof ie=="function"&&(Nh(s,o,ie,u),Q=s.memoizedState),(I=ia||Gw(s,o,I,u,J,Q,N))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=N,u=I):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,nh(n,s),N=s.memoizedProps,ne=Za(o,N),g.props=ne,ie=s.pendingProps,J=g.context,Q=o.contextType,I=Gs,typeof Q=="object"&&Q!==null&&(I=Ut(Q)),k=o.getDerivedStateFromProps,(Q=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==ie||J!==I)&&Ww(s,g,u,I),ia=!1,J=s.memoizedState,g.state=J,_o(s,u,g,p),wo();var Z=s.memoizedState;N!==ie||J!==Z||ia||n!==null&&n.dependencies!==null&&Ec(n.dependencies)?(typeof k=="function"&&(Nh(s,o,k,u),Z=s.memoizedState),(ne=ia||Gw(s,o,ne,u,J,Z,I)||n!==null&&n.dependencies!==null&&Ec(n.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,I)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=I,u=ne):(typeof g.componentDidUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,Hc(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=Qa(s,n.child,null,p),s.child=Qa(s,null,o,p)):zt(n,s,o,p),s.memoizedState=g.state,n=s.child):n=kn(n,s,p),n}function o_(n,s,o,u){return Ga(),s.flags|=256,zt(n,s,o,u),s.child}var Rh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(n){return{baseLanes:n,cachePool:Xx()}}function kh(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Sr),n}function l_(n,s,o){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,N;if((N=g)||(N=n!==null&&n.memoizedState===null?!1:(gt.current&2)!==0),N&&(p=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ue){if(p?ca(s):ua(),(n=tt)?(n=vS(n,Pr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ra!==null?{id:sn,overflow:on}:null,retryLane:536870912,hydrationErrors:null},o=Ix(n),o.return=s,s.child=o,$t=s,tt=null)):n=null,n===null)throw aa(s);return pm(n)?s.lanes=32:s.lanes=536870912,null}var k=u.children;return u=u.fallback,p?(ua(),p=s.mode,k=Fc({mode:"hidden",children:k},p),u=Fa(u,p,o,null),k.return=s,u.return=s,k.sibling=u,s.child=k,u=s.child,u.memoizedState=Dh(o),u.childLanes=kh(n,N,o),s.memoizedState=Rh,To(null,u)):(ca(s),Mh(s,k))}var I=n.memoizedState;if(I!==null&&(k=I.dehydrated,k!==null)){if(g)s.flags&256?(ca(s),s.flags&=-257,s=qh(n,s,o)):s.memoizedState!==null?(ua(),s.child=n.child,s.flags|=128,s=null):(ua(),k=u.fallback,p=s.mode,u=Fc({mode:"visible",children:u.children},p),k=Fa(k,p,o,null),k.flags|=2,u.return=s,k.return=s,u.sibling=k,s.child=u,Qa(s,n.child,null,o),u=s.child,u.memoizedState=Dh(o),u.childLanes=kh(n,N,o),s.memoizedState=Rh,s=To(null,u));else if(ca(s),pm(k)){if(N=k.nextSibling&&k.nextSibling.dataset,N)var Q=N.dgst;N=Q,u=Error(a(419)),u.stack="",u.digest=N,po({value:u,source:null,stack:null}),s=qh(n,s,o)}else if(St||Ks(n,s,o,!1),N=(o&n.childLanes)!==0,St||N){if(N=Qe,N!==null&&(u=Vb(N,o),u!==0&&u!==I.retryLane))throw I.retryLane=u,Ha(n,u),cr(N,n,u),Ch;mm(k)||Zc(),s=qh(n,s,o)}else mm(k)?(s.flags|=192,s.child=n.child,s=null):(n=I.treeContext,tt=$r(k.nextSibling),$t=s,Ue=!0,na=null,Pr=!1,n!==null&&Fx(s,n),s=Mh(s,u.children),s.flags|=4096);return s}return p?(ua(),k=u.fallback,p=s.mode,I=n.child,Q=I.sibling,u=Tn(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,Q!==null?k=Tn(Q,k):(k=Fa(k,p,o,null),k.flags|=2),k.return=s,u.return=s,u.sibling=k,s.child=u,To(null,u),u=s.child,k=n.child.memoizedState,k===null?k=Dh(o):(p=k.cachePool,p!==null?(I=wt._currentValue,p=p.parent!==I?{parent:I,pool:I}:p):p=Xx(),k={baseLanes:k.baseLanes|o,cachePool:p}),u.memoizedState=k,u.childLanes=kh(n,N,o),s.memoizedState=Rh,To(n.child,u)):(ca(s),o=n.child,n=o.sibling,o=Tn(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(N=s.deletions,N===null?(s.deletions=[n],s.flags|=16):N.push(n)),s.child=o,s.memoizedState=null,o)}function Mh(n,s){return s=Fc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Fc(n,s){return n=br(22,n,null,s),n.lanes=0,n}function qh(n,s,o){return Qa(s,n.child,null,o),n=Mh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function c_(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Xf(n.return,s,o)}function Ph(n,s,o,u,p,g){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:g}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=u,N.tail=o,N.tailMode=p,N.treeForkCount=g)}function u_(n,s,o){var u=s.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var N=gt.current,k=(N&2)!==0;if(k?(N=N&1|2,s.flags|=128):N&=1,oe(gt,N),zt(n,s,u,o),u=Ue?mo:0,!k&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&c_(n,o,s);else if(n.tag===19)c_(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)n=o.alternate,n!==null&&Dc(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Ph(s,!1,p,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&Dc(n)===null){s.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}Ph(s,!0,o,null,g,u);break;case"together":Ph(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function kn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ha|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Ks(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,o=Tn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Tn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Lh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ec(n)))}function Dk(n,s,o){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),sa(s,wt,n.memoizedState.cache),Ga();break;case 27:case 5:bt(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:sa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,lh(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ca(s),s.flags|=128,null):(o&s.child.childLanes)!==0?l_(n,s,o):(ca(s),n=kn(n,s,o),n!==null?n.sibling:null);ca(s);break;case 19:var p=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ks(n,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return u_(n,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),oe(gt,gt.current),u)break;return null;case 22:return s.lanes=0,r_(n,s,o,s.pendingProps);case 24:sa(s,wt,n.memoizedState.cache)}return kn(n,s,o)}function d_(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)St=!0;else{if(!Lh(n,o)&&(s.flags&128)===0)return St=!1,Dk(n,s,o);St=(n.flags&131072)!==0}else St=!1,Ue&&(s.flags&1048576)!==0&&Hx(s,mo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Ka(s.elementType),s.type=n,typeof n=="function")Bf(n)?(u=Za(n,u),s.tag=1,s=i_(null,s,n,u,o)):(s.tag=0,s=Ah(null,s,n,u,o));else{if(n!=null){var p=n.$$typeof;if(p===O){s.tag=11,s=Zw(null,s,n,u,o);break e}else if(p===R){s.tag=14,s=e_(null,s,n,u,o);break e}}throw s=W(n)||n,Error(a(306,s,""))}}return s;case 0:return Ah(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=Za(u,s.pendingProps),i_(n,s,u,p,o);case 3:e:{if(ke(s,s.stateNode.containerInfo),n===null)throw Error(a(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,nh(n,s),_o(s,u,null,o);var N=s.memoizedState;if(u=N.cache,sa(s,wt,u),u!==g.cache&&Qf(s,[wt],o,!0),wo(),u=N.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=o_(n,s,u,o);break e}else if(u!==p){p=kr(Error(a(424)),s),po(p),s=o_(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(tt=$r(n.firstChild),$t=s,Ue=!0,na=null,Pr=!0,o=rw(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ga(),u===p){s=kn(n,s,o);break e}zt(n,s,u,o)}s=s.child}return s;case 26:return Hc(n,s),n===null?(o=_S(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ue||(o=s.type,n=s.pendingProps,u=iu(pe.current).createElement(o),u[Lt]=s,u[nr]=n,It(u,o,n),kt(u),s.stateNode=u):s.memoizedState=_S(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return bt(s),n===null&&Ue&&(u=s.stateNode=bS(s.type,s.pendingProps,pe.current),$t=s,Pr=!0,p=tt,ya(s.type)?(vm=p,tt=$r(u.firstChild)):tt=p),zt(n,s,s.pendingProps.children,o),Hc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ue&&((p=u=tt)&&(u=lM(u,s.type,s.pendingProps,Pr),u!==null?(s.stateNode=u,$t=s,tt=$r(u.firstChild),Pr=!1,p=!0):p=!1),p||aa(s)),bt(s),p=s.type,g=s.pendingProps,N=n!==null?n.memoizedProps:null,u=g.children,dm(p,g)?u=null:N!==null&&dm(p,N)&&(s.flags|=32),s.memoizedState!==null&&(p=uh(n,s,Sk,null,null,o),Bo._currentValue=p),Hc(n,s),zt(n,s,u,o),s.child;case 6:return n===null&&Ue&&((n=o=tt)&&(o=cM(o,s.pendingProps,Pr),o!==null?(s.stateNode=o,$t=s,tt=null,n=!0):n=!1),n||aa(s)),null;case 13:return l_(n,s,o);case 4:return ke(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Qa(s,null,u,o):zt(n,s,u,o),s.child;case 11:return Zw(n,s,s.type,s.pendingProps,o);case 7:return zt(n,s,s.pendingProps,o),s.child;case 8:return zt(n,s,s.pendingProps.children,o),s.child;case 12:return zt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,sa(s,s.type,u.value),zt(n,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Ya(s),p=Ut(p),u=u(p),s.flags|=1,zt(n,s,u,o),s.child;case 14:return e_(n,s,s.type,s.pendingProps,o);case 15:return t_(n,s,s.type,s.pendingProps,o);case 19:return u_(n,s,o);case 31:return Rk(n,s,o);case 22:return r_(n,s,o,s.pendingProps);case 24:return Ya(s),u=Ut(wt),n===null?(p=eh(),p===null&&(p=Qe,g=Jf(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:u,cache:p},rh(s),sa(s,wt,p)):((n.lanes&o)!==0&&(nh(n,s),_o(s,null,null,o),wo()),p=n.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),sa(s,wt,u)):(u=g.cache,sa(s,wt,u),u!==p.cache&&Qf(s,[wt],o,!0))),zt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Mn(n){n.flags|=4}function $h(n,s,o,u,p){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if($_())n.flags|=8192;else throw Xa=Oc,th}else n.flags&=-16777217}function f_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!TS(s))if($_())n.flags|=8192;else throw Xa=Oc,th}function Gc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Gb():536870912,n.lanes|=s,oi|=s)}function Oo(n,s){if(!Ue)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function kk(n,s,o){var u=s.pendingProps;switch(Wf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),An(wt),Pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Vs(s)?Mn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vf())),rt(s),null;case 26:var p=s.type,g=s.memoizedState;return n===null?(Mn(s),g!==null?(rt(s),f_(s,g)):(rt(s),$h(s,p,null,u,o))):g?g!==n.memoizedState?(Mn(s),rt(s),f_(s,g)):(rt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Mn(s),rt(s),$h(s,p,n,u,o)),null;case 27:if(vt(s),o=pe.current,p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Mn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return rt(s),null}n=ue.current,Vs(s)?Gx(s):(n=bS(p,u,o),s.stateNode=n,Mn(s))}return rt(s),null;case 5:if(vt(s),p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Mn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return rt(s),null}if(g=ue.current,Vs(s))Gx(s);else{var N=iu(pe.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?N.createElement("select",{is:u.is}):N.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?N.createElement(p,{is:u.is}):N.createElement(p)}}g[Lt]=s,g[nr]=u;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=g;e:switch(It(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Mn(s)}}return rt(s),$h(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Mn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(n=pe.current,Vs(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,p=$t,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}n[Lt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||lS(n.nodeValue,o)),n||aa(s,!0)}else n=iu(n).createTextNode(u),n[Lt]=s,s.stateNode=n}return rt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=Vs(s),o!==null){if(n===null){if(!u)throw Error(a(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Lt]=s}else Ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),n=!1}else o=Vf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(wr(s),s):(wr(s),null);if((s.flags&128)!==0)throw Error(a(558))}return rt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Vs(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Lt]=s}else Ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),p=!1}else p=Vf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(wr(s),s):(wr(s),null)}return wr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Gc(s,s.updateQueue),rt(s),null);case 4:return Pe(),n===null&&im(s.stateNode.containerInfo),rt(s),null;case 10:return An(s.type),rt(s),null;case 19:if(X(gt),u=s.memoizedState,u===null)return rt(s),null;if(p=(s.flags&128)!==0,g=u.rendering,g===null)if(p)Oo(u,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=Dc(n),g!==null){for(s.flags|=128,Oo(u,!1),n=g.updateQueue,s.updateQueue=n,Gc(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)zx(o,n),o=o.sibling;return oe(gt,gt.current&1|2),Ue&&On(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Ze()>Xc&&(s.flags|=128,p=!0,Oo(u,!1),s.lanes=4194304)}else{if(!p)if(n=Dc(g),n!==null){if(s.flags|=128,p=!0,n=n.updateQueue,s.updateQueue=n,Gc(s,n),Oo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ue)return rt(s),null}else 2*Ze()-u.renderingStartTime>Xc&&o!==536870912&&(s.flags|=128,p=!0,Oo(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(n=u.last,n!==null?n.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ze(),n.sibling=null,o=gt.current,oe(gt,p?o&1|2:o&1),Ue&&On(s,u.treeForkCount),n):(rt(s),null);case 22:case 23:return wr(s),oh(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),o=s.updateQueue,o!==null&&Gc(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&X(Va),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),An(wt),rt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Mk(n,s){switch(Wf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return An(wt),Pe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return vt(s),null;case 31:if(s.memoizedState!==null){if(wr(s),s.alternate===null)throw Error(a(340));Ga()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(wr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ga()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return X(gt),null;case 4:return Pe(),null;case 10:return An(s.type),null;case 22:case 23:return wr(s),oh(),n!==null&&X(Va),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return An(wt),null;case 25:return null;default:return null}}function h_(n,s){switch(Wf(s),s.tag){case 3:An(wt),Pe();break;case 26:case 27:case 5:vt(s);break;case 4:Pe();break;case 31:s.memoizedState!==null&&wr(s);break;case 13:wr(s);break;case 19:X(gt);break;case 10:An(s.type);break;case 22:case 23:wr(s),oh(),n!==null&&X(Va);break;case 24:An(wt)}}function Co(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&n)===n){u=void 0;var g=o.create,N=o.inst;u=g(),N.destroy=u}o=o.next}while(o!==p)}}catch(k){Ge(s,s.return,k)}}function da(n,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&n)===n){var N=u.inst,k=N.destroy;if(k!==void 0){N.destroy=void 0,p=s;var I=o,Q=k;try{Q()}catch(ne){Ge(p,I,ne)}}}u=u.next}while(u!==g)}}catch(ne){Ge(s,s.return,ne)}}function m_(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{aw(s,o)}catch(u){Ge(n,n.return,u)}}}function p_(n,s,o){o.props=Za(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Ge(n,s,u)}}function Ao(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(p){Ge(n,s,p)}}function ln(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ge(n,s,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ge(n,s,p)}else o.current=null}function v_(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ge(n,n.return,p)}}function Uh(n,s,o){try{var u=n.stateNode;rM(u,n.type,o,s),u[nr]=s}catch(p){Ge(n,n.return,p)}}function g_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ya(n.type)||n.tag===4}function zh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||g_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ya(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ih(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=jn));else if(u!==4&&(u===27&&ya(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Ih(n,s,o),n=n.sibling;n!==null;)Ih(n,s,o),n=n.sibling}function Wc(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&ya(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Wc(n,s,o),n=n.sibling;n!==null;)Wc(n,s,o),n=n.sibling}function y_(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);It(s,u,o),s[Lt]=n,s[nr]=o}catch(g){Ge(n,n.return,g)}}var qn=!1,Et=!1,Bh=!1,b_=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function qk(n,s){if(n=n.containerInfo,cm=hu,n=Rx(n),qf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var N=0,k=-1,I=-1,Q=0,ne=0,ie=n,J=null;t:for(;;){for(var Z;ie!==o||p!==0&&ie.nodeType!==3||(k=N+p),ie!==g||u!==0&&ie.nodeType!==3||(I=N+u),ie.nodeType===3&&(N+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)J=ie,ie=Z;for(;;){if(ie===n)break t;if(J===o&&++Q===p&&(k=N),J===g&&++ne===u&&(I=N),(Z=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=Z}o=k===-1||I===-1?null:{start:k,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(um={focusedElem:n,selectionRange:o},hu=!1,Mt=s;Mt!==null;)if(s=Mt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Mt=n;else for(;Mt!==null;){switch(s=Mt,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=Za(o.type,p);n=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Se){Ge(o,o.return,Se)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)hm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,Mt=n;break}Mt=s.return}}function x_(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ln(n,o),u&4&&Co(5,o);break;case 1:if(Ln(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(N){Ge(o,o.return,N)}else{var p=Za(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(p,s,n.__reactInternalSnapshotBeforeUpdate)}catch(N){Ge(o,o.return,N)}}u&64&&m_(o),u&512&&Ao(o,o.return);break;case 3:if(Ln(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{aw(n,s)}catch(N){Ge(o,o.return,N)}}break;case 27:s===null&&u&4&&y_(o);case 26:case 5:Ln(n,o),s===null&&u&4&&v_(o),u&512&&Ao(o,o.return);break;case 12:Ln(n,o);break;case 31:Ln(n,o),u&4&&S_(n,o);break;case 13:Ln(n,o),u&4&&E_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Fk.bind(null,o),uM(n,o))));break;case 22:if(u=o.memoizedState!==null||qn,!u){s=s!==null&&s.memoizedState!==null||Et,p=qn;var g=Et;qn=u,(Et=s)&&!g?$n(n,o,(o.subtreeFlags&8772)!==0):Ln(n,o),qn=p,Et=g}break;case 30:break;default:Ln(n,o)}}function w_(n){var s=n.alternate;s!==null&&(n.alternate=null,w_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&yf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,sr=!1;function Pn(n,s,o){for(o=o.child;o!==null;)__(n,s,o),o=o.sibling}function __(n,s,o){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(ft,o)}catch{}switch(o.tag){case 26:Et||ln(o,s),Pn(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Et||ln(o,s);var u=ot,p=sr;ya(o.type)&&(ot=o.stateNode,sr=!1),Pn(n,s,o),Uo(o.stateNode),ot=u,sr=p;break;case 5:Et||ln(o,s);case 6:if(u=ot,p=sr,ot=null,Pn(n,s,o),ot=u,sr=p,ot!==null)if(sr)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(g){Ge(o,s,g)}else try{ot.removeChild(o.stateNode)}catch(g){Ge(o,s,g)}break;case 18:ot!==null&&(sr?(n=ot,mS(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),pi(n)):mS(ot,o.stateNode));break;case 4:u=ot,p=sr,ot=o.stateNode.containerInfo,sr=!0,Pn(n,s,o),ot=u,sr=p;break;case 0:case 11:case 14:case 15:da(2,o,s),Et||da(4,o,s),Pn(n,s,o);break;case 1:Et||(ln(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&p_(o,s,u)),Pn(n,s,o);break;case 21:Pn(n,s,o);break;case 22:Et=(u=Et)||o.memoizedState!==null,Pn(n,s,o),Et=u;break;default:Pn(n,s,o)}}function S_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{pi(n)}catch(o){Ge(s,s.return,o)}}}function E_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{pi(n)}catch(o){Ge(s,s.return,o)}}function Pk(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new b_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new b_),s;default:throw Error(a(435,n.tag))}}function Yc(n,s){var o=Pk(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=Gk.bind(null,n,u);u.then(p,p)}})}function ir(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=n,N=s,k=N;e:for(;k!==null;){switch(k.tag){case 27:if(ya(k.type)){ot=k.stateNode,sr=!1;break e}break;case 5:ot=k.stateNode,sr=!1;break e;case 3:case 4:ot=k.stateNode.containerInfo,sr=!0;break e}k=k.return}if(ot===null)throw Error(a(160));__(g,N,p),ot=null,sr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)j_(s,n),s=s.sibling}var Xr=null;function j_(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ir(s,n),or(n),u&4&&(da(3,n,n.return),Co(3,n),da(5,n,n.return));break;case 1:ir(s,n),or(n),u&512&&(Et||o===null||ln(o,o.return)),u&64&&qn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Xr;if(ir(s,n),or(n),u&512&&(Et||o===null||ln(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ro]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),It(g,u,o),g[Lt]=n,kt(g),u=g;break e;case"link":var N=jS("link","href",p).get(u+(o.href||""));if(N){for(var k=0;k<N.length;k++)if(g=N[k],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(k,1);break t}}g=p.createElement(u),It(g,u,o),p.head.appendChild(g);break;case"meta":if(N=jS("meta","content",p).get(u+(o.content||""))){for(k=0;k<N.length;k++)if(g=N[k],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(k,1);break t}}g=p.createElement(u),It(g,u,o),p.head.appendChild(g);break;default:throw Error(a(468,u))}g[Lt]=n,kt(g),u=g}n.stateNode=u}else NS(p,n.type,n.stateNode);else n.stateNode=ES(p,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?NS(p,n.type,n.stateNode):ES(p,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Uh(n,n.memoizedProps,o.memoizedProps)}break;case 27:ir(s,n),or(n),u&512&&(Et||o===null||ln(o,o.return)),o!==null&&u&4&&Uh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(ir(s,n),or(n),u&512&&(Et||o===null||ln(o,o.return)),n.flags&32){p=n.stateNode;try{$s(p,"")}catch(me){Ge(n,n.return,me)}}u&4&&n.stateNode!=null&&(p=n.memoizedProps,Uh(n,p,o!==null?o.memoizedProps:p)),u&1024&&(Bh=!0);break;case 6:if(ir(s,n),or(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(me){Ge(n,n.return,me)}}break;case 3:if(cu=null,p=Xr,Xr=ou(s.containerInfo),ir(s,n),Xr=p,or(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{pi(s.containerInfo)}catch(me){Ge(n,n.return,me)}Bh&&(Bh=!1,N_(n));break;case 4:u=Xr,Xr=ou(n.stateNode.containerInfo),ir(s,n),or(n),Xr=u;break;case 12:ir(s,n),or(n);break;case 31:ir(s,n),or(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Yc(n,u)));break;case 13:ir(s,n),or(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kc=Ze()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Yc(n,u)));break;case 22:p=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,Q=qn,ne=Et;if(qn=Q||p,Et=ne||I,ir(s,n),Et=ne,qn=Q,or(n),u&8192)e:for(s=n.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||I||qn||Et||es(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){I=o=s;try{if(g=I.stateNode,p)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{k=I.stateNode;var ie=I.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(me){Ge(I,I.return,me)}}}else if(s.tag===6){if(o===null){I=s;try{I.stateNode.nodeValue=p?"":I.memoizedProps}catch(me){Ge(I,I.return,me)}}}else if(s.tag===18){if(o===null){I=s;try{var Z=I.stateNode;p?pS(Z,!0):pS(I.stateNode,!1)}catch(me){Ge(I,I.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Yc(n,o))));break;case 19:ir(s,n),or(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Yc(n,u)));break;case 30:break;case 21:break;default:ir(s,n),or(n)}}function or(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(g_(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,g=zh(n);Wc(n,g,p);break;case 5:var N=o.stateNode;o.flags&32&&($s(N,""),o.flags&=-33);var k=zh(n);Wc(n,k,N);break;case 3:case 4:var I=o.stateNode.containerInfo,Q=zh(n);Ih(n,Q,I);break;default:throw Error(a(161))}}catch(ne){Ge(n,n.return,ne)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function N_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;N_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ln(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)x_(n,s.alternate,s),s=s.sibling}function es(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:da(4,s,s.return),es(s);break;case 1:ln(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&p_(s,s.return,o),es(s);break;case 27:Uo(s.stateNode);case 26:case 5:ln(s,s.return),es(s);break;case 22:s.memoizedState===null&&es(s);break;case 30:es(s);break;default:es(s)}n=n.sibling}}function $n(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=n,g=s,N=g.flags;switch(g.tag){case 0:case 11:case 15:$n(p,g,o),Co(4,g);break;case 1:if($n(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){Ge(u,u.return,Q)}if(u=g,p=u.updateQueue,p!==null){var k=u.stateNode;try{var I=p.shared.hiddenCallbacks;if(I!==null)for(p.shared.hiddenCallbacks=null,p=0;p<I.length;p++)nw(I[p],k)}catch(Q){Ge(u,u.return,Q)}}o&&N&64&&m_(g),Ao(g,g.return);break;case 27:y_(g);case 26:case 5:$n(p,g,o),o&&u===null&&N&4&&v_(g),Ao(g,g.return);break;case 12:$n(p,g,o);break;case 31:$n(p,g,o),o&&N&4&&S_(p,g);break;case 13:$n(p,g,o),o&&N&4&&E_(p,g);break;case 22:g.memoizedState===null&&$n(p,g,o),Ao(g,g.return);break;case 30:break;default:$n(p,g,o)}s=s.sibling}}function Hh(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&vo(o))}function Fh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&vo(n))}function Qr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)T_(n,s,o,u),s=s.sibling}function T_(n,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Qr(n,s,o,u),p&2048&&Co(9,s);break;case 1:Qr(n,s,o,u);break;case 3:Qr(n,s,o,u),p&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&vo(n)));break;case 12:if(p&2048){Qr(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,N=g.id,k=g.onPostCommit;typeof k=="function"&&k(N,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Ge(s,s.return,I)}}else Qr(n,s,o,u);break;case 31:Qr(n,s,o,u);break;case 13:Qr(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,N=s.alternate,s.memoizedState!==null?g._visibility&2?Qr(n,s,o,u):Ro(n,s):g._visibility&2?Qr(n,s,o,u):(g._visibility|=2,ai(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Hh(N,s);break;case 24:Qr(n,s,o,u),p&2048&&Fh(s.alternate,s);break;default:Qr(n,s,o,u)}}function ai(n,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,N=s,k=o,I=u,Q=N.flags;switch(N.tag){case 0:case 11:case 15:ai(g,N,k,I,p),Co(8,N);break;case 23:break;case 22:var ne=N.stateNode;N.memoizedState!==null?ne._visibility&2?ai(g,N,k,I,p):Ro(g,N):(ne._visibility|=2,ai(g,N,k,I,p)),p&&Q&2048&&Hh(N.alternate,N);break;case 24:ai(g,N,k,I,p),p&&Q&2048&&Fh(N.alternate,N);break;default:ai(g,N,k,I,p)}s=s.sibling}}function Ro(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,p=u.flags;switch(u.tag){case 22:Ro(o,u),p&2048&&Hh(u.alternate,u);break;case 24:Ro(o,u),p&2048&&Fh(u.alternate,u);break;default:Ro(o,u)}s=s.sibling}}var Do=8192;function si(n,s,o){if(n.subtreeFlags&Do)for(n=n.child;n!==null;)O_(n,s,o),n=n.sibling}function O_(n,s,o){switch(n.tag){case 26:si(n,s,o),n.flags&Do&&n.memoizedState!==null&&_M(o,Xr,n.memoizedState,n.memoizedProps);break;case 5:si(n,s,o);break;case 3:case 4:var u=Xr;Xr=ou(n.stateNode.containerInfo),si(n,s,o),Xr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Do,Do=16777216,si(n,s,o),Do=u):si(n,s,o));break;default:si(n,s,o)}}function C_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ko(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Mt=u,R_(u,n)}C_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)A_(n),n=n.sibling}function A_(n){switch(n.tag){case 0:case 11:case 15:ko(n),n.flags&2048&&da(9,n,n.return);break;case 3:ko(n);break;case 12:ko(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Vc(n)):ko(n);break;default:ko(n)}}function Vc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Mt=u,R_(u,n)}C_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:da(8,s,s.return),Vc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Vc(s));break;default:Vc(s)}n=n.sibling}}function R_(n,s){for(;Mt!==null;){var o=Mt;switch(o.tag){case 0:case 11:case 15:da(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Mt=u;else e:for(o=n;Mt!==null;){u=Mt;var p=u.sibling,g=u.return;if(w_(u),u===o){Mt=null;break e}if(p!==null){p.return=g,Mt=p;break e}Mt=g}}}var Lk={getCacheForType:function(n){var s=Ut(wt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Ut(wt).controller.signal}},$k=typeof WeakMap=="function"?WeakMap:Map,He=0,Qe=null,Me=null,Le=0,Fe=0,_r=null,fa=!1,ii=!1,Gh=!1,Un=0,mt=0,ha=0,ts=0,Wh=0,Sr=0,oi=0,Mo=null,lr=null,Yh=!1,Kc=0,D_=0,Xc=1/0,Qc=null,ma=null,Ot=0,pa=null,li=null,zn=0,Vh=0,Kh=null,k_=null,qo=0,Xh=null;function Er(){return(He&2)!==0&&Le!==0?Le&-Le:B.T!==null?rm():Kb()}function M_(){if(Sr===0)if((Le&536870912)===0||Ue){var n=sc;sc<<=1,(sc&3932160)===0&&(sc=262144),Sr=n}else Sr=536870912;return n=xr.current,n!==null&&(n.flags|=32),Sr}function cr(n,s,o){(n===Qe&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&(ci(n,0),va(n,Le,Sr,!1)),to(n,o),((He&2)===0||n!==Qe)&&(n===Qe&&((He&2)===0&&(ts|=o),mt===4&&va(n,Le,Sr,!1)),cn(n))}function q_(n,s,o){if((He&6)!==0)throw Error(a(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||eo(n,s),p=u?Ik(n,s):Jh(n,s,!0),g=u;do{if(p===0){ii&&!u&&va(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!Uk(o)){p=Jh(n,s,!1),g=!1;continue}if(p===2){if(g=s,n.errorRecoveryDisabledLanes&g)var N=0;else N=n.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var k=n;p=Mo;var I=k.current.memoizedState.isDehydrated;if(I&&(ci(k,N).flags|=256),N=Jh(k,N,!1),N!==2){if(Gh&&!I){k.errorRecoveryDisabledLanes|=g,ts|=g,p=4;break e}g=lr,lr=p,g!==null&&(lr===null?lr=g:lr.push.apply(lr,g))}p=N}if(g=!1,p!==2)continue}}if(p===1){ci(n,0),va(n,s,0,!0);break}e:{switch(u=n,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:va(u,s,Sr,!fa);break e;case 2:lr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(p=Kc+300-Ze(),10<p)){if(va(u,s,Sr,!fa),oc(u,0,!0)!==0)break e;zn=s,u.timeoutHandle=fS(P_.bind(null,u,o,lr,Qc,Yh,s,Sr,ts,oi,fa,g,"Throttled",-0,0),p);break e}P_(u,o,lr,Qc,Yh,s,Sr,ts,oi,fa,g,null,-0,0)}}break}while(!0);cn(n)}function P_(n,s,o,u,p,g,N,k,I,Q,ne,ie,J,Z){if(n.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},O_(s,g,ie);var me=(g&62914560)===g?Kc-Ze():(g&4194048)===g?D_-Ze():0;if(me=SM(ie,me),me!==null){zn=g,n.cancelPendingCommit=me(F_.bind(null,n,s,g,o,u,p,N,k,I,ne,ie,null,J,Z)),va(n,g,N,!Q);return}}F_(n,s,g,o,u,p,N,k,I)}function Uk(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!yr(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function va(n,s,o,u){s&=~Wh,s&=~ts,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var p=s;0<p;){var g=31-Yt(p),N=1<<g;u[g]=-1,p&=~N}o!==0&&Wb(n,o,s)}function Jc(){return(He&6)===0?(Po(0),!1):!0}function Qh(){if(Me!==null){if(Fe===0)var n=Me.return;else n=Me,Cn=Wa=null,hh(n),Zs=null,yo=0,n=Me;for(;n!==null;)h_(n.alternate,n),n=n.return;Me=null}}function ci(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,sM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),zn=0,Qh(),Qe=n,Me=o=Tn(n.current,null),Le=s,Fe=0,_r=null,fa=!1,ii=eo(n,s),Gh=!1,oi=Sr=Wh=ts=ha=mt=0,lr=Mo=null,Yh=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var p=31-Yt(u),g=1<<p;s|=n[p],u&=~g}return Un=s,bc(),o}function L_(n,s){Ce=null,B.H=No,s===Js||s===Tc?(s=Zx(),Fe=3):s===th?(s=Zx(),Fe=4):Fe=s===Ch?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,_r=s,Me===null&&(mt=1,Ic(n,kr(s,n.current)))}function $_(){var n=xr.current;return n===null?!0:(Le&4194048)===Le?Lr===null:(Le&62914560)===Le||(Le&536870912)!==0?n===Lr:!1}function U_(){var n=B.H;return B.H=No,n===null?No:n}function z_(){var n=B.A;return B.A=Lk,n}function Zc(){mt=4,fa||(Le&4194048)!==Le&&xr.current!==null||(ii=!0),(ha&134217727)===0&&(ts&134217727)===0||Qe===null||va(Qe,Le,Sr,!1)}function Jh(n,s,o){var u=He;He|=2;var p=U_(),g=z_();(Qe!==n||Le!==s)&&(Qc=null,ci(n,s)),s=!1;var N=mt;e:do try{if(Fe!==0&&Me!==null){var k=Me,I=_r;switch(Fe){case 8:Qh(),N=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(s=!0);var Q=Fe;if(Fe=0,_r=null,ui(n,k,I,Q),o&&ii){N=0;break e}break;default:Q=Fe,Fe=0,_r=null,ui(n,k,I,Q)}}zk(),N=mt;break}catch(ne){L_(n,ne)}while(!0);return s&&n.shellSuspendCounter++,Cn=Wa=null,He=u,B.H=p,B.A=g,Me===null&&(Qe=null,Le=0,bc()),N}function zk(){for(;Me!==null;)I_(Me)}function Ik(n,s){var o=He;He|=2;var u=U_(),p=z_();Qe!==n||Le!==s?(Qc=null,Xc=Ze()+500,ci(n,s)):ii=eo(n,s);e:do try{if(Fe!==0&&Me!==null){s=Me;var g=_r;t:switch(Fe){case 1:Fe=0,_r=null,ui(n,s,g,1);break;case 2:case 9:if(Qx(g)){Fe=0,_r=null,B_(s);break}s=function(){Fe!==2&&Fe!==9||Qe!==n||(Fe=7),cn(n)},g.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Qx(g)?(Fe=0,_r=null,B_(s)):(Fe=0,_r=null,ui(n,s,g,7));break;case 5:var N=null;switch(Me.tag){case 26:N=Me.memoizedState;case 5:case 27:var k=Me;if(N?TS(N):k.stateNode.complete){Fe=0,_r=null;var I=k.sibling;if(I!==null)Me=I;else{var Q=k.return;Q!==null?(Me=Q,eu(Q)):Me=null}break t}}Fe=0,_r=null,ui(n,s,g,5);break;case 6:Fe=0,_r=null,ui(n,s,g,6);break;case 8:Qh(),mt=6;break e;default:throw Error(a(462))}}Bk();break}catch(ne){L_(n,ne)}while(!0);return Cn=Wa=null,B.H=u,B.A=p,He=o,Me!==null?0:(Qe=null,Le=0,bc(),mt)}function Bk(){for(;Me!==null&&!st();)I_(Me)}function I_(n){var s=d_(n.alternate,n,Un);n.memoizedProps=n.pendingProps,s===null?eu(n):Me=s}function B_(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=s_(o,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=s_(o,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:hh(s);default:h_(o,s),s=Me=zx(s,Un),s=d_(o,s,Un)}n.memoizedProps=n.pendingProps,s===null?eu(n):Me=s}function ui(n,s,o,u){Cn=Wa=null,hh(s),Zs=null,yo=0;var p=s.return;try{if(Ak(n,p,s,o,Le)){mt=1,Ic(n,kr(o,n.current)),Me=null;return}}catch(g){if(p!==null)throw Me=p,g;mt=1,Ic(n,kr(o,n.current)),Me=null;return}s.flags&32768?(Ue||u===1?n=!0:ii||(Le&536870912)!==0?n=!1:(fa=n=!0,(u===2||u===9||u===3||u===6)&&(u=xr.current,u!==null&&u.tag===13&&(u.flags|=16384))),H_(s,n)):eu(s)}function eu(n){var s=n;do{if((s.flags&32768)!==0){H_(s,fa);return}n=s.return;var o=kk(s.alternate,s,Un);if(o!==null){Me=o;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=n}while(s!==null);mt===0&&(mt=5)}function H_(n,s){do{var o=Mk(n.alternate,n);if(o!==null){o.flags&=32767,Me=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Me=n;return}Me=n=o}while(n!==null);mt=6,Me=null}function F_(n,s,o,u,p,g,N,k,I){n.cancelPendingCommit=null;do tu();while(Ot!==0);if((He&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(g=s.lanes|s.childLanes,g|=zf,wD(n,o,g,N,k,I),n===Qe&&(Me=Qe=null,Le=0),li=s,pa=n,zn=o,Vh=g,Kh=p,k_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Wk(Ee,function(){return K_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,p=H.p,H.p=2,N=He,He|=4;try{qk(n,s,o)}finally{He=N,H.p=p,B.T=u}}Ot=1,G_(),W_(),Y_()}}function G_(){if(Ot===1){Ot=0;var n=pa,s=li,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=H.p;H.p=2;var p=He;He|=4;try{j_(s,n);var g=um,N=Rx(n.containerInfo),k=g.focusedElem,I=g.selectionRange;if(N!==k&&k&&k.ownerDocument&&Ax(k.ownerDocument.documentElement,k)){if(I!==null&&qf(k)){var Q=I.start,ne=I.end;if(ne===void 0&&(ne=Q),"selectionStart"in k)k.selectionStart=Q,k.selectionEnd=Math.min(ne,k.value.length);else{var ie=k.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var Z=J.getSelection(),me=k.textContent.length,Se=Math.min(I.start,me),Ke=I.end===void 0?Se:Math.min(I.end,me);!Z.extend&&Se>Ke&&(N=Ke,Ke=Se,Se=N);var G=Cx(k,Se),F=Cx(k,Ke);if(G&&F&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var K=ie.createRange();K.setStart(G.node,G.offset),Z.removeAllRanges(),Se>Ke?(Z.addRange(K),Z.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),Z.addRange(K))}}}}for(ie=[],Z=k;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ie.length;k++){var se=ie[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}hu=!!cm,um=cm=null}finally{He=p,H.p=u,B.T=o}}n.current=s,Ot=2}}function W_(){if(Ot===2){Ot=0;var n=pa,s=li,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=H.p;H.p=2;var p=He;He|=4;try{x_(n,s.alternate,s)}finally{He=p,H.p=u,B.T=o}}Ot=3}}function Y_(){if(Ot===4||Ot===3){Ot=0,it();var n=pa,s=li,o=zn,u=k_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ot=5:(Ot=0,li=pa=null,V_(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(ma=null),vf(o),s=s.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(ft,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=B.T,p=H.p,H.p=2,B.T=null;try{for(var g=n.onRecoverableError,N=0;N<u.length;N++){var k=u[N];g(k.value,{componentStack:k.stack})}}finally{B.T=s,H.p=p}}(zn&3)!==0&&tu(),cn(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===Xh?qo++:(qo=0,Xh=n):qo=0,Po(0)}}function V_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,vo(s)))}function tu(){return G_(),W_(),Y_(),K_()}function K_(){if(Ot!==5)return!1;var n=pa,s=Vh;Vh=0;var o=vf(zn),u=B.T,p=H.p;try{H.p=32>o?32:o,B.T=null,o=Kh,Kh=null;var g=pa,N=zn;if(Ot=0,li=pa=null,zn=0,(He&6)!==0)throw Error(a(331));var k=He;if(He|=4,A_(g.current),T_(g,g.current,N,o),He=k,Po(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(ft,g)}catch{}return!0}finally{H.p=p,B.T=u,V_(n,s)}}function X_(n,s,o){s=kr(o,s),s=Oh(n.stateNode,s,2),n=la(n,s,2),n!==null&&(to(n,2),cn(n))}function Ge(n,s,o){if(n.tag===3)X_(n,n,o);else for(;s!==null;){if(s.tag===3){X_(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ma===null||!ma.has(u))){n=kr(o,n),o=Qw(2),u=la(s,o,2),u!==null&&(Jw(o,u,s,n),to(u,2),cn(u));break}}s=s.return}}function Zh(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new $k;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Gh=!0,p.add(o),n=Hk.bind(null,n,s,o),s.then(n,n))}function Hk(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Qe===n&&(Le&o)===o&&(mt===4||mt===3&&(Le&62914560)===Le&&300>Ze()-Kc?(He&2)===0&&ci(n,0):Wh|=o,oi===Le&&(oi=0)),cn(n)}function Q_(n,s){s===0&&(s=Gb()),n=Ha(n,s),n!==null&&(to(n,s),cn(n))}function Fk(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Q_(n,o)}function Gk(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),Q_(n,o)}function Wk(n,s){return _e(n,s)}var ru=null,di=null,em=!1,nu=!1,tm=!1,ga=0;function cn(n){n!==di&&n.next===null&&(di===null?ru=di=n:di=di.next=n),nu=!0,em||(em=!0,Vk())}function Po(n,s){if(!tm&&nu){tm=!0;do for(var o=!1,u=ru;u!==null;){if(n!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var N=u.suspendedLanes,k=u.pingedLanes;g=(1<<31-Yt(42|n)+1)-1,g&=p&~(N&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,tS(u,g))}else g=Le,g=oc(u,u===Qe?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||eo(u,g)||(o=!0,tS(u,g));u=u.next}while(o);tm=!1}}function Yk(){J_()}function J_(){nu=em=!1;var n=0;ga!==0&&aM()&&(n=ga);for(var s=Ze(),o=null,u=ru;u!==null;){var p=u.next,g=Z_(u,s);g===0?(u.next=null,o===null?ru=p:o.next=p,p===null&&(di=o)):(o=u,(n!==0||(g&3)!==0)&&(nu=!0)),u=p}Ot!==0&&Ot!==5||Po(n),ga!==0&&(ga=0)}function Z_(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var N=31-Yt(g),k=1<<N,I=p[N];I===-1?((k&o)===0||(k&u)!==0)&&(p[N]=xD(k,s)):I<=s&&(n.expiredLanes|=k),g&=~k}if(s=Qe,o=Le,o=oc(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Xe(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||eo(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Xe(u),vf(o)){case 2:case 8:o=ge;break;case 32:o=Ee;break;case 268435456:o=rr;break;default:o=Ee}return u=eS.bind(null,n),o=_e(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Xe(u),n.callbackPriority=2,n.callbackNode=null,2}function eS(n,s){if(Ot!==0&&Ot!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(tu()&&n.callbackNode!==o)return null;var u=Le;return u=oc(n,n===Qe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(q_(n,u,s),Z_(n,Ze()),n.callbackNode!=null&&n.callbackNode===o?eS.bind(null,n):null)}function tS(n,s){if(tu())return null;q_(n,s,!0)}function Vk(){iM(function(){(He&6)!==0?_e(ae,Yk):J_()})}function rm(){if(ga===0){var n=Xs;n===0&&(n=ac,ac<<=1,(ac&261888)===0&&(ac=256)),ga=n}return ga}function rS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:dc(""+n)}function nS(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function Kk(n,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var g=rS((p[nr]||null).action),N=u.submitter;N&&(s=(s=N[nr]||null)?rS(s.formAction):N.getAttribute("formAction"),s!==null&&(g=s,N=null));var k=new pc("action","action",null,u,p);n.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ga!==0){var I=N?nS(p,N):new FormData(p);_h(o,{pending:!0,data:I,method:p.method,action:g},null,I)}}else typeof g=="function"&&(k.preventDefault(),I=N?nS(p,N):new FormData(p),_h(o,{pending:!0,data:I,method:p.method,action:g},g,I))},currentTarget:p}]})}}for(var nm=0;nm<Uf.length;nm++){var am=Uf[nm],Xk=am.toLowerCase(),Qk=am[0].toUpperCase()+am.slice(1);Kr(Xk,"on"+Qk)}Kr(Mx,"onAnimationEnd"),Kr(qx,"onAnimationIteration"),Kr(Px,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(hk,"onTransitionRun"),Kr(mk,"onTransitionStart"),Kr(pk,"onTransitionCancel"),Kr(Lx,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function aS(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var N=u.length-1;0<=N;N--){var k=u[N],I=k.instance,Q=k.currentTarget;if(k=k.listener,I!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=Q;try{g(p)}catch(ne){yc(ne)}p.currentTarget=null,g=I}else for(N=0;N<u.length;N++){if(k=u[N],I=k.instance,Q=k.currentTarget,k=k.listener,I!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=Q;try{g(p)}catch(ne){yc(ne)}p.currentTarget=null,g=I}}}}function qe(n,s){var o=s[gf];o===void 0&&(o=s[gf]=new Set);var u=n+"__bubble";o.has(u)||(sS(s,n,2,!1),o.add(u))}function sm(n,s,o){var u=0;s&&(u|=4),sS(o,n,u,s)}var au="_reactListening"+Math.random().toString(36).slice(2);function im(n){if(!n[au]){n[au]=!0,Jb.forEach(function(o){o!=="selectionchange"&&(Jk.has(o)||sm(o,!1,n),sm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[au]||(s[au]=!0,sm("selectionchange",!1,s))}}function sS(n,s,o,u){switch(MS(s)){case 2:var p=NM;break;case 8:p=TM;break;default:p=wm}o=p.bind(null,s,o,n),p=void 0,!Nf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(s,o,{capture:!0,passive:p}):n.addEventListener(s,o,!0):p!==void 0?n.addEventListener(s,o,{passive:p}):n.addEventListener(s,o,!1)}function om(n,s,o,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var k=u.stateNode.containerInfo;if(k===p)break;if(N===4)for(N=u.return;N!==null;){var I=N.tag;if((I===3||I===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;k!==null;){if(N=ks(k),N===null)return;if(I=N.tag,I===5||I===6||I===26||I===27){u=g=N;continue e}k=k.parentNode}}u=u.return}ux(function(){var Q=g,ne=Ef(o),ie=[];e:{var J=$x.get(n);if(J!==void 0){var Z=pc,me=n;switch(n){case"keypress":if(hc(o)===0)break e;case"keydown":case"keyup":Z=GD;break;case"focusin":me="focus",Z=Af;break;case"focusout":me="blur",Z=Af;break;case"beforeblur":case"afterblur":Z=Af;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=kD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=VD;break;case Mx:case qx:case Px:Z=PD;break;case Lx:Z=XD;break;case"scroll":case"scrollend":Z=RD;break;case"wheel":Z=JD;break;case"copy":case"cut":case"paste":Z=$D;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=px;break;case"toggle":case"beforetoggle":Z=ek}var Se=(s&4)!==0,Ke=!Se&&(n==="scroll"||n==="scrollend"),G=Se?J!==null?J+"Capture":null:J;Se=[];for(var F=Q,K;F!==null;){var se=F;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||G===null||(se=ao(F,G),se!=null&&Se.push($o(F,se,K))),Ke)break;F=F.return}0<Se.length&&(J=new Z(J,me,null,o,ne),ie.push({event:J,listeners:Se}))}}if((s&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",J&&o!==Sf&&(me=o.relatedTarget||o.fromElement)&&(ks(me)||me[Ds]))break e;if((Z||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,Z?(me=o.relatedTarget||o.toElement,Z=Q,me=me?ks(me):null,me!==null&&(Ke=l(me),Se=me.tag,me!==Ke||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(Z=null,me=Q),Z!==me)){if(Se=hx,se="onMouseLeave",G="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Se=px,se="onPointerLeave",G="onPointerEnter",F="pointer"),Ke=Z==null?J:no(Z),K=me==null?J:no(me),J=new Se(se,F+"leave",Z,o,ne),J.target=Ke,J.relatedTarget=K,se=null,ks(ne)===Q&&(Se=new Se(G,F+"enter",me,o,ne),Se.target=K,Se.relatedTarget=Ke,se=Se),Ke=se,Z&&me)t:{for(Se=Zk,G=Z,F=me,K=0,se=G;se;se=Se(se))K++;se=0;for(var we=F;we;we=Se(we))se++;for(;0<K-se;)G=Se(G),K--;for(;0<se-K;)F=Se(F),se--;for(;K--;){if(G===F||F!==null&&G===F.alternate){Se=G;break t}G=Se(G),F=Se(F)}Se=null}else Se=null;Z!==null&&iS(ie,J,Z,Se,!1),me!==null&&Ke!==null&&iS(ie,Ke,me,Se,!0)}}e:{if(J=Q?no(Q):window,Z=J.nodeName&&J.nodeName.toLowerCase(),Z==="select"||Z==="input"&&J.type==="file")var Ie=Sx;else if(wx(J))if(Ex)Ie=uk;else{Ie=lk;var ve=ok}else Z=J.nodeName,!Z||Z.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&_f(Q.elementType)&&(Ie=Sx):Ie=ck;if(Ie&&(Ie=Ie(n,Q))){_x(ie,Ie,o,ne);break e}ve&&ve(n,J,Q),n==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&wf(J,"number",J.value)}switch(ve=Q?no(Q):window,n){case"focusin":(wx(ve)||ve.contentEditable==="true")&&(Bs=ve,Pf=Q,ho=null);break;case"focusout":ho=Pf=Bs=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Dx(ie,o,ne);break;case"selectionchange":if(fk)break;case"keydown":case"keyup":Dx(ie,o,ne)}var Re;if(Df)e:{switch(n){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Is?bx(n,o)&&($e="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(vx&&o.locale!=="ko"&&(Is||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Is&&(Re=dx()):(ta=ne,Tf="value"in ta?ta.value:ta.textContent,Is=!0)),ve=su(Q,$e),0<ve.length&&($e=new mx($e,n,null,o,ne),ie.push({event:$e,listeners:ve}),Re?$e.data=Re:(Re=xx(o),Re!==null&&($e.data=Re)))),(Re=rk?nk(n,o):ak(n,o))&&($e=su(Q,"onBeforeInput"),0<$e.length&&(ve=new mx("onBeforeInput","beforeinput",null,o,ne),ie.push({event:ve,listeners:$e}),ve.data=Re)),Kk(ie,n,Q,o,ne)}aS(ie,s)})}function $o(n,s,o){return{instance:n,listener:s,currentTarget:o}}function su(n,s){for(var o=s+"Capture",u=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ao(n,o),p!=null&&u.unshift($o(n,p,g)),p=ao(n,s),p!=null&&u.push($o(n,p,g))),n.tag===3)return u;n=n.return}return[]}function Zk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function iS(n,s,o,u,p){for(var g=s._reactName,N=[];o!==null&&o!==u;){var k=o,I=k.alternate,Q=k.stateNode;if(k=k.tag,I!==null&&I===u)break;k!==5&&k!==26&&k!==27||Q===null||(I=Q,p?(Q=ao(o,g),Q!=null&&N.unshift($o(o,Q,I))):p||(Q=ao(o,g),Q!=null&&N.push($o(o,Q,I)))),o=o.return}N.length!==0&&n.push({event:s,listeners:N})}var eM=/\r\n?/g,tM=/\u0000|\uFFFD/g;function oS(n){return(typeof n=="string"?n:""+n).replace(eM,`
`).replace(tM,"")}function lS(n,s){return s=oS(s),oS(n)===s}function Ve(n,s,o,u,p,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||$s(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&$s(n,""+u);break;case"className":cc(n,"class",u);break;case"tabIndex":cc(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":cc(n,o,u);break;case"style":lx(n,u,g);break;case"data":if(s!=="object"){cc(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=dc(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ve(n,s,"name",p.name,p,null),Ve(n,s,"formEncType",p.formEncType,p,null),Ve(n,s,"formMethod",p.formMethod,p,null),Ve(n,s,"formTarget",p.formTarget,p,null)):(Ve(n,s,"encType",p.encType,p,null),Ve(n,s,"method",p.method,p,null),Ve(n,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=dc(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=jn);break;case"onScroll":u!=null&&qe("scroll",n);break;case"onScrollEnd":u!=null&&qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=dc(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":qe("beforetoggle",n),qe("toggle",n),lc(n,"popover",u);break;case"xlinkActuate":En(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":En(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":En(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":En(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":En(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":En(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":En(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":En(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":En(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lc(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=CD.get(o)||o,lc(n,o,u))}}function lm(n,s,o,u,p,g){switch(o){case"style":lx(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?$s(n,u):(typeof u=="number"||typeof u=="bigint")&&$s(n,""+u);break;case"onScroll":u!=null&&qe("scroll",n);break;case"onScrollEnd":u!=null&&qe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zb.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=n[nr]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,p);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):lc(n,o,u)}}}function It(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",n),qe("load",n);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var N=o[g];if(N!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ve(n,s,g,N,o,null)}}p&&Ve(n,s,"srcSet",o.srcSet,o,null),u&&Ve(n,s,"src",o.src,o,null);return;case"input":qe("invalid",n);var k=g=N=p=null,I=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":N=ne;break;case"checked":I=ne;break;case"defaultChecked":Q=ne;break;case"value":g=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,s));break;default:Ve(n,s,u,ne,o,null)}}ax(n,g,k,I,Q,N,p,!1);return;case"select":qe("invalid",n),u=N=g=null;for(p in o)if(o.hasOwnProperty(p)&&(k=o[p],k!=null))switch(p){case"value":g=k;break;case"defaultValue":N=k;break;case"multiple":u=k;default:Ve(n,s,p,k,o,null)}s=g,o=N,n.multiple=!!u,s!=null?Ls(n,!!u,s,!1):o!=null&&Ls(n,!!u,o,!0);return;case"textarea":qe("invalid",n),g=p=u=null;for(N in o)if(o.hasOwnProperty(N)&&(k=o[N],k!=null))switch(N){case"value":u=k;break;case"defaultValue":p=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:Ve(n,s,N,k,o,null)}ix(n,u,p,g);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(n,s,I,u,o,null)}return;case"dialog":qe("beforetoggle",n),qe("toggle",n),qe("cancel",n),qe("close",n);break;case"iframe":case"object":qe("load",n);break;case"video":case"audio":for(u=0;u<Lo.length;u++)qe(Lo[u],n);break;case"image":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"embed":case"source":case"link":qe("error",n),qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ve(n,s,Q,u,o,null)}return;default:if(_f(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&lm(n,s,ne,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&Ve(n,s,k,u,o,null))}function rM(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,N=null,k=null,I=null,Q=null,ne=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":I=ie;default:u.hasOwnProperty(Z)||Ve(n,s,Z,null,u,ie)}}for(var J in u){var Z=u[J];if(ie=o[J],u.hasOwnProperty(J)&&(Z!=null||ie!=null))switch(J){case"type":g=Z;break;case"name":p=Z;break;case"checked":Q=Z;break;case"defaultChecked":ne=Z;break;case"value":N=Z;break;case"defaultValue":k=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,s));break;default:Z!==ie&&Ve(n,s,J,Z,u,ie)}}xf(n,N,k,I,Q,ne,g,p);return;case"select":Z=N=k=J=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":Z=I;default:u.hasOwnProperty(g)||Ve(n,s,g,null,u,I)}for(p in u)if(g=u[p],I=o[p],u.hasOwnProperty(p)&&(g!=null||I!=null))switch(p){case"value":J=g;break;case"defaultValue":k=g;break;case"multiple":N=g;default:g!==I&&Ve(n,s,p,g,u,I)}s=k,o=N,u=Z,J!=null?Ls(n,!!o,J,!1):!!u!=!!o&&(s!=null?Ls(n,!!o,s,!0):Ls(n,!!o,o?[]:"",!1));return;case"textarea":Z=J=null;for(k in o)if(p=o[k],o.hasOwnProperty(k)&&p!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ve(n,s,k,null,u,p)}for(N in u)if(p=u[N],g=o[N],u.hasOwnProperty(N)&&(p!=null||g!=null))switch(N){case"value":J=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Ve(n,s,N,p,u,g)}sx(n,J,Z);return;case"option":for(var me in o)if(J=o[me],o.hasOwnProperty(me)&&J!=null&&!u.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:Ve(n,s,me,null,u,J)}for(I in u)if(J=u[I],Z=o[I],u.hasOwnProperty(I)&&J!==Z&&(J!=null||Z!=null))switch(I){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ve(n,s,I,J,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)J=o[Se],o.hasOwnProperty(Se)&&J!=null&&!u.hasOwnProperty(Se)&&Ve(n,s,Se,null,u,J);for(Q in u)if(J=u[Q],Z=o[Q],u.hasOwnProperty(Q)&&J!==Z&&(J!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:Ve(n,s,Q,J,u,Z)}return;default:if(_f(s)){for(var Ke in o)J=o[Ke],o.hasOwnProperty(Ke)&&J!==void 0&&!u.hasOwnProperty(Ke)&&lm(n,s,Ke,void 0,u,J);for(ne in u)J=u[ne],Z=o[ne],!u.hasOwnProperty(ne)||J===Z||J===void 0&&Z===void 0||lm(n,s,ne,J,u,Z);return}}for(var G in o)J=o[G],o.hasOwnProperty(G)&&J!=null&&!u.hasOwnProperty(G)&&Ve(n,s,G,null,u,J);for(ie in u)J=u[ie],Z=o[ie],!u.hasOwnProperty(ie)||J===Z||J==null&&Z==null||Ve(n,s,ie,J,u,Z)}function cS(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],g=p.transferSize,N=p.initiatorType,k=p.duration;if(g&&k&&cS(N)){for(N=0,k=p.responseEnd,u+=1;u<o.length;u++){var I=o[u],Q=I.startTime;if(Q>k)break;var ne=I.transferSize,ie=I.initiatorType;ne&&cS(ie)&&(I=I.responseEnd,N+=ne*(I<k?1:(k-Q)/(I-Q)))}if(--u,s+=8*(g+N)/(p.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var cm=null,um=null;function iu(n){return n.nodeType===9?n:n.ownerDocument}function uS(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dS(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function dm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fm=null;function aM(){var n=window.event;return n&&n.type==="popstate"?n===fm?!1:(fm=n,!0):(fm=null,!1)}var fS=typeof setTimeout=="function"?setTimeout:void 0,sM=typeof clearTimeout=="function"?clearTimeout:void 0,hS=typeof Promise=="function"?Promise:void 0,iM=typeof queueMicrotask=="function"?queueMicrotask:typeof hS<"u"?function(n){return hS.resolve(null).then(n).catch(oM)}:fS;function oM(n){setTimeout(function(){throw n})}function ya(n){return n==="head"}function mS(n,s){var o=s,u=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(p),pi(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Uo(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Uo(o);for(var g=o.firstChild;g;){var N=g.nextSibling,k=g.nodeName;g[ro]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=N}}else o==="body"&&Uo(n.ownerDocument.body);o=p}while(o);pi(s)}function pS(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function hm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hm(o),yf(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function lM(n,s,o,u){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ro])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=$r(n.nextSibling),n===null)break}return null}function cM(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=$r(n.nextSibling),n===null))return null;return n}function vS(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=$r(n.nextSibling),n===null))return null;return n}function mm(n){return n.data==="$?"||n.data==="$~"}function pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function uM(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function $r(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var vm=null;function gS(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return $r(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function yS(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function bS(n,s,o){switch(s=iu(o),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Uo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);yf(n)}var Ur=new Map,xS=new Set;function ou(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var In=H.d;H.d={f:dM,r:fM,D:hM,C:mM,L:pM,m:vM,X:yM,S:gM,M:bM};function dM(){var n=In.f(),s=Jc();return n||s}function fM(n){var s=Ms(n);s!==null&&s.tag===5&&s.type==="form"?Lw(s):In.r(n)}var fi=typeof document>"u"?null:document;function wS(n,s,o){var u=fi;if(u&&typeof s=="string"&&s){var p=Rr(s);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),xS.has(p)||(xS.add(p),n={rel:n,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),It(s,"link",n),kt(s),u.head.appendChild(s)))}}function hM(n){In.D(n),wS("dns-prefetch",n,null)}function mM(n,s){In.C(n,s),wS("preconnect",n,s)}function pM(n,s,o){In.L(n,s,o);var u=fi;if(u&&n&&s){var p='link[rel="preload"][as="'+Rr(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Rr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Rr(o.imageSizes)+'"]')):p+='[href="'+Rr(n)+'"]';var g=p;switch(s){case"style":g=hi(n);break;case"script":g=mi(n)}Ur.has(g)||(n=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Ur.set(g,n),u.querySelector(p)!==null||s==="style"&&u.querySelector(zo(g))||s==="script"&&u.querySelector(Io(g))||(s=u.createElement("link"),It(s,"link",n),kt(s),u.head.appendChild(s)))}}function vM(n,s){In.m(n,s);var o=fi;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Rr(u)+'"][href="'+Rr(n)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=mi(n)}if(!Ur.has(g)&&(n=y({rel:"modulepreload",href:n},s),Ur.set(g,n),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Io(g)))return}u=o.createElement("link"),It(u,"link",n),kt(u),o.head.appendChild(u)}}}function gM(n,s,o){In.S(n,s,o);var u=fi;if(u&&n){var p=qs(u).hoistableStyles,g=hi(n);s=s||"default";var N=p.get(g);if(!N){var k={loading:0,preload:null};if(N=u.querySelector(zo(g)))k.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Ur.get(g))&&gm(n,o);var I=N=u.createElement("link");kt(I),It(I,"link",n),I._p=new Promise(function(Q,ne){I.onload=Q,I.onerror=ne}),I.addEventListener("load",function(){k.loading|=1}),I.addEventListener("error",function(){k.loading|=2}),k.loading|=4,lu(N,s,u)}N={type:"stylesheet",instance:N,count:1,state:k},p.set(g,N)}}}function yM(n,s){In.X(n,s);var o=fi;if(o&&n){var u=qs(o).hoistableScripts,p=mi(n),g=u.get(p);g||(g=o.querySelector(Io(p)),g||(n=y({src:n,async:!0},s),(s=Ur.get(p))&&ym(n,s),g=o.createElement("script"),kt(g),It(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function bM(n,s){In.M(n,s);var o=fi;if(o&&n){var u=qs(o).hoistableScripts,p=mi(n),g=u.get(p);g||(g=o.querySelector(Io(p)),g||(n=y({src:n,async:!0,type:"module"},s),(s=Ur.get(p))&&ym(n,s),g=o.createElement("script"),kt(g),It(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function _S(n,s,o,u){var p=(p=pe.current)?ou(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=hi(o.href),o=qs(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=hi(o.href);var g=qs(p).hoistableStyles,N=g.get(n);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,N),(g=p.querySelector(zo(n)))&&!g._p&&(N.instance=g,N.state.loading=5),Ur.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ur.set(n,o),g||xM(p,n,o,N.state))),s&&u===null)throw Error(a(528,""));return N}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mi(o),o=qs(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function hi(n){return'href="'+Rr(n)+'"'}function zo(n){return'link[rel="stylesheet"]['+n+"]"}function SS(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function xM(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),It(s,"link",o),kt(s),n.head.appendChild(s))}function mi(n){return'[src="'+Rr(n)+'"]'}function Io(n){return"script[async]"+n}function ES(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Rr(o.href)+'"]');if(u)return s.instance=u,kt(u),u;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),kt(u),It(u,"style",p),lu(u,o.precedence,n),s.instance=u;case"stylesheet":p=hi(o.href);var g=n.querySelector(zo(p));if(g)return s.state.loading|=4,s.instance=g,kt(g),g;u=SS(o),(p=Ur.get(p))&&gm(u,p),g=(n.ownerDocument||n).createElement("link"),kt(g);var N=g;return N._p=new Promise(function(k,I){N.onload=k,N.onerror=I}),It(g,"link",u),s.state.loading|=4,lu(g,o.precedence,n),s.instance=g;case"script":return g=mi(o.src),(p=n.querySelector(Io(g)))?(s.instance=p,kt(p),p):(u=o,(p=Ur.get(g))&&(u=y({},o),ym(u,p)),n=n.ownerDocument||n,p=n.createElement("script"),kt(p),It(p,"link",u),n.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,lu(u,o.precedence,n));return s.instance}function lu(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,N=0;N<u.length;N++){var k=u[N];if(k.dataset.precedence===s)g=k;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function gm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function ym(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var cu=null;function jS(n,s,o){if(cu===null){var u=new Map,p=cu=new Map;p.set(o,u)}else p=cu,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[ro]||g[Lt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(s)||"";N=n+N;var k=u.get(N);k?k.push(g):u.set(N,[g])}}return u}function NS(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function wM(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function TS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function _M(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=hi(u.href),g=s.querySelector(zo(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=uu.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,kt(g);return}g=s.ownerDocument||s,u=SS(u),(p=Ur.get(p))&&gm(u,p),g=g.createElement("link"),kt(g);var N=g;N._p=new Promise(function(k,I){N.onload=k,N.onerror=I}),It(g,"link",u),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=uu.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var bm=0;function SM(n,s){return n.stylesheets&&n.count===0&&fu(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&fu(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&bm===0&&(bm=62500*nM());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&fu(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>bm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var du=null;function fu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,du=new Map,s.forEach(EM,n),du=null,uu.call(n))}function EM(n,s){if(!(s.state.loading&4)){var o=du.get(n);if(o)var u=o.get(null);else{o=new Map,du.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var N=p[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),u=N)}u&&o.set(null,u)}p=s.instance,N=p.getAttribute("data-precedence"),g=o.get(N)||u,g===u&&o.set(null,p),o.set(N,p),this.count++,u=uu.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),s.state.loading|=4}}var Bo={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function jM(n,s,o,u,p,g,N,k,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mf(0),this.hiddenUpdates=mf(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function OS(n,s,o,u,p,g,N,k,I,Q,ne,ie){return n=new jM(n,s,o,N,I,Q,ne,ie,k),s=1,g===!0&&(s|=24),g=br(3,null,null,s),n.current=g,g.stateNode=n,s=Jf(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},rh(g),n}function CS(n){return n?(n=Gs,n):Gs}function AS(n,s,o,u,p,g){p=CS(p),u.context===null?u.context=p:u.pendingContext=p,u=oa(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=la(n,u,s),o!==null&&(cr(o,n,s),xo(o,n,s))}function RS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function xm(n,s){RS(n,s),(n=n.alternate)&&RS(n,s)}function DS(n){if(n.tag===13||n.tag===31){var s=Ha(n,67108864);s!==null&&cr(s,n,67108864),xm(n,67108864)}}function kS(n){if(n.tag===13||n.tag===31){var s=Er();s=pf(s);var o=Ha(n,s);o!==null&&cr(o,n,s),xm(n,s)}}var hu=!0;function NM(n,s,o,u){var p=B.T;B.T=null;var g=H.p;try{H.p=2,wm(n,s,o,u)}finally{H.p=g,B.T=p}}function TM(n,s,o,u){var p=B.T;B.T=null;var g=H.p;try{H.p=8,wm(n,s,o,u)}finally{H.p=g,B.T=p}}function wm(n,s,o,u){if(hu){var p=_m(u);if(p===null)om(n,s,u,mu,o),qS(n,u);else if(CM(p,n,s,o,u))u.stopPropagation();else if(qS(n,u),s&4&&-1<OM.indexOf(n)){for(;p!==null;){var g=Ms(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=$a(g.pendingLanes);if(N!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;N;){var I=1<<31-Yt(N);k.entanglements[1]|=I,N&=~I}cn(g),(He&6)===0&&(Xc=Ze()+500,Po(0))}}break;case 31:case 13:k=Ha(g,2),k!==null&&cr(k,g,2),Jc(),xm(g,2)}if(g=_m(u),g===null&&om(n,s,u,mu,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else om(n,s,u,null,o)}}function _m(n){return n=Ef(n),Sm(n)}var mu=null;function Sm(n){if(mu=null,n=ks(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return mu=n,null}function MS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case ae:return 2;case ge:return 8;case Ee:case dt:return 32;case rr:return 268435456;default:return 32}default:return 32}}var Em=!1,ba=null,xa=null,wa=null,Ho=new Map,Fo=new Map,_a=[],OM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qS(n,s){switch(n){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Ho.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(s.pointerId)}}function Go(n,s,o,u,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Ms(s),s!==null&&DS(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function CM(n,s,o,u,p){switch(s){case"focusin":return ba=Go(ba,n,s,o,u,p),!0;case"dragenter":return xa=Go(xa,n,s,o,u,p),!0;case"mouseover":return wa=Go(wa,n,s,o,u,p),!0;case"pointerover":var g=p.pointerId;return Ho.set(g,Go(Ho.get(g)||null,n,s,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,Fo.set(g,Go(Fo.get(g)||null,n,s,o,u,p)),!0}return!1}function PS(n){var s=ks(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Xb(n.priority,function(){kS(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,Xb(n.priority,function(){kS(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=_m(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Sf=u,o.target.dispatchEvent(u),Sf=null}else return s=Ms(o),s!==null&&DS(s),n.blockedOn=o,!1;s.shift()}return!0}function LS(n,s,o){pu(n)&&o.delete(s)}function AM(){Em=!1,ba!==null&&pu(ba)&&(ba=null),xa!==null&&pu(xa)&&(xa=null),wa!==null&&pu(wa)&&(wa=null),Ho.forEach(LS),Fo.forEach(LS)}function vu(n,s){n.blockedOn===s&&(n.blockedOn=null,Em||(Em=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,AM)))}var gu=null;function $S(n){gu!==n&&(gu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gu===n&&(gu=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],p=n[s+2];if(typeof u!="function"){if(Sm(u||o)===null)continue;break}var g=Ms(o);g!==null&&(n.splice(s,3),s-=3,_h(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function pi(n){function s(I){return vu(I,n)}ba!==null&&vu(ba,n),xa!==null&&vu(xa,n),wa!==null&&vu(wa,n),Ho.forEach(s),Fo.forEach(s);for(var o=0;o<_a.length;o++){var u=_a[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<_a.length&&(o=_a[0],o.blockedOn===null);)PS(o),o.blockedOn===null&&_a.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],N=p[nr]||null;if(typeof g=="function")N||$S(o);else if(N){var k=null;if(g&&g.hasAttribute("formAction")){if(p=g,N=g[nr]||null)k=N.formAction;else if(Sm(p)!==null)continue}else k=N.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),$S(o)}}}function US(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return p=N})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function jm(n){this._internalRoot=n}yu.prototype.render=jm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,u=Er();AS(o,u,n,s,null,null)},yu.prototype.unmount=jm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;AS(n.current,2,null,n,null,null),Jc(),s[Ds]=null}};function yu(n){this._internalRoot=n}yu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Kb();n={blockedOn:null,target:n,priority:s};for(var o=0;o<_a.length&&s!==0&&s<_a[o].priority;o++);_a.splice(o,0,n),o===0&&PS(n)}};var zS=e.version;if(zS!=="19.2.1")throw Error(a(527,zS,"19.2.1"));H.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var RM={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{ft=bu.inject(RM),ze=bu}catch{}}return Yo.createRoot=function(n,s){if(!i(n))throw Error(a(299));var o=!1,u="",p=Yw,g=Vw,N=Kw;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=OS(n,1,!1,null,null,o,u,null,p,g,N,US),n[Ds]=s.current,im(n),new jm(s)},Yo.hydrateRoot=function(n,s,o){if(!i(n))throw Error(a(299));var u=!1,p="",g=Yw,N=Vw,k=Kw,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(I=o.formState)),s=OS(n,1,!0,s,o??null,u,p,I,g,N,k,US),s.context=CS(null),o=s.current,u=Er(),u=pf(u),p=oa(u),p.callback=null,la(o,p,u),o=u,s.current.lanes=o,to(s,o),cn(s),n[Ds]=s.current,im(n),new yu(s)},Yo.version="19.2.1",Yo}var XS;function IM(){if(XS)return Om.exports;XS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Om.exports=zM(),Om.exports}var BM=IM();var QS="popstate";function HM(t={}){function e(a,i){let{pathname:l,search:c,hash:d}=a.location;return X0("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:yl(i)}return GM(e,r,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FM(){return Math.random().toString(36).substring(2,10)}function JS(t,e){return{usr:t.state,key:t.key,idx:e}}function X0(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$i(e):e,state:r,key:e&&e.key||a||FM()}}function yl({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $i(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function GM(t,e,r,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,c=i.history,d="POP",f=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){d="POP";let S=v(),j=S==null?null:S-m;m=S,f&&f({action:d,location:_.location,delta:j})}function b(S,j){d="PUSH";let E=X0(_.location,S,j);m=v()+1;let T=JS(E,m),O=_.createHref(E);try{c.pushState(T,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(O)}l&&f&&f({action:d,location:_.location,delta:1})}function x(S,j){d="REPLACE";let E=X0(_.location,S,j);m=v();let T=JS(E,m),O=_.createHref(E);c.replaceState(T,"",O),l&&f&&f({action:d,location:_.location,delta:0})}function w(S){return WM(S)}let _={get action(){return d},get location(){return t(i,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(QS,y),f=S,()=>{i.removeEventListener(QS,y),f=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let j=w(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:x,go(S){return c.go(S)}};return _}function WM(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ct(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:yl(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function c2(t,e,r="/"){return YM(t,e,r,!1)}function YM(t,e,r,a){let i=typeof e=="string"?$i(e):e,l=Wn(i.pathname||"/",r);if(l==null)return null;let c=u2(t);VM(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=s4(l);d=n4(c[f],m,a)}return d}function u2(t,e=[],r=[],a="",i=!1){let l=(c,d,f=i,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&f)return;ct(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let y=Gn([a,v.relativePath]),b=r.concat(v);c.children&&c.children.length>0&&(ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),u2(c.children,e,b,y,f)),!(c.path==null&&!c.index)&&e.push({path:y,score:t4(y,c.index),routesMeta:b})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let f of d2(c.path))l(c,d,!0,f)}),e}function d2(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let c=d2(a.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function VM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:r4(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var KM=/^:[\w-]+$/,XM=3,QM=2,JM=1,ZM=10,e4=-2,ZS=t=>t==="*";function t4(t,e){let r=t.split("/"),a=r.length;return r.some(ZS)&&(a+=e4),e&&(a+=QM),r.filter(i=>!ZS(i)).reduce((i,l)=>i+(KM.test(l)?XM:l===""?JM:ZM),a)}function r4(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function n4(t,e,r=!1){let{routesMeta:a}=t,i={},l="/",c=[];for(let d=0;d<a.length;++d){let f=a[d],m=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=nd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),b=f.route;if(!y&&m&&r&&!a[a.length-1].route.index&&(y=nd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:Gn([l,y.pathname]),pathnameBase:u4(Gn([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=Gn([l,y.pathnameBase]))}return c}function nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=a4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:y},b)=>{if(v==="*"){let w=d[b]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const x=d[b];return y&&!x?m[v]=void 0:m[v]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function a4(t,e=!1,r=!0){Br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function s4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}var i4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o4=t=>i4.test(t);function l4(t,e="/"){let{pathname:r,search:a="",hash:i=""}=typeof t=="string"?$i(t):t,l;if(r)if(o4(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?l=e1(r.substring(1),"/"):l=e1(r,e)}else l=e;return{pathname:l,search:d4(a),hash:f4(i)}}function e1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Dm(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function c4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ay(t){let e=c4(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Ry(t,e,r,a=!1){let i;typeof t=="string"?i=$i(t):(i={...t},ct(!i.pathname||!i.pathname.includes("?"),Dm("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Dm("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Dm("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=r;else{let y=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}d=y>=0?e[y]:"/"}let f=l4(i,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Gn=t=>t.join("/").replace(/\/\/+/g,"/"),u4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),d4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,f4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function h4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function m4(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var f2=["POST","PUT","PATCH","DELETE"];new Set(f2);var p4=["GET",...f2];new Set(p4);var Ui=A.createContext(null);Ui.displayName="DataRouter";var jd=A.createContext(null);jd.displayName="DataRouterState";A.createContext(!1);var h2=A.createContext({isTransitioning:!1});h2.displayName="ViewTransition";var v4=A.createContext(new Map);v4.displayName="Fetchers";var g4=A.createContext(null);g4.displayName="Await";var Wr=A.createContext(null);Wr.displayName="Navigation";var Ll=A.createContext(null);Ll.displayName="Location";var wn=A.createContext({outlet:null,matches:[],isDataRoute:!1});wn.displayName="Route";var Dy=A.createContext(null);Dy.displayName="RouteError";function y4(t,{relative:e}={}){ct(zi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=A.useContext(Wr),{hash:i,pathname:l,search:c}=$l(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:Gn([r,l])),a.createHref({pathname:d,search:c,hash:i})}function zi(){return A.useContext(Ll)!=null}function Da(){return ct(zi(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Ll).location}var m2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p2(t){A.useContext(Wr).static||A.useLayoutEffect(t)}function ky(){let{isDataRoute:t}=A.useContext(wn);return t?R4():b4()}function b4(){ct(zi(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Ui),{basename:e,navigator:r}=A.useContext(Wr),{matches:a}=A.useContext(wn),{pathname:i}=Da(),l=JSON.stringify(Ay(a)),c=A.useRef(!1);return p2(()=>{c.current=!0}),A.useCallback((f,m={})=>{if(Br(c.current,m2),!c.current)return;if(typeof f=="number"){r.go(f);return}let v=Ry(f,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gn([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,l,i,t])}A.createContext(null);function $l(t,{relative:e}={}){let{matches:r}=A.useContext(wn),{pathname:a}=Da(),i=JSON.stringify(Ay(r));return A.useMemo(()=>Ry(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function x4(t,e){return v2(t,e)}function v2(t,e,r,a,i){ct(zi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(Wr),{matches:c}=A.useContext(wn),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",y=d&&d.route;{let E=y&&y.path||"";g2(m,!y||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=Da(),x;if(e){let E=typeof e=="string"?$i(e):e;ct(v==="/"||E.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=b;let w=x.pathname||"/",_=w;if(v!=="/"){let E=v.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=c2(t,{pathname:_});Br(y||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Br(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=j4(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:Gn([v,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?v:Gn([v,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,r,a,i);return e&&j?A.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function w4(){let t=A4(),e=h4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:i},r):null,c)}var _4=A.createElement(w4,null),S4=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(wn.Provider,{value:this.props.routeContext},A.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E4({routeContext:t,match:e,children:r}){let a=A.useContext(Ui);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(wn.Provider,{value:t},r)}function j4(t,e=[],r=null,a=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,c=r?.errors;if(c!=null){let v=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ct(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,f=-1;if(r)for(let v=0;v<l.length;v++){let y=l[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=v),y.route.id){let{loaderData:b,errors:x}=r,w=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||w){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&a?(v,y)=>{a(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:m4(r.matches),errorInfo:y})}:void 0;return l.reduceRight((v,y,b)=>{let x,w=!1,_=null,S=null;r&&(x=c&&y.route.id?c[y.route.id]:void 0,_=y.route.errorElement||_4,d&&(f<0&&b===0?(g2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):f===b&&(w=!0,S=y.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,b+1)),E=()=>{let T;return x?T=_:w?T=S:y.route.Component?T=A.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=v,A.createElement(E4,{match:y,routeContext:{outlet:v,matches:j,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?A.createElement(S4,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:m}):E()},null)}function My(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N4(t){let e=A.useContext(Ui);return ct(e,My(t)),e}function T4(t){let e=A.useContext(jd);return ct(e,My(t)),e}function O4(t){let e=A.useContext(wn);return ct(e,My(t)),e}function qy(t){let e=O4(t),r=e.matches[e.matches.length-1];return ct(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function C4(){return qy("useRouteId")}function A4(){let t=A.useContext(Dy),e=T4("useRouteError"),r=qy("useRouteError");return t!==void 0?t:e.errors?.[r]}function R4(){let{router:t}=N4("useNavigate"),e=qy("useNavigate"),r=A.useRef(!1);return p2(()=>{r.current=!0}),A.useCallback(async(i,l={})=>{Br(r.current,m2),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var t1={};function g2(t,e,r){!e&&!t1[t]&&(t1[t]=!0,Br(!1,r))}A.memo(D4);function D4({routes:t,future:e,state:r,unstable_onError:a}){return v2(t,void 0,r,a,e)}function cl({to:t,replace:e,state:r,relative:a}){ct(zi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Wr);Br(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(wn),{pathname:c}=Da(),d=ky(),f=Ry(t,Ay(l),c,a==="path"),m=JSON.stringify(f);return A.useEffect(()=>{d(JSON.parse(m),{replace:e,state:r,relative:a})},[d,m,a,e,r]),null}function _i(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function k4({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){ct(!zi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[d,i,l,c]);typeof r=="string"&&(r=$i(r));let{pathname:m="/",search:v="",hash:y="",state:b=null,key:x="default"}=r,w=A.useMemo(()=>{let _=Wn(m,d);return _==null?null:{location:{pathname:_,search:v,hash:y,state:b,key:x},navigationType:a}},[d,m,v,y,b,x,a]);return Br(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:A.createElement(Wr.Provider,{value:f},A.createElement(Ll.Provider,{children:e,value:w}))}function M4({children:t,location:e}){return x4(Q0(t),e)}function Q0(t,e=[]){let r=[];return A.Children.forEach(t,(a,i)=>{if(!A.isValidElement(a))return;let l=[...e,i];if(a.type===A.Fragment){r.push.apply(r,Q0(a.props.children,l));return}ct(a.type===_i,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Q0(a.props.children,l)),r.push(c)}),r}var $u="get",Uu="application/x-www-form-urlencoded";function Nd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function q4(t){return Nd(t)&&t.tagName.toLowerCase()==="button"}function P4(t){return Nd(t)&&t.tagName.toLowerCase()==="form"}function L4(t){return Nd(t)&&t.tagName.toLowerCase()==="input"}function $4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U4(t,e){return t.button===0&&(!e||e==="_self")&&!$4(t)}var wu=null;function z4(){if(wu===null)try{new FormData(document.createElement("form"),0),wu=!1}catch{wu=!0}return wu}var I4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(t){return t!=null&&!I4.has(t)?(Br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uu}"`),null):t}function B4(t,e){let r,a,i,l,c;if(P4(t)){let d=t.getAttribute("action");a=d?Wn(d,e):null,r=t.getAttribute("method")||$u,i=km(t.getAttribute("enctype"))||Uu,l=new FormData(t)}else if(q4(t)||L4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(a=f?Wn(f,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||$u,i=km(t.getAttribute("formenctype"))||km(d.getAttribute("enctype"))||Uu,l=new FormData(d,t),!z4()){let{name:m,type:v,value:y}=t;if(v==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,y)}}else{if(Nd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=$u,a=null,i=Uu,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Py(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function H4(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&Wn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function F4(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function G4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function W4(t,e,r){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await F4(l,r);return c.links?c.links():[]}return[]}));return X4(a.flat(1).filter(G4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function r1(t,e,r,a,i,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,d=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?e.filter((f,m)=>{let v=a.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Y4(t,e,{includeHydrateFallback:r}={}){return V4(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function V4(t){return[...new Set(t)]}function K4(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function X4(t,e){let r=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(K4(i));return r.has(l)||(r.add(l),a.push({key:l,link:i})),a},[])}function y2(){let t=A.useContext(Ui);return Py(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Q4(){let t=A.useContext(jd);return Py(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ly=A.createContext(void 0);Ly.displayName="FrameworkContext";function b2(){let t=A.useContext(Ly);return Py(t,"You must render this element inside a <HydratedRouter> element"),t}function J4(t,e){let r=A.useContext(Ly),[a,i]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=j=>{j.forEach(E=>{c(E.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(a){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[a]);let x=()=>{i(!0)},w=()=>{i(!1),c(!1)};return r?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Vo(d,x),onBlur:Vo(f,w),onMouseEnter:Vo(m,x),onMouseLeave:Vo(v,w),onTouchStart:Vo(y,x)}]:[!1,b,{}]}function Vo(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Z4({page:t,...e}){let{router:r}=y2(),a=A.useMemo(()=>c2(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?A.createElement(t3,{page:t,matches:a,...e}):null}function e3(t){let{manifest:e,routeModules:r}=b2(),[a,i]=A.useState([]);return A.useEffect(()=>{let l=!1;return W4(t,e,r).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,r]),a}function t3({page:t,matches:e,...r}){let a=Da(),{manifest:i,routeModules:l}=b2(),{basename:c}=y2(),{loaderData:d,matches:f}=Q4(),m=A.useMemo(()=>r1(t,e,f,i,a,"data"),[t,e,f,i,a]),v=A.useMemo(()=>r1(t,e,f,i,a,"assets"),[t,e,f,i,a]),y=A.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let w=new Set,_=!1;if(e.forEach(j=>{let E=i.routes[j.route.id];!E||!E.hasLoader||(!m.some(T=>T.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||E.hasClientLoader?_=!0:w.add(j.route.id))}),w.size===0)return[];let S=H4(t,c,"data");return _&&w.size>0&&S.searchParams.set("_routes",e.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[c,d,a,i,m,e,t,l]),b=A.useMemo(()=>Y4(v,i),[v,i]),x=e3(v);return A.createElement(A.Fragment,null,y.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),x.map(({key:w,link:_})=>A.createElement("link",{key:w,nonce:r.nonce,..._})))}function r3(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var x2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x2&&(window.__reactRouterVersion="7.10.1")}catch{}function n3({basename:t,children:e,unstable_useTransitions:r,window:a}){let i=A.useRef();i.current==null&&(i.current=HM({window:a,v5Compat:!0}));let l=i.current,[c,d]=A.useState({action:l.action,location:l.location}),f=A.useCallback(m=>{r===!1?d(m):A.startTransition(()=>d(m))},[r]);return A.useLayoutEffect(()=>l.listen(f),[l,f]),A.createElement(k4,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r===!0})}var w2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_2=A.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:i,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:v,viewTransition:y,...b},x){let{basename:w,unstable_useTransitions:_}=A.useContext(Wr),S=typeof m=="string"&&w2.test(m),j,E=!1;if(typeof m=="string"&&S&&(j=m,x2))try{let C=new URL(window.location.href),q=m.startsWith("//")?new URL(C.protocol+m):new URL(m),U=Wn(q.pathname,w);q.origin===C.origin&&U!=null?m=U+q.search+q.hash:E=!0}catch{Br(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=y4(m,{relative:i}),[O,M,D]=J4(a,b),R=o3(m,{replace:c,state:d,target:f,preventScrollReset:v,relative:i,viewTransition:y,unstable_useTransitions:_});function P(C){e&&e(C),C.defaultPrevented||R(C)}let L=A.createElement("a",{...b,...D,href:j||T,onClick:E||l?e:P,ref:r3(x,M),target:f,"data-discover":!S&&r==="render"?"true":void 0});return O&&!S?A.createElement(A.Fragment,null,L,A.createElement(Z4,{page:T})):L});_2.displayName="Link";var a3=A.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:i=!1,style:l,to:c,viewTransition:d,children:f,...m},v){let y=$l(c,{relative:m.relative}),b=Da(),x=A.useContext(jd),{navigator:w,basename:_}=A.useContext(Wr),S=x!=null&&f3(y)&&d===!0,j=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,E=b.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),T=T?T.toLowerCase():null,j=j.toLowerCase()),T&&_&&(T=Wn(T,_)||T);const O=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let M=E===j||!i&&E.startsWith(j)&&E.charAt(O)==="/",D=T!=null&&(T===j||!i&&T.startsWith(j)&&T.charAt(j.length)==="/"),R={isActive:M,isPending:D,isTransitioning:S},P=M?e:void 0,L;typeof a=="function"?L=a(R):L=[a,M?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(R):l;return A.createElement(_2,{...m,"aria-current":P,className:L,ref:v,style:C,to:c,viewTransition:d},typeof f=="function"?f(R):f)});a3.displayName="NavLink";var s3=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:i,state:l,method:c=$u,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:y,...b},x)=>{let{unstable_useTransitions:w}=A.useContext(Wr),_=u3(),S=d3(d,{relative:m}),j=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&w2.test(d),T=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,D=M?.getAttribute("formmethod")||c,R=()=>_(M||O.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:i,state:l,relative:m,preventScrollReset:v,viewTransition:y});w&&r!==!1?A.startTransition(()=>R()):R()};return A.createElement("form",{ref:x,method:j,action:S,onSubmit:a?f:T,...b,"data-discover":!E&&t==="render"?"true":void 0})});s3.displayName="Form";function i3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S2(t){let e=A.useContext(Ui);return ct(e,i3(t)),e}function o3(t,{target:e,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let f=ky(),m=Da(),v=$l(t,{relative:l});return A.useCallback(y=>{if(U4(y,e)){y.preventDefault();let b=r!==void 0?r:yl(m)===yl(v),x=()=>f(t,{replace:b,state:a,preventScrollReset:i,relative:l,viewTransition:c});d?A.startTransition(()=>x()):x()}},[m,f,v,r,a,e,t,i,l,c,d])}var l3=0,c3=()=>`__${String(++l3)}__`;function u3(){let{router:t}=S2("useSubmit"),{basename:e}=A.useContext(Wr),r=C4(),a=t.fetch,i=t.navigate;return A.useCallback(async(l,c={})=>{let{action:d,method:f,encType:m,formData:v,body:y}=B4(l,e);if(c.navigate===!1){let b=c.fetcherKey||c3();await a(b,r,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,i,e,r])}function d3(t,{relative:e}={}){let{basename:r}=A.useContext(Wr),a=A.useContext(wn);ct(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...$l(t||".",{relative:e})},c=Da();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Gn([r,l.pathname])),yl(l)}function f3(t,{relative:e}={}){let r=A.useContext(h2);ct(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=S2("useViewTransitionState"),i=$l(t,{relative:e});if(!r.isTransitioning)return!1;let l=Wn(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Wn(r.nextLocation.pathname,a)||r.nextLocation.pathname;return nd(i.pathname,c)!=null||nd(i.pathname,l)!=null}var h3=l2();const E2=Qt(h3);var Bn={},_u={},J0=function(t,e){return J0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},J0(t,e)};function j2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");J0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ad=function(){return ad=Object.assign||function(e){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},ad.apply(this,arguments)};function Ii(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(r[a[i]]=t[a[i]]);return r}function N2(t,e,r,a){var i=arguments.length,l=i<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,a);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(i<3?c(l):i>3?c(e,r,l):c(e,r))||l);return i>3&&l&&Object.defineProperty(e,r,l),l}function T2(t,e){return function(r,a){e(r,a,t)}}function O2(t,e,r,a,i,l){function c(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var d=a.kind,f=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?a.static?t:t.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),y,b=!1,x=r.length-1;x>=0;x--){var w={};for(var _ in a)w[_]=_==="access"?{}:a[_];for(var _ in a.access)w.access[_]=a.access[_];w.addInitializer=function(j){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(j||null))};var S=(0,r[x])(d==="accessor"?{get:v.get,set:v.set}:v[f],w);if(d==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(y=c(S.get))&&(v.get=y),(y=c(S.set))&&(v.set=y),(y=c(S.init))&&i.unshift(y)}else(y=c(S))&&(d==="field"?i.unshift(y):v[f]=y)}m&&Object.defineProperty(m,a.name,v),b=!0}function C2(t,e,r){for(var a=arguments.length>2,i=0;i<e.length;i++)r=a?e[i].call(t,r):e[i].call(t);return a?r:void 0}function A2(t){return typeof t=="symbol"?t:"".concat(t)}function R2(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function D2(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function he(t,e,r,a){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(y){c(y)}}function f(v){try{m(a.throw(v))}catch(y){c(y)}}function m(v){v.done?l(v.value):i(v.value).then(d,f)}m((a=a.apply(t,e||[])).next())})}function k2(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,i,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(v){return f([m,v])}}function f(m){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(a=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(v){m=[6,v],i=0}finally{a=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Td=Object.create?(function(t,e,r,a){a===void 0&&(a=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,i)}):(function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]});function M2(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Td(e,t,r)}function sd(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $y(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var a=r.call(t),i,l=[],c;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)l.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}return l}function q2(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($y(arguments[e]));return t}function P2(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var a=Array(t),i=0,e=0;e<r;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,i++)a[i]=l[c];return a}function L2(t,e,r){if(r||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}function $2(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(x){return function(w){return Promise.resolve(w).then(x,y)}}function d(x,w){a[x]&&(i[x]=function(_){return new Promise(function(S,j){l.push([x,_,S,j])>1||f(x,_)})},w&&(i[x]=w(i[x])))}function f(x,w){try{m(a[x](w))}catch(_){b(l[0][3],_)}}function m(x){x.value instanceof Oi?Promise.resolve(x.value.v).then(v,y):b(l[0][2],x)}function v(x){f("next",x)}function y(x){f("throw",x)}function b(x,w){x(w),l.shift(),l.length&&f(l[0][0],l[0][1])}}function U2(t){var e,r;return e={},a("next"),a("throw",function(i){throw i}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(i,l){e[i]=t[i]?function(c){return(r=!r)?{value:Oi(t[i](c)),done:!1}:l?l(c):c}:l}}function z2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof sd=="function"?sd(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(l){r[l]=t[l]&&function(c){return new Promise(function(d,f){c=t[l](c),i(d,f,c.done,c.value)})}}function i(l,c,d,f){Promise.resolve(f).then(function(m){l({value:m,done:d})},c)}}function I2(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var m3=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Z0=function(t){return Z0=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},Z0(t)};function B2(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Z0(t),a=0;a<r.length;a++)r[a]!=="default"&&Td(e,t,r[a]);return m3(e,t),e}function H2(t){return t&&t.__esModule?t:{default:t}}function F2(t,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(t):a?a.value:e.get(t)}function G2(t,e,r,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function W2(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Y2(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:a,async:r})}else r&&t.stack.push({async:!0});return e}var p3=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function V2(t){function e(l){t.error=t.hasError?new p3(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,a=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&a===1)return a=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(l).then(i,function(c){return e(c),i()})}else a|=1}catch(c){e(c)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function K2(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,i,l,c){return a?e?".jsx":".js":i&&(!l||!c)?r:i+l+"."+c.toLowerCase()+"js"}):t}const v3={__extends:j2,__assign:ad,__rest:Ii,__decorate:N2,__param:T2,__esDecorate:O2,__runInitializers:C2,__propKey:A2,__setFunctionName:R2,__metadata:D2,__awaiter:he,__generator:k2,__createBinding:Td,__exportStar:M2,__values:sd,__read:$y,__spread:q2,__spreadArrays:P2,__spreadArray:L2,__await:Oi,__asyncGenerator:$2,__asyncDelegator:U2,__asyncValues:z2,__makeTemplateObject:I2,__importStar:B2,__importDefault:H2,__classPrivateFieldGet:F2,__classPrivateFieldSet:G2,__classPrivateFieldIn:W2,__addDisposableResource:Y2,__disposeResources:V2,__rewriteRelativeImportExtension:K2},g3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Y2,get __assign(){return ad},__asyncDelegator:U2,__asyncGenerator:$2,__asyncValues:z2,__await:Oi,__awaiter:he,__classPrivateFieldGet:F2,__classPrivateFieldIn:W2,__classPrivateFieldSet:G2,__createBinding:Td,__decorate:N2,__disposeResources:V2,__esDecorate:O2,__exportStar:M2,__extends:j2,__generator:k2,__importDefault:H2,__importStar:B2,__makeTemplateObject:I2,__metadata:D2,__param:T2,__propKey:A2,__read:$y,__rest:Ii,__rewriteRelativeImportExtension:K2,__runInitializers:C2,__setFunctionName:R2,__spread:q2,__spreadArray:L2,__spreadArrays:P2,__values:sd,default:v3},Symbol.toStringTag,{value:"Module"})),y3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Od=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},X2=class extends Od{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},ey=class extends Od{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ty=class extends Od{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var id;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(id||(id={}));class b3{constructor(e,{headers:r={},customFetch:a,region:i=id.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=y3(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return he(this,arguments,void 0,function*(r,a={}){var i;let l,c;try{const{headers:d,method:f,body:m,signal:v,timeout:y}=a;let b={},{region:x}=a;x||(x=this.region);const w=new URL(`${this.url}/${r}`);x&&x!=="any"&&(b["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let _;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(b["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(b["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let S=v;y&&(c=new AbortController,l=setTimeout(()=>c.abort(),y),v?(S=c.signal,v.addEventListener("abort",()=>c.abort())):S=c.signal);const j=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:_,signal:S}).catch(M=>{throw new X2(M)}),E=j.headers.get("x-relay-error");if(E&&E==="true")throw new ey(j);if(!j.ok)throw new ty(j);let T=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield j.json():T==="application/octet-stream"||T==="application/pdf"?O=yield j.blob():T==="text/event-stream"?O=j:T==="multipart/form-data"?O=yield j.formData():O=yield j.text(),{data:O,error:null,response:j}}catch(d){return{data:null,error:d,response:d instanceof ty||d instanceof ey?d.context:void 0}}finally{l&&clearTimeout(l)}})}}const x3=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return id},FunctionsClient:b3,FunctionsError:Od,FunctionsFetchError:X2,FunctionsHttpError:ty,FunctionsRelayError:ey},Symbol.toStringTag,{value:"Module"})),Q2=xn(x3);var Kt={};const Bi=xn(g3);var Su={},Eu={},ju={},Nu={},Tu={},Ou={},n1;function J2(){if(n1)return Ou;n1=1,Object.defineProperty(Ou,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ou.default=t,Ou}var a1;function Z2(){if(a1)return Tu;a1=1,Object.defineProperty(Tu,"__esModule",{value:!0});const e=Bi.__importDefault(J2());let r=class{constructor(i){var l,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,v,y,b;let x=null,w=null,_=null,S=f.status,j=f.statusText;if(f.ok){if(this.method!=="HEAD"){const M=await f.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?w=M:w=JSON.parse(M))}const T=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&O&&O.length>1&&(_=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,S=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await f.text();try{x=JSON.parse(T),Array.isArray(x)&&f.status===404&&(w=[],x=null,S=200,j="OK")}catch{f.status===404&&T===""?(S=204,j="No Content"):x={message:T}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,S=200,j="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:w,count:_,status:S,statusText:j}});return this.shouldThrowOnError||(d=d.catch(f=>{var m,v,y,b,x,w;let _="";const S=f?.cause;if(S){const j=(m=S?.message)!==null&&m!==void 0?m:"",E=(v=S?.code)!==null&&v!==void 0?v:"";_=`${(y=f?.name)!==null&&y!==void 0?y:"FetchError"}: ${f?.message}`,_+=`

Caused by: ${(b=S?.name)!==null&&b!==void 0?b:"Error"}: ${j}`,E&&(_+=` (${E})`),S?.stack&&(_+=`
${S.stack}`)}else _=(x=f?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(w=f?.name)!==null&&w!==void 0?w:"FetchError"}: ${f?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(i,l)}returns(){return this}overrideTypes(){return this}};return Tu.default=r,Tu}var s1;function eC(){if(s1)return Nu;s1=1,Object.defineProperty(Nu,"__esModule",{value:!0});const e=Bi.__importDefault(Z2());let r=class extends e.default{select(i){let l=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:f=d}={}){const m=f?`${f}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:f=!1,format:m="text"}={}){var v;const y=[i?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Nu.default=r,Nu}var i1;function Uy(){if(i1)return ju;i1=1,Object.defineProperty(ju,"__esModule",{value:!0});const e=Bi.__importDefault(eC()),r=new RegExp("[,()]");let a=class extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${v}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}};return ju.default=a,ju}var o1;function tC(){if(o1)return Eu;o1=1,Object.defineProperty(Eu,"__esModule",{value:!0});const e=Bi.__importDefault(Uy());let r=class{constructor(i,{headers:l={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(i,l){const{head:c=!1,count:d}=l??{},f=c?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:c=!0}={}){var d;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:f=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(y.length>0){const b=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var l;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return Eu.default=r,Eu}var l1;function w3(){if(l1)return Su;l1=1,Object.defineProperty(Su,"__esModule",{value:!0});const t=Bi,e=t.__importDefault(tC()),r=t.__importDefault(Uy());let a=class rC{constructor(l,{headers:c={},schema:d,fetch:f}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=f}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new rC(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:f=!1,count:m}={}){var v;let y;const b=new URL(`${this.url}/rpc/${l}`);let x;d||f?(y=d?"HEAD":"GET",Object.entries(c).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{b.searchParams.append(_,S)})):(y="POST",x=c);const w=new Headers(this.headers);return m&&w.set("Prefer",`count=${m}`),new r.default({method:y,url:b,headers:w,schema:this.schemaName,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Su.default=a,Su}var c1;function nC(){if(c1)return Kt;c1=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const t=Bi,e=t.__importDefault(w3());Kt.PostgrestClient=e.default;const r=t.__importDefault(tC());Kt.PostgrestQueryBuilder=r.default;const a=t.__importDefault(Uy());Kt.PostgrestFilterBuilder=a.default;const i=t.__importDefault(eC());Kt.PostgrestTransformBuilder=i.default;const l=t.__importDefault(Z2());Kt.PostgrestBuilder=l.default;const c=t.__importDefault(J2());return Kt.PostgrestError=c.default,Kt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default},Kt}class aC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const _3="2.87.1",S3=`realtime-js/${_3}`,sC="1.0.0",E3="2.0.0",u1=sC,ry=1e4,j3=1e3,N3=100;var cs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cs||(cs={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tn||(tn={}));var ny;(function(t){t.websocket="websocket"})(ny||(ny={}));var us;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(us||(us={}));class T3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,a){var i,l;const c=e.topic,d=(i=e.ref)!==null&&i!==void 0?i:"",f=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+c.length+m.length+y.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(x),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,f.length),w.setUint8(_++,d.length),w.setUint8(_++,c.length),w.setUint8(_++,m.length),w.setUint8(_++,y.length),w.setUint8(_++,r),Array.from(f,j=>w.setUint8(_++,j.charCodeAt(0))),Array.from(d,j=>w.setUint8(_++,j.charCodeAt(0))),Array.from(c,j=>w.setUint8(_++,j.charCodeAt(0))),Array.from(m,j=>w.setUint8(_++,j.charCodeAt(0))),Array.from(y,j=>w.setUint8(_++,j.charCodeAt(0)));var S=new Uint8Array(x.byteLength+a.byteLength);return S.set(new Uint8Array(x),0),S.set(new Uint8Array(a),x.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[i,l,c,d,f]=a;return r({join_ref:i,ref:l,topic:c,event:d,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),i=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,a){const i=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=a.decode(e.slice(f,f+i));f=f+i;const v=a.decode(e.slice(f,f+l));f=f+l;const y=a.decode(e.slice(f,f+c));f=f+c;const b=e.slice(f,e.byteLength),x=d===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,w={type:this.BROADCAST_EVENT,event:v,payload:x};return c>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class iC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const d1=(t,e,r={})=>{var a;const i=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=O3(c,t,e,i),l),{}):{}},O3=(t,e,r,a)=>{const i=e.find(d=>d.name===t),l=i?.type,c=r[t];return l&&!a.includes(l)?oC(l,c):ay(c)},oC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return D3(e,r)}switch(t){case et.bool:return C3(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return A3(e);case et.json:case et.jsonb:return R3(e);case et.timestamp:return k3(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return ay(e);default:return ay(e)}},ay=t=>t,C3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},A3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},R3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},D3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>oC(e,d))}return t},k3=t=>typeof t=="string"?t.replace(" ","T"):t,lC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mm{constructor(e,r,a={},i=ry){this.channel=e,this.event=r,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var sy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(sy||(sy={}));let cC=class zu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zu.syncState(this.state,i,l,c),this.pendingDiffs.forEach(f=>{this.state=zu.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zu.syncDiff(this.state,i,l,c),d())}),this.onJoin((i,l,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:c})}),this.onLeave((i,l,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,i){const l=this.cloneDeep(e),c=this.transformState(r),d={},f={};return this.map(l,(m,v)=>{c[m]||(f[m]=v)}),this.map(c,(m,v)=>{const y=l[m];if(y){const b=v.map(S=>S.presence_ref),x=y.map(S=>S.presence_ref),w=v.filter(S=>x.indexOf(S.presence_ref)<0),_=y.filter(S=>b.indexOf(S.presence_ref)<0);w.length>0&&(d[m]=w),_.length>0&&(f[m]=_)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:f},a,i)}static syncDiff(e,r,a,i){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(d,f)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(f),v.length>0){const y=e[d].map(x=>x.presence_ref),b=v.filter(x=>y.indexOf(x.presence_ref)<0);e[d].unshift(...b)}a(d,v,f)}),this.map(c,(d,f)=>{let m=e[d];if(!m)return;const v=f.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),e[d]=m,i(d,m,f),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const i=e[a];return"metas"in i?r[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[a]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var iy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(iy||(iy={}));var ji;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ji||(ji={}));var fn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(fn||(fn={}));const M3=jt;let uC=class ul{constructor(e,r={config:{}},a){var i,l;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mm(this,tn.join,this.params,this.timeout),this.rejoinTimer=new iC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new cC(this),this.broadcastEndpointURL=lC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[ji.PRESENCE]&&this.bindings[ji.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(fn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(fn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(fn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(w=_?.length)!==null&&w!==void 0?w:0,j=[];for(let E=0;E<S;E++){const T=_[E],{filter:{event:O,schema:M,table:D,filter:R}}=T,P=x&&x[E];if(P&&P.event===O&&ul.isFilterValueEqual(P.schema,M)&&ul.isFilterValueEqual(P.table,D)&&ul.isFilterValueEqual(P.filter,R))j.push(Object.assign(Object.assign({},T),{id:P.id}));else{this.unsubscribe(),this.state=jt.errored,e?.(fn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(fn.SUBSCRIBED);return}}).receive("error",x=>{this.state=jt.errored,e?.(fn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(fn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===jt.joined&&e===ji.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const m=await d.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,f;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Mm(this,tn.leave,{},e),a.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),c}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mm(this,e,r,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>N3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var i,l;const c=e.toLocaleLowerCase(),{close:d,error:f,leave:m,join:v}=tn;if(a&&[d,f,m,v].indexOf(c)>=0&&a!==this._joinRef())return;let b=this._onMessage(c,r,a);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,_,S;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(_=x.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(x=>x.callback(b,a)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var w,_,S,j,E,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const O=x.id,M=(w=x.filter)===null||w===void 0?void 0:w.event;return O&&((_=r.ids)===null||_===void 0?void 0:_.includes(O))&&(M==="*"||M?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const O=(E=(j=x?.filter)===null||j===void 0?void 0:j.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return O==="*"||O===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:_,table:S,commit_timestamp:j,type:E,errors:T}=w;b=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:j,eventType:E,new:{},old:{},errors:T}),this._getPayloadRecords(w))}x.callback(b,a)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&ul.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=d1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=d1(e.columns,e.old_record)),r}};const qm=()=>{},Cu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},q3=[1e3,2e3,5e3,1e4],P3=1e4,L3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let $3=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ry,this.transport=null,this.heartbeatIntervalMs=Cu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qm,this.ref=0,this.reconnectTimer=null,this.vsn=u1,this.logger=qm,this.conn=null,this.sendBuffer=[],this.serializer=new T3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ny.websocket}`,this.httpEndpoint=lC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case cs.connecting:return us.Connecting;case cs.open:return us.Open;case cs.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new uC(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:a,payload:i,ref:l}=e,c=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${a} (${l})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(j3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Cu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:c}=r,d=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${a} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===cs.open||this.conn.readyState===cs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${a}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([L3],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:S3};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new iC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,i,l,c,d,f,m,v,y,b,x;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:ry,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Cu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:qm,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:u1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(w=>q3[w-1]||P3),this.vsn){case sC:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((w,_)=>_(JSON.stringify(w))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((w,_)=>_(JSON.parse(w)));break;case E3:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const U3=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:M3,get REALTIME_LISTEN_TYPES(){return ji},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return iy},get REALTIME_PRESENCE_LISTEN_EVENTS(){return sy},get REALTIME_SUBSCRIBE_STATES(){return fn},RealtimeChannel:uC,RealtimeClient:$3,RealtimePresence:cC,WebSocketFactory:aC},Symbol.toStringTag,{value:"Module"})),dC=xn(U3);class Ul extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fC extends Ul{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class od extends Ul{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const zy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),z3=()=>Response,oy=t=>{if(Array.isArray(t))return t.map(r=>oy(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=oy(a)}),e},I3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},B3=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Pm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},H3=(t,e,r)=>he(void 0,void 0,void 0,function*(){const a=yield z3();t instanceof a&&!r?.noResolveJson?t.json().then(i=>{const l=t.status||500,c=i?.statusCode||l+"";e(new fC(Pm(i),l,c))}).catch(i=>{e(new od(Pm(i),i))}):e(new od(Pm(t),t))}),F3=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(I3(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function zl(t,e,r,a,i,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,F3(e,a,i,l)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>H3(f,d,a))})})}function bl(t,e,r,a){return he(this,void 0,void 0,function*(){return zl(t,"GET",e,r,a)})}function en(t,e,r,a,i){return he(this,void 0,void 0,function*(){return zl(t,"POST",e,a,i,r)})}function ly(t,e,r,a,i){return he(this,void 0,void 0,function*(){return zl(t,"PUT",e,a,i,r)})}function G3(t,e,r,a){return he(this,void 0,void 0,function*(){return zl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Iy(t,e,r,a,i){return he(this,void 0,void 0,function*(){return zl(t,"DELETE",e,a,i,r)})}class W3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return he(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}var hC;class Y3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[hC]="BlobDownloadBuilder",this.promise=null}asStream(){return new W3(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return he(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}hC=Symbol.toStringTag;const V3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K3{constructor(e,r={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=zy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,i){return he(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},f1),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),f&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(f))):(l=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),y=yield(e=="PUT"?ly:en)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}upload(e,r,a){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,i){return he(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let f;const m=Object.assign({upsert:f1.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",m.cacheControl)):(f=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield ly(this.fetch,d.toString(),f,{headers:v});return{data:{path:l,fullPath:y.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(lt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return he(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const l=yield en(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Ul("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}update(e,r,a){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return he(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}copy(e,r,a){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,a){return he(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield en(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,a){return he(this,void 0,void 0,function*(){try{const i=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),f=()=>bl(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new Y3(f,this.shouldThrowOnError)}info(e){return he(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield bl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:oy(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}exists(e){return he(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield G3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a)&&a instanceof od){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),i=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${m}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(e,r,a){return he(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},V3),r),{prefix:e||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}listV2(e,r){return he(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const mC="2.87.1",pC={"X-Client-Info":`storage-js/${mC}`};class X3{constructor(e,r={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pC),r),this.fetch=zy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return he(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield bl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(e){return he(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return he(this,void 0,void 0,function*(){try{return{data:yield ly(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}emptyBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var xl=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Q3(t,e,r){const a=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&a.searchParams.set(i,l);return a.toString()}async function J3(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Z3(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:i,body:l,headers:c}){const d=Q3(t.baseUrl,a,i),f=await J3(t.auth),m=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...c},body:l?JSON.stringify(l):void 0}),v=await m.text(),y=(m.headers.get("content-type")||"").includes("application/json"),b=y&&v?JSON.parse(v):v;if(!m.ok){const x=y?b:void 0,w=x?.error;throw new xl(w?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:w?.type,icebergCode:w?.code,details:x})}return{status:m.status,headers:m.headers,data:b}}}}function Au(t){return t.join("")}var e5=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Au(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Au(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Au(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Au(t.namespace)}`}),!0}catch(e){if(e instanceof xl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof xl&&r.status===409)return;throw r}}};function vi(t){return t.join("")}var t5=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof xl&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof xl&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},r5=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Z3({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new e5(this.client,e),this.tableOps=new t5(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class vC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pC),r),this.fetch=zy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(e){return he(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield bl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}from(e){if(!B3(e))throw new Ul("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new r5({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>he(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(l,c){const d=l[c];return typeof d!="function"?d:(...f)=>he(this,void 0,void 0,function*(){try{return{data:yield d.apply(l,f),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}})}})}}const By={"X-Client-Info":`storage-js/${mC}`,"Content-Type":"application/json"};class Hy extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Iu extends Hy{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gC extends Hy{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var cy;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(cy||(cy={}));const Cd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),n5=()=>Response,yC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},a5=t=>Array.from(new Float32Array(t)),s5=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},h1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i5=(t,e,r)=>he(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||i+"";e(new Iu(h1(c),i,d))}).catch(()=>{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Iu(d,i,c))});else{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Iu(d,i,c))}}else e(new gC(h1(t),t))}),o5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return a?(yC(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),r)):i};function l5(t,e,r,a,i,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,o5(e,a,i,l)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>i5(f,d,a))})})}function Nr(t,e,r,a,i){return he(this,void 0,void 0,function*(){return l5(t,"POST",e,a,i,r)})}class bC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},By),r),this.fetch=Cd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}})}listIndexes(e){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return he(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}})}}class xC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},By),r),this.fetch=Cd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return he(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}listVectors(e){return he(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Nr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}queryVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return he(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}}class wC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},By),r),this.fetch=Cd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}listBuckets(){return he(this,arguments,void 0,function*(e={}){try{return{data:yield Nr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}}class _C extends wC{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new SC(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return he(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return he(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return he(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return he(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class SC extends bC{constructor(e,r,a,i){super(e,r,i),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return he(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return he(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return he(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return he(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new EC(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class EC extends xC{constructor(e,r,a,i,l){super(e,r,l),this.vectorBucketName=a,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return he(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return he(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return he(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return he(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return he(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class c5 extends X3{constructor(e,r={},a,i){super(e,r,a,i)}from(e){return new K3(this.url,this.headers,e,this.fetch)}get vectors(){return new _C(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vC(this.url+"/iceberg",this.headers,this.fetch)}}const u5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:vC,StorageApiError:fC,StorageClient:c5,StorageError:Ul,StorageUnknownError:od,StorageVectorsApiError:Iu,StorageVectorsClient:_C,StorageVectorsError:Hy,get StorageVectorsErrorCode(){return cy},StorageVectorsUnknownError:gC,VectorBucketApi:wC,VectorBucketScope:SC,VectorDataApi:xC,VectorIndexApi:bC,VectorIndexScope:EC,isPlainObject:yC,isStorageError:lt,isStorageVectorsError:dr,normalizeToFloat32:a5,resolveFetch:Cd,resolveResponse:n5,validateVectorDimension:s5},Symbol.toStringTag,{value:"Module"})),d5=xn(u5);var Lm={},Ko={},m1;function f5(){return m1||(m1=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.version=void 0,Ko.version="2.87.1"),Ko}var p1;function h5(){return p1||(p1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=f5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Lm)),Lm}var $m={},v1;function m5(){return v1||(v1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...l)=>i(...l):(...l)=>fetch(...l);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const a=(i,l,c)=>{const d=(0,t.resolveFetch)(c),f=(0,t.resolveHeadersConstructor)();return async(m,v)=>{var y;const b=(y=await l())!==null&&y!==void 0?y:i;let x=new f(v?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${b}`),d(m,Object.assign(Object.assign({},v),{headers:x}))}};t.fetchWithAuth=a})($m)),$m}var Hn={},g1;function p5(){if(g1)return Hn;g1=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.isBrowser=void 0,Hn.uuid=t,Hn.ensureTrailingSlash=e,Hn.applySettingDefaults=a,Hn.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var c=Math.random()*16|0,d=l=="x"?c:c&3|8;return d.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";Hn.isBrowser=r;function a(l,c){var d,f;const{db:m,auth:v,realtime:y,global:b}=l,{db:x,auth:w,realtime:_,global:S}=c,j={db:Object.assign(Object.assign({},x),m),auth:Object.assign(Object.assign({},w),v),realtime:Object.assign(Object.assign({},_),y),storage:{},global:Object.assign(Object.assign(Object.assign({},S),b),{headers:Object.assign(Object.assign({},(d=S?.headers)!==null&&d!==void 0?d:{}),(f=b?.headers)!==null&&f!==void 0?f:{})}),accessToken:async()=>""};return l.accessToken?j.accessToken=l.accessToken:delete j.accessToken,j}function i(l){const c=l?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Hn}var Xo={};const jC="2.87.1",Si=30*1e3,uy=3,Um=uy*Si,v5="http://localhost:9999",g5="supabase.auth.token",y5={"X-Client-Info":`gotrue-js/${jC}`},dy="X-Supabase-Api-Version",NC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},b5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x5=600*1e3;let Ci=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let TC=class extends Ci{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function OC(t){return ye(t)&&t.name==="AuthApiError"}let Ta=class extends Ci{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Jn=class extends Ci{constructor(e,r,a,i){super(e,a,i),this.name=r,this.status=a}},ur=class extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function CC(t){return ye(t)&&t.name==="AuthSessionMissingError"}let ss=class extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},dl=class extends Jn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},fl=class extends Jn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function AC(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}let fy=class extends Jn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ld=class extends Jn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Bu(t){return ye(t)&&t.name==="AuthRetryableFetchError"}let hy=class extends Jn{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function w5(t){return ye(t)&&t.name==="AuthWeakPasswordError"}let cd=class extends Jn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y1=` 	
\r=`.split(""),_5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<y1.length;e+=1)t[y1[e].charCodeAt(0)]=-2;for(let e=0;e<ud.length;e+=1)t[ud[e].charCodeAt(0)]=e;return t})();function b1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(ud[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(ud[a]),e.queuedBits-=6}}function RC(t,e,r){const a=_5[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function x1(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=c=>{j5(c,a,r)};for(let c=0;c<t.length;c+=1)RC(t.charCodeAt(c),i,l);return e.join("")}function S5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function E5(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}S5(a,e)}}function j5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ni(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)RC(t.charCodeAt(i),r,a);return new Uint8Array(e)}function N5(t){const e=[];return E5(t,r=>e.push(r)),new Uint8Array(e)}function fs(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>b1(i,r,a)),b1(null,r,a),e.join("")}function T5(t){return Math.round(Date.now()/1e3)+t}function O5(){return Symbol("auth-callback")}const Ht=()=>typeof window<"u"&&typeof document<"u",rs={tested:!1,writable:!1},DC=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rs.tested)return rs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rs.tested=!0,rs.writable=!0}catch{rs.tested=!0,rs.writable=!1}return rs.writable};function C5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((a,i)=>{e[i]=a}),e}const kC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),A5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ei=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ns=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bt=async(t,e)=>{await t.removeItem(e)};class Ad{constructor(){this.promise=new Ad.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ad.promiseConstructor=Promise;function zm(t){const e=t.split(".");if(e.length!==3)throw new cd("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!b5.test(e[a]))throw new cd("JWT not in base64url format");return{header:JSON.parse(x1(e[0])),payload:JSON.parse(x1(e[1])),signature:Ni(e[2]),raw:{header:e[0],payload:e[1]}}}async function R5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function D5(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){a(c);return}}catch(c){if(!e(l,c)){i(c);return}}})()})}function k5(t){return("0"+t.toString(16)).substr(-2)}function M5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,k5).join("")}async function q5(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function P5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await q5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(t,e,r=!1){const a=M5();let i=a;r&&(i+="/PASSWORD_RECOVERY"),await Ei(t,`${e}-code-verifier`,i);const l=await P5(a);return[l,a===l?"plain":"s256"]}const L5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $5(t){const e=t.headers.get(dy);if(!e||!e.match(L5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function U5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function z5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const I5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yi(t){if(!I5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Im(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function B5(t,e){return new Proxy(t,{get:(r,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,i)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,i)}})}function w1(t){return JSON.parse(JSON.stringify(t))}const is=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H5=[502,503,504];async function _1(t){var e;if(!A5(t))throw new ld(is(t),0);if(H5.includes(t.status))throw new ld(is(t),t.status);let r;try{r=await t.json()}catch(l){throw new Ta(is(l),l)}let a;const i=$5(t);if(i&&i.getTime()>=NC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new hy(is(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new ur}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new hy(is(r),t.status,r.weak_password.reasons);throw new TC(is(r),t.status||500,a)}const F5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),r))};async function je(t,e,r,a){var i;const l=Object.assign({},a?.headers);l[dy]||(l[dy]=NC["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const c=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await G5(t,e,r+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function G5(t,e,r,a,i,l){const c=F5(e,a,i,l);let d;try{d=await t(r,Object.assign({},c))}catch(f){throw console.error(f),new ld(is(f),0)}if(d.ok||await _1(d),a?.noResolveJson)return d;try{return await d.json()}catch(f){await _1(f)}}function Zr(t){var e;let r=null;V5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=T5(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function S1(t){const e=Zr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Oa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function W5(t){return{data:t,error:null}}function Y5(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l}=t,c=Ii(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function E1(t){return t}function V5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Hu=["global","local","others"];let Fy=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=kC(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Hu[0]){if(Hu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hu.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Oa})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=Ii(e,["options"]),i=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Y5,redirectTo:r?.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oa})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,i,l,c,d,f;try{const m={nextPage:null,lastPage:0,total:0},v=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:E1});if(v.error)throw v.error;const y=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);m[`${S}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ye(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){yi(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oa})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){yi(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Oa})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){yi(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Oa})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){yi(e.userId);try{const{data:r,error:a}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:a}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(e){yi(e.userId),yi(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,i,l,c,d,f;try{const m={nextPage:null,lastPage:0,total:0},v=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:E1});if(v.error)throw v.error;const y=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);m[`${S}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ye(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ye(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}};function j1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const os={debug:!!(globalThis&&DC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let MC=class extends Gy{};class K5 extends Gy{}async function qC(t,e,r){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new MC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(os.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const N1={};async function X5(t,e,r){var a;const i=(a=N1[t])!==null&&a!==void 0?a:Promise.resolve(),l=Promise.race([i.catch(()=>null),e>=0?new Promise((c,d)=>{setTimeout(()=>{d(new K5(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return N1[t]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await l}function Q5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function PC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function J5(t){return parseInt(t,16)}function Z5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function eq(t){var e;const{chainId:r,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:f,resources:m,scheme:v,uri:y,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=PC(t.address),w=v?`${v}://${a}`:a,_=t.statement?`${t.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${x}

${_}`;let j=`URI: ${y}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),f&&(j+=`
Request ID: ${f}`),m){let E=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);E+=`
- ${T}`}j+=E}return`${S}
${j}`}class Nt extends Error{constructor({message:e,code:r,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class dd extends Nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function tq({error:t,options:e}){var r,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(LC(c)){if(l.rp.id!==c)return new Nt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function rq({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(LC(a)){if(r.rpId!==a)return new Nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class nq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const aq=new nq;function sq(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,i=Ii(t,["challenge","user","excludeCredentials"]),l=Ni(e).buffer,c=Object.assign(Object.assign({},r),{id:Ni(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const m=a[f];d.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Ni(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function iq(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=Ii(t,["challenge","allowCredentials"]),i=Ni(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ni(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function oq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:fs(new Uint8Array(t.response.attestationObject)),clientDataJSON:fs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function lq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:fs(new Uint8Array(i.authenticatorData)),clientDataJSON:fs(new Uint8Array(i.clientDataJSON)),signature:fs(new Uint8Array(i.signature)),userHandle:i.userHandle?fs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function T1(){var t,e;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cq(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dd("Browser returned unexpected credential type",e)}:{data:null,error:new dd("Empty credential response",e)}}catch(e){return{data:null,error:tq({error:e,options:t})}}}async function uq(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dd("Browser returned unexpected credential type",e)}:{data:null,error:new dd("Empty credential response",e)}}catch(e){return{data:null,error:rq({error:e,options:t})}}}const dq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},fq={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const c=i[l];if(c!==void 0)if(Array.isArray(c))a[l]=c;else if(r(c))a[l]=c;else if(e(c)){const d=a[l];e(d)?a[l]=fd(d,c):a[l]=fd(c)}else a[l]=c}return a}function hq(t,e){return fd(dq,t,e||{})}function mq(t,e){return fd(fq,t,e||{})}class pq{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:i},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:d};const f=i??aq.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=hq(c.webauthn.credential_options.publicKey,l?.create),{data:v,error:y}=await cq({publicKey:m,signal:f});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const m=mq(c.webauthn.credential_options.publicKey,l?.request),{data:v,error:y}=await uq(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:f}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(c){return ye(c)?{data:null,error:c}:{data:null,error:new Ta("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ci("rpId is required for WebAuthn authentication")};try{if(!T1())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:i},{request:l});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:a,credential_response:f.credential_response}})}catch(c){return ye(c)?{data:null,error:c}:{data:null,error:new Ta("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ci("rpId is required for WebAuthn registration")};try{if(!T1())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:f,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:i},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ye(c)?{data:null,error:c}:{data:null,error:new Ta("Unexpected error in register",c)}}}}Q5();const vq={url:v5,storageKey:g5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:y5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function O1(t,e,r){return await r()}const bi={};let Wy=class my{get jwks(){var e,r;return(r=(e=bi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=bi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},vq),e);if(this.storageKey=l.storageKey,this.instanceID=(r=my.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,my.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ht()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Fy({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=kC(l.fetch),this.lock=l.lock||O1,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Ht()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=qC:this.lock=O1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:DC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=j1(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=j1(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${jC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Ht()&&(r=C5(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Ht()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),AC(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?this._returnResult({error:r}):this._returnResult({error:new Ta("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,i;try{const l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zr}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,a,i;try{let l;if("email"in e){const{email:v,password:y,options:b}=e;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await gi(this.storage,this.storageKey)),l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:y,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Zr})}else if("phone"in e){const{phone:v,password:y,options:b}=e;l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Zr})}else throw new dl("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await Bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S1})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S1})}else throw new dl("You must provide either an email or phone number and a password");const{data:a,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const l=new ss;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,i,l,c,d,f,m,v,y,b;let x,w;if("message"in e)x=e.message,w=e.signature;else{const{chain:_,wallet:S,statement:j,options:E}=e;let T;if(Ht())if(typeof S=="object")T=S;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")T=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const O=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),M=await T.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=PC(M[0]);let R=(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!R){const L=await T.request({method:"eth_chainId"});R=J5(L)}const P={domain:O.host,address:D,statement:j,uri:O.href,version:"1",chainId:R,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=E?.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=eq(P),w=await T.request({method:"personal_sign",params:[Z5(x),D]})}try{const{data:_,error:S}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Zr});if(S)throw S;if(!_||!_.session||!_.user){const j=new ss;return this._returnResult({data:{user:null,session:null},error:j})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(ye(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,a,i,l,c,d,f,m,v,y,b,x;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:S,wallet:j,statement:E,options:T}=e;let O;if(Ht())if(typeof j=="object")O=j;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))O=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=j}const M=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const D=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),E?{statement:E}:null));let R;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")R=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)R=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)w=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(a=T?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=T?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const D=await O.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:S,error:j}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:fs(_)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Zr});if(j)throw j;if(!S||!S.session||!S.user){const E=new ss;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(ye(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await ns(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(r??"").split("/");try{const{data:l,error:c}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Zr});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:c})}catch(l){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:a,token:i,access_token:l,nonce:c}=e,d=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Zr}),{data:f,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const v=new ss;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,i,l,c;try{if("email"in e){const{email:d,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await gi(this.storage,this.storageKey));const{error:y}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:f}=e,{data:m,error:v}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new dl("You must provide either an email or phone number.")}catch(d){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,a;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:Zr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,m=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(i){if(ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,a,i,l,c;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await gi(this.storage,this.storageKey));const m=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:W5});return!((l=m.data)===null||l===void 0)&&l.url&&Ht()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new ur;const{error:i}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ye(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:c}=await je(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:c,error:d}=await je(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new dl("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ns(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Um:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await ns(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Im()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=B5(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oa}):await this._useSession(async r=>{var a,i,l;const{data:c,error:d}=r;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ur}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:Oa})})}catch(r){if(ye(r))return CC(r)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new ur;const c=i.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await gi(this.storage,this.storageKey));const{data:m,error:v}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:Oa});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ur;const r=Date.now()/1e3;let a=r,i=!0,l=null;const{payload:c}=zm(e.access_token);if(c.exp&&(a=c.exp,i=a<=r),i){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new ur;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ht())throw new fl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fy("No code detected.");const{data:E,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:c,expires_in:d,expires_at:f,token_type:m}=e;if(!l||!d||!c||!m)throw new fl("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(d);let b=v+y;f&&(b=parseInt(f));const x=b-v;x*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const w=b-y;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,v);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const j={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:y,expires_at:b,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(a){if(ye(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ns(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const c=(a=i.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(OC(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=O5(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,i;try{const{data:{session:l},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await gi(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:i}=await this._useSession(async l=>{var c,d,f,m,v;const{data:y,error:b}=l;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(ye(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:c,provider:d,token:f,access_token:m,nonce:v}=e,y=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:f,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Zr}),{data:b,error:x}=y;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ss}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(i){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:c}=r;if(c)throw c;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await D5(async i=>(i>0&&await R5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zr})),(i,l)=>{const c=200*Math.pow(2,i);return l&&Bu(l)&&Date.now()+c-a<Si})}catch(a){if(this._debug(r,"error",a),ye(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Ht()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ns(this.storage,this.storageKey);if(i&&this.userStorage){let c=await ns(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await Ei(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Im()}else if(i&&!i.user&&!i.user){const c=await ns(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Bt(this.storage,this.storageKey+"-user"),await Ei(this.storage,this.storageKey,i)):i.user=Im()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Um;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Um}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Bu(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ad;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new ur;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),ye(l)){const c={data:null,error:l};return Bu(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Bt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Ei(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=w1(i);await Ei(this.storage,this.storageKey,l)}else{const i=w1(r);await Ei(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Si}ms, refresh threshold is ${uy} ticks`),i<=uy&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const i=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,c]=await gi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await je(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?oq(e.webauthn.credential_response):lq(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:sq(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:iq(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=zm(a.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new ur})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new ur});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new ur});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ur})})}catch(e){if(ye(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ur})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(d=>d.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+x5>i)return a;const{data:l,error:c}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});a=x.session.access_token}const{header:i,payload:l,signature:c,raw:{header:d,payload:f}}=zm(a);r?.allowExpired||U5(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:l,header:i,signature:c},error:null}}const v=z5(i.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,N5(`${d}.${f}`)))throw new cd("Invalid JWT signature");return{data:{claims:l,header:i,signature:c},error:null}}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}};Wy.nextInstanceID={};const gq=Fy,yq=Wy,bq=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:gq,AuthApiError:TC,AuthClient:yq,AuthError:Ci,AuthImplicitGrantRedirectError:fl,AuthInvalidCredentialsError:dl,AuthInvalidJwtError:cd,AuthInvalidTokenResponseError:ss,AuthPKCEGrantCodeExchangeError:fy,AuthRetryableFetchError:ld,AuthSessionMissingError:ur,AuthUnknownError:Ta,AuthWeakPasswordError:hy,CustomAuthError:Jn,GoTrueAdminApi:Fy,GoTrueClient:Wy,NavigatorLockAcquireTimeoutError:MC,SIGN_OUT_SCOPES:Hu,isAuthApiError:OC,isAuthError:ye,isAuthImplicitGrantRedirectError:AC,isAuthRetryableFetchError:Bu,isAuthSessionMissingError:CC,isAuthWeakPasswordError:w5,lockInternals:os,navigatorLock:qC,processLock:X5},Symbol.toStringTag,{value:"Module"})),$C=xn(bq);var C1;function xq(){if(C1)return Xo;C1=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.SupabaseAuthClient=void 0;const t=$C;let e=class extends t.AuthClient{constructor(a){super(a)}};return Xo.SupabaseAuthClient=e,Xo}var A1;function R1(){if(A1)return _u;A1=1,Object.defineProperty(_u,"__esModule",{value:!0});const t=Q2,e=nC(),r=dC,a=d5,i=h5(),l=m5(),c=p5(),d=xq();class f{constructor(v,y,b){var x,w,_;this.supabaseUrl=v,this.supabaseKey=y;const S=(0,c.validateSupabaseUrl)(v);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,E={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},T=(0,c.applySettingDefaults)(b??{},E);this.storageKey=(x=T.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(w=T.global.headers)!==null&&w!==void 0?w:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(O,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=T.auth)!==null&&_!==void 0?_:{},this.headers,T.global.fetch),this.fetch=(0,l.fetchWithAuth)(y,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(O=>this.realtime.setAuth(O)).catch(O=>console.warn("Failed to set initial Realtime auth token:",O)),this.rest=new e.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,y={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,y,b)}channel(v,y={config:{}}){return this.realtime.channel(v,y)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,y;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(y=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,storageKey:_,flowType:S,lock:j,debug:E,throwOnError:T},O,M){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),O),storageKey:_,autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,flowType:S,lock:j,debug:E,throwOnError:T,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,b)=>{this._handleTokenChanged(y,"CLIENT",b?.access_token)})}_handleTokenChanged(v,y,b){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return _u.default=f,_u}var D1;function wq(){return D1||(D1=1,(function(t){var e=Bn&&Bn.__createBinding||(Object.create?(function(v,y,b,x){x===void 0&&(x=b);var w=Object.getOwnPropertyDescriptor(y,b);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[b]}}),Object.defineProperty(v,x,w)}):(function(v,y,b,x){x===void 0&&(x=b),v[x]=y[b]})),r=Bn&&Bn.__exportStar||function(v,y){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(y,b)&&e(y,v,b)},a=Bn&&Bn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=a(R1());r($C,t);var l=nC();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var c=Q2;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(dC,t);var d=R1();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return a(d).default}});const f=(v,y,b)=>new i.default(v,y,b);t.createClient=f;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const y=v.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Bn)),Bn}var UC=wq();const zC=Qt(UC),_q=kM({__proto__:null,default:zC},[UC]),{PostgrestError:l9,FunctionsHttpError:c9,FunctionsFetchError:u9,FunctionsRelayError:d9,FunctionsError:f9,FunctionRegion:h9,SupabaseClient:m9,createClient:Sq,GoTrueAdminApi:p9,GoTrueClient:v9,AuthAdminApi:g9,AuthClient:y9,navigatorLock:b9,NavigatorLockAcquireTimeoutError:x9,lockInternals:w9,processLock:_9,SIGN_OUT_SCOPES:S9,AuthError:E9,AuthApiError:j9,AuthUnknownError:N9,CustomAuthError:T9,AuthSessionMissingError:O9,AuthInvalidTokenResponseError:C9,AuthInvalidCredentialsError:A9,AuthImplicitGrantRedirectError:R9,AuthPKCEGrantCodeExchangeError:D9,AuthRetryableFetchError:k9,AuthWeakPasswordError:M9,AuthInvalidJwtError:q9,isAuthError:P9,isAuthApiError:L9,isAuthSessionMissingError:$9,isAuthImplicitGrantRedirectError:U9,isAuthRetryableFetchError:z9,isAuthWeakPasswordError:I9,RealtimePresence:B9,RealtimeChannel:H9,RealtimeClient:F9,REALTIME_LISTEN_TYPES:G9,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:W9,REALTIME_PRESENCE_LISTEN_EVENTS:Y9,REALTIME_SUBSCRIBE_STATES:V9,REALTIME_CHANNEL_STATES:K9}=zC||_q,Eq="https://qtbdvbhewbrgvweeruhz.supabase.co",jq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0YmR2Ymhld2JyZ3Z3ZWVydWh6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzODQxODgsImV4cCI6MjA4MDk2MDE4OH0.GwOJ29umkje7Ko6ShUeNmHP_TkgIXByGphthll8QzCY";console.log(" Checking environment variables...");console.log("VITE_SUPABASE_URL:"," Set");console.log("VITE_SUPABASE_ANON_KEY:"," Set");const Te=Sq(Eq,jq),IC=A.createContext(void 0),Nq=({children:t})=>{const[e,r]=A.useState(null),[a,i]=A.useState(null),[l,c]=A.useState(!0),[d,f]=A.useState(null);A.useEffect(()=>{Te.auth.getSession().then(({data:{session:x}})=>{r(x),x?m(x.user.id):c(!1)});const{data:{subscription:b}}=Te.auth.onAuthStateChange((x,w)=>{r(w),w?m(w.user.id):(i(null),c(!1))});return()=>b.unsubscribe()},[]);const m=async b=>{try{f(null);const{data:x,error:w}=await Te.from("profiles").select("*").eq("id",b).single();if(w){console.error("Error fetching profile:",w),f("No se pudo cargar el perfil de usuario"),i(null);return}if(!x){f("Perfil de usuario no encontrado"),i(null);return}if(!x.id||!x.role||!x.full_name){console.error("Invalid profile data structure:",x),f("Datos de perfil invlidos"),i(null);return}if(x.role!=="superadmin"&&!x.salon_id){console.error("Missing salon_id for non-superadmin user:",x),f("Usuario sin saln asignado"),i(null);return}i(x)}catch(x){console.error("Unexpected error fetching profile:",x),f("Error inesperado al cargar el perfil"),i(null)}finally{c(!1)}},v=async()=>{await Te.auth.signOut(),i(null),r(null)},y={session:e,profile:a,loading:l,error:d,isSuperAdmin:a?.role==="superadmin",isAdmin:a?.role==="admin"||a?.role==="superadmin",signOut:v};return h.jsx(IC.Provider,{value:y,children:t})},Il=()=>{const t=A.useContext(IC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const Tq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Oq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),k1=t=>{const e=Oq(t);return e.charAt(0).toUpperCase()+e.slice(1)},BC=(...t)=>t.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),Cq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Aq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Rq=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...d},f)=>A.createElement("svg",{ref:f,...Aq,width:e,height:e,stroke:t,strokeWidth:a?Number(r)*24/Number(e):r,className:BC("lucide",i),...!l&&!Cq(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,v])=>A.createElement(m,v)),...Array.isArray(l)?l:[l]]));const Ne=(t,e)=>{const r=A.forwardRef(({className:a,...i},l)=>A.createElement(Rq,{ref:l,iconNode:e,className:BC(`lucide-${Tq(k1(t))}`,`lucide-${t}`,a),...i}));return r.displayName=k1(t),r};const Dq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],M1=Ne("activity",Dq);const kq=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],hd=Ne("building-2",kq);const Mq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],qq=Ne("calendar-check",Mq);const Pq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nn=Ne("calendar",Pq);const Lq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yn=Ne("check",Lq);const $q=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],HC=Ne("chevron-down",$q);const Uq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yy=Ne("chevron-left",Uq);const zq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ai=Ne("chevron-right",zq);const Iq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vs=Ne("circle-alert",Iq);const Bq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],py=Ne("circle-check-big",Bq);const Hq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Fq=Ne("circle-user",Hq);const Gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vy=Ne("circle-x",Gq);const Wq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_n=Ne("clock",Wq);const Yq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],FC=Ne("dollar-sign",Yq);const Vq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GC=Ne("eye-off",Vq);const Kq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WC=Ne("eye",Kq);const Xq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Qq=Ne("file-text",Xq);const Jq=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Zq=Ne("grip-vertical",Jq);const eP=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],tP=Ne("key",eP);const rP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tt=Ne("loader-circle",rP);const nP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],aP=Ne("lock",nP);const sP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vy=Ne("log-out",sP);const iP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Rd=Ne("mail",iP);const oP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],lP=Ne("map-pin",oP);const cP=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ky=Ne("message-circle",cP);const uP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],YC=Ne("message-square",uP);const dP=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],VC=Ne("pen-line",dP);const fP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KC=Ne("pen",fP);const hP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],XC=Ne("pencil",hP);const mP=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],QC=Ne("phone-call",mP);const pP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Bl=Ne("phone",pP);const vP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vn=Ne("plus",vP);const gP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dd=Ne("refresh-cw",gP);const yP=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Hl=Ne("scissors",yP);const bP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gs=Ne("search",bP);const xP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wP=Ne("send",xP);const _P=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],JC=Ne("tag",_P);const SP=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],ZC=Ne("ticket",SP);const EP=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],gy=Ne("toggle-left",EP);const jP=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],yy=Ne("toggle-right",jP);const NP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ys=Ne("trash-2",NP);const TP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],OP=Ne("triangle-alert",TP);const CP=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AP=Ne("user-cog",CP);const RP=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kd=Ne("user-check",RP);const DP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yn=Ne("user",DP);const kP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hs=Ne("users",kP);const MP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tr=Ne("x",MP);class qP extends A.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",children:h.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-lg border border-slate-200",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[h.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:h.jsx(OP,{className:"h-6 w-6 text-yellow-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Algo sali mal"}),h.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"La aplicacin encontr un error inesperado. Por favor, recarga la pgina o contacta al soporte."}),this.state.error&&h.jsxs("details",{className:"text-xs text-slate-500 mb-4",children:[h.jsx("summary",{className:"cursor-pointer font-medium mb-1",children:"Detalles tcnicos"}),h.jsx("pre",{className:"mt-2 p-2 bg-slate-100 rounded overflow-auto",children:this.state.error.toString()})]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition",children:"Intentar de nuevo"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-300 transition",children:"Recargar pgina"})]})]})}):this.props.children}}const PP="@galia.local";function LP(){const[t,e]=A.useState(""),[r,a]=A.useState(""),[i,l]=A.useState(!1),[c,d]=A.useState(!1),[f,m]=A.useState(null),v=ky(),y=async b=>{b.preventDefault(),d(!0),m(null);const x=t.includes("@")?t:`${t}${PP}`;try{const{data:{user:w},error:_}=await Te.auth.signInWithPassword({email:x,password:r});if(_){m(_.message==="Invalid login credentials"?"Credenciales invlidas. Por favor verifica tu usuario y contrasea.":_.message),d(!1);return}if(w){const{data:S,error:j}=await Te.from("profiles").select("role").eq("id",w.id).single();if(j){m("No se pudo cargar tu perfil. Contacta al administrador."),d(!1);return}if(!S){m("Perfil no encontrado. Contacta al administrador."),d(!1);return}switch(S.role){case"superadmin":v("/superadmin");break;case"admin":v("/admin");break;default:v("/staff")}}}catch(w){m("Error inesperado. Por favor intenta de nuevo."),console.error("Login error:",w)}finally{d(!1)}};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-4",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-indigo-900/50 rounded-full opacity-50 blur-3xl"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-900/50 rounded-full opacity-50 blur-3xl"})]}),h.jsxs("div",{className:"relative w-full max-w-md",children:[h.jsxs("div",{className:"bg-slate-800 backdrop-blur-xl rounded-2xl shadow-xl shadow-black/20 border border-slate-700 p-8 sm:p-10",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg shadow-indigo-500/30 mb-4",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"G"})}),h.jsx("h1",{className:"text-2xl font-semibold text-white tracking-tight",children:"Bienvenido"}),h.jsx("p",{className:"text-slate-400 mt-1",children:"Ingresa a tu cuenta para continuar"})]}),f&&h.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[h.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-red-500/20 flex items-center justify-center mt-0.5",children:h.jsx(vs,{className:"h-3.5 w-3.5 text-red-400"})}),h.jsx("p",{className:"text-sm text-red-400 leading-relaxed",children:f})]}),h.jsxs("form",{onSubmit:y,className:"space-y-5",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Usuario"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:h.jsx(yn,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),h.jsx("input",{type:"text",value:t,onChange:b=>e(b.target.value.toLowerCase().trim()),placeholder:"tu_usuario",className:"w-full pl-11 pr-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"username"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Contrasea"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:h.jsx(aP,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),h.jsx("input",{type:i?"text":"password",value:r,onChange:b=>a(b.target.value),placeholder:"",className:"w-full pl-11 pr-12 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"current-password"}),h.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 pr-3.5 flex items-center text-slate-500 hover:text-slate-300 transition-colors",children:i?h.jsx(GC,{className:"h-5 w-5"}):h.jsx(WC,{className:"h-5 w-5"})})]})]}),h.jsx("button",{type:"submit",disabled:c,className:"w-full py-3.5 bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white font-medium rounded-xl shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 focus:ring-4 focus:ring-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2",children:c?h.jsxs(h.Fragment,{children:[h.jsx(Tt,{className:"h-5 w-5 animate-spin"}),h.jsx("span",{children:"Ingresando..."})]}):"Iniciar Sesin"})]}),h.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700",children:h.jsxs("p",{className:"text-center text-sm text-slate-400",children:["Problemas para acceder?"," ",h.jsx("a",{href:"#",className:"text-indigo-400 hover:text-indigo-300 font-medium hover:underline",children:"Contacta soporte"})]})})]}),h.jsxs("p",{className:"text-center text-xs text-slate-500 mt-6",children:["GALia Digital  ",new Date().getFullYear()]})]})]})}function wl({size:t="md",text:e}){const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return h.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[h.jsx(Tt,{className:`${r[t]} animate-spin text-indigo-600`}),e&&h.jsx("p",{className:"text-sm text-slate-600",children:e})]})}function bs({title:t="Error",message:e,onRetry:r}){return h.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:h.jsx("div",{className:"max-w-md w-full p-6 bg-red-50 border border-red-200 rounded-xl",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(vs,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:t}),h.jsx("p",{className:"text-sm text-red-700 mb-4",children:e}),r&&h.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition",children:[h.jsx(Dd,{className:"h-4 w-4"}),"Reintentar"]})]})]})})})}function Kn(t){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(t)}function $P(t,e){if(Kn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(Kn(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eA(t){var e=$P(t,"string");return Kn(e)=="symbol"?e:e+""}function ds(t,e,r){return(e=eA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function Je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(r),!0).forEach(function(a){ds(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Md(t,e){if(t==null)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;r[a]=t[a]}return r}function bn(t,e){if(t==null)return{};var r,a,i=Md(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P1(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,eA(a.key),a)}}function Dt(t,e,r){return e&&P1(t.prototype,e),r&&P1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},md(t)}function tA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tA=function(){return!!t})()}function UP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zP(t,e){if(e&&(Kn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UP(t)}function Jt(t,e,r){return e=md(e),zP(t,tA()?Reflect.construct(e,r||[],md(t).constructor):e.apply(t,r))}function pd(t,e){return pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pd(t,e)}function Zt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pd(t,e)}function rA(t){if(Array.isArray(t))return t}function IP(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,i,l,c,d=[],f=!0,m=!1;try{if(l=(r=r.call(t)).next,e!==0)for(;!(f=(a=l.call(r)).done)&&(d.push(a.value),d.length!==e);f=!0);}catch(v){m=!0,i=v}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw i}}return d}}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function Xy(t,e){if(t){if(typeof t=="string")return by(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?by(t,e):void 0}}function nA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xs(t,e){return rA(t)||IP(t,e)||Xy(t,e)||nA()}function aA(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=aA(t[e]))&&(a&&(a+=" "),a+=r);else for(e in t)t[e]&&(a&&(a+=" "),a+=e);return a}function ut(){for(var t,e,r=0,a="";r<arguments.length;)(t=arguments[r++])&&(e=aA(t))&&(a&&(a+=" "),a+=e);return a}const BP=Object.freeze(Object.defineProperty({__proto__:null,clsx:ut,default:ut},Symbol.toStringTag,{value:"Module"}));function pt(){return pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},pt.apply(null,arguments)}var Bm,L1;function HP(){if(L1)return Bm;L1=1;var t=function(e,r,a,i,l,c,d,f){if(!e){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[a,i,l,c,d,f],y=0;m=new Error(r.replace(/%s/g,function(){return v[y++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Bm=t,Bm}var FP=HP();const _l=Qt(FP);var GP=function(){};function WP(t,e){var r={};return Object.keys(t).forEach(function(a){r[Fu(a)]=GP}),r}function $1(t,e){return t[e]!==void 0}function Fu(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function YP(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function VP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pd(t,e)}function sA(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function iA(t){function e(r){var a=this.constructor.getDerivedStateFromProps(t,r);return a??null}this.setState(e.bind(this))}function oA(t,e){try{var r=this.props,a=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}sA.__suppressDeprecationWarning=!0;iA.__suppressDeprecationWarning=!0;oA.__suppressDeprecationWarning=!0;function KP(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,a=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||a!==null||i!==null){var l=t.displayName||t.name,c=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+c+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=sA,e.componentWillReceiveProps=iA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=oA;var d=e.componentDidUpdate;e.componentDidUpdate=function(m,v,y){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;d.call(this,m,v,b)}}return t}var XP="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function lA(t,e,r){r===void 0&&(r=[]);var a=t.displayName||t.name||"Component",i=YP(t),l=Object.keys(e),c=l.map(Fu);i||!r.length||_l(!1);var d=(function(m){VP(v,m);function v(){for(var b,x=arguments.length,w=new Array(x),_=0;_<x;_++)w[_]=arguments[_];b=m.call.apply(m,[this].concat(w))||this,b.handlers=Object.create(null),l.forEach(function(j){var E=e[j],T=function(M){if(b.props[E]){var D;b._notifying=!0;for(var R=arguments.length,P=new Array(R>1?R-1:0),L=1;L<R;L++)P[L-1]=arguments[L];(D=b.props)[E].apply(D,[M].concat(P)),b._notifying=!1}b.unmounted||b.setState(function(C){var q,U=C.values;return{values:pt(Object.create(null),U,(q={},q[j]=M,q))}})};b.handlers[E]=T}),r.length&&(b.attachRef=function(j){b.inner=j});var S=Object.create(null);return l.forEach(function(j){S[j]=b.props[Fu(j)]}),b.state={values:S,prevProps:{}},b}var y=v.prototype;return y.shouldComponentUpdate=function(){return!this._notifying},v.getDerivedStateFromProps=function(x,w){var _=w.values,S=w.prevProps,j={values:pt(Object.create(null),_),prevProps:{}};return l.forEach(function(E){j.prevProps[E]=x[E],!$1(x,E)&&$1(S,E)&&(j.values[E]=x[Fu(E)])}),j},y.componentWillUnmount=function(){this.unmounted=!0},y.render=function(){var x=this,w=this.props,_=w.innerRef,S=Md(w,["innerRef"]);c.forEach(function(E){delete S[E]});var j={};return l.forEach(function(E){var T=x.props[E];j[E]=T!==void 0?T:x.state.values[E]}),Y.createElement(t,pt({},S,j,this.handlers,{ref:_||this.attachRef}))},v})(Y.Component);KP(d),d.displayName="Uncontrolled("+a+")",d.propTypes=pt({innerRef:function(){}},WP(e)),r.forEach(function(m){d.prototype[m]=function(){var y;return(y=this.inner)[m].apply(y,arguments)}});var f=d;return Y.forwardRef&&(f=Y.forwardRef(function(m,v){return Y.createElement(d,pt({},m,{innerRef:v,__source:{fileName:XP,lineNumber:128},__self:this}))}),f.propTypes=d.propTypes),f.ControlledComponent=t,f.deferControlTo=function(m,v,y){return v===void 0&&(v={}),lA(m,pt({},e,v),y)},f}var Hm={exports:{}},Fm,U1;function QP(){if(U1)return Fm;U1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fm=t,Fm}var Gm,z1;function JP(){if(z1)return Gm;z1=1;var t=QP();function e(){}function r(){}return r.resetWarningCache=e,Gm=function(){function a(c,d,f,m,v,y){if(y!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function i(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return l.PropTypes=l,l},Gm}var I1;function Qy(){return I1||(I1=1,Hm.exports=JP()()),Hm.exports}var ZP=Qy();const ce=Qt(ZP);var vd="milliseconds",Sl="seconds",El="minutes",jl="hours",ws="day",Ri="week",Nl="month",_s="year",Ss="decade",Es="century",cA={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},e6={month:1,year:12,decade:120,century:1200};function t6(t){return[31,r6(t),31,30,31,30,31,31,30,31,30,31]}function r6(t){return t%4===0&&t%100!==0||t%400===0?29:28}function an(t,e,r){switch(t=new Date(t),r){case vd:case Sl:case El:case jl:case ws:case Ri:return n6(t,e*cA[r]);case Nl:case _s:case Ss:case Es:return a6(t,e*e6[r])}throw new TypeError('Invalid units: "'+r+'"')}function n6(t,e){var r=new Date(+t+e);return s6(t,r)}function a6(t,e){var r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),l=r*12+a+e,c=Math.trunc(l/12),d=l%12,f=Math.min(i,t6(c)[d]),m=new Date(t);return m.setFullYear(c),m.setDate(1),m.setMonth(d),m.setDate(f),m}function s6(t,e){var r=t.getTimezoneOffset(),a=e.getTimezoneOffset(),i=a-r;return new Date(+e+i*cA.minutes)}function Tl(t,e,r){return an(t,-e,r)}function Gt(t,e,r){switch(t=new Date(t),e){case Es:case Ss:case _s:t=yd(t,0);case Nl:t=mA(t,1);case Ri:case ws:t=Al(t,0);case jl:t=Di(t,0);case El:t=Cl(t,0);case Sl:t=Ol(t,0)}return e===Ss&&(t=Tl(t,js(t)%10,"year")),e===Es&&(t=Tl(t,js(t)%100,"year")),e===Ri&&(t=pA(t,0,r)),t}function gd(t,e,r){switch(t=new Date(t),t=Gt(t,e,r),e){case Es:case Ss:case _s:case Nl:case Ri:t=an(t,1,e),t=Tl(t,1,ws),t.setHours(23,59,59,999);break;case ws:t.setHours(23,59,59,999);break;case jl:case El:case Sl:t=an(t,1,e),t=Tl(t,1,vd)}return t}var Hi=Gi(function(t,e){return t===e}),Jy=Gi(function(t,e){return t!==e}),qd=Gi(function(t,e){return t>e}),Fl=Gi(function(t,e){return t>=e}),Zy=Gi(function(t,e){return t<e}),Fi=Gi(function(t,e){return t<=e});function uA(){return new Date(Math.min.apply(Math,arguments))}function dA(){return new Date(Math.max.apply(Math,arguments))}function fA(t,e,r,a){return a=a||"day",(!e||Fl(t,e,a))&&(!r||Fi(t,r,a))}var Ol=ka("Milliseconds"),Cl=ka("Seconds"),Di=ka("Minutes"),Al=ka("Hours"),hA=ka("Day"),mA=ka("Date"),yd=ka("Month"),js=ka("FullYear");function i6(t,e){return e===void 0?js(Gt(t,Ss)):an(t,e+10,_s)}function o6(t,e){return e===void 0?js(Gt(t,Es)):an(t,e+100,_s)}function pA(t,e,r){var a=(hA(t)+7-(r||0))%7;return e===void 0?a:an(t,e-a,ws)}function l6(t,e,r,a){var i,l,c;switch(r){case vd:case Sl:case El:case jl:case ws:case Ri:i=e.getTime()-t.getTime();break;case Nl:case _s:case Ss:case Es:i=(js(e)-js(t))*12+yd(e)-yd(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case vd:l=1;break;case Sl:l=1e3;break;case El:l=1e3*60;break;case jl:l=1e3*60*60;break;case ws:l=1e3*60*60*24;break;case Ri:l=1e3*60*60*24*7;break;case Nl:l=1;break;case _s:l=12;break;case Ss:l=120;break;case Es:l=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return c=i/l,a?c:Math.round(c)}function ka(t){var e=(function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(t);return function(r,a){if(a===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](a),e&&i["get"+t]()!=a&&(t==="Hours"||a>=e&&i.getHours()-r.getHours()<Math.floor(a/e))&&i["set"+t](a+e),i}}function Gi(t){return function(e,r,a){return t(+Gt(e,a),+Gt(r,a))}}const B1=Object.freeze(Object.defineProperty({__proto__:null,add:an,century:o6,date:mA,day:hA,decade:i6,diff:l6,endOf:gd,eq:Hi,gt:qd,gte:Fl,hours:Al,inRange:fA,lt:Zy,lte:Fi,max:dA,milliseconds:Ol,min:uA,minutes:Di,month:yd,neq:Jy,seconds:Cl,startOf:Gt,subtract:Tl,weekday:pA,year:js},Symbol.toStringTag,{value:"Module"}));function c6(t){if(Array.isArray(t))return by(t)}function vA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function u6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gu(t){return c6(t)||vA(t)||Xy(t)||u6()}var Wm,H1;function gA(){if(H1)return Wm;H1=1;function t(e,r,a){var i=-1,l=e.length;r<0&&(r=-r>l?0:l+r),a=a>l?l:a,a<0&&(a+=l),l=r>a?0:a-r>>>0,r>>>=0;for(var c=Array(l);++i<l;)c[i]=e[i+r];return c}return Wm=t,Wm}var Ym,F1;function Gl(){if(F1)return Ym;F1=1;function t(e,r){return e===r||e!==e&&r!==r}return Ym=t,Ym}var Vm,G1;function yA(){if(G1)return Vm;G1=1;var t=typeof xu=="object"&&xu&&xu.Object===Object&&xu;return Vm=t,Vm}var Km,W1;function Sn(){if(W1)return Km;W1=1;var t=yA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Km=r,Km}var Xm,Y1;function Wi(){if(Y1)return Xm;Y1=1;var t=Sn(),e=t.Symbol;return Xm=e,Xm}var Qm,V1;function d6(){if(V1)return Qm;V1=1;var t=Wi(),e=Object.prototype,r=e.hasOwnProperty,a=e.toString,i=t?t.toStringTag:void 0;function l(c){var d=r.call(c,i),f=c[i];try{c[i]=void 0;var m=!0}catch{}var v=a.call(c);return m&&(d?c[i]=f:delete c[i]),v}return Qm=l,Qm}var Jm,K1;function f6(){if(K1)return Jm;K1=1;var t=Object.prototype,e=t.toString;function r(a){return e.call(a)}return Jm=r,Jm}var Zm,X1;function Yi(){if(X1)return Zm;X1=1;var t=Wi(),e=d6(),r=f6(),a="[object Null]",i="[object Undefined]",l=t?t.toStringTag:void 0;function c(d){return d==null?d===void 0?i:a:l&&l in Object(d)?e(d):r(d)}return Zm=c,Zm}var ep,Q1;function Zn(){if(Q1)return ep;Q1=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return ep=t,ep}var tp,J1;function eb(){if(J1)return tp;J1=1;var t=Yi(),e=Zn(),r="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",l="[object Proxy]";function c(d){if(!e(d))return!1;var f=t(d);return f==a||f==i||f==r||f==l}return tp=c,tp}var rp,Z1;function tb(){if(Z1)return rp;Z1=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return rp=e,rp}var np,eE;function Wl(){if(eE)return np;eE=1;var t=eb(),e=tb();function r(a){return a!=null&&e(a.length)&&!t(a)}return np=r,np}var ap,tE;function rb(){if(tE)return ap;tE=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(a,i){var l=typeof a;return i=i??t,!!i&&(l=="number"||l!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return ap=r,ap}var sp,rE;function Pd(){if(rE)return sp;rE=1;var t=Gl(),e=Wl(),r=rb(),a=Zn();function i(l,c,d){if(!a(d))return!1;var f=typeof c;return(f=="number"?e(d)&&r(c,d.length):f=="string"&&c in d)?t(d[c],l):!1}return sp=i,sp}var ip,nE;function h6(){if(nE)return ip;nE=1;var t=/\s/;function e(r){for(var a=r.length;a--&&t.test(r.charAt(a)););return a}return ip=e,ip}var op,aE;function m6(){if(aE)return op;aE=1;var t=h6(),e=/^\s+/;function r(a){return a&&a.slice(0,t(a)+1).replace(e,"")}return op=r,op}var lp,sE;function Ma(){if(sE)return lp;sE=1;function t(e){return e!=null&&typeof e=="object"}return lp=t,lp}var cp,iE;function Yl(){if(iE)return cp;iE=1;var t=Yi(),e=Ma(),r="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&t(i)==r}return cp=a,cp}var up,oE;function p6(){if(oE)return up;oE=1;var t=m6(),e=Zn(),r=Yl(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function f(m){if(typeof m=="number")return m;if(r(m))return a;if(e(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=e(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=t(m);var y=l.test(m);return y||c.test(m)?d(m.slice(2),y?2:8):i.test(m)?a:+m}return up=f,up}var dp,lE;function bA(){if(lE)return dp;lE=1;var t=p6(),e=1/0,r=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var l=i<0?-1:1;return l*r}return i===i?i:0}return dp=a,dp}var fp,cE;function xA(){if(cE)return fp;cE=1;var t=bA();function e(r){var a=t(r),i=a%1;return a===a?i?a-i:a:0}return fp=e,fp}var hp,uE;function v6(){if(uE)return hp;uE=1;var t=gA(),e=Pd(),r=xA(),a=Math.ceil,i=Math.max;function l(c,d,f){(f?e(c,d,f):d===void 0)?d=1:d=i(r(d),0);var m=c==null?0:c.length;if(!m||d<1)return[];for(var v=0,y=0,b=Array(a(m/d));v<m;)b[y++]=t(c,v,v+=d);return b}return hp=l,hp}var g6=v6();const y6=Qt(g6);function qa(t){return t&&t.ownerDocument||document}function nb(t){var e=qa(t);return e&&e.defaultView||window}function ab(t,e){return nb(t).getComputedStyle(t,e)}var b6=/([A-Z])/g;function wA(t){return t.replace(b6,"-$1").toLowerCase()}var x6=/^ms-/;function Ru(t){return wA(t).replace(x6,"-ms-")}var w6=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function _A(t){return!!(t&&w6.test(t))}function Ft(t,e){var r="",a="";if(typeof e=="string")return t.style.getPropertyValue(Ru(e))||ab(t).getPropertyValue(Ru(e));Object.keys(e).forEach(function(i){var l=e[i];!l&&l!==0?t.style.removeProperty(Ru(i)):_A(i)?a+=i+"("+l+") ":r+=Ru(i)+": "+l+";"}),a&&(r+="transform: "+a+";"),t.style.cssText+=";"+r}function Xn(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const _6=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"}));function SA(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function Ld(t){return"window"in t&&t.window===t?t:SA(t)&&t.defaultView||!1}function EA(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(a,i){var l=Ld(a);if(i===void 0)return l?l[t]:a[e];l?l.scrollTo(l[t],i):a[e]=i}return r}const $d=EA("pageXOffset"),ki=EA("pageYOffset");function rn(t){var e=qa(t),r={top:0,left:0,height:0,width:0},a=e&&e.documentElement;return!a||!Xn(a,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+ki(a)-(a.clientTop||0),left:r.left+$d(a)-(a.clientLeft||0),width:r.width,height:r.height}),r}var S6=function(e){return!!e&&"offsetParent"in e};function sb(t){for(var e=qa(t),r=t&&t.offsetParent;S6(r)&&r.nodeName!=="HTML"&&Ft(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var E6=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function Ud(t,e){var r={top:0,left:0},a;if(Ft(t,"position")==="fixed")a=t.getBoundingClientRect();else{var i=e||sb(t);a=rn(t),E6(i)!=="html"&&(r=rn(i));var l=String(Ft(i,"borderTopWidth")||0);r.top+=parseInt(l,10)-ki(i)||0;var c=String(Ft(i,"borderLeftWidth")||0);r.left+=parseInt(c,10)-$d(i)||0}var d=String(Ft(t,"marginTop")||0),f=String(Ft(t,"marginLeft")||0);return pt({},a,{top:a.top-r.top-(parseInt(d,10)||0),left:a.left-r.left-(parseInt(f,10)||0)})}const ib=!!(typeof window<"u"&&window.document&&window.document.createElement);var dE=new Date().getTime();function j6(t){var e=new Date().getTime(),r=Math.max(0,16-(e-dE)),a=setTimeout(t,r);return dE=e,a}var N6=["","webkit","moz","o","ms"],xy="clearTimeout",wy=j6,fE=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};ib&&N6.some(function(t){var e=fE(t,"request");return e in window&&(xy=fE(t,"cancel"),wy=function(a){return window[e](a)}),!!wy});var Rl=function(e){typeof window[xy]=="function"&&window[xy](e)},Vl=wy,mp;function zd(t,e){if(!mp){var r=document.body,a=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;mp=function(l,c){return a.call(l,c)}}return mp(t,e)}var T6=Function.prototype.bind.call(Function.prototype.call,[].slice);function Id(t,e){return T6(t.querySelectorAll(e))}var _y=!1,Sy=!1;try{var pp={get passive(){return _y=!0},get once(){return Sy=_y=!0}};ib&&(window.addEventListener("test",pp,pp),window.removeEventListener("test",pp,!0))}catch{}function ob(t,e,r,a){if(a&&typeof a!="boolean"&&!Sy){var i=a.once,l=a.capture,c=r;!Sy&&i&&(c=r.__once||function d(f){this.removeEventListener(e,d,l),r.call(this,f)},r.__once=c),t.addEventListener(e,c,_y?a:l)}t.addEventListener(e,r,a)}function O6(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t},[t]),e}function hE(t){const e=O6(t);return A.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function mE(){return A.useState(null)}function C6(){const t=A.useRef(!0),e=A.useRef(()=>t.current);return A.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function A6(t){const e=C6();return[t[0],A.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var fr="top",Hr="bottom",Fr="right",hr="left",lb="auto",Kl=[fr,Hr,Fr,hr],Mi="start",Dl="end",R6="clippingParents",jA="viewport",Qo="popper",D6="reference",pE=Kl.reduce(function(t,e){return t.concat([e+"-"+Mi,e+"-"+Dl])},[]),cb=[].concat(Kl,[lb]).reduce(function(t,e){return t.concat([e,e+"-"+Mi,e+"-"+Dl])},[]),k6="beforeRead",M6="read",q6="afterRead",P6="beforeMain",L6="main",$6="afterMain",U6="beforeWrite",z6="write",I6="afterWrite",B6=[k6,M6,q6,P6,L6,$6,U6,z6,I6];function vn(t){return t.split("-")[0]}function Or(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ns(t){var e=Or(t).Element;return t instanceof e||t instanceof Element}function gn(t){var e=Or(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ub(t){if(typeof ShadowRoot>"u")return!1;var e=Or(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ms=Math.max,bd=Math.min,qi=Math.round;function Ey(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function NA(){return!/^((?!chrome|android).)*safari/i.test(Ey())}function Pi(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var a=t.getBoundingClientRect(),i=1,l=1;e&&gn(t)&&(i=t.offsetWidth>0&&qi(a.width)/t.offsetWidth||1,l=t.offsetHeight>0&&qi(a.height)/t.offsetHeight||1);var c=Ns(t)?Or(t):window,d=c.visualViewport,f=!NA()&&r,m=(a.left+(f&&d?d.offsetLeft:0))/i,v=(a.top+(f&&d?d.offsetTop:0))/l,y=a.width/i,b=a.height/l;return{width:y,height:b,top:v,right:m+y,bottom:v+b,left:m,x:m,y:v}}function db(t){var e=Pi(t),r=t.offsetWidth,a=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:a}}function TA(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&ub(r)){var a=e;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Ca(t){return t?(t.nodeName||"").toLowerCase():null}function Qn(t){return Or(t).getComputedStyle(t)}function H6(t){return["table","td","th"].indexOf(Ca(t))>=0}function Pa(t){return((Ns(t)?t.ownerDocument:t.document)||window.document).documentElement}function Bd(t){return Ca(t)==="html"?t:t.assignedSlot||t.parentNode||(ub(t)?t.host:null)||Pa(t)}function vE(t){return!gn(t)||Qn(t).position==="fixed"?null:t.offsetParent}function F6(t){var e=/firefox/i.test(Ey()),r=/Trident/i.test(Ey());if(r&&gn(t)){var a=Qn(t);if(a.position==="fixed")return null}var i=Bd(t);for(ub(i)&&(i=i.host);gn(i)&&["html","body"].indexOf(Ca(i))<0;){var l=Qn(i);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return i;i=i.parentNode}return null}function Xl(t){for(var e=Or(t),r=vE(t);r&&H6(r)&&Qn(r).position==="static";)r=vE(r);return r&&(Ca(r)==="html"||Ca(r)==="body"&&Qn(r).position==="static")?e:r||F6(t)||e}function fb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function vl(t,e,r){return ms(t,bd(e,r))}function G6(t,e,r){var a=vl(t,e,r);return a>r?r:a}function OA(){return{top:0,right:0,bottom:0,left:0}}function CA(t){return Object.assign({},OA(),t)}function AA(t,e){return e.reduce(function(r,a){return r[a]=t,r},{})}var W6=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,CA(typeof e!="number"?e:AA(e,Kl))};function Y6(t){var e,r=t.state,a=t.name,i=t.options,l=r.elements.arrow,c=r.modifiersData.popperOffsets,d=vn(r.placement),f=fb(d),m=[hr,Fr].indexOf(d)>=0,v=m?"height":"width";if(!(!l||!c)){var y=W6(i.padding,r),b=db(l),x=f==="y"?fr:hr,w=f==="y"?Hr:Fr,_=r.rects.reference[v]+r.rects.reference[f]-c[f]-r.rects.popper[v],S=c[f]-r.rects.reference[f],j=Xl(l),E=j?f==="y"?j.clientHeight||0:j.clientWidth||0:0,T=_/2-S/2,O=y[x],M=E-b[v]-y[w],D=E/2-b[v]/2+T,R=vl(O,D,M),P=f;r.modifiersData[a]=(e={},e[P]=R,e.centerOffset=R-D,e)}}function V6(t){var e=t.state,r=t.options,a=r.element,i=a===void 0?"[data-popper-arrow]":a;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||TA(e.elements.popper,i)&&(e.elements.arrow=i))}const K6={name:"arrow",enabled:!0,phase:"main",fn:Y6,effect:V6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Li(t){return t.split("-")[1]}var X6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Q6(t,e){var r=t.x,a=t.y,i=e.devicePixelRatio||1;return{x:qi(r*i)/i||0,y:qi(a*i)/i||0}}function gE(t){var e,r=t.popper,a=t.popperRect,i=t.placement,l=t.variation,c=t.offsets,d=t.position,f=t.gpuAcceleration,m=t.adaptive,v=t.roundOffsets,y=t.isFixed,b=c.x,x=b===void 0?0:b,w=c.y,_=w===void 0?0:w,S=typeof v=="function"?v({x,y:_}):{x,y:_};x=S.x,_=S.y;var j=c.hasOwnProperty("x"),E=c.hasOwnProperty("y"),T=hr,O=fr,M=window;if(m){var D=Xl(r),R="clientHeight",P="clientWidth";if(D===Or(r)&&(D=Pa(r),Qn(D).position!=="static"&&d==="absolute"&&(R="scrollHeight",P="scrollWidth")),D=D,i===fr||(i===hr||i===Fr)&&l===Dl){O=Hr;var L=y&&D===M&&M.visualViewport?M.visualViewport.height:D[R];_-=L-a.height,_*=f?1:-1}if(i===hr||(i===fr||i===Hr)&&l===Dl){T=Fr;var C=y&&D===M&&M.visualViewport?M.visualViewport.width:D[P];x-=C-a.width,x*=f?1:-1}}var q=Object.assign({position:d},m&&X6),U=v===!0?Q6({x,y:_},Or(r)):{x,y:_};if(x=U.x,_=U.y,f){var z;return Object.assign({},q,(z={},z[O]=E?"0":"",z[T]=j?"0":"",z.transform=(M.devicePixelRatio||1)<=1?"translate("+x+"px, "+_+"px)":"translate3d("+x+"px, "+_+"px, 0)",z))}return Object.assign({},q,(e={},e[O]=E?_+"px":"",e[T]=j?x+"px":"",e.transform="",e))}function J6(t){var e=t.state,r=t.options,a=r.gpuAcceleration,i=a===void 0?!0:a,l=r.adaptive,c=l===void 0?!0:l,d=r.roundOffsets,f=d===void 0?!0:d,m={placement:vn(e.placement),variation:Li(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gE(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gE(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Z6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:J6,data:{}};var Du={passive:!0};function eL(t){var e=t.state,r=t.instance,a=t.options,i=a.scroll,l=i===void 0?!0:i,c=a.resize,d=c===void 0?!0:c,f=Or(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(v){v.addEventListener("scroll",r.update,Du)}),d&&f.addEventListener("resize",r.update,Du),function(){l&&m.forEach(function(v){v.removeEventListener("scroll",r.update,Du)}),d&&f.removeEventListener("resize",r.update,Du)}}const tL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eL,data:{}};var rL={left:"right",right:"left",bottom:"top",top:"bottom"};function Wu(t){return t.replace(/left|right|bottom|top/g,function(e){return rL[e]})}var nL={start:"end",end:"start"};function yE(t){return t.replace(/start|end/g,function(e){return nL[e]})}function hb(t){var e=Or(t),r=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:r,scrollTop:a}}function mb(t){return Pi(Pa(t)).left+hb(t).scrollLeft}function aL(t,e){var r=Or(t),a=Pa(t),i=r.visualViewport,l=a.clientWidth,c=a.clientHeight,d=0,f=0;if(i){l=i.width,c=i.height;var m=NA();(m||!m&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}return{width:l,height:c,x:d+mb(t),y:f}}function sL(t){var e,r=Pa(t),a=hb(t),i=(e=t.ownerDocument)==null?void 0:e.body,l=ms(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=ms(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),d=-a.scrollLeft+mb(t),f=-a.scrollTop;return Qn(i||r).direction==="rtl"&&(d+=ms(r.clientWidth,i?i.clientWidth:0)-l),{width:l,height:c,x:d,y:f}}function pb(t){var e=Qn(t),r=e.overflow,a=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+a)}function RA(t){return["html","body","#document"].indexOf(Ca(t))>=0?t.ownerDocument.body:gn(t)&&pb(t)?t:RA(Bd(t))}function gl(t,e){var r;e===void 0&&(e=[]);var a=RA(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),l=Or(a),c=i?[l].concat(l.visualViewport||[],pb(a)?a:[]):a,d=e.concat(c);return i?d:d.concat(gl(Bd(c)))}function jy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function iL(t,e){var r=Pi(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function bE(t,e,r){return e===jA?jy(aL(t,r)):Ns(e)?iL(e,r):jy(sL(Pa(t)))}function oL(t){var e=gl(Bd(t)),r=["absolute","fixed"].indexOf(Qn(t).position)>=0,a=r&&gn(t)?Xl(t):t;return Ns(a)?e.filter(function(i){return Ns(i)&&TA(i,a)&&Ca(i)!=="body"}):[]}function lL(t,e,r,a){var i=e==="clippingParents"?oL(t):[].concat(e),l=[].concat(i,[r]),c=l[0],d=l.reduce(function(f,m){var v=bE(t,m,a);return f.top=ms(v.top,f.top),f.right=bd(v.right,f.right),f.bottom=bd(v.bottom,f.bottom),f.left=ms(v.left,f.left),f},bE(t,c,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function DA(t){var e=t.reference,r=t.element,a=t.placement,i=a?vn(a):null,l=a?Li(a):null,c=e.x+e.width/2-r.width/2,d=e.y+e.height/2-r.height/2,f;switch(i){case fr:f={x:c,y:e.y-r.height};break;case Hr:f={x:c,y:e.y+e.height};break;case Fr:f={x:e.x+e.width,y:d};break;case hr:f={x:e.x-r.width,y:d};break;default:f={x:e.x,y:e.y}}var m=i?fb(i):null;if(m!=null){var v=m==="y"?"height":"width";switch(l){case Mi:f[m]=f[m]-(e[v]/2-r[v]/2);break;case Dl:f[m]=f[m]+(e[v]/2-r[v]/2);break}}return f}function kl(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=a===void 0?t.placement:a,l=r.strategy,c=l===void 0?t.strategy:l,d=r.boundary,f=d===void 0?R6:d,m=r.rootBoundary,v=m===void 0?jA:m,y=r.elementContext,b=y===void 0?Qo:y,x=r.altBoundary,w=x===void 0?!1:x,_=r.padding,S=_===void 0?0:_,j=CA(typeof S!="number"?S:AA(S,Kl)),E=b===Qo?D6:Qo,T=t.rects.popper,O=t.elements[w?E:b],M=lL(Ns(O)?O:O.contextElement||Pa(t.elements.popper),f,v,c),D=Pi(t.elements.reference),R=DA({reference:D,element:T,placement:i}),P=jy(Object.assign({},T,R)),L=b===Qo?P:D,C={top:M.top-L.top+j.top,bottom:L.bottom-M.bottom+j.bottom,left:M.left-L.left+j.left,right:L.right-M.right+j.right},q=t.modifiersData.offset;if(b===Qo&&q){var U=q[i];Object.keys(C).forEach(function(z){var W=[Fr,Hr].indexOf(z)>=0?1:-1,ee=[fr,Hr].indexOf(z)>=0?"y":"x";C[z]+=U[ee]*W})}return C}function cL(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=r.boundary,l=r.rootBoundary,c=r.padding,d=r.flipVariations,f=r.allowedAutoPlacements,m=f===void 0?cb:f,v=Li(a),y=v?d?pE:pE.filter(function(w){return Li(w)===v}):Kl,b=y.filter(function(w){return m.indexOf(w)>=0});b.length===0&&(b=y);var x=b.reduce(function(w,_){return w[_]=kl(t,{placement:_,boundary:i,rootBoundary:l,padding:c})[vn(_)],w},{});return Object.keys(x).sort(function(w,_){return x[w]-x[_]})}function uL(t){if(vn(t)===lb)return[];var e=Wu(t);return[yE(t),e,yE(e)]}function dL(t){var e=t.state,r=t.options,a=t.name;if(!e.modifiersData[a]._skip){for(var i=r.mainAxis,l=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!0:c,f=r.fallbackPlacements,m=r.padding,v=r.boundary,y=r.rootBoundary,b=r.altBoundary,x=r.flipVariations,w=x===void 0?!0:x,_=r.allowedAutoPlacements,S=e.options.placement,j=vn(S),E=j===S,T=f||(E||!w?[Wu(S)]:uL(S)),O=[S].concat(T).reduce(function(ue,fe){return ue.concat(vn(fe)===lb?cL(e,{placement:fe,boundary:v,rootBoundary:y,padding:m,flipVariations:w,allowedAutoPlacements:_}):fe)},[]),M=e.rects.reference,D=e.rects.popper,R=new Map,P=!0,L=O[0],C=0;C<O.length;C++){var q=O[C],U=vn(q),z=Li(q)===Mi,W=[fr,Hr].indexOf(U)>=0,ee=W?"width":"height",B=kl(e,{placement:q,boundary:v,rootBoundary:y,altBoundary:b,padding:m}),H=W?z?Fr:hr:z?Hr:fr;M[ee]>D[ee]&&(H=Wu(H));var te=Wu(H),le=[];if(l&&le.push(B[U]<=0),d&&le.push(B[H]<=0,B[te]<=0),le.every(function(ue){return ue})){L=q,P=!1;break}R.set(q,le)}if(P)for(var V=w?3:1,$=function(fe){var pe=O.find(function(be){var ke=R.get(be);if(ke)return ke.slice(0,fe).every(function(Pe){return Pe})});if(pe)return L=pe,"break"},X=V;X>0;X--){var oe=$(X);if(oe==="break")break}e.placement!==L&&(e.modifiersData[a]._skip=!0,e.placement=L,e.reset=!0)}}const fL={name:"flip",enabled:!0,phase:"main",fn:dL,requiresIfExists:["offset"],data:{_skip:!1}};function xE(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function wE(t){return[fr,Fr,Hr,hr].some(function(e){return t[e]>=0})}function hL(t){var e=t.state,r=t.name,a=e.rects.reference,i=e.rects.popper,l=e.modifiersData.preventOverflow,c=kl(e,{elementContext:"reference"}),d=kl(e,{altBoundary:!0}),f=xE(c,a),m=xE(d,i,l),v=wE(f),y=wE(m);e.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:m,isReferenceHidden:v,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":y})}const mL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hL};function pL(t,e,r){var a=vn(t),i=[hr,fr].indexOf(a)>=0?-1:1,l=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,c=l[0],d=l[1];return c=c||0,d=(d||0)*i,[hr,Fr].indexOf(a)>=0?{x:d,y:c}:{x:c,y:d}}function vL(t){var e=t.state,r=t.options,a=t.name,i=r.offset,l=i===void 0?[0,0]:i,c=cb.reduce(function(v,y){return v[y]=pL(y,e.rects,l),v},{}),d=c[e.placement],f=d.x,m=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=m),e.modifiersData[a]=c}const gL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vL};function yL(t){var e=t.state,r=t.name;e.modifiersData[r]=DA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const bL={name:"popperOffsets",enabled:!0,phase:"read",fn:yL,data:{}};function xL(t){return t==="x"?"y":"x"}function wL(t){var e=t.state,r=t.options,a=t.name,i=r.mainAxis,l=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!1:c,f=r.boundary,m=r.rootBoundary,v=r.altBoundary,y=r.padding,b=r.tether,x=b===void 0?!0:b,w=r.tetherOffset,_=w===void 0?0:w,S=kl(e,{boundary:f,rootBoundary:m,padding:y,altBoundary:v}),j=vn(e.placement),E=Li(e.placement),T=!E,O=fb(j),M=xL(O),D=e.modifiersData.popperOffsets,R=e.rects.reference,P=e.rects.popper,L=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,C=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(D){if(l){var z,W=O==="y"?fr:hr,ee=O==="y"?Hr:Fr,B=O==="y"?"height":"width",H=D[O],te=H+S[W],le=H-S[ee],V=x?-P[B]/2:0,$=E===Mi?R[B]:P[B],X=E===Mi?-P[B]:-R[B],oe=e.elements.arrow,ue=x&&oe?db(oe):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:OA(),pe=fe[W],be=fe[ee],ke=vl(0,R[B],ue[B]),Pe=T?R[B]/2-V-ke-pe-C.mainAxis:$-ke-pe-C.mainAxis,bt=T?-R[B]/2+V+ke+be+C.mainAxis:X+ke+be+C.mainAxis,vt=e.elements.arrow&&Xl(e.elements.arrow),Wt=vt?O==="y"?vt.clientTop||0:vt.clientLeft||0:0,pr=(z=q?.[O])!=null?z:0,xt=H+Pe-pr-Wt,Ae=H+bt-pr,Pt=vl(x?bd(te,xt):te,H,x?ms(le,Ae):le);D[O]=Pt,U[O]=Pt-H}if(d){var De,re=O==="x"?fr:hr,xe=O==="x"?Hr:Fr,_e=D[M],Xe=M==="y"?"height":"width",st=_e+S[re],it=_e-S[xe],Ze=[fr,hr].indexOf(j)!==-1,de=(De=q?.[M])!=null?De:0,ae=Ze?st:_e-R[Xe]-P[Xe]-de+C.altAxis,ge=Ze?_e+R[Xe]+P[Xe]-de-C.altAxis:it,Ee=x&&Ze?G6(ae,_e,ge):vl(x?ae:st,_e,x?ge:it);D[M]=Ee,U[M]=Ee-_e}e.modifiersData[a]=U}}const _L={name:"preventOverflow",enabled:!0,phase:"main",fn:wL,requiresIfExists:["offset"]};function SL(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function EL(t){return t===Or(t)||!gn(t)?hb(t):SL(t)}function jL(t){var e=t.getBoundingClientRect(),r=qi(e.width)/t.offsetWidth||1,a=qi(e.height)/t.offsetHeight||1;return r!==1||a!==1}function NL(t,e,r){r===void 0&&(r=!1);var a=gn(e),i=gn(e)&&jL(e),l=Pa(e),c=Pi(t,i,r),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(a||!a&&!r)&&((Ca(e)!=="body"||pb(l))&&(d=EL(e)),gn(e)?(f=Pi(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):l&&(f.x=mb(l))),{x:c.left+d.scrollLeft-f.x,y:c.top+d.scrollTop-f.y,width:c.width,height:c.height}}function TL(t){var e=new Map,r=new Set,a=[];t.forEach(function(l){e.set(l.name,l)});function i(l){r.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(d){if(!r.has(d)){var f=e.get(d);f&&i(f)}}),a.push(l)}return t.forEach(function(l){r.has(l.name)||i(l)}),a}function OL(t){var e=TL(t);return B6.reduce(function(r,a){return r.concat(e.filter(function(i){return i.phase===a}))},[])}function CL(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function AL(t){var e=t.reduce(function(r,a){var i=r[a.name];return r[a.name]=i?Object.assign({},i,a,{options:Object.assign({},i.options,a.options),data:Object.assign({},i.data,a.data)}):a,r},{});return Object.keys(e).map(function(r){return e[r]})}var _E={placement:"bottom",modifiers:[],strategy:"absolute"};function SE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function RL(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,a=r===void 0?[]:r,i=e.defaultOptions,l=i===void 0?_E:i;return function(d,f,m){m===void 0&&(m=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},_E,l),modifiersData:{},elements:{reference:d,popper:f},attributes:{},styles:{}},y=[],b=!1,x={state:v,setOptions:function(j){var E=typeof j=="function"?j(v.options):j;_(),v.options=Object.assign({},l,v.options,E),v.scrollParents={reference:Ns(d)?gl(d):d.contextElement?gl(d.contextElement):[],popper:gl(f)};var T=OL(AL([].concat(a,v.options.modifiers)));return v.orderedModifiers=T.filter(function(O){return O.enabled}),w(),x.update()},forceUpdate:function(){if(!b){var j=v.elements,E=j.reference,T=j.popper;if(SE(E,T)){v.rects={reference:NL(E,Xl(T),v.options.strategy==="fixed"),popper:db(T)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(C){return v.modifiersData[C.name]=Object.assign({},C.data)});for(var O=0;O<v.orderedModifiers.length;O++){if(v.reset===!0){v.reset=!1,O=-1;continue}var M=v.orderedModifiers[O],D=M.fn,R=M.options,P=R===void 0?{}:R,L=M.name;typeof D=="function"&&(v=D({state:v,options:P,name:L,instance:x})||v)}}}},update:CL(function(){return new Promise(function(S){x.forceUpdate(),S(v)})}),destroy:function(){_(),b=!0}};if(!SE(d,f))return x;x.setOptions(m).then(function(S){!b&&m.onFirstUpdate&&m.onFirstUpdate(S)});function w(){v.orderedModifiers.forEach(function(S){var j=S.name,E=S.options,T=E===void 0?{}:E,O=S.effect;if(typeof O=="function"){var M=O({state:v,name:j,instance:x,options:T}),D=function(){};y.push(M||D)}})}function _(){y.forEach(function(S){return S()}),y=[]}return x}}var DL=RL({defaultModifiers:[mL,bL,Z6,tL,gL,fL,_L,K6]}),EE=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},kL={name:"applyStyles",enabled:!1},ML={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var a=r.elements,i=a.reference,l=a.popper;if("removeAttribute"in i){var c=(i.getAttribute("aria-describedby")||"").split(",").filter(function(d){return d.trim()!==l.id});c.length?i.setAttribute("aria-describedby",c.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,a=e.state,i=a.elements,l=i.popper,c=i.reference,d=(r=l.getAttribute("role"))==null?void 0:r.toLowerCase();if(l.id&&d==="tooltip"&&"setAttribute"in c){var f=c.getAttribute("aria-describedby");if(f&&f.split(",").indexOf(l.id)!==-1)return;c.setAttribute("aria-describedby",f?f+","+l.id:l.id)}}},qL=[];function PL(t,e,r){var a=r===void 0?{}:r,i=a.enabled,l=i===void 0?!0:i,c=a.placement,d=c===void 0?"bottom":c,f=a.strategy,m=f===void 0?"absolute":f,v=a.modifiers,y=v===void 0?qL:v,b=Md(a,["enabled","placement","strategy","modifiers"]),x=A.useRef(),w=A.useCallback(function(){var O;(O=x.current)==null||O.update()},[]),_=A.useCallback(function(){var O;(O=x.current)==null||O.forceUpdate()},[]),S=A6(A.useState({placement:d,update:w,forceUpdate:_,attributes:{},styles:{popper:EE(m),arrow:{}}})),j=S[0],E=S[1],T=A.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(M){var D=M.state,R={},P={};Object.keys(D.elements).forEach(function(L){R[L]=D.styles[L],P[L]=D.attributes[L]}),E({state:D,styles:R,attributes:P,update:w,forceUpdate:_,placement:D.placement})}}},[w,_,E]);return A.useEffect(function(){!x.current||!l||x.current.setOptions({placement:d,strategy:m,modifiers:[].concat(y,[T,kL])})},[m,d,T,l]),A.useEffect(function(){if(!(!l||t==null||e==null))return x.current=DL(t,e,pt({},b,{placement:d,strategy:m,modifiers:[].concat(y,[ML,T])})),function(){x.current!=null&&(x.current.destroy(),x.current=void 0,E(function(O){return pt({},O,{attributes:{},styles:{popper:EE(m)}})}))}},[l,t,e]),j}function vb(t,e,r,a){var i=a&&typeof a!="boolean"?a.capture:a;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function pn(t,e,r,a){return ob(t,e,r,a),function(){vb(t,e,r,a)}}const LL=Object.freeze(Object.defineProperty({__proto__:null,default:pn},Symbol.toStringTag,{value:"Module"}));var vp,jE;function $L(){if(jE)return vp;jE=1;var t=function(){};return vp=t,vp}var UL=$L();const zL=Qt(UL);function IL(t){return t&&"setState"in t?E2.findDOMNode(t):t??null}const BL=(function(t){return qa(IL(t))});var HL=27,NE=function(){};function FL(t){return t.button===0}function GL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var TE=function(e){return e&&("current"in e?e.current:e)};function WL(t,e,r){var a=r===void 0?{}:r,i=a.disabled,l=a.clickTrigger,c=l===void 0?"click":l,d=A.useRef(!1),f=e||NE,m=A.useCallback(function(b){var x,w=TE(t);zL(!!w,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),d.current=!w||GL(b)||!FL(b)||!!Xn(w,(x=b.composedPath==null?void 0:b.composedPath()[0])!=null?x:b.target)},[t]),v=hE(function(b){d.current||f(b)}),y=hE(function(b){b.keyCode===HL&&f(b)});A.useEffect(function(){if(!(i||t==null)){var b=window.event,x=BL(TE(t)),w=pn(x,c,m,!0),_=pn(x,c,function(E){if(E===b){b=void 0;return}v(E)}),S=pn(x,"keyup",function(E){if(E===b){b=void 0;return}y(E)}),j=[];return"ontouchstart"in x.documentElement&&(j=[].slice.call(x.body.children).map(function(E){return pn(E,"mousemove",NE)})),function(){w(),_(),S(),j.forEach(function(E){return E()})}}},[t,i,c,m,v,y])}function YL(t){var e={};return Array.isArray(t)?(t?.forEach(function(r){e[r.name]=r}),e):t||e}function VL(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function KL(t){var e,r,a,i,l=t.enabled,c=t.enableEvents,d=t.placement,f=t.flip,m=t.offset,v=t.fixed,y=t.containerPadding,b=t.arrowElement,x=t.popperConfig,w=x===void 0?{}:x,_=YL(w.modifiers);return pt({},w,{placement:d,enabled:l,strategy:v?"fixed":w.strategy,modifiers:VL(pt({},_,{eventListeners:{enabled:c},preventOverflow:pt({},_.preventOverflow,{options:y?pt({padding:y},(e=_.preventOverflow)==null?void 0:e.options):(r=_.preventOverflow)==null?void 0:r.options}),offset:{options:pt({offset:m},(a=_.offset)==null?void 0:a.options)},arrow:pt({},_.arrow,{enabled:!!b,options:pt({},(i=_.arrow)==null?void 0:i.options,{element:b})}),flip:pt({enabled:!!f},_.flip)}))})}function kA(t){t===void 0&&(t=qa());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Hd(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Fd(t,e){t.classList?t.classList.add(e):Hd(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function OE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Gd(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=OE(t.className,e):t.setAttribute("class",OE(t.className&&t.className.baseVal||"",e))}var ku;function Ql(t){if((!ku&&ku!==0||t)&&ib){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ku=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ku}var gp=function(e){var r;return typeof document>"u"?null:e==null?qa().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function CE(t,e){var r=A.useState(function(){return gp(t)}),a=r[0],i=r[1];if(!a){var l=gp(t);l&&i(l)}return A.useEffect(function(){},[e,a]),A.useEffect(function(){var c=gp(t);c!==a&&i(c)},[t,a]),a}const AE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function XL(t,e){const r=AE(t),a=AE(e);return i=>{r&&r(i),a&&a(i)}}function QL(t,e){return A.useMemo(()=>XL(t,e),[t,e])}var gb=Y.forwardRef(function(t,e){var r=t.flip,a=t.offset,i=t.placement,l=t.containerPadding,c=l===void 0?5:l,d=t.popperConfig,f=d===void 0?{}:d,m=t.transition,v=mE(),y=v[0],b=v[1],x=mE(),w=x[0],_=x[1],S=QL(b,e),j=CE(t.container),E=CE(t.target),T=A.useState(!t.show),O=T[0],M=T[1],D=PL(E,y,KL({placement:i,enableEvents:!!t.show,containerPadding:c||5,flip:r,offset:a,arrowElement:w,popperConfig:f})),R=D.styles,P=D.attributes,L=Md(D,["styles","attributes"]);t.show?O&&M(!1):!t.transition&&!O&&M(!0);var C=function(){M(!0),t.onExited&&t.onExited.apply(t,arguments)},q=t.show||m&&!O;if(WL(y,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!q)return null;var U=t.children(pt({},L,{show:!!t.show,props:pt({},P.popper,{style:R.popper,ref:S}),arrowProps:pt({},P.arrow,{style:R.arrow,ref:_})}));if(m){var z=t.onExit,W=t.onExiting,ee=t.onEnter,B=t.onEntering,H=t.onEntered;U=Y.createElement(m,{in:t.show,appear:!0,onExit:z,onExiting:W,onExited:C,onEnter:ee,onEntering:B,onEntered:H},U)}return j?E2.createPortal(U,j):null});gb.displayName="Overlay";gb.propTypes={show:ce.bool,placement:ce.oneOf(cb),target:ce.any,container:ce.any,flip:ce.bool,children:ce.func.isRequired,containerPadding:ce.number,popperConfig:ce.object,rootClose:ce.bool,rootCloseEvent:ce.oneOf(["click","mousedown"]),rootCloseDisabled:ce.bool,onHide:function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(e.rootClose){var l;return(l=ce.func).isRequired.apply(l,[e].concat(a))}return ce.func.apply(ce,[e].concat(a))},transition:ce.elementType,onEnter:ce.func,onEntering:ce.func,onEntered:ce.func,onExit:ce.func,onExiting:ce.func,onExited:ce.func};var yp,RE;function JL(){if(RE)return yp;RE=1;function t(){this.__data__=[],this.size=0}return yp=t,yp}var bp,DE;function Wd(){if(DE)return bp;DE=1;var t=Gl();function e(r,a){for(var i=r.length;i--;)if(t(r[i][0],a))return i;return-1}return bp=e,bp}var xp,kE;function ZL(){if(kE)return xp;kE=1;var t=Wd(),e=Array.prototype,r=e.splice;function a(i){var l=this.__data__,c=t(l,i);if(c<0)return!1;var d=l.length-1;return c==d?l.pop():r.call(l,c,1),--this.size,!0}return xp=a,xp}var wp,ME;function e$(){if(ME)return wp;ME=1;var t=Wd();function e(r){var a=this.__data__,i=t(a,r);return i<0?void 0:a[i][1]}return wp=e,wp}var _p,qE;function t$(){if(qE)return _p;qE=1;var t=Wd();function e(r){return t(this.__data__,r)>-1}return _p=e,_p}var Sp,PE;function r$(){if(PE)return Sp;PE=1;var t=Wd();function e(r,a){var i=this.__data__,l=t(i,r);return l<0?(++this.size,i.push([r,a])):i[l][1]=a,this}return Sp=e,Sp}var Ep,LE;function Yd(){if(LE)return Ep;LE=1;var t=JL(),e=ZL(),r=e$(),a=t$(),i=r$();function l(c){var d=-1,f=c==null?0:c.length;for(this.clear();++d<f;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Ep=l,Ep}var jp,$E;function n$(){if($E)return jp;$E=1;var t=Yd();function e(){this.__data__=new t,this.size=0}return jp=e,jp}var Np,UE;function a$(){if(UE)return Np;UE=1;function t(e){var r=this.__data__,a=r.delete(e);return this.size=r.size,a}return Np=t,Np}var Tp,zE;function s$(){if(zE)return Tp;zE=1;function t(e){return this.__data__.get(e)}return Tp=t,Tp}var Op,IE;function i$(){if(IE)return Op;IE=1;function t(e){return this.__data__.has(e)}return Op=t,Op}var Cp,BE;function o$(){if(BE)return Cp;BE=1;var t=Sn(),e=t["__core-js_shared__"];return Cp=e,Cp}var Ap,HE;function l$(){if(HE)return Ap;HE=1;var t=o$(),e=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!e&&e in a}return Ap=r,Ap}var Rp,FE;function MA(){if(FE)return Rp;FE=1;var t=Function.prototype,e=t.toString;function r(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return Rp=r,Rp}var Dp,GE;function c$(){if(GE)return Dp;GE=1;var t=eb(),e=l$(),r=Zn(),a=MA(),i=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,f=c.toString,m=d.hasOwnProperty,v=RegExp("^"+f.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(b){if(!r(b)||e(b))return!1;var x=t(b)?v:l;return x.test(a(b))}return Dp=y,Dp}var kp,WE;function u$(){if(WE)return kp;WE=1;function t(e,r){return e?.[r]}return kp=t,kp}var Mp,YE;function Cs(){if(YE)return Mp;YE=1;var t=c$(),e=u$();function r(a,i){var l=e(a,i);return t(l)?l:void 0}return Mp=r,Mp}var qp,VE;function yb(){if(VE)return qp;VE=1;var t=Cs(),e=Sn(),r=t(e,"Map");return qp=r,qp}var Pp,KE;function Vd(){if(KE)return Pp;KE=1;var t=Cs(),e=t(Object,"create");return Pp=e,Pp}var Lp,XE;function d$(){if(XE)return Lp;XE=1;var t=Vd();function e(){this.__data__=t?t(null):{},this.size=0}return Lp=e,Lp}var $p,QE;function f$(){if(QE)return $p;QE=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return $p=t,$p}var Up,JE;function h$(){if(JE)return Up;JE=1;var t=Vd(),e="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function i(l){var c=this.__data__;if(t){var d=c[l];return d===e?void 0:d}return a.call(c,l)?c[l]:void 0}return Up=i,Up}var zp,ZE;function m$(){if(ZE)return zp;ZE=1;var t=Vd(),e=Object.prototype,r=e.hasOwnProperty;function a(i){var l=this.__data__;return t?l[i]!==void 0:r.call(l,i)}return zp=a,zp}var Ip,ej;function p$(){if(ej)return Ip;ej=1;var t=Vd(),e="__lodash_hash_undefined__";function r(a,i){var l=this.__data__;return this.size+=this.has(a)?0:1,l[a]=t&&i===void 0?e:i,this}return Ip=r,Ip}var Bp,tj;function v$(){if(tj)return Bp;tj=1;var t=d$(),e=f$(),r=h$(),a=m$(),i=p$();function l(c){var d=-1,f=c==null?0:c.length;for(this.clear();++d<f;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Bp=l,Bp}var Hp,rj;function g$(){if(rj)return Hp;rj=1;var t=v$(),e=Yd(),r=yb();function a(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Hp=a,Hp}var Fp,nj;function y$(){if(nj)return Fp;nj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Fp=t,Fp}var Gp,aj;function Kd(){if(aj)return Gp;aj=1;var t=y$();function e(r,a){var i=r.__data__;return t(a)?i[typeof a=="string"?"string":"hash"]:i.map}return Gp=e,Gp}var Wp,sj;function b$(){if(sj)return Wp;sj=1;var t=Kd();function e(r){var a=t(this,r).delete(r);return this.size-=a?1:0,a}return Wp=e,Wp}var Yp,ij;function x$(){if(ij)return Yp;ij=1;var t=Kd();function e(r){return t(this,r).get(r)}return Yp=e,Yp}var Vp,oj;function w$(){if(oj)return Vp;oj=1;var t=Kd();function e(r){return t(this,r).has(r)}return Vp=e,Vp}var Kp,lj;function _$(){if(lj)return Kp;lj=1;var t=Kd();function e(r,a){var i=t(this,r),l=i.size;return i.set(r,a),this.size+=i.size==l?0:1,this}return Kp=e,Kp}var Xp,cj;function bb(){if(cj)return Xp;cj=1;var t=g$(),e=b$(),r=x$(),a=w$(),i=_$();function l(c){var d=-1,f=c==null?0:c.length;for(this.clear();++d<f;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Xp=l,Xp}var Qp,uj;function S$(){if(uj)return Qp;uj=1;var t=Yd(),e=yb(),r=bb(),a=200;function i(l,c){var d=this.__data__;if(d instanceof t){var f=d.__data__;if(!e||f.length<a-1)return f.push([l,c]),this.size=++d.size,this;d=this.__data__=new r(f)}return d.set(l,c),this.size=d.size,this}return Qp=i,Qp}var Jp,dj;function xb(){if(dj)return Jp;dj=1;var t=Yd(),e=n$(),r=a$(),a=s$(),i=i$(),l=S$();function c(d){var f=this.__data__=new t(d);this.size=f.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=i,c.prototype.set=l,Jp=c,Jp}var Zp,fj;function E$(){if(fj)return Zp;fj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Zp=e,Zp}var ev,hj;function j$(){if(hj)return ev;hj=1;function t(e){return this.__data__.has(e)}return ev=t,ev}var tv,mj;function N$(){if(mj)return tv;mj=1;var t=bb(),e=E$(),r=j$();function a(i){var l=-1,c=i==null?0:i.length;for(this.__data__=new t;++l<c;)this.add(i[l])}return a.prototype.add=a.prototype.push=e,a.prototype.has=r,tv=a,tv}var rv,pj;function T$(){if(pj)return rv;pj=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(e[a],a,e))return!0;return!1}return rv=t,rv}var nv,vj;function O$(){if(vj)return nv;vj=1;function t(e,r){return e.has(r)}return nv=t,nv}var av,gj;function qA(){if(gj)return av;gj=1;var t=N$(),e=T$(),r=O$(),a=1,i=2;function l(c,d,f,m,v,y){var b=f&a,x=c.length,w=d.length;if(x!=w&&!(b&&w>x))return!1;var _=y.get(c),S=y.get(d);if(_&&S)return _==d&&S==c;var j=-1,E=!0,T=f&i?new t:void 0;for(y.set(c,d),y.set(d,c);++j<x;){var O=c[j],M=d[j];if(m)var D=b?m(M,O,j,d,c,y):m(O,M,j,c,d,y);if(D!==void 0){if(D)continue;E=!1;break}if(T){if(!e(d,function(R,P){if(!r(T,P)&&(O===R||v(O,R,f,m,y)))return T.push(P)})){E=!1;break}}else if(!(O===M||v(O,M,f,m,y))){E=!1;break}}return y.delete(c),y.delete(d),E}return av=l,av}var sv,yj;function PA(){if(yj)return sv;yj=1;var t=Sn(),e=t.Uint8Array;return sv=e,sv}var iv,bj;function C$(){if(bj)return iv;bj=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i,l){a[++r]=[l,i]}),a}return iv=t,iv}var ov,xj;function A$(){if(xj)return ov;xj=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i){a[++r]=i}),a}return ov=t,ov}var lv,wj;function R$(){if(wj)return lv;wj=1;var t=Wi(),e=PA(),r=Gl(),a=qA(),i=C$(),l=A$(),c=1,d=2,f="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Map]",b="[object Number]",x="[object RegExp]",w="[object Set]",_="[object String]",S="[object Symbol]",j="[object ArrayBuffer]",E="[object DataView]",T=t?t.prototype:void 0,O=T?T.valueOf:void 0;function M(D,R,P,L,C,q,U){switch(P){case E:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case j:return!(D.byteLength!=R.byteLength||!q(new e(D),new e(R)));case f:case m:case b:return r(+D,+R);case v:return D.name==R.name&&D.message==R.message;case x:case _:return D==R+"";case y:var z=i;case w:var W=L&c;if(z||(z=l),D.size!=R.size&&!W)return!1;var ee=U.get(D);if(ee)return ee==R;L|=d,U.set(D,R);var B=a(z(D),z(R),L,C,q,U);return U.delete(D),B;case S:if(O)return O.call(D)==O.call(R)}return!1}return lv=M,lv}var cv,_j;function wb(){if(_j)return cv;_j=1;function t(e,r){for(var a=-1,i=r.length,l=e.length;++a<i;)e[l+a]=r[a];return e}return cv=t,cv}var uv,Sj;function Yr(){if(Sj)return uv;Sj=1;var t=Array.isArray;return uv=t,uv}var dv,Ej;function LA(){if(Ej)return dv;Ej=1;var t=wb(),e=Yr();function r(a,i,l){var c=i(a);return e(a)?c:t(c,l(a))}return dv=r,dv}var fv,jj;function D$(){if(jj)return fv;jj=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=0,c=[];++a<i;){var d=e[a];r(d,a,e)&&(c[l++]=d)}return c}return fv=t,fv}var hv,Nj;function $A(){if(Nj)return hv;Nj=1;function t(){return[]}return hv=t,hv}var mv,Tj;function _b(){if(Tj)return mv;Tj=1;var t=D$(),e=$A(),r=Object.prototype,a=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,l=i?function(c){return c==null?[]:(c=Object(c),t(i(c),function(d){return a.call(c,d)}))}:e;return mv=l,mv}var pv,Oj;function k$(){if(Oj)return pv;Oj=1;function t(e,r){for(var a=-1,i=Array(e);++a<e;)i[a]=r(a);return i}return pv=t,pv}var vv,Cj;function M$(){if(Cj)return vv;Cj=1;var t=Yi(),e=Ma(),r="[object Arguments]";function a(i){return e(i)&&t(i)==r}return vv=a,vv}var gv,Aj;function Sb(){if(Aj)return gv;Aj=1;var t=M$(),e=Ma(),r=Object.prototype,a=r.hasOwnProperty,i=r.propertyIsEnumerable,l=t((function(){return arguments})())?t:function(c){return e(c)&&a.call(c,"callee")&&!i.call(c,"callee")};return gv=l,gv}var hl={exports:{}},yv,Rj;function q$(){if(Rj)return yv;Rj=1;function t(){return!1}return yv=t,yv}hl.exports;var Dj;function Xd(){return Dj||(Dj=1,(function(t,e){var r=Sn(),a=q$(),i=e&&!e.nodeType&&e,l=i&&!0&&t&&!t.nodeType&&t,c=l&&l.exports===i,d=c?r.Buffer:void 0,f=d?d.isBuffer:void 0,m=f||a;t.exports=m})(hl,hl.exports)),hl.exports}var bv,kj;function P$(){if(kj)return bv;kj=1;var t=Yi(),e=tb(),r=Ma(),a="[object Arguments]",i="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Function]",m="[object Map]",v="[object Number]",y="[object Object]",b="[object RegExp]",x="[object Set]",w="[object String]",_="[object WeakMap]",S="[object ArrayBuffer]",j="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",P="[object Uint8ClampedArray]",L="[object Uint16Array]",C="[object Uint32Array]",q={};q[E]=q[T]=q[O]=q[M]=q[D]=q[R]=q[P]=q[L]=q[C]=!0,q[a]=q[i]=q[S]=q[l]=q[j]=q[c]=q[d]=q[f]=q[m]=q[v]=q[y]=q[b]=q[x]=q[w]=q[_]=!1;function U(z){return r(z)&&e(z.length)&&!!q[t(z)]}return bv=U,bv}var xv,Mj;function Qd(){if(Mj)return xv;Mj=1;function t(e){return function(r){return e(r)}}return xv=t,xv}var ml={exports:{}};ml.exports;var qj;function Eb(){return qj||(qj=1,(function(t,e){var r=yA(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l&&r.process,d=(function(){try{var f=i&&i.require&&i.require("util").types;return f||c&&c.binding&&c.binding("util")}catch{}})();t.exports=d})(ml,ml.exports)),ml.exports}var wv,Pj;function jb(){if(Pj)return wv;Pj=1;var t=P$(),e=Qd(),r=Eb(),a=r&&r.isTypedArray,i=a?e(a):t;return wv=i,wv}var _v,Lj;function UA(){if(Lj)return _v;Lj=1;var t=k$(),e=Sb(),r=Yr(),a=Xd(),i=rb(),l=jb(),c=Object.prototype,d=c.hasOwnProperty;function f(m,v){var y=r(m),b=!y&&e(m),x=!y&&!b&&a(m),w=!y&&!b&&!x&&l(m),_=y||b||x||w,S=_?t(m.length,String):[],j=S.length;for(var E in m)(v||d.call(m,E))&&!(_&&(E=="length"||x&&(E=="offset"||E=="parent")||w&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,j)))&&S.push(E);return S}return _v=f,_v}var Sv,$j;function Nb(){if($j)return Sv;$j=1;var t=Object.prototype;function e(r){var a=r&&r.constructor,i=typeof a=="function"&&a.prototype||t;return r===i}return Sv=e,Sv}var Ev,Uj;function zA(){if(Uj)return Ev;Uj=1;function t(e,r){return function(a){return e(r(a))}}return Ev=t,Ev}var jv,zj;function L$(){if(zj)return jv;zj=1;var t=zA(),e=t(Object.keys,Object);return jv=e,jv}var Nv,Ij;function $$(){if(Ij)return Nv;Ij=1;var t=Nb(),e=L$(),r=Object.prototype,a=r.hasOwnProperty;function i(l){if(!t(l))return e(l);var c=[];for(var d in Object(l))a.call(l,d)&&d!="constructor"&&c.push(d);return c}return Nv=i,Nv}var Tv,Bj;function Jl(){if(Bj)return Tv;Bj=1;var t=UA(),e=$$(),r=Wl();function a(i){return r(i)?t(i):e(i)}return Tv=a,Tv}var Ov,Hj;function IA(){if(Hj)return Ov;Hj=1;var t=LA(),e=_b(),r=Jl();function a(i){return t(i,r,e)}return Ov=a,Ov}var Cv,Fj;function U$(){if(Fj)return Cv;Fj=1;var t=IA(),e=1,r=Object.prototype,a=r.hasOwnProperty;function i(l,c,d,f,m,v){var y=d&e,b=t(l),x=b.length,w=t(c),_=w.length;if(x!=_&&!y)return!1;for(var S=x;S--;){var j=b[S];if(!(y?j in c:a.call(c,j)))return!1}var E=v.get(l),T=v.get(c);if(E&&T)return E==c&&T==l;var O=!0;v.set(l,c),v.set(c,l);for(var M=y;++S<x;){j=b[S];var D=l[j],R=c[j];if(f)var P=y?f(R,D,j,c,l,v):f(D,R,j,l,c,v);if(!(P===void 0?D===R||m(D,R,d,f,v):P)){O=!1;break}M||(M=j=="constructor")}if(O&&!M){var L=l.constructor,C=c.constructor;L!=C&&"constructor"in l&&"constructor"in c&&!(typeof L=="function"&&L instanceof L&&typeof C=="function"&&C instanceof C)&&(O=!1)}return v.delete(l),v.delete(c),O}return Cv=i,Cv}var Av,Gj;function z$(){if(Gj)return Av;Gj=1;var t=Cs(),e=Sn(),r=t(e,"DataView");return Av=r,Av}var Rv,Wj;function I$(){if(Wj)return Rv;Wj=1;var t=Cs(),e=Sn(),r=t(e,"Promise");return Rv=r,Rv}var Dv,Yj;function B$(){if(Yj)return Dv;Yj=1;var t=Cs(),e=Sn(),r=t(e,"Set");return Dv=r,Dv}var kv,Vj;function H$(){if(Vj)return kv;Vj=1;var t=Cs(),e=Sn(),r=t(e,"WeakMap");return kv=r,kv}var Mv,Kj;function Jd(){if(Kj)return Mv;Kj=1;var t=z$(),e=yb(),r=I$(),a=B$(),i=H$(),l=Yi(),c=MA(),d="[object Map]",f="[object Object]",m="[object Promise]",v="[object Set]",y="[object WeakMap]",b="[object DataView]",x=c(t),w=c(e),_=c(r),S=c(a),j=c(i),E=l;return(t&&E(new t(new ArrayBuffer(1)))!=b||e&&E(new e)!=d||r&&E(r.resolve())!=m||a&&E(new a)!=v||i&&E(new i)!=y)&&(E=function(T){var O=l(T),M=O==f?T.constructor:void 0,D=M?c(M):"";if(D)switch(D){case x:return b;case w:return d;case _:return m;case S:return v;case j:return y}return O}),Mv=E,Mv}var qv,Xj;function F$(){if(Xj)return qv;Xj=1;var t=xb(),e=qA(),r=R$(),a=U$(),i=Jd(),l=Yr(),c=Xd(),d=jb(),f=1,m="[object Arguments]",v="[object Array]",y="[object Object]",b=Object.prototype,x=b.hasOwnProperty;function w(_,S,j,E,T,O){var M=l(_),D=l(S),R=M?v:i(_),P=D?v:i(S);R=R==m?y:R,P=P==m?y:P;var L=R==y,C=P==y,q=R==P;if(q&&c(_)){if(!c(S))return!1;M=!0,L=!1}if(q&&!L)return O||(O=new t),M||d(_)?e(_,S,j,E,T,O):r(_,S,R,j,E,T,O);if(!(j&f)){var U=L&&x.call(_,"__wrapped__"),z=C&&x.call(S,"__wrapped__");if(U||z){var W=U?_.value():_,ee=z?S.value():S;return O||(O=new t),T(W,ee,j,E,O)}}return q?(O||(O=new t),a(_,S,j,E,T,O)):!1}return qv=w,qv}var Pv,Qj;function Tb(){if(Qj)return Pv;Qj=1;var t=F$(),e=Ma();function r(a,i,l,c,d){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:t(a,i,l,c,r,d)}return Pv=r,Pv}var Lv,Jj;function BA(){if(Jj)return Lv;Jj=1;var t=Tb();function e(r,a){return t(r,a)}return Lv=e,Lv}var G$=BA();const W$=Qt(G$);function ps(t,e){var r=Ld(t);return r?r.innerHeight:e?t.clientHeight:rn(t).height}function Zl(t,e,r){t.closest&&!r&&t.closest(e);var a=t;do{if(zd(a,e))return a;a=a.parentElement}while(a&&a!==r&&a.nodeType===document.ELEMENT_NODE);return null}const Y$=Object.freeze(Object.defineProperty({__proto__:null,default:Zl},Symbol.toStringTag,{value:"Module"}));var $v,Zj;function V$(){if(Zj)return $v;Zj=1;function t(e,r,a,i){for(var l=e.length,c=a+(i?1:-1);i?c--:++c<l;)if(r(e[c],c,e))return c;return-1}return $v=t,$v}var Uv,eN;function K$(){if(eN)return Uv;eN=1;var t=xb(),e=Tb(),r=1,a=2;function i(l,c,d,f){var m=d.length,v=m,y=!f;if(l==null)return!v;for(l=Object(l);m--;){var b=d[m];if(y&&b[2]?b[1]!==l[b[0]]:!(b[0]in l))return!1}for(;++m<v;){b=d[m];var x=b[0],w=l[x],_=b[1];if(y&&b[2]){if(w===void 0&&!(x in l))return!1}else{var S=new t;if(f)var j=f(w,_,x,l,c,S);if(!(j===void 0?e(_,w,r|a,f,S):j))return!1}}return!0}return Uv=i,Uv}var zv,tN;function HA(){if(tN)return zv;tN=1;var t=Zn();function e(r){return r===r&&!t(r)}return zv=e,zv}var Iv,rN;function X$(){if(rN)return Iv;rN=1;var t=HA(),e=Jl();function r(a){for(var i=e(a),l=i.length;l--;){var c=i[l],d=a[c];i[l]=[c,d,t(d)]}return i}return Iv=r,Iv}var Bv,nN;function FA(){if(nN)return Bv;nN=1;function t(e,r){return function(a){return a==null?!1:a[e]===r&&(r!==void 0||e in Object(a))}}return Bv=t,Bv}var Hv,aN;function Q$(){if(aN)return Hv;aN=1;var t=K$(),e=X$(),r=FA();function a(i){var l=e(i);return l.length==1&&l[0][2]?r(l[0][0],l[0][1]):function(c){return c===i||t(c,i,l)}}return Hv=a,Hv}var Fv,sN;function Ob(){if(sN)return Fv;sN=1;var t=Yr(),e=Yl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(l,c){if(t(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:a.test(l)||!r.test(l)||c!=null&&l in Object(c)}return Fv=i,Fv}var Gv,iN;function J$(){if(iN)return Gv;iN=1;var t=bb(),e="Expected a function";function r(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var l=function(){var c=arguments,d=i?i.apply(this,c):c[0],f=l.cache;if(f.has(d))return f.get(d);var m=a.apply(this,c);return l.cache=f.set(d,m)||f,m};return l.cache=new(r.Cache||t),l}return r.Cache=t,Gv=r,Gv}var Wv,oN;function Z$(){if(oN)return Wv;oN=1;var t=J$(),e=500;function r(a){var i=t(a,function(c){return l.size===e&&l.clear(),c}),l=i.cache;return i}return Wv=r,Wv}var Yv,lN;function eU(){if(lN)return Yv;lN=1;var t=Z$(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=t(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(e,function(c,d,f,m){l.push(f?m.replace(r,"$1"):d||c)}),l});return Yv=a,Yv}var Vv,cN;function Cb(){if(cN)return Vv;cN=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=Array(i);++a<i;)l[a]=r(e[a],a,e);return l}return Vv=t,Vv}var Kv,uN;function tU(){if(uN)return Kv;uN=1;var t=Wi(),e=Cb(),r=Yr(),a=Yl(),i=t?t.prototype:void 0,l=i?i.toString:void 0;function c(d){if(typeof d=="string")return d;if(r(d))return e(d,c)+"";if(a(d))return l?l.call(d):"";var f=d+"";return f=="0"&&1/d==-1/0?"-0":f}return Kv=c,Kv}var Xv,dN;function rU(){if(dN)return Xv;dN=1;var t=tU();function e(r){return r==null?"":t(r)}return Xv=e,Xv}var Qv,fN;function Zd(){if(fN)return Qv;fN=1;var t=Yr(),e=Ob(),r=eU(),a=rU();function i(l,c){return t(l)?l:e(l,c)?[l]:r(a(l))}return Qv=i,Qv}var Jv,hN;function ec(){if(hN)return Jv;hN=1;var t=Yl();function e(r){if(typeof r=="string"||t(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return Jv=e,Jv}var Zv,mN;function ef(){if(mN)return Zv;mN=1;var t=Zd(),e=ec();function r(a,i){i=t(i,a);for(var l=0,c=i.length;a!=null&&l<c;)a=a[e(i[l++])];return l&&l==c?a:void 0}return Zv=r,Zv}var eg,pN;function nU(){if(pN)return eg;pN=1;var t=ef();function e(r,a,i){var l=r==null?void 0:t(r,a);return l===void 0?i:l}return eg=e,eg}var tg,vN;function aU(){if(vN)return tg;vN=1;function t(e,r){return e!=null&&r in Object(e)}return tg=t,tg}var rg,gN;function sU(){if(gN)return rg;gN=1;var t=Zd(),e=Sb(),r=Yr(),a=rb(),i=tb(),l=ec();function c(d,f,m){f=t(f,d);for(var v=-1,y=f.length,b=!1;++v<y;){var x=l(f[v]);if(!(b=d!=null&&m(d,x)))break;d=d[x]}return b||++v!=y?b:(y=d==null?0:d.length,!!y&&i(y)&&a(x,y)&&(r(d)||e(d)))}return rg=c,rg}var ng,yN;function iU(){if(yN)return ng;yN=1;var t=aU(),e=sU();function r(a,i){return a!=null&&e(a,i,t)}return ng=r,ng}var ag,bN;function oU(){if(bN)return ag;bN=1;var t=Tb(),e=nU(),r=iU(),a=Ob(),i=HA(),l=FA(),c=ec(),d=1,f=2;function m(v,y){return a(v)&&i(y)?l(c(v),y):function(b){var x=e(b,v);return x===void 0&&x===y?r(b,v):t(y,x,d|f)}}return ag=m,ag}var sg,xN;function tf(){if(xN)return sg;xN=1;function t(e){return e}return sg=t,sg}var ig,wN;function lU(){if(wN)return ig;wN=1;function t(e){return function(r){return r?.[e]}}return ig=t,ig}var og,_N;function cU(){if(_N)return og;_N=1;var t=ef();function e(r){return function(a){return t(a,r)}}return og=e,og}var lg,SN;function uU(){if(SN)return lg;SN=1;var t=lU(),e=cU(),r=Ob(),a=ec();function i(l){return r(l)?t(a(l)):e(l)}return lg=i,lg}var cg,EN;function rf(){if(EN)return cg;EN=1;var t=Q$(),e=oU(),r=tf(),a=Yr(),i=uU();function l(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?a(c)?e(c[0],c[1]):t(c):i(c)}return cg=l,cg}var ug,jN;function GA(){if(jN)return ug;jN=1;var t=V$(),e=rf(),r=xA(),a=Math.max;function i(l,c,d){var f=l==null?0:l.length;if(!f)return-1;var m=d==null?0:r(d);return m<0&&(m=a(f+m,0)),t(l,e(c,3),m)}return ug=i,ug}var dU=GA();const fU=Qt(dU);var dg,NN;function hU(){if(NN)return dg;NN=1;var t=Math.ceil,e=Math.max;function r(a,i,l,c){for(var d=-1,f=e(t((i-a)/(l||1)),0),m=Array(f);f--;)m[c?f:++d]=a,a+=l;return m}return dg=r,dg}var fg,TN;function mU(){if(TN)return fg;TN=1;var t=hU(),e=Pd(),r=bA();function a(i){return function(l,c,d){return d&&typeof d!="number"&&e(l,c,d)&&(c=d=void 0),l=r(l),c===void 0?(c=l,l=0):c=r(c),d=d===void 0?l<c?1:-1:r(d),t(l,c,d,i)}}return fg=a,fg}var hg,ON;function pU(){if(ON)return hg;ON=1;var t=mU(),e=t();return hg=e,hg}var vU=pU();const gU=Qt(vU);var CN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function yU(t,e){return!!(t===e||CN(t)&&CN(e))}function bU(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!yU(t[r],e[r]))return!1;return!0}function WA(t,e){e===void 0&&(e=bU);var r=null;function a(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var c=t.apply(this,i);return r={lastResult:c,lastArgs:i,lastThis:this},c}return a.clear=function(){r=null},a}function Ml(t,e){var r=Ld(t);return r?r.innerWidth:e?t.clientWidth:rn(t).width}var mg,AN;function xU(){if(AN)return mg;AN=1;var t=Wi(),e=Sb(),r=Yr(),a=t?t.isConcatSpreadable:void 0;function i(l){return r(l)||e(l)||!!(a&&l&&l[a])}return mg=i,mg}var pg,RN;function YA(){if(RN)return pg;RN=1;var t=wb(),e=xU();function r(a,i,l,c,d){var f=-1,m=a.length;for(l||(l=e),d||(d=[]);++f<m;){var v=a[f];i>0&&l(v)?i>1?r(v,i-1,l,c,d):t(d,v):c||(d[d.length]=v)}return d}return pg=r,pg}var vg,DN;function wU(){if(DN)return vg;DN=1;function t(e){return function(r,a,i){for(var l=-1,c=Object(r),d=i(r),f=d.length;f--;){var m=d[e?f:++l];if(a(c[m],m,c)===!1)break}return r}}return vg=t,vg}var gg,kN;function _U(){if(kN)return gg;kN=1;var t=wU(),e=t();return gg=e,gg}var yg,MN;function Ab(){if(MN)return yg;MN=1;var t=_U(),e=Jl();function r(a,i){return a&&t(a,i,e)}return yg=r,yg}var bg,qN;function SU(){if(qN)return bg;qN=1;var t=Wl();function e(r,a){return function(i,l){if(i==null)return i;if(!t(i))return r(i,l);for(var c=i.length,d=a?c:-1,f=Object(i);(a?d--:++d<c)&&l(f[d],d,f)!==!1;);return i}}return bg=e,bg}var xg,PN;function EU(){if(PN)return xg;PN=1;var t=Ab(),e=SU(),r=e(t);return xg=r,xg}var wg,LN;function jU(){if(LN)return wg;LN=1;var t=EU(),e=Wl();function r(a,i){var l=-1,c=e(a)?Array(a.length):[];return t(a,function(d,f,m){c[++l]=i(d,f,m)}),c}return wg=r,wg}var _g,$N;function NU(){if($N)return _g;$N=1;function t(e,r){var a=e.length;for(e.sort(r);a--;)e[a]=e[a].value;return e}return _g=t,_g}var Sg,UN;function TU(){if(UN)return Sg;UN=1;var t=Yl();function e(r,a){if(r!==a){var i=r!==void 0,l=r===null,c=r===r,d=t(r),f=a!==void 0,m=a===null,v=a===a,y=t(a);if(!m&&!y&&!d&&r>a||d&&f&&v&&!m&&!y||l&&f&&v||!i&&v||!c)return 1;if(!l&&!d&&!y&&r<a||y&&i&&c&&!l&&!d||m&&i&&c||!f&&c||!v)return-1}return 0}return Sg=e,Sg}var Eg,zN;function OU(){if(zN)return Eg;zN=1;var t=TU();function e(r,a,i){for(var l=-1,c=r.criteria,d=a.criteria,f=c.length,m=i.length;++l<f;){var v=t(c[l],d[l]);if(v){if(l>=m)return v;var y=i[l];return v*(y=="desc"?-1:1)}}return r.index-a.index}return Eg=e,Eg}var jg,IN;function CU(){if(IN)return jg;IN=1;var t=Cb(),e=ef(),r=rf(),a=jU(),i=NU(),l=Qd(),c=OU(),d=tf(),f=Yr();function m(v,y,b){y.length?y=t(y,function(_){return f(_)?function(S){return e(S,_.length===1?_[0]:_)}:_}):y=[d];var x=-1;y=t(y,l(r));var w=a(v,function(_,S,j){var E=t(y,function(T){return T(_)});return{criteria:E,index:++x,value:_}});return i(w,function(_,S){return c(_,S,b)})}return jg=m,jg}var Ng,BN;function AU(){if(BN)return Ng;BN=1;function t(e,r,a){switch(a.length){case 0:return e.call(r);case 1:return e.call(r,a[0]);case 2:return e.call(r,a[0],a[1]);case 3:return e.call(r,a[0],a[1],a[2])}return e.apply(r,a)}return Ng=t,Ng}var Tg,HN;function VA(){if(HN)return Tg;HN=1;var t=AU(),e=Math.max;function r(a,i,l){return i=e(i===void 0?a.length-1:i,0),function(){for(var c=arguments,d=-1,f=e(c.length-i,0),m=Array(f);++d<f;)m[d]=c[i+d];d=-1;for(var v=Array(i+1);++d<i;)v[d]=c[d];return v[i]=l(m),t(a,this,v)}}return Tg=r,Tg}var Og,FN;function RU(){if(FN)return Og;FN=1;function t(e){return function(){return e}}return Og=t,Og}var Cg,GN;function KA(){if(GN)return Cg;GN=1;var t=Cs(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Cg=e,Cg}var Ag,WN;function DU(){if(WN)return Ag;WN=1;var t=RU(),e=KA(),r=tf(),a=e?function(i,l){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(l),writable:!0})}:r;return Ag=a,Ag}var Rg,YN;function kU(){if(YN)return Rg;YN=1;var t=800,e=16,r=Date.now;function a(i){var l=0,c=0;return function(){var d=r(),f=e-(d-c);if(c=d,f>0){if(++l>=t)return arguments[0]}else l=0;return i.apply(void 0,arguments)}}return Rg=a,Rg}var Dg,VN;function XA(){if(VN)return Dg;VN=1;var t=DU(),e=kU(),r=e(t);return Dg=r,Dg}var kg,KN;function QA(){if(KN)return kg;KN=1;var t=tf(),e=VA(),r=XA();function a(i,l){return r(e(i,l,t),i+"")}return kg=a,kg}var Mg,XN;function MU(){if(XN)return Mg;XN=1;var t=YA(),e=CU(),r=QA(),a=Pd(),i=r(function(l,c){if(l==null)return[];var d=c.length;return d>1&&a(l,c[0],c[1])?c=[]:d>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),e(l,t(c,1),[])});return Mg=i,Mg}var qU=MU();const PU=Qt(qU);function JA(t){return rA(t)||vA(t)||Xy(t)||nA()}var qg,QN;function LU(){if(QN)return qg;QN=1;function t(e){var r=[];if(e!=null)for(var a in Object(e))r.push(a);return r}return qg=t,qg}var Pg,JN;function $U(){if(JN)return Pg;JN=1;var t=Zn(),e=Nb(),r=LU(),a=Object.prototype,i=a.hasOwnProperty;function l(c){if(!t(c))return r(c);var d=e(c),f=[];for(var m in c)m=="constructor"&&(d||!i.call(c,m))||f.push(m);return f}return Pg=l,Pg}var Lg,ZN;function nf(){if(ZN)return Lg;ZN=1;var t=UA(),e=$U(),r=Wl();function a(i){return r(i)?t(i,!0):e(i)}return Lg=a,Lg}var $g,eT;function UU(){if(eT)return $g;eT=1;var t=QA(),e=Gl(),r=Pd(),a=nf(),i=Object.prototype,l=i.hasOwnProperty,c=t(function(d,f){d=Object(d);var m=-1,v=f.length,y=v>2?f[2]:void 0;for(y&&r(f[0],f[1],y)&&(v=1);++m<v;)for(var b=f[m],x=a(b),w=-1,_=x.length;++w<_;){var S=x[w],j=d[S];(j===void 0||e(j,i[S])&&!l.call(d,S))&&(d[S]=b[S])}return d});return $g=c,$g}var zU=UU();const IU=Qt(zU);var Ug,tT;function Rb(){if(tT)return Ug;tT=1;var t=KA();function e(r,a,i){a=="__proto__"&&t?t(r,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[a]=i}return Ug=e,Ug}var zg,rT;function BU(){if(rT)return zg;rT=1;var t=Rb(),e=Ab(),r=rf();function a(i,l){var c={};return l=r(l,3),e(i,function(d,f,m){t(c,f,l(d,f,m))}),c}return zg=a,zg}var HU=BU();const FU=Qt(HU);var Ig,nT;function ZA(){if(nT)return Ig;nT=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i&&r(e[a],a,e)!==!1;);return e}return Ig=t,Ig}var Bg,aT;function eR(){if(aT)return Bg;aT=1;var t=Rb(),e=Gl(),r=Object.prototype,a=r.hasOwnProperty;function i(l,c,d){var f=l[c];(!(a.call(l,c)&&e(f,d))||d===void 0&&!(c in l))&&t(l,c,d)}return Bg=i,Bg}var Hg,sT;function tc(){if(sT)return Hg;sT=1;var t=eR(),e=Rb();function r(a,i,l,c){var d=!l;l||(l={});for(var f=-1,m=i.length;++f<m;){var v=i[f],y=c?c(l[v],a[v],v,l,a):void 0;y===void 0&&(y=a[v]),d?e(l,v,y):t(l,v,y)}return l}return Hg=r,Hg}var Fg,iT;function GU(){if(iT)return Fg;iT=1;var t=tc(),e=Jl();function r(a,i){return a&&t(i,e(i),a)}return Fg=r,Fg}var Gg,oT;function WU(){if(oT)return Gg;oT=1;var t=tc(),e=nf();function r(a,i){return a&&t(i,e(i),a)}return Gg=r,Gg}var pl={exports:{}};pl.exports;var lT;function YU(){return lT||(lT=1,(function(t,e){var r=Sn(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l?r.Buffer:void 0,d=c?c.allocUnsafe:void 0;function f(m,v){if(v)return m.slice();var y=m.length,b=d?d(y):new m.constructor(y);return m.copy(b),b}t.exports=f})(pl,pl.exports)),pl.exports}var Wg,cT;function VU(){if(cT)return Wg;cT=1;function t(e,r){var a=-1,i=e.length;for(r||(r=Array(i));++a<i;)r[a]=e[a];return r}return Wg=t,Wg}var Yg,uT;function KU(){if(uT)return Yg;uT=1;var t=tc(),e=_b();function r(a,i){return t(a,e(a),i)}return Yg=r,Yg}var Vg,dT;function af(){if(dT)return Vg;dT=1;var t=zA(),e=t(Object.getPrototypeOf,Object);return Vg=e,Vg}var Kg,fT;function tR(){if(fT)return Kg;fT=1;var t=wb(),e=af(),r=_b(),a=$A(),i=Object.getOwnPropertySymbols,l=i?function(c){for(var d=[];c;)t(d,r(c)),c=e(c);return d}:a;return Kg=l,Kg}var Xg,hT;function XU(){if(hT)return Xg;hT=1;var t=tc(),e=tR();function r(a,i){return t(a,e(a),i)}return Xg=r,Xg}var Qg,mT;function rR(){if(mT)return Qg;mT=1;var t=LA(),e=tR(),r=nf();function a(i){return t(i,r,e)}return Qg=a,Qg}var Jg,pT;function QU(){if(pT)return Jg;pT=1;var t=Object.prototype,e=t.hasOwnProperty;function r(a){var i=a.length,l=new a.constructor(i);return i&&typeof a[0]=="string"&&e.call(a,"index")&&(l.index=a.index,l.input=a.input),l}return Jg=r,Jg}var Zg,vT;function Db(){if(vT)return Zg;vT=1;var t=PA();function e(r){var a=new r.constructor(r.byteLength);return new t(a).set(new t(r)),a}return Zg=e,Zg}var e0,gT;function JU(){if(gT)return e0;gT=1;var t=Db();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return e0=e,e0}var t0,yT;function ZU(){if(yT)return t0;yT=1;var t=/\w*$/;function e(r){var a=new r.constructor(r.source,t.exec(r));return a.lastIndex=r.lastIndex,a}return t0=e,t0}var r0,bT;function ez(){if(bT)return r0;bT=1;var t=Wi(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function a(i){return r?Object(r.call(i)):{}}return r0=a,r0}var n0,xT;function tz(){if(xT)return n0;xT=1;var t=Db();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return n0=e,n0}var a0,wT;function rz(){if(wT)return a0;wT=1;var t=Db(),e=JU(),r=ZU(),a=ez(),i=tz(),l="[object Boolean]",c="[object Date]",d="[object Map]",f="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",S="[object Float64Array]",j="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]";function P(L,C,q){var U=L.constructor;switch(C){case x:return t(L);case l:case c:return new U(+L);case w:return e(L,q);case _:case S:case j:case E:case T:case O:case M:case D:case R:return i(L,q);case d:return new U;case f:case y:return new U(L);case m:return r(L);case v:return new U;case b:return a(L)}}return a0=P,a0}var s0,_T;function nR(){if(_T)return s0;_T=1;var t=Zn(),e=Object.create,r=(function(){function a(){}return function(i){if(!t(i))return{};if(e)return e(i);a.prototype=i;var l=new a;return a.prototype=void 0,l}})();return s0=r,s0}var i0,ST;function nz(){if(ST)return i0;ST=1;var t=nR(),e=af(),r=Nb();function a(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return i0=a,i0}var o0,ET;function az(){if(ET)return o0;ET=1;var t=Jd(),e=Ma(),r="[object Map]";function a(i){return e(i)&&t(i)==r}return o0=a,o0}var l0,jT;function sz(){if(jT)return l0;jT=1;var t=az(),e=Qd(),r=Eb(),a=r&&r.isMap,i=a?e(a):t;return l0=i,l0}var c0,NT;function iz(){if(NT)return c0;NT=1;var t=Jd(),e=Ma(),r="[object Set]";function a(i){return e(i)&&t(i)==r}return c0=a,c0}var u0,TT;function oz(){if(TT)return u0;TT=1;var t=iz(),e=Qd(),r=Eb(),a=r&&r.isSet,i=a?e(a):t;return u0=i,u0}var d0,OT;function lz(){if(OT)return d0;OT=1;var t=xb(),e=ZA(),r=eR(),a=GU(),i=WU(),l=YU(),c=VU(),d=KU(),f=XU(),m=IA(),v=rR(),y=Jd(),b=QU(),x=rz(),w=nz(),_=Yr(),S=Xd(),j=sz(),E=Zn(),T=oz(),O=Jl(),M=nf(),D=1,R=2,P=4,L="[object Arguments]",C="[object Array]",q="[object Boolean]",U="[object Date]",z="[object Error]",W="[object Function]",ee="[object GeneratorFunction]",B="[object Map]",H="[object Number]",te="[object Object]",le="[object RegExp]",V="[object Set]",$="[object String]",X="[object Symbol]",oe="[object WeakMap]",ue="[object ArrayBuffer]",fe="[object DataView]",pe="[object Float32Array]",be="[object Float64Array]",ke="[object Int8Array]",Pe="[object Int16Array]",bt="[object Int32Array]",vt="[object Uint8Array]",Wt="[object Uint8ClampedArray]",pr="[object Uint16Array]",xt="[object Uint32Array]",Ae={};Ae[L]=Ae[C]=Ae[ue]=Ae[fe]=Ae[q]=Ae[U]=Ae[pe]=Ae[be]=Ae[ke]=Ae[Pe]=Ae[bt]=Ae[B]=Ae[H]=Ae[te]=Ae[le]=Ae[V]=Ae[$]=Ae[X]=Ae[vt]=Ae[Wt]=Ae[pr]=Ae[xt]=!0,Ae[z]=Ae[W]=Ae[oe]=!1;function Pt(De,re,xe,_e,Xe,st){var it,Ze=re&D,de=re&R,ae=re&P;if(xe&&(it=Xe?xe(De,_e,Xe,st):xe(De)),it!==void 0)return it;if(!E(De))return De;var ge=_(De);if(ge){if(it=b(De),!Ze)return c(De,it)}else{var Ee=y(De),dt=Ee==W||Ee==ee;if(S(De))return l(De,Ze);if(Ee==te||Ee==L||dt&&!Xe){if(it=de||dt?{}:w(De),!Ze)return de?f(De,i(it,De)):d(De,a(it,De))}else{if(!Ae[Ee])return Xe?De:{};it=x(De,Ee,Ze)}}st||(st=new t);var rr=st.get(De);if(rr)return rr;st.set(De,it),T(De)?De.forEach(function(ft){it.add(Pt(ft,re,xe,ft,De,st))}):j(De)&&De.forEach(function(ft,ze){it.set(ze,Pt(ft,re,xe,ze,De,st))});var Vr=ae?de?v:m:de?M:O,vr=ge?void 0:Vr(De);return e(vr||De,function(ft,ze){vr&&(ze=ft,ft=De[ze]),r(it,ze,Pt(ft,re,xe,ze,De,st))}),it}return d0=Pt,d0}var f0,CT;function cz(){if(CT)return f0;CT=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return f0=t,f0}var h0,AT;function uz(){if(AT)return h0;AT=1;var t=ef(),e=gA();function r(a,i){return i.length<2?a:t(a,e(i,0,-1))}return h0=r,h0}var m0,RT;function dz(){if(RT)return m0;RT=1;var t=Zd(),e=cz(),r=uz(),a=ec();function i(l,c){return c=t(c,l),l=r(l,c),l==null||delete l[a(e(c))]}return m0=i,m0}var p0,DT;function fz(){if(DT)return p0;DT=1;var t=Yi(),e=af(),r=Ma(),a="[object Object]",i=Function.prototype,l=Object.prototype,c=i.toString,d=l.hasOwnProperty,f=c.call(Object);function m(v){if(!r(v)||t(v)!=a)return!1;var y=e(v);if(y===null)return!0;var b=d.call(y,"constructor")&&y.constructor;return typeof b=="function"&&b instanceof b&&c.call(b)==f}return p0=m,p0}var v0,kT;function hz(){if(kT)return v0;kT=1;var t=fz();function e(r){return t(r)?void 0:r}return v0=e,v0}var g0,MT;function mz(){if(MT)return g0;MT=1;var t=YA();function e(r){var a=r==null?0:r.length;return a?t(r,1):[]}return g0=e,g0}var y0,qT;function pz(){if(qT)return y0;qT=1;var t=mz(),e=VA(),r=XA();function a(i){return r(e(i,void 0,t),i+"")}return y0=a,y0}var b0,PT;function vz(){if(PT)return b0;PT=1;var t=Cb(),e=lz(),r=dz(),a=Zd(),i=tc(),l=hz(),c=pz(),d=rR(),f=1,m=2,v=4,y=c(function(b,x){var w={};if(b==null)return w;var _=!1;x=t(x,function(j){return j=a(j,b),_||(_=j.length>1),j}),i(b,d(b),w),_&&(w=e(w,f|m|v,l));for(var S=x.length;S--;)r(w,x[S]);return w});return b0=y,b0}var gz=vz();const yz=Qt(gz);var x0,LT;function bz(){if(LT)return x0;LT=1;var t=ZA(),e=nR(),r=Ab(),a=rf(),i=af(),l=Yr(),c=Xd(),d=eb(),f=Zn(),m=jb();function v(y,b,x){var w=l(y),_=w||c(y)||m(y);if(b=a(b,4),x==null){var S=y&&y.constructor;_?x=w?new S:[]:f(y)?x=d(S)?e(i(y)):{}:x={}}return(_?t:r)(y,function(j,E,T){return b(x,j,E,T)}),x}return x0=v,x0}var xz=bz();const wz=Qt(xz);var Yu={exports:{}},_z=Yu.exports,$T;function Sz(){return $T||($T=1,(function(t,e){(function(r,a){t.exports=a()})(_z,(function(){return function(r,a,i){a.prototype.isBetween=function(l,c,d,f){var m=i(l),v=i(c),y=(f=f||"()")[0]==="(",b=f[1]===")";return(y?this.isAfter(m,d):!this.isBefore(m,d))&&(b?this.isBefore(v,d):!this.isAfter(v,d))||(y?this.isBefore(m,d):!this.isAfter(m,d))&&(b?this.isAfter(v,d):!this.isBefore(v,d))}}}))})(Yu)),Yu.exports}Sz();var Vu={exports:{}},Ez=Vu.exports,UT;function jz(){return UT||(UT=1,(function(t,e){(function(r,a){t.exports=a()})(Ez,(function(){return function(r,a){a.prototype.isSameOrAfter=function(i,l){return this.isSame(i,l)||this.isAfter(i,l)}}}))})(Vu)),Vu.exports}jz();var Ku={exports:{}},Nz=Ku.exports,zT;function Tz(){return zT||(zT=1,(function(t,e){(function(r,a){t.exports=a()})(Nz,(function(){return function(r,a){a.prototype.isSameOrBefore=function(i,l){return this.isSame(i,l)||this.isBefore(i,l)}}}))})(Ku)),Ku.exports}Tz();var Xu={exports:{}},Oz=Xu.exports,IT;function Cz(){return IT||(IT=1,(function(t,e){(function(r,a){t.exports=a()})(Oz,(function(){return function(r,a,i){var l=a.prototype,c=function(y){return y&&(y.indexOf?y:y.s)},d=function(y,b,x,w,_){var S=y.name?y:y.$locale(),j=c(S[b]),E=c(S[x]),T=j||E.map((function(M){return M.slice(0,w)}));if(!_)return T;var O=S.weekStart;return T.map((function(M,D){return T[(D+(O||0))%7]}))},f=function(){return i.Ls[i.locale()]},m=function(y,b){return y.formats[b]||(function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,_,S){return _||S.slice(1)}))})(y.formats[b.toUpperCase()])},v=function(){var y=this;return{months:function(b){return b?b.format("MMMM"):d(y,"months")},monthsShort:function(b){return b?b.format("MMM"):d(y,"monthsShort","months",3)},firstDayOfWeek:function(){return y.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):d(y,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):d(y,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):d(y,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return m(y.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};l.localeData=function(){return v.bind(this)()},i.localeData=function(){var y=f();return{firstDayOfWeek:function(){return y.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(b){return m(y,b)},meridiem:y.meridiem,ordinal:y.ordinal}},i.months=function(){return d(f(),"months")},i.monthsShort=function(){return d(f(),"monthsShort","months",3)},i.weekdays=function(y){return d(f(),"weekdays",null,null,y)},i.weekdaysShort=function(y){return d(f(),"weekdaysShort","weekdays",3,y)},i.weekdaysMin=function(y){return d(f(),"weekdaysMin","weekdays",2,y)}}}))})(Xu)),Xu.exports}Cz();var Qu={exports:{}},Az=Qu.exports,BT;function Rz(){return BT||(BT=1,(function(t,e){(function(r,a){t.exports=a()})(Az,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,i,l){var c=i.prototype,d=c.format;l.en.formats=r,c.format=function(f){f===void 0&&(f="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,v=(function(y,b){return y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(x,w,_){var S=_&&_.toUpperCase();return w||b[_]||r[_]||b[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(j,E,T){return E||T.slice(1)}))}))})(f,m===void 0?{}:m);return d.call(this,v)}}}))})(Qu)),Qu.exports}Rz();var Ju={exports:{}},Dz=Ju.exports,HT;function kz(){return HT||(HT=1,(function(t,e){(function(r,a){t.exports=a()})(Dz,(function(){return function(r,a,i){var l=function(c,d){if(!d||!d.length||d.length===1&&!d[0]||d.length===1&&Array.isArray(d[0])&&!d[0].length)return null;var f;d.length===1&&d[0].length>0&&(d=d[0]),f=(d=d.filter((function(v){return v})))[0];for(var m=1;m<d.length;m+=1)d[m].isValid()&&!d[m][c](f)||(f=d[m]);return f};i.max=function(){var c=[].slice.call(arguments,0);return l("isAfter",c)},i.min=function(){var c=[].slice.call(arguments,0);return l("isBefore",c)}}}))})(Ju)),Ju.exports}kz();var Zu={exports:{}},Mz=Zu.exports,FT;function qz(){return FT||(FT=1,(function(t,e){(function(r,a){t.exports=a()})(Mz,(function(){var r="minute",a=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(l,c,d){var f=c.prototype;d.utc=function(_){var S={date:_,utc:!0,args:arguments};return new c(S)},f.utc=function(_){var S=d(this.toDate(),{locale:this.$L,utc:!0});return _?S.add(this.utcOffset(),r):S},f.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var m=f.parse;f.parse=function(_){_.utc&&(this.$u=!0),this.$utils().u(_.$offset)||(this.$offset=_.$offset),m.call(this,_)};var v=f.init;f.init=function(){if(this.$u){var _=this.$d;this.$y=_.getUTCFullYear(),this.$M=_.getUTCMonth(),this.$D=_.getUTCDate(),this.$W=_.getUTCDay(),this.$H=_.getUTCHours(),this.$m=_.getUTCMinutes(),this.$s=_.getUTCSeconds(),this.$ms=_.getUTCMilliseconds()}else v.call(this)};var y=f.utcOffset;f.utcOffset=function(_,S){var j=this.$utils().u;if(j(_))return this.$u?0:j(this.$offset)?y.call(this):this.$offset;if(typeof _=="string"&&(_=(function(M){M===void 0&&(M="");var D=M.match(a);if(!D)return null;var R=(""+D[0]).match(i)||["-",0,0],P=R[0],L=60*+R[1]+ +R[2];return L===0?0:P==="+"?L:-L})(_),_===null))return this;var E=Math.abs(_)<=16?60*_:_;if(E===0)return this.utc(S);var T=this.clone();if(S)return T.$offset=E,T.$u=!1,T;var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(T=this.local().add(E+O,r)).$offset=E,T.$x.$localOffset=O,T};var b=f.format;f.format=function(_){var S=_||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,S)},f.valueOf=function(){var _=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*_},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var x=f.toDate;f.toDate=function(_){return _==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var w=f.diff;f.diff=function(_,S,j){if(_&&this.$u===_.$u)return w.call(this,_,S,j);var E=this.local(),T=d(_).local();return w.call(E,T,S,j)}}}))})(Zu)),Zu.exports}qz();var ed={exports:{}},Pz=ed.exports,GT;function Lz(){return GT||(GT=1,(function(t,e){(function(r,a){t.exports=a()})(Pz,(function(){return function(r,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(ed)),ed.exports}Lz();function dn(t){return t.children}var mr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},At={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},WT=Object.keys(At).map(function(t){return At[t]});ce.oneOfType([ce.string,ce.func]);ce.any;ce.func;ce.oneOfType([ce.arrayOf(ce.oneOf(WT)),ce.objectOf(function(t,e){var r=WT.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var a=arguments.length,i=new Array(a>2?a-2:0),l=2;l<a;l++)i[l-2]=arguments[l];return ce.elementType.apply(ce,[t,e].concat(i))})]);ce.oneOfType([ce.oneOf(["overlap","no-overlap"]),ce.func]);var YT={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function aR(t,e){var r=Gt(t,"month");return Gt(r,"week",e.startOfWeek())}function sR(t,e){var r=gd(t,"month");return gd(r,"week",e.startOfWeek())}function $z(t,e){for(var r=aR(t,e),a=sR(t,e),i=[];Fi(r,a,"day");)i.push(r),r=an(r,1,"day");return i}function Uz(t,e){var r=Gt(t,e);return Hi(r,t)?r:an(r,1,e)}function zz(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",a=t,i=[];Fi(a,e,r);)i.push(a),a=an(a,1,r);return i}function Iz(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Gt(t,"day"),t=Al(t,Al(e)),t=Di(t,Di(e)),t=Cl(t,Cl(e)),Ol(t,Ol(e)))}function VT(t){return Al(t)===0&&Di(t)===0&&Cl(t)===0&&Ol(t)===0}function Bz(t,e,r,a){return r==="day"&&(r="date"),Math.abs(B1[r](t,void 0,a)-B1[r](e,void 0,a))}function kb(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Gt(t,r)/YT[r]-+Gt(e,r)/YT[r]))}var Hz=ce.oneOfType([ce.string,ce.func]);function Fz(t,e,r,a,i){var l=typeof a=="function"?a(r,i,t):e.call(t,r,a,i);return _l(l==null||typeof l=="string","`localizer format(..)` must return a string, null, or undefined"),l}function Gz(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function Mb(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function Wz(t,e){return kb(t,e,"minutes")+Mb(t,e)}function Yz(t){var e=Gt(t,"day");return kb(e,t,"minutes")+Mb(e,t)}function Vz(t,e){return Zy(t,e,"day")}function Kz(t,e,r){var a=Hi(t,e,"minutes");return a?Fl(e,r,"minutes"):qd(e,r,"minutes")}function Ny(t,e){return Bz(t,e,"day")}function Xz(t){var e=t.evtA,r=e.start,a=e.end,i=e.allDay,l=t.evtB,c=l.start,d=l.end,f=l.allDay,m=+Gt(r,"day")-+Gt(c,"day"),v=Ny(r,a),y=Ny(c,d);return m||y-v||!!f-!!i||+r-+c||+a-+d}function Qz(t){var e=t.event,r=e.start,a=e.end,i=t.range,l=i.start,c=i.end,d=Gt(r,"day"),f=Fi(d,c,"day"),m=Jy(d,a,"minutes"),v=m?qd(a,l,"minutes"):Fl(a,l,"minutes");return f&&v}function Jz(t,e){return Hi(t,e,"day")}function Zz(t,e){return VT(t)&&VT(e)}var eI=Dt(function t(e){var r=this;Rt(this,t),_l(typeof e.format=="function","date localizer `format(..)` must be a function"),_l(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||Hz,this.formats=e.formats,this.format=function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return Fz.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||Iz,this.inRange=e.inRange||fA,this.lt=e.lt||Zy,this.lte=e.lte||Fi,this.gt=e.gt||qd,this.gte=e.gte||Fl,this.eq=e.eq||Hi,this.neq=e.neq||Jy,this.startOf=e.startOf||Gt,this.endOf=e.endOf||gd,this.add=e.add||an,this.range=e.range||zz,this.diff=e.diff||kb,this.ceil=e.ceil||Uz,this.min=e.min||uA,this.max=e.max||dA,this.minutes=e.minutes||Di,this.daySpan=e.daySpan||Ny,this.firstVisibleDay=e.firstVisibleDay||aR,this.lastVisibleDay=e.lastVisibleDay||sR,this.visibleDays=e.visibleDays||$z,this.getSlotDate=e.getSlotDate||Gz,this.getTimezoneOffset=e.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||Mb,this.getTotalMin=e.getTotalMin||Wz,this.getMinutesFromMidnight=e.getMinutesFromMidnight||Yz,this.continuesPrior=e.continuesPrior||Vz,this.continuesAfter=e.continuesAfter||Kz,this.sortEvents=e.sortEvents||Xz,this.inEventRange=e.inEventRange||Qz,this.isSameDate=e.isSameDate||Jz,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||Zz,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function tI(t,e,r,a){var i=Je(Je({},t.formats),r);return Je(Je({},t),{},{messages:a,startOfWeek:function(){return t.startOfWeek(e)},format:function(c,d){return t.format(c,i[d]||d,e)}})}var rI=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.navigate=function(c){r.props.onNavigate(c)},r.view=function(c){r.props.onView(c)},r}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.localizer.messages,l=a.label;return Y.createElement("div",{className:"rbc-toolbar"},Y.createElement("span",{className:"rbc-btn-group"},Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,mr.TODAY)},i.today),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,mr.PREVIOUS)},i.previous),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,mr.NEXT)},i.next)),Y.createElement("span",{className:"rbc-toolbar-label"},l),Y.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(a){var i=this,l=this.props.views,c=this.props.view;if(l.length>1)return l.map(function(d){return Y.createElement("button",{type:"button",key:d,className:ut({"rbc-active":c===d}),onClick:i.view.bind(null,d)},a[d])})}}])})(Y.Component);function nt(t,e){t&&t.apply(null,[].concat(e))}var nI={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function aI(t){return Je(Je({},nI),t)}function sI(t){var e=t.ref,r=t.callback;A.useEffect(function(){var a=function(l){e.current&&!e.current.contains(l.target)&&r()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[e,r])}var iI=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],iR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.style,l=a.className,c=a.event,d=a.selected,f=a.isAllDay,m=a.onSelect,v=a.onDoubleClick,y=a.onKeyPress,b=a.localizer,x=a.continuesPrior,w=a.continuesAfter,_=a.accessors,S=a.getters,j=a.children,E=a.components,T=E.event,O=E.eventWrapper,M=a.slotStart,D=a.slotEnd,R=bn(a,iI);delete R.resizable;var P=_.title(c),L=_.tooltip(c),C=_.end(c),q=_.start(c),U=_.allDay(c),z=f||U||b.diff(q,b.ceil(C,"day"),"day")>1,W=S.eventProp(c,q,C,d),ee=Y.createElement("div",{className:"rbc-event-content",title:L||void 0},T?Y.createElement(T,{event:c,continuesPrior:x,continuesAfter:w,title:P,isAllDay:U,localizer:b,slotStart:M,slotEnd:D}):P);return Y.createElement(O,Object.assign({},this.props,{type:"date"}),Y.createElement("div",Object.assign({},R,{style:Je(Je({},W.style),i),className:ut("rbc-event",l,W.className,{"rbc-selected":d,"rbc-event-allday":z,"rbc-event-continues-prior":x,"rbc-event-continues-after":w}),onClick:function(H){return m&&m(c,H)},onDoubleClick:function(H){return v&&v(c,H)},onKeyDown:function(H){return y&&y(c,H)}}),typeof j=="function"?j(ee):ee))}}])})(Y.Component);function sf(t,e){return!t||e==null?!1:W$(t,e)}function oR(t,e){var r=t.right-t.left,a=r/e;return a}function lR(t,e,r,a){var i=oR(t,a);return r?a-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function oI(t,e){var r=e.x,a=e.y;return a>=t.top&&a<=t.bottom&&r>=t.left&&r<=t.right}function lI(t,e,r,a,i){var l=-1,c=-1,d=a-1,f=oR(e,a),m=lR(e,r.x,i,a),v=e.top<r.y&&e.bottom>r.y,y=e.top<t.y&&e.bottom>t.y,b=t.y>e.bottom,x=e.top>t.y,w=r.top<e.top&&r.bottom>e.bottom;return w&&(l=0,c=d),v&&(x?(l=0,c=m):b&&(l=m,c=d)),y&&(l=c=i?d-Math.floor((t.x-e.left)/f):Math.floor((t.x-e.left)/f),v?m<l?l=m:c=m:t.y<r.y?c=d:l=0),{startIdx:l,endIdx:c}}function cI(t){var e=t.target,r=t.offset,a=t.container,i=t.box,l=rn(e),c=l.top,d=l.left,f=l.width,m=l.height,v=rn(a),y=v.top,b=v.left,x=v.width,w=v.height,_=rn(i),S=_.width,j=_.height,E=y+w,T=b+x,O=c+j,M=d+S,D=r.x,R=r.y,P=O>E?c-j-R:c+R+m,L=M>T?d+D-S+f:d+D;return{topOffset:P,leftOffset:L}}function uI(t){var e=t.containerRef,r=t.accessors,a=t.getters,i=t.selected,l=t.components,c=t.localizer,d=t.position,f=t.show,m=t.events,v=t.slotStart,y=t.slotEnd,b=t.onSelect,x=t.onDoubleClick,w=t.onKeyPress,_=t.handleDragStart,S=t.popperRef,j=t.target,E=t.offset;sI({ref:S,callback:f}),A.useLayoutEffect(function(){var M=cI({target:j,offset:E,container:e.current,box:S.current}),D=M.topOffset,R=M.leftOffset;S.current.style.top="".concat(D,"px"),S.current.style.left="".concat(R,"px")},[E.x,E.y,j]);var T=d.width,O={minWidth:T+T/2};return Y.createElement("div",{style:O,className:"rbc-overlay",ref:S},Y.createElement("div",{className:"rbc-overlay-header"},c.format(v,"dayHeaderFormat")),m.map(function(M,D){return Y.createElement(iR,{key:D,type:"popup",localizer:c,event:M,getters:a,onSelect:b,accessors:r,components:l,onDoubleClick:x,onKeyPress:w,continuesPrior:c.lt(r.end(M),v,"day"),continuesAfter:c.gte(r.start(M),y,"day"),slotStart:v,slotEnd:y,selected:sf(M,i),draggable:!0,onDragStart:function(){return _(M)},onDragEnd:function(){return f()}})}))}var cR=Y.forwardRef(function(t,e){return Y.createElement(uI,Object.assign({},t,{popperRef:e}))});cR.propTypes={accessors:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,components:ce.object.isRequired,localizer:ce.object.isRequired,position:ce.object.isRequired,show:ce.func.isRequired,events:ce.array.isRequired,slotStart:ce.instanceOf(Date).isRequired,slotEnd:ce.instanceOf(Date),onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func,handleDragStart:ce.func,style:ce.object,offset:ce.shape({x:ce.number,y:ce.number})};function dI(t){var e=t.containerRef,r=t.popupOffset,a=r===void 0?5:r,i=t.overlay,l=t.accessors,c=t.localizer,d=t.components,f=t.getters,m=t.selected,v=t.handleSelectEvent,y=t.handleDoubleClickEvent,b=t.handleKeyPressEvent,x=t.handleDragStart,w=t.onHide,_=t.overlayDisplay,S=A.useRef(null);if(!i.position)return null;var j=a;isNaN(a)||(j={x:a,y:a});var E=i.position,T=i.events,O=i.date,M=i.end;return Y.createElement(gb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:w,target:i.target},function(D){var R=D.props;return Y.createElement(cR,Object.assign({},R,{containerRef:e,ref:S,target:i.target,offset:j,accessors:l,getters:f,selected:m,components:d,localizer:c,position:E,show:_,events:T,slotStart:O,slotEnd:M,onSelect:v,onDoubleClick:y,onKeyPress:b,handleDragStart:x}))})}var qb=Y.forwardRef(function(t,e){return Y.createElement(dI,Object.assign({},t,{containerRef:e}))});qb.propTypes={popupOffset:ce.oneOfType([ce.number,ce.shape({x:ce.number,y:ce.number})]),overlay:ce.shape({position:ce.object,events:ce.array,date:ce.instanceOf(Date),end:ce.instanceOf(Date)}),accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,handleSelectEvent:ce.func,handleDoubleClickEvent:ce.func,handleKeyPressEvent:ce.func,handleDragStart:ce.func,onHide:ce.func,overlayDisplay:ce.func};function Xt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return pn(r,t,e,{passive:!1})}function fI(t,e,r){return!t||Xn(t,document.elementFromPoint(e,r))}function hI(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return Zl(i,".rbc-event",t)}function mI(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return Zl(i,".rbc-show-more",t)}function xd(t,e){return!!hI(t,e)}function pI(t,e){return!!mI(t,e)}function Jo(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var KT=5,vI=250,uR=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.global,i=a===void 0?!1:a,l=r.longPressThreshold,c=l===void 0?250:l,d=r.validContainers,f=d===void 0?[]:d;Rt(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=c,this.validContainers=f,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Xt("touchmove",function(){},window),this._removeKeyDownListener=Xt("keydown",this._keyListener),this._removeKeyUpListener=Xt("keyup",this._keyListener),this._removeDropFromOutsideListener=Xt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Xt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Dt(t,[{key:"on",value:function(r,a){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(a),{remove:function(){var c=i.indexOf(a);c!==-1&&i.splice(c,1)}}}},{key:"emit",value:function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];var c,d=this._listeners[r]||[];return d.forEach(function(f){c===void 0&&(c=f.apply(void 0,i))}),c}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var a=this._selectRect;return!a||!this.selecting?!1:XT(a,Ts(r))}},{key:"filter",value:function(r){var a=this._selectRect;return!a||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,a){var i=this,l=null,c=null,d=null,f=function(b){l=setTimeout(function(){v(),r(b)},i.longPressThreshold),c=Xt("touchmove",function(){return v()}),d=Xt("touchend",function(){return v()})},m=Xt("touchstart",f),v=function(){l&&clearTimeout(l),c&&c(),d&&d(),l=null,c=null,d=null};return a&&f(a),function(){v(),m()}}},{key:"_addInitialEventListener",value:function(){var r=this,a=Xt("mousedown",function(l){r._removeInitialEventListener(),r._handleInitialEvent(l),r._removeInitialEventListener=Xt("mousedown",r._handleInitialEvent)}),i=Xt("touchstart",function(l){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,l)});this._removeInitialEventListener=function(){a(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var a=Jo(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY;this.emit("dropFromOutside",{x:i,y:l,clientX:c,clientY:d}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var a=Jo(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY;this.emit("dragOverFromOutside",{x:i,y:l,clientX:c,clientY:d}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var a=Jo(r),i=a.clientX,l=a.clientY,c=a.pageX,d=a.pageY,f=this.container(),m,v;if(!(r.which===3||r.button===2||!fI(f,i,l))){if(!this.globalMouse&&f&&!Xn(f,r.target)){var y=gI(0),b=y.top,x=y.left,w=y.bottom,_=y.right;if(v=Ts(f),m=XT({top:v.top-b,left:v.left-x,bottom:v.bottom+w,right:v.right+_},{top:d,left:c}),!m)return}var S=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:c,y:d,clientX:i,clientY:l});if(S!==!1)switch(r.type){case"mousedown":this._removeEndListener=Xt("mouseup",this._handleTerminatingEvent),this._onEscListener=Xt("keydown",this._handleTerminatingEvent),this._removeMoveListener=Xt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Xt("touchend",this._handleTerminatingEvent),this._removeMoveListener=Xt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var a=r.target,i=this.validContainers;return!i||!i.length||!a?!0:i.some(function(l){return!!a.closest(l)})}},{key:"_handleTerminatingEvent",value:function(r){var a=this.selecting,i=this._selectRect;if(!a&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var l=!this.container||Xn(this.container(),r.target),c=this._isWithinValidContainer(r);return r.key==="Escape"||!c?this.emit("reset"):!a&&l?this._handleClickEvent(r):a?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var a=Jo(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY,f=new Date().getTime();return this._lastClickData&&f-this._lastClickData.timestamp<vI?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:l,clientX:c,clientY:d})):(this._lastClickData={timestamp:f},this.emit("click",{x:i,y:l,clientX:c,clientY:d}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var a=this._initialEventData,i=a.x,l=a.y,c=Jo(r),d=c.pageX,f=c.pageY,m=Math.abs(i-d),v=Math.abs(l-f),y=Math.min(d,i),b=Math.min(f,l),x=this.selecting,w=this.isClick(d,f);w&&!x&&!(m||v)||(!x&&!w&&this.emit("selectStart",this._initialEventData),w||(this.selecting=!0,this._selectRect={top:b,left:y,x:d,y:f,right:y+m,bottom:b+v},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,a){var i=this._initialEventData,l=i.x,c=i.y,d=i.isTouch;return!d&&Math.abs(r-l)<=KT&&Math.abs(a-c)<=KT}}])})();function gI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Kn(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function XT(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=Ts(t),i=a.top,l=a.left,c=a.right,d=c===void 0?l:c,f=a.bottom,m=f===void 0?i:f,v=Ts(e),y=v.top,b=v.left,x=v.right,w=x===void 0?b:x,_=v.bottom,S=_===void 0?y:_;return!(m-r<y||i+r>S||d-r<b||l+r>w)}function Ts(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+QT("left"),a=e.top+QT("top");return{top:a,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+a}}function QT(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var yI=(function(t){function e(r,a){var i;return Rt(this,e),i=Jt(this,e,[r,a]),i.state={selecting:!1},i.containerRef=A.createRef(),i}return Zt(e,t),Dt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,i=a.range,l=a.getNow,c=a.getters,d=a.date,f=a.components.dateCellWrapper,m=a.localizer,v=this.state,y=v.selecting,b=v.startIdx,x=v.endIdx,w=l();return Y.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(_,S){var j=y&&S>=b&&S<=x,E=c.dayProp(_),T=E.className,O=E.style;return Y.createElement(f,{key:S,value:_,range:i},Y.createElement("div",{style:O,className:ut("rbc-day-bg",T,j&&"rbc-selected-cell",m.isSameDate(_,w)&&"rbc-today",d&&m.neq(d,_,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,i=this.containerRef.current,l=this._selector=new uR(this.props.container,{longPressThreshold:this.props.longPressThreshold}),c=function(f,m){if(!xd(i,f)&&!pI(i,f)){var v=Ts(i),y=a.props,b=y.range,x=y.rtl;if(oI(v,f)){var w=lR(v,f.x,x,b.length);a._selectSlot({startIdx:w,endIdx:w,action:m,box:f})}}a._initial={},a.setState({selecting:!1})};l.on("selecting",function(d){var f=a.props,m=f.range,v=f.rtl,y=-1,b=-1;if(a.state.selecting||(nt(a.props.onSelectStart,[d]),a._initial={x:d.x,y:d.y}),l.isSelected(i)){var x=Ts(i),w=lI(a._initial,x,d,m.length,v);y=w.startIdx,b=w.endIdx}a.setState({selecting:!0,startIdx:y,endIdx:b})}),l.on("beforeSelect",function(d){if(a.props.selectable==="ignoreEvents")return!xd(a.containerRef.current,d)}),l.on("click",function(d){return c(d,"click")}),l.on("doubleClick",function(d){return c(d,"doubleClick")}),l.on("select",function(d){a._selectSlot(Je(Je({},a.state),{},{action:"select",bounds:d})),a._initial={},a.setState({selecting:!1}),nt(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var i=a.endIdx,l=a.startIdx,c=a.action,d=a.bounds,f=a.box;i!==-1&&l!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:l,end:i,action:c,bounds:d,box:f,resourceId:this.props.resourceId})}}])})(Y.Component),zr={propTypes:{slotMetrics:ce.object.isRequired,selected:ce.object,isAllDay:ce.bool,accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var a=e.selected;e.isAllDay;var i=e.accessors,l=e.getters,c=e.onSelect,d=e.onDoubleClick,f=e.onKeyPress,m=e.localizer,v=e.slotMetrics,y=e.components,b=e.resizable,x=v.continuesPrior(r),w=v.continuesAfter(r);return Y.createElement(iR,{event:r,getters:l,localizer:m,accessors:i,components:y,onSelect:c,onDoubleClick:d,onKeyPress:f,continuesPrior:x,continuesAfter:w,slotStart:v.first,slotEnd:v.last,selected:sf(r,a),resizable:b})},renderSpan:function(e,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",l=Math.abs(r)/e*100+"%";return Y.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:l,flexBasis:l,maxWidth:l}},i)}},dR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this,i=this.props,l=i.segments,c=i.slotMetrics.slots,d=i.className,f=1;return Y.createElement("div",{className:ut(d,"rbc-row")},l.reduce(function(m,v,y){var b=v.event,x=v.left,w=v.right,_=v.span,S="_lvl_"+y,j=x-f,E=zr.renderEvent(a.props,b);return j&&m.push(zr.renderSpan(c,j,"".concat(S,"_gap"))),m.push(zr.renderSpan(c,_,S,E)),f=w+1,m},[]))}}])})(Y.Component);dR.defaultProps=Je({},zr.defaultProps);function fR(t){var e=t.dateRange,r=t.unit,a=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,a)}}function bI(t,e,r,a){var i=fR({dateRange:e,localizer:a}),l=i.first,c=i.last,d=a.diff(l,c,"day"),f=a.max(a.startOf(r.start(t),"day"),l),m=a.min(a.ceil(r.end(t),"day"),c),v=fU(e,function(b){return a.isSameDate(b,f)}),y=a.diff(f,m,"day");return y=Math.min(y,d),y=Math.max(y-a.segmentOffset,1),{event:t,span:y,left:v+1,right:Math.max(v+y,1)}}function Ty(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,a,i,l=[],c=[];for(r=0;r<t.length;r++){for(i=t[r],a=0;a<l.length&&xI(i,l[a]);a++);a>=e?c.push(i):(l[a]||(l[a]=[])).push(i)}for(r=0;r<l.length;r++)l[r].sort(function(d,f){return d.left-f.left});return{levels:l,extra:c}}function ql(t,e,r,a,i){var l={start:a.start(t),end:a.end(t)},c={start:e,end:r};return i.inEventRange({event:l,range:c})}function xI(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function wI(t,e,r){var a=Gu(t),i=[],l=[];a.forEach(function(f){var m=e.start(f),v=e.end(f);r.daySpan(m,v)>1?i.push(f):l.push(f)});var c=i.sort(function(f,m){return Oy(f,m,e,r)}),d=l.sort(function(f,m){return Oy(f,m,e,r)});return[].concat(Gu(c),Gu(d))}function Oy(t,e,r,a){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},l={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return a.sortEvents({evtA:i,evtB:l})}var Cy=function(e,r){return e.left<=r&&e.right>=r},w0=function(e,r){return e.filter(function(a){return Cy(a,r)}).map(function(a){return a.event})},hR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){for(var a=this.props,i=a.segments,l=a.slotMetrics.slots,c=Ty(i).levels[0],d=1,f=1,m=[];d<=l;){var v="_lvl_"+d,y=c.filter(function(O){return Cy(O,d)})[0]||{},b=y.event,x=y.left,w=y.right,_=y.span;if(!b){var S=this.getHiddenEventsForSlot(i,d);if(S.length>0){var j=d-f;j&&m.push(zr.renderSpan(l,j,v+"_gap")),m.push(zr.renderSpan(l,1,v,this.renderShowMore(i,d))),f=d=d+1;continue}d++;continue}var E=Math.max(0,x-f);if(this.canRenderSlotEvent(x,_)){var T=zr.renderEvent(this.props,b);E&&m.push(zr.renderSpan(l,E,v+"_gap")),m.push(zr.renderSpan(l,_,v,T)),f=d=w+1}else E&&m.push(zr.renderSpan(l,E,v+"_gap")),m.push(zr.renderSpan(l,1,v,this.renderShowMore(i,d))),f=d=d+1}return Y.createElement("div",{className:"rbc-row"},m)}},{key:"getHiddenEventsForSlot",value:function(a,i){var l=w0(a,i),c=Ty(a).levels[0],d=c.filter(function(f){return Cy(f,i)}).map(function(f){return f.event});return l.filter(function(f){return!d.some(function(m){return m===f})})}},{key:"canRenderSlotEvent",value:function(a,i){var l=this.props.segments;return gU(a,a+i).every(function(c){var d=w0(l,c).length;return d===1})}},{key:"renderShowMore",value:function(a,i){var l=this,c=this.props,d=c.localizer,f=c.slotMetrics,m=c.components,v=f.getEventsForSlot(i),y=w0(a,i),b=y.length;if(m!=null&&m.showMore){var x=m.showMore,w=f.getDateForSlot(i-1);return b?Y.createElement(x,{localizer:d,slotDate:w,slot:i,count:b,events:v,remainingEvents:y}):!1}return b?Y.createElement("button",{type:"button",key:"sm_"+i,className:ut("rbc-button-link","rbc-show-more"),onClick:function(S){return l.showMore(i,S)}},d.messages.showMore(b,y,v)):!1}},{key:"showMore",value:function(a,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(a,i.target)}}])})(Y.Component);hR.defaultProps=Je({},zr.defaultProps);var _I=function(e){var r=e.children;return Y.createElement("div",{className:"rbc-row-content-scroll-container"},r)},SI=function(e,r){return e.left<=r&&e.right>=r},EI=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function mR(){return WA(function(t){for(var e=t.range,r=t.events,a=t.maxRows,i=t.minRows,l=t.accessors,c=t.localizer,d=fR({dateRange:e,localizer:c}),f=d.first,m=d.last,v=r.map(function(_){return bI(_,e,l,c)}),y=Ty(v,Math.max(a-1,1)),b=y.levels,x=y.extra,w=x.length>0?i-1:i;b.length<w;)b.push([]);return{first:f,last:m,levels:b,extra:x,range:e,slots:e.length,clone:function(S){var j=mR();return j(Je(Je({},t),S))},getDateForSlot:function(S){return e[S]},getSlotForDate:function(S){return e.find(function(j){return c.isSameDate(j,S)})},getEventsForSlot:function(S){return v.filter(function(j){return SI(j,S)}).map(function(j){return j.event})},continuesPrior:function(S){return c.continuesPrior(l.start(S),f)},continuesAfter:function(S){var j=l.start(S),E=l.end(S);return c.continuesAfter(j,E,m)}}},EI)}var Pl=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.handleSelectSlot=function(c){var d=r.props,f=d.range,m=d.onSelectSlot;m(f.slice(c.start,c.end+1),c)},r.handleShowMore=function(c,d){var f=r.props,m=f.range,v=f.onShowMore,y=r.slotMetrics(r.props),b=Id(r.containerRef.current,".rbc-row-bg")[0],x;b&&(x=b.children[c-1]);var w=y.getEventsForSlot(c);v(w,m[c-1],x,c,d)},r.getContainer=function(){var c=r.props.container;return c?c():r.containerRef.current},r.renderHeadingCell=function(c,d){var f=r.props,m=f.renderHeader,v=f.getNow,y=f.localizer;return m({date:c,key:"header_".concat(d),className:ut("rbc-date-cell",y.isSameDate(c,v())&&"rbc-now")})},r.renderDummy=function(){var c=r.props,d=c.className,f=c.range,m=c.renderHeader,v=c.showAllEvents;return Y.createElement("div",{className:d,ref:r.containerRef},Y.createElement("div",{className:ut("rbc-row-content",v&&"rbc-row-content-scrollable")},m&&Y.createElement("div",{className:"rbc-row",ref:r.headingRowRef},f.map(r.renderHeadingCell)),Y.createElement("div",{className:"rbc-row",ref:r.eventRowRef},Y.createElement("div",{className:"rbc-row-segment"},Y.createElement("div",{className:"rbc-event"},Y.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=A.createRef(),r.headingRowRef=A.createRef(),r.eventRowRef=A.createRef(),r.slotMetrics=mR(),r}return Zt(e,t),Dt(e,[{key:"getRowLimit",value:function(){var a,i=ps(this.eventRowRef.current),l=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?ps(this.headingRowRef.current):0,c=ps(this.containerRef.current)-l;return Math.max(Math.floor(c/i),1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.rtl,c=a.range,d=a.className,f=a.selected,m=a.selectable,v=a.renderForMeasure,y=a.accessors,b=a.getters,x=a.components,w=a.getNow,_=a.renderHeader,S=a.onSelect,j=a.localizer,E=a.onSelectStart,T=a.onSelectEnd,O=a.onDoubleClick,M=a.onKeyPress,D=a.resourceId,R=a.longPressThreshold,P=a.isAllDay,L=a.resizable,C=a.showAllEvents;if(v)return this.renderDummy();var q=this.slotMetrics(this.props),U=q.levels,z=q.extra,W=C?_I:dn,ee=x.weekWrapper,B={selected:f,accessors:y,getters:b,localizer:j,components:x,onSelect:S,onDoubleClick:O,onKeyPress:M,resourceId:D,slotMetrics:q,resizable:L};return Y.createElement("div",{className:d,role:"rowgroup",ref:this.containerRef},Y.createElement(yI,{localizer:j,date:i,getNow:w,rtl:l,range:c,selectable:m,container:this.getContainer,getters:b,onSelectStart:E,onSelectEnd:T,onSelectSlot:this.handleSelectSlot,components:x,longPressThreshold:R,resourceId:D}),Y.createElement("div",{className:ut("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},_&&Y.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},c.map(this.renderHeadingCell)),Y.createElement(W,null,Y.createElement(ee,Object.assign({isAllDay:P},B,{rtl:this.props.rtl}),U.map(function(H,te){return Y.createElement(dR,Object.assign({key:te,segments:H},B))}),!!z.length&&Y.createElement(hR,Object.assign({segments:z,onShowMore:this.handleShowMore},B))))))}}])})(Y.Component);Pl.defaultProps={minRows:0,maxRows:1/0};var Pb=function(e){var r=e.label;return Y.createElement("span",{role:"columnheader","aria-sort":"none"},r)},jI=function(e){var r=e.label,a=e.drilldownView,i=e.onDrillDown;return a?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):Y.createElement("span",null,r)},NI=["date","className"],TI=function(e,r,a,i,l){return e.filter(function(c){return ql(c,r,a,i,l)})},of=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(c,d){var f=r.props,m=f.events,v=f.components,y=f.selectable,b=f.getNow,x=f.selected,w=f.date,_=f.localizer,S=f.longPressThreshold,j=f.accessors,E=f.getters,T=f.showAllEvents,O=r.state,M=O.needLimitMeasure,D=O.rowLimit,R=TI(Gu(m),c[0],c[c.length-1],j,_),P=wI(R,j,_);return Y.createElement(Pl,{key:d,ref:d===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:b,date:w,range:c,events:P,maxRows:T?1/0:D,selected:x,selectable:y,components:v,accessors:j,getters:E,localizer:_,renderHeader:r.readerDateHeading,renderForMeasure:M,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:S,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:T})},r.readerDateHeading=function(c){var d=c.date,f=c.className,m=bn(c,NI),v=r.props,y=v.date,b=v.getDrilldownView,x=v.localizer,w=x.neq(y,d,"month"),_=x.isSameDate(d,y),S=b(d),j=x.format(d,"dateFormat"),E=r.props.components.dateHeader||jI;return Y.createElement("div",Object.assign({},m,{className:ut(f,w&&"rbc-off-range",_&&"rbc-current"),role:"cell"}),Y.createElement(E,{label:j,date:d,drilldownView:S,isOffRange:w,onDrillDown:function(O){return r.handleHeadingClick(d,S,O)}}))},r.handleSelectSlot=function(c,d){r._pendingSelection=r._pendingSelection.concat(c),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(d)})},r.handleHeadingClick=function(c,d,f){f.preventDefault(),r.clearSelection(),nt(r.props.onDrillDown,[c,d])},r.handleSelectEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onKeyPressEvent,d)},r.handleShowMore=function(c,d,f,m,v){var y=r.props,b=y.popup,x=y.onDrillDown,w=y.onShowMore,_=y.getDrilldownView,S=y.doShowMoreDrillDown;if(r.clearSelection(),b){var j=Ud(f,r.containerRef.current);r.setState({overlay:{date:d,events:c,position:j,target:v}})}else S&&nt(x,[d,_(d)||At.DAY]);nt(w,[c,d,m])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=A.createRef(),r.slotRowRef=A.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Zt(e,t),Dt(e,[{key:"componentDidMount",value:function(){var a=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||Vl(function(){i=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.className,d=l.visibleDays(i,l),f=y6(d,7);return this._weekCount=f.length,Y.createElement("div",{className:ut("rbc-month-view",c),role:"table","aria-label":"Month View",ref:this.containerRef},Y.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(f[0])),f.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var i=this.props,l=i.localizer,c=i.components,d=a[0],f=a[a.length-1],m=c.header||Pb;return l.range(d,f,"day").map(function(v,y){return Y.createElement("div",{key:"header_"+y,className:"rbc-header"},Y.createElement(m,{date:v,localizer:l,label:l.format(v,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,i,l=this,c=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,f=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(qb,{overlay:c,accessors:f,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(d,f){return+d-+f});var l=new Date(i[0]),c=new Date(i[i.length-1]);c.setDate(i[i.length-1].getDate()+1),nt(this.props.onSelectSlot,{slots:i,start:l,end:c,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,i){var l=a.date,c=a.localizer;return{date:l,needLimitMeasure:c.neq(l,i.date,"month")}}}])})(Y.Component);of.range=function(t,e){var r=e.localizer,a=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:a,end:i}};of.navigate=function(t,e,r){var a=r.localizer;switch(e){case mr.PREVIOUS:return a.add(t,-1,"month");case mr.NEXT:return a.add(t,1,"month");default:return t}};of.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var JT=function(e){var r=e.min,a=e.max,i=e.step,l=e.slots,c=e.localizer;return"".concat(+c.startOf(r,"minutes"))+"".concat(+c.startOf(a,"minutes"))+"".concat(i,"-").concat(l)};function Lb(t){for(var e=t.min,r=t.max,a=t.step,i=t.timeslots,l=t.localizer,c=JT({step:a,localizer:l}),d=1+l.getTotalMin(e,r),f=l.getMinutesFromMidnight(e),m=Math.ceil((d-1)/(a*i)),v=m*i,y=new Array(m),b=new Array(v),x=0;x<m;x++){y[x]=new Array(i);for(var w=0;w<i;w++){var _=x*i+w,S=_*a;b[_]=y[x][w]=l.getSlotDate(e,f,S)}}var j=b.length*a;b.push(l.getSlotDate(e,f,j));function E(T){var O=l.diff(e,T,"minutes")+l.getDstOffset(e,T);return Math.min(O,d)}return{groups:y,update:function(O){return JT(O)!==c?Lb(O):this},dateIsInGroup:function(O,M){var D=y[M+1];return l.inRange(O,y[M][0],D?D[0]:r,"minutes")},nextSlot:function(O){var M=b[Math.min(b.findIndex(function(D){return D===O||l.eq(D,O)})+1,b.length-1)];return l.eq(M,O)&&(M=l.add(O,a,"minutes")),M},closestSlotToPosition:function(O){var M=Math.min(b.length-1,Math.max(0,Math.floor(O*v)));return b[M]},closestSlotFromPoint:function(O,M){var D=Math.abs(M.top-M.bottom);return this.closestSlotToPosition((O.y-M.top)/D)},closestSlotFromDate:function(O){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l.lt(O,e,"minutes"))return b[0];if(l.gt(O,r,"minutes"))return b[b.length-1];var D=l.diff(e,O,"minutes");return b[(D-D%a)/a+M]},startsBeforeDay:function(O){return l.lt(O,e,"day")},startsAfterDay:function(O){return l.gt(O,r,"day")},startsBefore:function(O){return l.lt(l.merge(e,O),e,"minutes")},startsAfter:function(O){return l.gt(l.merge(r,O),r,"minutes")},getRange:function(O,M,D,R){D||(O=l.min(r,l.max(e,O))),R||(M=l.min(r,l.max(e,M)));var P=E(O),L=E(M),C=L>a*v&&!l.eq(r,M)?(P-a)/(a*v)*100:P/(a*v)*100;return{top:C,height:L/(a*v)*100-C,start:E(O),startDate:O,end:E(M),endDate:M}},getCurrentTimePosition:function(O){var M=E(O),D=M/(a*v)*100;return D}}}var OI=(function(){function t(e,r){var a=r.accessors,i=r.slotMetrics;Rt(this,t);var l=i.getRange(a.start(e),a.end(e)),c=l.start,d=l.startDate,f=l.end,m=l.endDate,v=l.top,y=l.height;this.start=c,this.end=f,this.startMs=+d,this.endMs=+m,this.top=v,this.height=y,this.data=e}return Dt(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,l){return Math.max(i,l.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var a=100-this.container._width;return a/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,a=Math.min(100,this._width*1.7);if(this.rows)return a;if(this.leaves)return this.leaves.length>0?a:r;var i=this.row.leaves,l=i.indexOf(this);return l===i.length-1?r:a}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,a=r.leaves,i=r.xOffset,l=r._width,c=a.indexOf(this)+1;return i+c*l}}])})();function CI(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function AI(t){for(var e=PU(t,["startMs",function(d){return-d.endMs}]),r=[];e.length>0;){var a=e.shift();r.push(a);for(var i=0;i<e.length;i++){var l=e[i];if(!(a.endMs>l.startMs)){if(i>0){var c=e.splice(i,1)[0];r.push(c)}break}}}return r}function pR(t){for(var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=e.map(function(v){return new OI(v,{slotMetrics:a,accessors:i})}),c=AI(l),d=[],f=function(){var y=c[m],b=d.find(function(_){return _.end>y.start||Math.abs(y.start-_.start)<r});if(!b)return y.rows=[],d.push(y),1;y.container=b;for(var x=null,w=b.rows.length-1;!x&&w>=0;w--)CI(b.rows[w],y,r)&&(x=b.rows[w]);x?(x.leaves.push(y),y.row=x):(y.leaves=[],b.rows.push(y))},m=0;m<c.length;m++)f();return c.map(function(v){return{event:v.data,style:{top:v.top,height:v.height,width:v.width,xOffset:Math.max(0,v.xOffset)}}})}function vR(t,e,r){for(var a=0;a<t.friends.length;++a)if(!(r.indexOf(t.friends[a])>-1)){e=e>t.friends[a].idx?e:t.friends[a].idx,r.push(t.friends[a]);var i=vR(t.friends[a],e,r);e=e>i?e:i}return e}function RI(t){var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=pR({events:e,minimumStartDifference:r,slotMetrics:a,accessors:i});l.sort(function(ee,B){return ee=ee.style,B=B.style,ee.top!==B.top?ee.top>B.top?1:-1:ee.height!==B.height?ee.top+ee.height<B.top+B.height?1:-1:0});for(var c=0;c<l.length;++c)l[c].friends=[],delete l[c].style.left,delete l[c].style.left,delete l[c].idx,delete l[c].size;for(var d=0;d<l.length-1;++d)for(var f=l[d],m=f.style.top,v=f.style.top+f.style.height,y=d+1;y<l.length;++y){var b=l[y],x=b.style.top,w=b.style.top+b.style.height;(x>=m&&w<=v||w>m&&w<=v||x>=m&&x<v)&&(f.friends.push(b),b.friends.push(f))}for(var _=0;_<l.length;++_){for(var S=l[_],j=[],E=0;E<100;++E)j.push(1);for(var T=0;T<S.friends.length;++T)S.friends[T].idx!==void 0&&(j[S.friends[T].idx]=0);S.idx=j.indexOf(1)}for(var O=0;O<l.length;++O){var M=0;if(!l[O].size){var D=[],R=vR(l[O],0,D);M=100/(R+1),l[O].size=M;for(var P=0;P<D.length;++P)D[P].size=M}}for(var L=0;L<l.length;++L){var C=l[L];C.style.left=C.idx*C.size;for(var q=0,U=0;U<C.friends.length;++U){var z=C.friends[U].idx;q=q>z?q:z}q<=C.idx&&(C.size=100-C.idx*C.size);var W=C.idx===0?0:3;C.style.width="calc(".concat(C.size,"% - ").concat(W,"px)"),C.style.height="calc(".concat(C.style.height,"% - 2px)"),C.style.xOffset="calc(".concat(C.style.left,"% + ").concat(W,"px)")}return l}var ZT={overlap:pR,"no-overlap":RI};function DI(t){return!!(t&&t.constructor&&t.call&&t.apply)}function kI(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in ZT&&(r=ZT[e]),DI(r)?r.apply(this,arguments):[]}var gR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.renderSlot,l=a.resource,c=a.group,d=a.getters,f=a.components,m=f===void 0?{}:f,v=m.timeSlotWrapper,y=v===void 0?dn:v,b=d?d.slotGroupProp(c):{};return Y.createElement("div",Object.assign({className:"rbc-timeslot-group"},b),c.map(function(x,w){var _=d?d.slotProp(x,l):{};return Y.createElement(y,{key:w,value:x,resource:l},Y.createElement("div",Object.assign({},_,{className:ut("rbc-time-slot",_.className)}),i&&i(x,w)))}))}}])})(A.Component);function Mu(t){return typeof t=="string"?t:t+"%"}function MI(t){var e=t.style,r=t.className,a=t.event,i=t.accessors,l=t.rtl,c=t.selected,d=t.label,f=t.continuesPrior,m=t.continuesAfter,v=t.getters,y=t.onClick,b=t.onDoubleClick,x=t.isBackgroundEvent,w=t.onKeyPress,_=t.components,S=_.event,j=_.eventWrapper,E=i.title(a),T=i.tooltip(a),O=i.end(a),M=i.start(a),D=v.eventProp(a,M,O,c),R=[Y.createElement("div",{key:"1",className:"rbc-event-label"},d),Y.createElement("div",{key:"2",className:"rbc-event-content"},S?Y.createElement(S,{event:a,title:E}):E)],P=e.height,L=e.top,C=e.width,q=e.xOffset,U=Je(Je({},D.style),{},ds({top:Mu(L),height:Mu(P),width:Mu(C)},l?"right":"left",Mu(q)));return Y.createElement(j,Object.assign({type:"time"},t),Y.createElement("div",{role:"button",tabIndex:0,onClick:y,onDoubleClick:b,style:U,onKeyDown:w,title:T?(typeof d=="string"?d+": ":"")+T:void 0,className:ut(x?"rbc-background-event":"rbc-event",r,D.className,{"rbc-selected":c,"rbc-event-continues-earlier":f,"rbc-event-continues-later":m})},R))}var qI=function(e){var r=e.children,a=e.className,i=e.style,l=e.innerRef;return Y.createElement("div",{className:a,style:i,ref:l},r)},PI=Y.forwardRef(function(t,e){return Y.createElement(qI,Object.assign({},t,{innerRef:e}))}),LI=["dayProp"],$I=["eventContainerWrapper","timeIndicatorWrapper"],yR=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(c){var d=c.events,f=c.isBackgroundEvent,m=r.props,v=m.rtl,y=m.selected,b=m.accessors,x=m.localizer,w=m.getters,_=m.components,S=m.step,j=m.timeslots,E=m.dayLayoutAlgorithm,T=m.resizable,O=r,M=O.slotMetrics,D=x.messages,R=kI({events:d,accessors:b,slotMetrics:M,minimumStartDifference:Math.ceil(S*j/2),dayLayoutAlgorithm:E});return R.map(function(P,L){var C,q=P.event,U=P.style,z=b.end(q),W=b.start(q),ee=(C=b.eventId(q))!==null&&C!==void 0?C:"evt_"+L,B="eventTimeRangeFormat",H,te=M.startsBeforeDay(W),le=M.startsAfterDay(z);te?B="eventTimeRangeEndFormat":le&&(B="eventTimeRangeStartFormat"),te&&le?H=D.allDay:H=x.format({start:W,end:z},B);var V=te||M.startsBefore(W),$=le||M.startsAfter(z);return Y.createElement(MI,{style:U,event:q,label:H,key:ee,getters:w,rtl:v,components:_,continuesPrior:V,continuesAfter:$,accessors:b,resource:r.props.resource,selected:sf(q,y),onClick:function(oe){return r._select(Je(Je(Je({},q),r.props.resource&&{sourceResource:r.props.resource}),f&&{isBackgroundEvent:!0}),oe)},onDoubleClick:function(oe){return r._doubleClick(q,oe)},isBackgroundEvent:f,onKeyPress:function(oe){return r._keyPress(q,oe)},resizable:T})})},r._selectable=function(){var c=r.containerRef.current,d=r.props,f=d.longPressThreshold,m=d.localizer,v=r._selector=new uR(function(){return c},{longPressThreshold:f}),y=function(_){var S=r.props.onSelecting,j=r.state||{},E=b(_),T=E.startDate,O=E.endDate;S&&(m.eq(j.startDate,T,"minutes")&&m.eq(j.endDate,O,"minutes")||S({start:T,end:O,resourceId:r.props.resource})===!1)||(r.state.start!==E.start||r.state.end!==E.end||r.state.selecting!==E.selecting)&&r.setState(E)},b=function(_){var S=r.slotMetrics.closestSlotFromPoint(_,Ts(c));r.state.selecting||(r._initialSlot=S);var j=r._initialSlot;m.lte(j,S)?S=r.slotMetrics.nextSlot(S):m.gt(j,S)&&(j=r.slotMetrics.nextSlot(j));var E=r.slotMetrics.getRange(m.min(j,S),m.max(j,S));return Je(Je({},E),{},{selecting:!0,top:"".concat(E.top,"%"),height:"".concat(E.height,"%")})},x=function(_,S){if(!xd(r.containerRef.current,_)){var j=b(_),E=j.startDate,T=j.endDate;r._selectSlot({startDate:E,endDate:T,action:S,box:_})}r.setState({selecting:!1})};v.on("selecting",y),v.on("selectStart",y),v.on("beforeSelect",function(w){if(r.props.selectable==="ignoreEvents")return!xd(r.containerRef.current,w)}),v.on("click",function(w){return x(w,"click")}),v.on("doubleClick",function(w){return x(w,"doubleClick")}),v.on("select",function(w){r.state.selecting&&(r._selectSlot(Je(Je({},r.state),{},{action:"select",bounds:w})),r.setState({selecting:!1}))}),v.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(c){for(var d=c.startDate,f=c.endDate,m=c.action,v=c.bounds,y=c.box,b=d,x=[];r.props.localizer.lte(b,f);)x.push(b),b=new Date(+b+r.props.step*60*1e3);nt(r.props.onSelectSlot,{slots:x,start:d,end:f,resourceId:r.props.resource,action:m,bounds:v,box:y})},r._select=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onSelectEvent,d)},r._doubleClick=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onDoubleClickEvent,d)},r._keyPress=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onKeyPressEvent,d)},r.slotMetrics=Lb(r.props),r.containerRef=A.createRef(),r}return Zt(e,t),Dt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(a,i){this.props.selectable&&!a.selectable&&this._selectable(),!this.props.selectable&&a.selectable&&this._teardownSelectable();var l=this.props,c=l.getNow,d=l.isNow,f=l.localizer,m=l.date,v=l.min,y=l.max,b=f.neq(a.getNow(),c(),"minutes");if(a.isNow!==d||b){if(this.clearTimeIndicatorInterval(),d){var x=!b&&f.eq(a.date,m,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(x)}}else d&&(f.neq(a.min,v,"minutes")||f.neq(a.max,y,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,i=a.min,l=a.max,c=a.getNow,d=c();if(d>=i&&d<=l){var f=this.slotMetrics.getCurrentTimePosition(d);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:f})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.max,c=a.rtl,d=a.isNow,f=a.resource,m=a.accessors,v=a.localizer,y=a.getters,b=y.dayProp,x=bn(y,LI),w=a.components,_=w.eventContainerWrapper,S=w.timeIndicatorWrapper,j=bn(w,$I);this.slotMetrics=this.slotMetrics.update(this.props);var E=this.slotMetrics,T=this.state,O=T.selecting,M=T.top,D=T.height,R=T.startDate,P=T.endDate,L={start:R,end:P},C=b(l,f),q=C.className,U=C.style,z={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},W=j.dayColumnWrapper||PI;return Y.createElement(W,{ref:this.containerRef,date:i,style:U,className:ut(q,"rbc-day-slot","rbc-time-column",d&&"rbc-now",d&&"rbc-today",O&&"rbc-slot-selecting"),slotMetrics:E,resource:f},E.groups.map(function(ee,B){return Y.createElement(gR,{key:B,group:ee,resource:f,getters:x,components:j})}),Y.createElement(_,{localizer:v,resource:f,accessors:m,getters:x,components:j,slotMetrics:E},Y.createElement("div",{className:ut("rbc-events-container",c&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),O&&Y.createElement("div",{className:"rbc-slot-selection",style:{top:M,height:D}},Y.createElement("span",null,v.format(L,"selectRangeFormat"))),d&&this.intervalTriggered&&Y.createElement(S,z,Y.createElement("div",z)))}}])})(Y.Component);yR.defaultProps={dragThroughEvents:!0,timeslots:2};var bR=function(e){var r=e.label;return Y.createElement(Y.Fragment,null,r)},UI=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.handleHeaderClick=function(c,d,f){f.preventDefault(),nt(r.props.onDrillDown,[c,d])},r.renderRow=function(c){var d=r.props,f=d.events,m=d.rtl,v=d.selectable,y=d.getNow,b=d.range,x=d.getters,w=d.localizer,_=d.accessors,S=d.components,j=d.resizable,E=_.resourceId(c),T=c?f.filter(function(O){return _.resource(O)===E}):f;return Y.createElement(Pl,{isAllDay:!0,rtl:m,getNow:y,minRows:2,maxRows:r.props.allDayMaxRows+1,range:b,events:T,resourceId:E,className:"rbc-allday-cell",selectable:v,selected:r.props.selected,components:S,accessors:_,getters:x,localizer:w,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:j})},r}return Zt(e,t),Dt(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,c=l.localizer,d=l.getDrilldownView,f=l.getNow,m=l.getters.dayProp,v=l.components.header,y=v===void 0?Pb:v,b=f();return a.map(function(x,w){var _=d(x),S=c.format(x,"dayFormat"),j=m(x),E=j.className,T=j.style,O=Y.createElement(y,{date:x,label:S,localizer:c});return Y.createElement("div",{key:w,style:T,className:ut("rbc-header",E,c.isSameDate(x,b)&&"rbc-today")},_?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(D){return i.handleHeaderClick(x,_,D)}},O):Y.createElement("span",null,O))})}},{key:"render",value:function(){var a=this,i=this.props,l=i.width,c=i.rtl,d=i.resources,f=i.range,m=i.events,v=i.getNow,y=i.accessors,b=i.selectable,x=i.components,w=i.getters,_=i.scrollRef,S=i.localizer,j=i.isOverflowing,E=i.components,T=E.timeGutterHeader,O=E.resourceHeader,M=O===void 0?bR:O,D=i.resizable,R={};j&&(R[c?"marginLeft":"marginRight"]="".concat(Ql()-1,"px"));var P=d.groupEvents(m);return Y.createElement("div",{style:R,ref:_,className:ut("rbc-time-header",j&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:l,minWidth:l,maxWidth:l}},T&&Y.createElement(T,null)),d.map(function(L,C){var q=xs(L,2),U=q[0],z=q[1];return Y.createElement("div",{className:"rbc-time-header-content",key:U||C},z&&Y.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(C)},Y.createElement("div",{className:"rbc-header"},Y.createElement(M,{index:C,label:y.resourceTitle(z),resource:z}))),Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(f.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(f)),Y.createElement(Pl,{isAllDay:!0,rtl:c,getNow:v,minRows:2,maxRows:a.props.allDayMaxRows+1,range:f,events:P.get(U)||[],resourceId:z&&U,className:"rbc-allday-cell",selectable:b,selected:a.props.selected,components:x,accessors:y,getters:w,localizer:S,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:D}))}))}}])})(Y.Component),zI=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.handleHeaderClick=function(c,d,f){f.preventDefault(),nt(r.props.onDrillDown,[c,d])},r}return Zt(e,t),Dt(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,c=l.localizer,d=l.getDrilldownView,f=l.getNow,m=l.getters.dayProp,v=l.components,y=v.header,b=y===void 0?Pb:y,x=v.resourceHeader,w=x===void 0?bR:x,_=l.resources,S=l.accessors,j=l.events,E=l.rtl,T=l.selectable,O=l.components,M=l.getters,D=l.resizable,R=f(),P=_.groupEvents(j);return a.map(function(L,C){var q=d(L),U=c.format(L,"dayFormat"),z=m(L),W=z.className,ee=z.style,B=Y.createElement(b,{date:L,label:U,localizer:c});return Y.createElement("div",{key:C,className:"rbc-time-header-content rbc-resource-grouping"},Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},Y.createElement("div",{style:ee,className:ut("rbc-header",W,c.isSameDate(L,R)&&"rbc-today")},q?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(te){return i.handleHeaderClick(L,q,te)}},B):Y.createElement("span",null,B))),Y.createElement("div",{className:"rbc-row"},_.map(function(H,te){var le=xs(H,2),V=le[0],$=le[1];return Y.createElement("div",{key:"resource_".concat(V,"_").concat(te),className:ut("rbc-header",W,c.isSameDate(L,R)&&"rbc-today")},Y.createElement(w,{index:te,label:S.resourceTitle($),resource:$}))})),Y.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},_.map(function(H,te){var le=xs(H,2),V=le[0],$=le[1],X=(P.get(V)||[]).filter(function(oe){return c.isSameDate(oe.start,L)||c.isSameDate(oe.end,L)});return Y.createElement(Pl,{key:"resource_".concat(V,"_").concat(te),isAllDay:!0,rtl:E,getNow:f,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[L],events:X,resourceId:$&&V,className:"rbc-allday-cell",selectable:T,selected:i.props.selected,components:O,accessors:S,getters:M,localizer:c,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:D})})))})}},{key:"render",value:function(){var a=this.props,i=a.width,l=a.rtl,c=a.range,d=a.scrollRef,f=a.isOverflowing,m=a.components.timeGutterHeader,v={};return f&&(v[l?"marginLeft":"marginRight"]="".concat(Ql()-1,"px")),Y.createElement("div",{style:v,ref:d,className:ut("rbc-time-header",f&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},m&&Y.createElement(m,null)),this.renderHeaderCells(c))}}])})(Y.Component);function II(t){var e=t.min,r=t.max,a=t.localizer;return a.getTimezoneOffset(e)!==a.getTimezoneOffset(r)?{start:a.add(e,-1,"day"),end:a.add(r,-1,"day")}:{start:e,end:r}}var BI=function(e){var r=e.min,a=e.max,i=e.timeslots,l=e.step,c=e.localizer,d=e.getNow,f=e.resource,m=e.components,v=e.getters,y=e.gutterRef,b=m.timeGutterWrapper,x=A.useMemo(function(){return II({min:r,max:a,localizer:c})},[r?.toISOString(),a?.toISOString(),c]),w=x.start,_=x.end,S=A.useState(Lb({min:w,max:_,timeslots:i,step:l,localizer:c})),j=xs(S,2),E=j[0],T=j[1];A.useEffect(function(){E&&T(E.update({min:w,max:_,timeslots:i,step:l,localizer:c}))},[w?.toISOString(),_?.toISOString(),i,l]);var O=A.useCallback(function(M,D){if(D)return null;var R=E.dateIsInGroup(d(),D);return Y.createElement("span",{className:ut("rbc-label",R&&"rbc-now")},c.format(M,"timeGutterFormat"))},[E,c,d]);return Y.createElement(b,{slotMetrics:E},Y.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:y},E.groups.map(function(M,D){return Y.createElement(gR,{key:D,group:M,resource:f,components:m,renderSlot:O,getters:v})})))},HI=Y.forwardRef(function(t,e){return Y.createElement(BI,Object.assign({gutterRef:e},t))}),_0={};function FI(t,e){return{map:function(a){return t?t.map(function(i,l){return a([e.resourceId(i),i],l)}):[a([_0,null],0)]},groupEvents:function(a){var i=new Map;return t?(a.forEach(function(l){var c=e.resource(l)||_0;if(Array.isArray(c))c.forEach(function(f){var m=i.get(f)||[];m.push(l),i.set(f,m)});else{var d=i.get(c)||[];d.push(l),i.set(c,d)}}),i):(i.set(_0,a),i)}}}var Vi=(function(t){function e(r){var a;return Rt(this,e),a=Jt(this,e,[r]),a.handleScroll=function(i){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=i.target.scrollLeft)},a.handleResize=function(){Rl(a.rafHandle),a.rafHandle=Vl(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onKeyPressEvent,l)},a.handleSelectEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onSelectEvent,l)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onDoubleClickEvent,l)},a.handleShowMore=function(i,l,c,d,f){var m=a.props,v=m.popup,y=m.onDrillDown,b=m.onShowMore,x=m.getDrilldownView,w=m.doShowMoreDrillDown;if(a.clearSelection(),v){var _=Ud(c,a.containerRef.current);a.setState({overlay:{date:l,events:i,position:Je(Je({},_),{},{width:"200px"}),target:f}})}else w&&nt(y,[l,x(l)||At.DAY]);nt(b,[i,l,d])},a.handleSelectAllDaySlot=function(i,l){var c=a.props.onSelectSlot,d=new Date(i[0]),f=new Date(i[i.length-1]);f.setDate(i[i.length-1].getDate()+1),nt(c,{slots:i,start:d,end:f,action:l.action,resourceId:l.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var i=a.contentRef.current;if(i!=null&&i.scrollHeight){var l=i.scrollHeight>i.clientHeight;a.state.isOverflowing!==l&&(a._updatingOverflow=!0,a.setState({isOverflowing:l},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=WA(function(i,l){return FI(i,l)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=Y.createRef(),a.contentRef=Y.createRef(),a.containerRef=Y.createRef(),a._scrollRatio=null,a.gutterRef=A.createRef(),a}return Zt(e,t),Dt(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Rl(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(a,i,l,c,d,f,m,v,y,b){var x=this.props,w=x.min,_=x.max,S=(c.get(i)||[]).filter(function(E){return f.inRange(a,m.start(E),m.end(E),"day")}),j=(d.get(i)||[]).filter(function(E){return f.inRange(a,m.start(E),m.end(E),"day")});return Y.createElement(yR,Object.assign({},this.props,{localizer:f,min:f.merge(a,w),max:f.merge(a,_),resource:l&&i,components:v,isNow:f.isSameDate(a,b),key:"".concat(i,"-").concat(a),date:a,events:S,backgroundEvents:j,dayLayoutAlgorithm:y}))}},{key:"renderResourcesFirst",value:function(a,i,l,c,d,f,m,v,y){var b=this;return i.map(function(x){var w=xs(x,2),_=w[0],S=w[1];return a.map(function(j){return b.renderDayColumn(j,_,S,l,c,d,f,v,y,m)})})}},{key:"renderRangeFirst",value:function(a,i,l,c,d,f,m,v,y){var b=this;return a.map(function(x){return Y.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:x},i.map(function(w){var _=xs(w,2),S=_[0],j=_[1];return Y.createElement("div",{style:{flex:1},key:f.resourceId(j)},b.renderDayColumn(x,S,j,l,c,d,f,v,y,m))}))})}},{key:"renderEvents",value:function(a,i,l,c){var d=this.props,f=d.accessors,m=d.localizer,v=d.resourceGroupingLayout,y=d.components,b=d.dayLayoutAlgorithm,x=this.memoizedResources(this.props.resources,f),w=x.groupEvents(i),_=x.groupEvents(l);return v?this.renderRangeFirst(a,x,w,_,m,f,c,y,b):this.renderResourcesFirst(a,x,w,_,m,f,c,y,b)}},{key:"render",value:function(){var a,i=this.props,l=i.events,c=i.backgroundEvents,d=i.range,f=i.width,m=i.rtl,v=i.selected,y=i.getNow,b=i.resources,x=i.components,w=i.accessors,_=i.getters,S=i.localizer,j=i.min,E=i.max,T=i.showMultiDayTimes,O=i.longPressThreshold,M=i.resizable,D=i.resourceGroupingLayout;f=f||this.state.gutterWidth;var R=d[0],P=d[d.length-1];this.slots=d.length;var L=[],C=[],q=[];l.forEach(function(z){if(ql(z,R,P,w,S)){var W=w.start(z),ee=w.end(z);w.allDay(z)||S.startAndEndAreDateOnly(W,ee)||!T&&!S.isSameDate(W,ee)?L.push(z):C.push(z)}}),c.forEach(function(z){ql(z,R,P,w,S)&&q.push(z)}),L.sort(function(z,W){return Oy(z,W,w,S)});var U={range:d,events:L,width:f,rtl:m,getNow:y,localizer:S,selected:v,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(b,w),selectable:this.props.selectable,accessors:w,getters:_,components:x,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:O,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:M};return Y.createElement("div",{className:ut("rbc-time-view",b&&"rbc-time-view-resources"),ref:this.containerRef},b&&b.length>1&&D?Y.createElement(zI,U):Y.createElement(UI,U),this.props.popup&&this.renderOverlay(),Y.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Y.createElement(HI,{date:R,ref:this.gutterRef,localizer:S,min:S.merge(R,j),max:S.merge(R,E),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:x,className:"rbc-time-gutter",getters:_}),this.renderEvents(d,C,q,y())))}},{key:"renderOverlay",value:function(){var a,i,l=this,c=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,f=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(qb,{overlay:c,accessors:f,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,l=(i=a.gutterRef)!==null&&i!==void 0&&i.current?Ml(a.gutterRef.current):void 0;l&&a.state.gutterWidth!==l&&a.setState({gutterWidth:l})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=a.min,l=a.max,c=a.scrollToTime,d=a.localizer,f=d.diff(d.merge(c,i),c,"milliseconds"),m=d.diff(i,l,"milliseconds");this._scrollRatio=f/m}}])})(A.Component);Vi.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var GI=["date","localizer","min","max","scrollToTime","enableAutoScroll"],lf=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,f=a.max,m=f===void 0?l.endOf(new Date,"day"):f,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=bn(a,GI),_=e.range(i,{localizer:l});return Y.createElement(Vi,Object.assign({},w,{range:_,eventOffset:10,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);lf.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};lf.navigate=function(t,e,r){var a=r.localizer;switch(e){case mr.PREVIOUS:return a.add(t,-1,"day");case mr.NEXT:return a.add(t,1,"day");default:return t}};lf.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var WI=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Aa=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,f=a.max,m=f===void 0?l.endOf(new Date,"day"):f,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=bn(a,WI),_=e.range(i,this.props);return Y.createElement(Vi,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);Aa.defaultProps=Vi.defaultProps;Aa.navigate=function(t,e,r){var a=r.localizer;switch(e){case mr.PREVIOUS:return a.add(t,-1,"week");case mr.NEXT:return a.add(t,1,"week");default:return t}};Aa.range=function(t,e){var r=e.localizer,a=r.startOfWeek(),i=r.startOf(t,"week",a),l=r.endOf(t,"week",a);return r.range(i,l)};Aa.title=function(t,e){var r=e.localizer,a=Aa.range(t,{localizer:r}),i=JA(a),l=i[0],c=i.slice(1);return r.format({start:l,end:c.pop()},"dayRangeHeaderFormat")};var YI=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function $b(t,e){return Aa.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var rc=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,f=a.max,m=f===void 0?l.endOf(new Date,"day"):f,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=bn(a,YI),_=$b(i,this.props);return Y.createElement(Vi,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);rc.defaultProps=Vi.defaultProps;rc.range=$b;rc.navigate=Aa.navigate;rc.title=function(t,e){var r=e.localizer,a=$b(t,{localizer:r}),i=JA(a),l=i[0],c=i.slice(1);return r.format({start:l,end:c.pop()},"dayRangeHeaderFormat")};var cf=30;function uf(t){var e=t.accessors,r=t.components,a=t.date,i=t.events,l=t.getters,c=t.length,d=c===void 0?cf:c,f=t.localizer,m=t.onDoubleClickEvent,v=t.onSelectEvent,y=t.selected,b=A.useRef(null),x=A.useRef(null),w=A.useRef(null),_=A.useRef(null),S=A.useRef(null);A.useEffect(function(){T()});var j=function(P,L,C){var q=r.event,U=r.date;return L=L.filter(function(z){return ql(z,f.startOf(P,"day"),f.endOf(P,"day"),e,f)}),L.map(function(z,W){var ee=e.title(z),B=e.end(z),H=e.start(z),te=l.eventProp(z,H,B,sf(z,y)),le=W===0&&f.format(P,"agendaDateFormat"),V=W===0?Y.createElement("td",{rowSpan:L.length,className:"rbc-agenda-date-cell"},U?Y.createElement(U,{day:P,label:le}):le):!1;return Y.createElement("tr",{key:C+"_"+W,className:te.className,style:te.style},V,Y.createElement("td",{className:"rbc-agenda-time-cell"},E(P,z)),Y.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(X){return v&&v(z,X)},onDoubleClick:function(X){return m&&m(z,X)}},q?Y.createElement(q,{event:z,title:ee}):ee))},[])},E=function(P,L){var C="",q=r.time,U=f.messages.allDay,z=e.end(L),W=e.start(L);return e.allDay(L)||(f.eq(W,z)?U=f.format(W,"agendaTimeFormat"):f.isSameDate(W,z)?U=f.format({start:W,end:z},"agendaTimeRangeFormat"):f.isSameDate(P,W)?U=f.format(W,"agendaTimeFormat"):f.isSameDate(P,z)&&(U=f.format(z,"agendaTimeFormat"))),f.gt(P,W,"day")&&(C="rbc-continues-prior"),f.lt(P,z,"day")&&(C+=" rbc-continues-after"),Y.createElement("span",{className:C.trim()},q?Y.createElement(q,{event:L,day:P,label:U}):U)},T=function(){if(S.current){var P=b.current,L=S.current.firstChild;if(L){var C=_.current.scrollHeight>_.current.clientHeight,q=[],U=q;q=[Ml(L.children[0]),Ml(L.children[1])],(U[0]!==q[0]||U[1]!==q[1])&&(x.current.style.width=q[0]+"px",w.current.style.width=q[1]+"px"),C?(Fd(P,"rbc-header-overflowing"),P.style.marginRight=Ql()+"px"):Gd(P,"rbc-header-overflowing")}}},O=f.messages,M=f.add(a,d,"day"),D=f.range(a,M,"day");return i=i.filter(function(R){return ql(R,f.startOf(a,"day"),f.endOf(M,"day"),e,f)}),i.sort(function(R,P){return+e.start(R)-+e.start(P)}),Y.createElement("div",{className:"rbc-agenda-view"},i.length!==0?Y.createElement(Y.Fragment,null,Y.createElement("table",{ref:b,className:"rbc-agenda-table"},Y.createElement("thead",null,Y.createElement("tr",null,Y.createElement("th",{className:"rbc-header",ref:x},O.date),Y.createElement("th",{className:"rbc-header",ref:w},O.time),Y.createElement("th",{className:"rbc-header"},O.event)))),Y.createElement("div",{className:"rbc-agenda-content",ref:_},Y.createElement("table",{className:"rbc-agenda-table"},Y.createElement("tbody",{ref:S},D.map(function(R,P){return j(R,i,P)}))))):Y.createElement("span",{className:"rbc-agenda-empty"},O.noEventsInRange))}uf.range=function(t,e){var r=e.length,a=r===void 0?cf:r,i=e.localizer,l=i.add(t,a,"day");return{start:t,end:l}};uf.navigate=function(t,e,r){var a=r.length,i=a===void 0?cf:a,l=r.localizer;switch(e){case mr.PREVIOUS:return l.add(t,-i,"day");case mr.NEXT:return l.add(t,i,"day");default:return t}};uf.title=function(t,e){var r=e.length,a=r===void 0?cf:r,i=e.localizer,l=i.add(t,a,"day");return i.format({start:t,end:l},"agendaHeaderFormat")};var td=ds(ds(ds(ds(ds({},At.MONTH,of),At.WEEK,Aa),At.WORK_WEEK,rc),At.DAY,lf),At.AGENDA,uf),VI=["action","date","today"];function KI(t,e){var r=e.action,a=e.date,i=e.today,l=bn(e,VI);switch(t=typeof t=="string"?td[t]:t,r){case mr.TODAY:a=i||new Date;break;case mr.DATE:break;default:_l(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),a=t.navigate(a,r,l)}return a}function XI(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&Kn(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var Fn=function(e){return function(r){return XI(r,e)}},QI=["view","date","getNow","onNavigate"],JI=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function xR(t){if(Array.isArray(t))return t;for(var e=[],r=0,a=Object.entries(t);r<a.length;r++){var i=xs(a[r],2),l=i[0],c=i[1];c&&e.push(l)}return e}function ZI(t,e){var r=e.views,a=xR(r);return a.indexOf(t)!==-1}var wR=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.getViews=function(){var c=r.props.views;return Array.isArray(c)?wz(c,function(d,f){return d[f]=td[f]},{}):Kn(c)==="object"?FU(c,function(d,f){return d===!0?td[f]:d}):td},r.getView=function(){var c=r.getViews();return c[r.props.view]},r.getDrilldownView=function(c){var d=r.props,f=d.view,m=d.drilldownView,v=d.getDrilldownView;return v?v(c,f,Object.keys(r.getViews())):m},r.handleRangeChange=function(c,d,f){var m=r.props,v=m.onRangeChange,y=m.localizer;v&&d.range&&v(d.range(c,{localizer:y}),f)},r.handleNavigate=function(c,d){var f=r.props,m=f.view,v=f.date,y=f.getNow,b=f.onNavigate,x=bn(f,QI),w=r.getView(),_=y();v=KI(w,Je(Je({},x),{},{action:c,date:d||v||_,today:_})),b(v,m,c),r.handleRangeChange(v,w)},r.handleViewChange=function(c){c!==r.props.view&&ZI(c,r.props)&&r.props.onView(c);var d=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),d[c],c)},r.handleSelectEvent=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onKeyPressEvent,d)},r.handleSelectSlot=function(c){nt(r.props.onSelectSlot,c)},r.handleDrillDown=function(c,d){var f=r.props.onDrillDown;if(f){f(c,d,r.drilldownView);return}d&&r.handleViewChange(d),r.handleNavigate(mr.DATE,c)},r.state={context:e.getContext(r.props)},r}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.view,l=a.toolbar,c=a.events,d=a.backgroundEvents,f=a.resourceGroupingLayout,m=a.style,v=a.className,y=a.elementProps,b=a.date,x=a.getNow,w=a.length,_=a.showMultiDayTimes,S=a.onShowMore,j=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var E=bn(a,JI);b=b||x();var T=this.getView(),O=this.state.context,M=O.accessors,D=O.components,R=O.getters,P=O.localizer,L=O.viewNames,C=D.toolbar||rI,q=T.title(b,{localizer:P,length:w});return Y.createElement("div",Object.assign({},y,{className:ut(v,"rbc-calendar",E.rtl&&"rbc-rtl"),style:m}),l&&Y.createElement(C,{date:b,view:i,views:L,label:q,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:P}),Y.createElement(T,Object.assign({},E,{events:c,backgroundEvents:d,date:b,getNow:x,length:w,localizer:P,getters:R,components:D,accessors:M,showMultiDayTimes:_,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:S,doShowMoreDrillDown:j,resourceGroupingLayout:f})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:e.getContext(a)}}},{key:"getContext",value:function(a){var i=a.startAccessor,l=a.endAccessor,c=a.allDayAccessor,d=a.tooltipAccessor,f=a.titleAccessor,m=a.resourceAccessor,v=a.resourceIdAccessor,y=a.resourceTitleAccessor,b=a.eventIdAccessor,x=a.eventPropGetter,w=a.backgroundEventPropGetter,_=a.slotPropGetter,S=a.slotGroupPropGetter,j=a.dayPropGetter,E=a.view,T=a.views,O=a.localizer,M=a.culture,D=a.messages,R=D===void 0?{}:D,P=a.components,L=P===void 0?{}:P,C=a.formats,q=C===void 0?{}:C,U=xR(T),z=aI(R);return{viewNames:U,localizer:tI(O,M,q,z),getters:{eventProp:function(){return x&&x.apply(void 0,arguments)||{}},backgroundEventProp:function(){return w&&w.apply(void 0,arguments)||{}},slotProp:function(){return _&&_.apply(void 0,arguments)||{}},slotGroupProp:function(){return S&&S.apply(void 0,arguments)||{}},dayProp:function(){return j&&j.apply(void 0,arguments)||{}}},components:IU(L[E]||{},yz(L,U),{eventWrapper:dn,backgroundEventWrapper:dn,eventContainerWrapper:dn,dateCellWrapper:dn,weekWrapper:dn,timeSlotWrapper:dn,timeGutterWrapper:dn,timeIndicatorWrapper:dn}),accessors:{start:Fn(i),end:Fn(l),allDay:Fn(c),tooltip:Fn(d),title:Fn(f),resource:Fn(m),resourceId:Fn(v),resourceTitle:Fn(y),eventId:Fn(b)}}}}])})(Y.Component);wR.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:At.MONTH,views:[At.MONTH,At.WEEK,At.DAY,At.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:At.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var eB=lA(wR,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),tB=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"P",r),"  ").concat(a.format(l,"P",r))},S0=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"p",r),"  ").concat(a.format(l,"p",r))},rB=function(e,r,a){var i=e.start;return"".concat(a.format(i,"h:mma",r),"  ")},nB=function(e,r,a){var i=e.end;return"  ".concat(a.format(i,"h:mma",r))},aB=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"MMMM dd",r),"  ").concat(a.format(l,Hi(i,l,"month")?"dd":"MMMM dd",r))},sB={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:S0,eventTimeRangeFormat:S0,eventTimeRangeStartFormat:rB,eventTimeRangeEndFormat:nB,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:aB,agendaHeaderFormat:tB,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:S0},iB=function(e){var r=e.startOfWeek,a=e.getDay,i=e.format,l=e.locales;return new eI({formats:sB,firstOfWeek:function(d){return a(r(new Date,{locale:l[d]}))},format:function(d,f,m){return i(new Date(d),f,{locale:l[m]})}})},Zo={},E0={exports:{}},eO;function er(){return eO||(eO=1,(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(E0)),E0.exports}var qu={},j0={exports:{}},N0={exports:{}},T0={exports:{}},O0={exports:{}},tO;function Ki(){return tO||(tO=1,(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(O0)),O0.exports}var C0={exports:{}},rO;function oB(){return rO||(rO=1,(function(t){var e=Ki().default;function r(a,i){if(e(a)!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var c=l.call(a,i||"default");if(e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(C0)),C0.exports}var nO;function _R(){return nO||(nO=1,(function(t){var e=Ki().default,r=oB();function a(i){var l=r(i,"string");return e(l)=="symbol"?l:l+""}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(T0)),T0.exports}var aO;function SR(){return aO||(aO=1,(function(t){var e=_R();function r(a,i,l){return(i=e(i))in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(N0)),N0.exports}var sO;function La(){return sO||(sO=1,(function(t){var e=SR();function r(i,l){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);l&&(d=d.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),c.push.apply(c,d)}return c}function a(i){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?r(Object(c),!0).forEach(function(d){e(i,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(c,d))})}return i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(j0)),j0.exports}var A0={exports:{}},R0={exports:{}},iO;function lB(){return iO||(iO=1,(function(t){function e(r,a){if(r==null)return{};var i={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(a.indexOf(l)!==-1)continue;i[l]=r[l]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(R0)),R0.exports}var oO;function Ub(){return oO||(oO=1,(function(t){var e=lB();function r(a,i){if(a==null)return{};var l,c,d=e(a,i);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)l=f[c],i.indexOf(l)===-1&&{}.propertyIsEnumerable.call(a,l)&&(d[l]=a[l])}return d}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(A0)),A0.exports}var D0={exports:{}},lO;function As(){return lO||(lO=1,(function(t){function e(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(D0)),D0.exports}var k0={exports:{}},cO;function Rs(){return cO||(cO=1,(function(t){var e=_R();function r(i,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,e(d.key),d)}}function a(i,l,c){return l&&r(i.prototype,l),c&&r(i,c),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(k0)),k0.exports}var M0={exports:{}},q0={exports:{}},uO;function cB(){return uO||(uO=1,(function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(q0)),q0.exports}var P0={exports:{}},dO;function uB(){return dO||(dO=1,(function(t){function e(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t.exports=e=function(){return!!r},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(P0)),P0.exports}var L0={exports:{}},$0={exports:{}},fO;function dB(){return fO||(fO=1,(function(t){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})($0)),$0.exports}var hO;function fB(){return hO||(hO=1,(function(t){var e=Ki().default,r=dB();function a(i,l){if(l&&(e(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(i)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(L0)),L0.exports}var mO;function Xi(){return mO||(mO=1,(function(t){var e=cB(),r=uB(),a=fB();function i(l,c,d){return c=e(c),a(l,r()?Reflect.construct(c,d||[],e(l).constructor):c.apply(l,d))}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(M0)),M0.exports}var U0={exports:{}},z0={exports:{}},pO;function hB(){return pO||(pO=1,(function(t){function e(r,a){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,a)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(z0)),z0.exports}var vO;function Qi(){return vO||(vO=1,(function(t){var e=hB();function r(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&e(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(U0)),U0.exports}const nc=xn(BP);var jr={},as={},gO;function mB(){return gO||(gO=1,Object.defineProperty(as,"__esModule",{value:!0}),as.views=as.navigate=void 0,as.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},as.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"}),as}var yO;function pB(){if(yO)return jr;yO=1;var t=er().default;Object.defineProperty(jr,"__esModule",{value:!0}),jr.views=jr.dateRangeFormat=jr.dateFormat=jr.accessor=jr.DayLayoutAlgorithmPropType=void 0;var e=t(Qy()),r=mB(),a=Object.keys(r.views).map(function(i){return r.views[i]});return jr.accessor=e.default.oneOfType([e.default.string,e.default.func]),jr.dateFormat=e.default.any,jr.dateRangeFormat=e.default.func,jr.views=e.default.oneOfType([e.default.arrayOf(e.default.oneOf(a)),e.default.objectOf(function(i,l){var c=a.indexOf(l)!==-1&&typeof i[l]=="boolean";if(c)return null;for(var d=arguments.length,f=new Array(d>2?d-2:0),m=2;m<d;m++)f[m-2]=arguments[m];return e.default.elementType.apply(e.default,[i,l].concat(f))})]),jr.DayLayoutAlgorithmPropType=e.default.oneOfType([e.default.oneOf(["overlap","no-overlap"]),e.default.func]),jr}var el={},xi={},bO;function ER(){if(bO)return xi;bO=1;var t=er().default;Object.defineProperty(xi,"__esModule",{value:!0}),xi.accessor=r,xi.wrapAccessor=void 0;var e=t(Ki());function r(a,i){var l=null;return typeof i=="function"?l=i(a):typeof i=="string"&&(0,e.default)(a)==="object"&&a!=null&&i in a&&(l=a[i]),l}return xi.wrapAccessor=function(i){return function(l){return r(l,i)}},xi}var tl={},xO;function df(){if(xO)return tl;xO=1;var t=er().default;Object.defineProperty(tl,"__esModule",{value:!0}),tl.DnDContext=void 0;var e=t(Cr());return tl.DnDContext=e.default.createContext(),tl}var wO;function vB(){if(wO)return el;wO=1;var t=er().default;Object.defineProperty(el,"__esModule",{value:!0}),el.default=void 0;var e=t(La()),r=t(As()),a=t(Rs()),i=t(Xi()),l=t(Qi()),c=t(Cr()),d=t(nc),f=ER(),m=df(),v=(function(y){function b(){var x;(0,r.default)(this,b);for(var w=arguments.length,_=new Array(w),S=0;S<w;S++)_[S]=arguments[S];return x=(0,i.default)(this,b,[].concat(_)),x.handleResizeUp=function(j){j.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","UP")},x.handleResizeDown=function(j){j.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","DOWN")},x.handleResizeLeft=function(j){j.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","LEFT")},x.handleResizeRight=function(j){j.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","RIGHT")},x.handleStartDragging=function(j){var E;if(j.button===0){var T=(E=j.target.getAttribute("class"))===null||E===void 0?void 0:E.includes("rbc-addons-dnd-resize");if(!T){var O=(0,e.default)({},x.props.event);O.sourceResource=x.props.resource,x.context.draggable.onBeginAction(x.props.event,"move")}}},x}return(0,l.default)(b,y),(0,a.default)(b,[{key:"renderAnchor",value:function(w){var _=w==="Up"||w==="Down"?"ns":"ew";return c.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-anchor"),onMouseDown:this["handleResize".concat(w)]},c.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-icon")}))}},{key:"render",value:function(){var w=this.props,_=w.event,S=w.type,j=w.continuesPrior,E=w.continuesAfter,T=w.resizable,O=this.props.children;if(_.__isPreview)return c.default.cloneElement(O,{className:(0,d.default)(O.props.className,"rbc-addons-dnd-drag-preview")});var M=this.context.draggable,D=M.draggableAccessor,R=M.resizableAccessor,P=D?!!(0,f.accessor)(_,D):!0;if(!P)return O;var L=T&&(R?!!(0,f.accessor)(_,R):!0);if(L||P){var C={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(L){var q=null,U=null;S==="date"?(q=!j&&this.renderAnchor("Left"),U=!E&&this.renderAnchor("Right")):(q=!j&&this.renderAnchor("Up"),U=!E&&this.renderAnchor("Down")),C.children=c.default.createElement("div",{className:"rbc-addons-dnd-resizable"},q,O.props.children,U)}M.dragAndDropAction.interacting&&M.dragAndDropAction.event===_&&(C.className=(0,d.default)(O.props.className,"rbc-addons-dnd-dragged-event")),O=c.default.cloneElement(O,C)}return O}}])})(c.default.Component);return v.contextType=m.DnDContext,el.default=v,el}var rl={},I0={exports:{}},_O;function jR(){return _O||(_O=1,(function(t){var e=Ki().default;function r(a,i){if(typeof WeakMap=="function")var l=new WeakMap,c=new WeakMap;return(t.exports=r=function(f,m){if(!m&&f&&f.__esModule)return f;var v,y,b={__proto__:null,default:f};if(f===null||e(f)!="object"&&typeof f!="function")return b;if(v=m?c:l){if(v.has(f))return v.get(f);v.set(f,b)}for(var x in f)x!=="default"&&{}.hasOwnProperty.call(f,x)&&((y=(v=Object.defineProperty)&&Object.getOwnPropertyDescriptor(f,x))&&(y.get||y.set)?v(b,x,y):b[x]=f[x]);return b},t.exports.__esModule=!0,t.exports.default=t.exports)(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(I0)),I0.exports}function zb(t,e,r,a){if(r===void 0&&(r=!1),a===void 0&&(a=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,r,a),t.dispatchEvent(i)}}function gB(t){var e=Ft(t,"transitionDuration")||"",r=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*r}function yB(t,e,r){r===void 0&&(r=5);var a=!1,i=setTimeout(function(){a||zb(t,"transitionend",!0)},e+r),l=pn(t,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(i),l()}}function Ib(t,e,r,a){r==null&&(r=gB(t)||0);var i=yB(t,r,a),l=pn(t,"transitionend",e);return function(){i(),l()}}var SO={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function EO(t){var e=t.node,r=t.properties,a=t.duration,i=a===void 0?200:a,l=t.easing,c=t.callback,d=[],f={},m="";Object.keys(r).forEach(function(b){var x=r[b];_A(b)?m+=b+"("+x+") ":(f[b]=x,d.push(wA(b)))}),m&&(f.transform=m,d.push("transform"));function v(b){b.target===b.currentTarget&&(Ft(e,SO),c&&c.call(this,b))}i>0&&(f.transition=d.join(", "),f["transition-duration"]=i/1e3+"s",f["transition-delay"]="0s",f["transition-timing-function"]=l||"linear");var y=Ib(e,v,i);return e.clientLeft,Ft(e,f),{cancel:function(){y(),Ft(e,SO)}}}function NR(t,e,r,a,i){if(!("nodeType"in t))return EO(t);if(!e)throw new Error("must include properties to animate");return typeof a=="function"&&(i=a,a=""),EO({node:t,properties:e,duration:r,easing:a,callback:i})}function TR(t,e,r){if(t){if(typeof r>"u")return t.getAttribute(e);!r&&r!==""?t.removeAttribute(e):t.setAttribute(e,String(r))}}function OR(t){return t?Array.from(t.children):[]}function CR(t){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}return null}var bB=Function.prototype.bind.call(Function.prototype.call,[].slice);function AR(t){return t?bB(t.childNodes):[]}function RR(t,e){return function(a){var i=a.currentTarget,l=a.target,c=Id(i,t);c.some(function(d){return Xn(d,l)})&&e.call(this,a)}}function DR(t,e){return t&&e&&e.parentNode?(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t):null}var xB=/^(?:input|select|textarea|button)$/i;function kR(t){return t?xB.test(t.nodeName):!1}function MR(t){return t?!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):!1}function qR(t,e,r){e===void 0&&(e=null),r===void 0&&(r=null);for(var a=[];t;t=t.nextElementSibling)if(t!==e){if(r&&zd(t,r))break;a.push(t)}return a}function PR(t,e){return qR(t,t,e)}function wB(t,e){var r=null,a=[];for(r=t?t[e]:null;r&&r.nodeType!==9;)a.push(r),r=r[e]||null;return a}function LR(t){return wB(t,"parentElement")}function $R(t,e){return t&&e?(e.firstElementChild?e.insertBefore(t,e.firstElementChild):e.appendChild(t),t):null}function UR(t){return t&&t.parentNode?(t.parentNode.removeChild(t),t):null}function Bb(t,e){var r=Ft(t,"position"),a=r==="absolute",i=t.ownerDocument;if(r==="fixed")return i||document;for(;(t=t.parentNode)&&!SA(t);){var l=a&&Ft(t,"position")==="static",c=(Ft(t,"overflow")||"")+(Ft(t,"overflow-y")||"")+Ft(t,"overflow-x");if(!l&&/(auto|scroll)/.test(c)&&(e||ps(t)<t.scrollHeight))return t}return i||document}function zR(t,e){var r=rn(t),a={top:0,left:0};if(t){var i=e||Bb(t),l=Ld(i),c=ki(i),d=ps(i,!0);l||(a=rn(i)),r={top:r.top-a.top,left:r.left-a.left,height:r.height,width:r.width};var f=r.height,m=r.top+(l?0:c),v=m+f;c=c>m?m:v>c+d?v-d:c;var y=Vl(function(){return ki(i,c)});return function(){return Rl(y)}}}function IR(t){return qR(t&&t.parentElement?t.parentElement.firstElementChild:null,t)}var _B=/&nbsp;/gi,SB=/\xA0/g,EB=/\s+([^\s])/gm;function BR(t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);var a="";return t&&(a=(t.textContent||"").replace(_B," ").replace(SB," "),e&&(a=a.trim()),r&&(a=a.replace(EB," $1"))),a}function HR(t,e){t.classList?t.classList.toggle(e):Hd(t,e)?Gd(t,e):Fd(t,e)}const jB={addEventListener:ob,removeEventListener:vb,triggerEvent:zb,animate:NR,filter:RR,listen:pn,style:Ft,getComputedStyle:ab,attribute:TR,activeElement:kA,ownerDocument:qa,ownerWindow:nb,requestAnimationFrame:Vl,cancelAnimationFrame:Rl,matches:zd,height:ps,width:Ml,offset:rn,offsetParent:sb,position:Ud,contains:Xn,scrollbarSize:Ql,scrollLeft:$d,scrollParent:Bb,scrollTo:zR,scrollTop:ki,querySelectorAll:Id,closest:Zl,addClass:Fd,removeClass:Gd,hasClass:Hd,toggleClass:HR,transitionEnd:Ib,childNodes:AR,childElements:OR,nextUntil:PR,parents:LR,siblings:IR,clear:CR,insertAfter:DR,isInput:kR,isVisible:MR,prepend:$R,remove:UR,text:BR},NB=Object.freeze(Object.defineProperty({__proto__:null,activeElement:kA,addClass:Fd,addEventListener:ob,animate:NR,attribute:TR,cancelAnimationFrame:Rl,childElements:OR,childNodes:AR,clear:CR,closest:Zl,contains:Xn,default:jB,filter:RR,getComputedStyle:ab,hasClass:Hd,height:ps,insertAfter:DR,isInput:kR,isVisible:MR,listen:pn,matches:zd,nextUntil:PR,offset:rn,offsetParent:sb,ownerDocument:qa,ownerWindow:nb,parents:LR,position:Ud,prepend:$R,querySelectorAll:Id,remove:UR,removeClass:Gd,removeEventListener:vb,requestAnimationFrame:Vl,scrollLeft:$d,scrollParent:Bb,scrollTo:zR,scrollTop:ki,scrollbarSize:Ql,siblings:IR,style:Ft,text:BR,toggleClass:HR,transitionEnd:Ib,triggerEvent:zb,width:Ml},Symbol.toStringTag,{value:"Module"})),TB=xn(NB);var Pu={exports:{}},jO;function OB(){return jO||(jO=1,(function(t,e){e.__esModule=!0,e.default=a;var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(i,l){return r(i.querySelectorAll(l))}t.exports=e.default})(Pu,Pu.exports)),Pu.exports}var Jr={};const CB=xn(_6),AB=xn(Y$),RB=xn(LL);var NO;function FR(){if(NO)return Jr;NO=1;var t=er().default;Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.default=void 0,Jr.getBoundsForNode=T,Jr.getEventNodeFromPoint=m,Jr.getShowMoreNodeFromPoint=v,Jr.isEvent=y,Jr.isShowMore=b,Jr.objectsCollide=E;var e=t(Ki()),r=t(As()),a=t(Rs()),i=t(CB),l=t(AB),c=t(RB);function d(M,D){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,c.default)(R,M,D,{passive:!1})}function f(M,D,R){return!M||(0,i.default)(M,document.elementFromPoint(D,R))}function m(M,D){var R=D.clientX,P=D.clientY,L=document.elementFromPoint(R,P);return(0,l.default)(L,".rbc-event",M)}function v(M,D){var R=D.clientX,P=D.clientY,L=document.elementFromPoint(R,P);return(0,l.default)(L,".rbc-show-more",M)}function y(M,D){return!!m(M,D)}function b(M,D){return!!v(M,D)}function x(M){var D=M;return M.touches&&M.touches.length&&(D=M.touches[0]),{clientX:D.clientX,clientY:D.clientY,pageX:D.pageX,pageY:D.pageY}}var w=5,_=250,S=(function(){function M(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=R.global,L=P===void 0?!1:P,C=R.longPressThreshold,q=C===void 0?250:C,U=R.validContainers,z=U===void 0?[]:U;(0,r.default)(this,M),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=D,this.globalMouse=!D||L,this.longPressThreshold=q,this.validContainers=z,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=d("touchmove",function(){},window),this._removeKeyDownListener=d("keydown",this._keyListener),this._removeKeyUpListener=d("keyup",this._keyListener),this._removeDropFromOutsideListener=d("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=d("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,a.default)(M,[{key:"on",value:function(R,P){var L=this._listeners[R]||(this._listeners[R]=[]);return L.push(P),{remove:function(){var q=L.indexOf(P);q!==-1&&L.splice(q,1)}}}},{key:"emit",value:function(R){for(var P=arguments.length,L=new Array(P>1?P-1:0),C=1;C<P;C++)L[C-1]=arguments[C];var q,U=this._listeners[R]||[];return U.forEach(function(z){q===void 0&&(q=z.apply(void 0,L))}),q}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(R){var P=this._selectRect;return!P||!this.selecting?!1:E(P,T(R))}},{key:"filter",value:function(R){var P=this._selectRect;return!P||!this.selecting?[]:R.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(R,P){var L=this,C=null,q=null,U=null,z=function(H){C=setTimeout(function(){ee(),R(H)},L.longPressThreshold),q=d("touchmove",function(){return ee()}),U=d("touchend",function(){return ee()})},W=d("touchstart",z),ee=function(){C&&clearTimeout(C),q&&q(),U&&U(),C=null,q=null,U=null};return P&&z(P),function(){ee(),W()}}},{key:"_addInitialEventListener",value:function(){var R=this,P=d("mousedown",function(C){R._removeInitialEventListener(),R._handleInitialEvent(C),R._removeInitialEventListener=d("mousedown",R._handleInitialEvent)}),L=d("touchstart",function(C){R._removeInitialEventListener(),R._removeInitialEventListener=R._addLongPressListener(R._handleInitialEvent,C)});this._removeInitialEventListener=function(){P(),L()}}},{key:"_dropFromOutsideListener",value:function(R){var P=x(R),L=P.pageX,C=P.pageY,q=P.clientX,U=P.clientY;this.emit("dropFromOutside",{x:L,y:C,clientX:q,clientY:U}),R.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(R){var P=x(R),L=P.pageX,C=P.pageY,q=P.clientX,U=P.clientY;this.emit("dragOverFromOutside",{x:L,y:C,clientX:q,clientY:U}),R.preventDefault()}},{key:"_handleInitialEvent",value:function(R){if(this._initialEvent=R,!this.isDetached){var P=x(R),L=P.clientX,C=P.clientY,q=P.pageX,U=P.pageY,z=this.container(),W,ee;if(!(R.which===3||R.button===2||!f(z,L,C))){if(!this.globalMouse&&z&&!(0,i.default)(z,R.target)){var B=j(0),H=B.top,te=B.left,le=B.bottom,V=B.right;if(ee=T(z),W=E({top:ee.top-H,left:ee.left-te,bottom:ee.bottom+le,right:ee.right+V},{top:U,left:q}),!W)return}var $=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(R.type),x:q,y:U,clientX:L,clientY:C});if($!==!1)switch(R.type){case"mousedown":this._removeEndListener=d("mouseup",this._handleTerminatingEvent),this._onEscListener=d("keydown",this._handleTerminatingEvent),this._removeMoveListener=d("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(R),this._removeEndListener=d("touchend",this._handleTerminatingEvent),this._removeMoveListener=d("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(R){var P=R.target,L=this.validContainers;return!L||!L.length||!P?!0:L.some(function(C){return!!P.closest(C)})}},{key:"_handleTerminatingEvent",value:function(R){var P=this.selecting,L=this._selectRect;if(!P&&R.type.includes("key")&&(R=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!R){var C=!this.container||(0,i.default)(this.container(),R.target),q=this._isWithinValidContainer(R);return R.key==="Escape"||!q?this.emit("reset"):!P&&C?this._handleClickEvent(R):P?this.emit("select",L):this.emit("reset")}}},{key:"_handleClickEvent",value:function(R){var P=x(R),L=P.pageX,C=P.pageY,q=P.clientX,U=P.clientY,z=new Date().getTime();return this._lastClickData&&z-this._lastClickData.timestamp<_?(this._lastClickData=null,this.emit("doubleClick",{x:L,y:C,clientX:q,clientY:U})):(this._lastClickData={timestamp:z},this.emit("click",{x:L,y:C,clientX:q,clientY:U}))}},{key:"_handleMoveEvent",value:function(R){if(!(this._initialEventData===null||this.isDetached)){var P=this._initialEventData,L=P.x,C=P.y,q=x(R),U=q.pageX,z=q.pageY,W=Math.abs(L-U),ee=Math.abs(C-z),B=Math.min(U,L),H=Math.min(z,C),te=this.selecting,le=this.isClick(U,z);le&&!te&&!(W||ee)||(!te&&!le&&this.emit("selectStart",this._initialEventData),le||(this.selecting=!0,this._selectRect={top:H,left:B,x:U,y:z,right:B+W,bottom:H+ee},this.emit("selecting",this._selectRect)),R.preventDefault())}}},{key:"_keyListener",value:function(R){this.ctrl=R.metaKey||R.ctrlKey}},{key:"isClick",value:function(R,P){var L=this._initialEventData,C=L.x,q=L.y,U=L.isTouch;return!U&&Math.abs(R-C)<=w&&Math.abs(P-q)<=w}}])})();function j(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,e.default)(M)!=="object"&&(M={top:M,left:M,right:M,bottom:M}),M}function E(M,D){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,P=T(M),L=P.top,C=P.left,q=P.right,U=q===void 0?C:q,z=P.bottom,W=z===void 0?L:z,ee=T(D),B=ee.top,H=ee.left,te=ee.right,le=te===void 0?H:te,V=ee.bottom,$=V===void 0?B:V;return!(W-R<B||L+R>$||U-R<H||C+R>le)}function T(M){if(!M.getBoundingClientRect)return M;var D=M.getBoundingClientRect(),R=D.left+O("left"),P=D.top+O("top");return{top:P,left:R,right:(M.offsetWidth||0)+R,bottom:(M.offsetHeight||0)+P}}function O(M){if(M==="left")return window.pageXOffset||document.body.scrollLeft||0;if(M==="top")return window.pageYOffset||document.body.scrollTop||0}return Jr.default=S,Jr}var nl={},TO;function DB(){if(TO)return nl;TO=1;var t=er().default;Object.defineProperty(nl,"__esModule",{value:!0}),nl.default=void 0;var e=t(SR()),r=t(La()),a=t(nc),i=t(Cr());function l(d){return typeof d=="string"?d:d+"%"}function c(d){var f=d.style,m=d.className,v=d.event,y=d.accessors,b=d.rtl,x=d.selected,w=d.label,_=d.continuesPrior,S=d.continuesAfter,j=d.getters,E=d.onClick,T=d.onDoubleClick,O=d.isBackgroundEvent,M=d.onKeyPress,D=d.components,R=D.event,P=D.eventWrapper,L=y.title(v),C=y.tooltip(v),q=y.end(v),U=y.start(v),z=j.eventProp(v,U,q,x),W=[i.default.createElement("div",{key:"1",className:"rbc-event-label"},w),i.default.createElement("div",{key:"2",className:"rbc-event-content"},R?i.default.createElement(R,{event:v,title:L}):L)],ee=f.height,B=f.top,H=f.width,te=f.xOffset,le=(0,r.default)((0,r.default)({},z.style),{},(0,e.default)({top:l(B),height:l(ee),width:l(H)},b?"right":"left",l(te)));return i.default.createElement(P,Object.assign({type:"time"},d),i.default.createElement("div",{role:"button",tabIndex:0,onClick:E,onDoubleClick:T,style:le,onKeyDown:M,title:C?(typeof w=="string"?w+": ":"")+C:void 0,className:(0,a.default)(O?"rbc-background-event":"rbc-event",m,z.className,{"rbc-selected":x,"rbc-event-continues-earlier":_,"rbc-event-continues-later":S})},W))}return nl.default=c,nl}var Ea={},OO;function Hb(){if(OO)return Ea;OO=1;var t=er().default;Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.dragAccessors=void 0,Ea.eventTimes=m,Ea.mergeComponents=d,Ea.pointInColumn=f;var e=t(La()),r=t(Ub()),a=ER(),i=Cr(),l=["children"];Ea.dragAccessors={start:(0,a.wrapAccessor)(function(v){return v.start}),end:(0,a.wrapAccessor)(function(v){return v.end})};function c(){for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];var x=function(_){var S=_.children,j=(0,r.default)(_,l);return y.filter(Boolean).reduceRight(function(E,T){return(0,i.createElement)(T,j,E)},S)};return x}function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1?arguments[1]:void 0,b=Object.keys(y),x=(0,e.default)({},v);return b.forEach(function(w){x[w]=v[w]?c(v[w],y[w]):y[w]}),x}function f(v,y){var b=v.left,x=v.right,w=v.top,_=y.x,S=y.y;return _<x+10&&_>b&&S>w}function m(v,y,b){var x=y.start(v),w=y.end(v),_=b.eq(x,w,"minutes")&&b.diff(x,w,"minutes")===0;_&&(w=b.add(w,1,"day"));var S=b.diff(x,w,"milliseconds");return{start:x,end:w,duration:S}}return Ea}var CO;function kB(){if(CO)return rl;CO=1;var t=jR().default,e=er().default;Object.defineProperty(rl,"__esModule",{value:!0}),rl.default=void 0;var r=e(La()),a=e(As()),i=e(Rs()),l=e(Xi()),c=e(Qi()),d=TB,f=e(OB()),m=e(Cr()),v=df(),y=t(FR()),b=e(DB()),x=Hb(),w=(function(_){function S(){var j;(0,a.default)(this,S);for(var E=arguments.length,T=new Array(E),O=0;O<E;O++)T[O]=arguments[O];return j=(0,l.default)(this,S,[].concat(T)),j.handleMove=function(M,D){if(!(0,x.pointInColumn)(D,M))return j.reset();var R=j.context.draggable.dragAndDropAction.event,P=j.props,L=P.accessors,C=P.slotMetrics,q=C.closestSlotFromPoint({y:M.y-j.eventOffsetTop,x:M.x},D),U=(0,x.eventTimes)(R,L,j.props.localizer),z=U.duration,W=j.props.localizer.add(q,z,"milliseconds");j.update(R,C.getRange(q,W,!1,!0))},j.handleDropFromOutside=function(M,D){var R=j.props,P=R.slotMetrics,L=R.resource,C=P.closestSlotFromPoint({y:M.y,x:M.x},D),q=j._calculateDnDEnd(C);j.context.draggable.onDropFromOutside({start:C,end:q,allDay:!1,resource:L}),j.reset()},j.handleDragOverFromOutside=function(M,D){var R=j.props.slotMetrics,P=R.closestSlotFromPoint({y:M.y,x:M.x},D),L=j._calculateDnDEnd(P),C=j.context.draggable.dragFromOutsideItem();j.update(C,R.getRange(P,L,!1,!0))},j._calculateDnDEnd=function(M){var D=j.props,R=D.accessors,P=D.slotMetrics,L=D.localizer,C=j.context.draggable.dragFromOutsideItem(),q=(0,x.eventTimes)(C,R,L),U=q.duration,z=P.nextSlot(M),W=!isNaN(U);if(W){var ee=L.add(M,U,"milliseconds");z=new Date(Math.max(ee,z))}return z},j.updateParentScroll=function(M,D){setTimeout(function(){var R=(0,f.default)(D,".rbc-addons-dnd-drag-preview")[0];R&&(R.offsetTop<M.scrollTop?(0,d.scrollTop)(M,Math.max(R.offsetTop,0)):R.offsetTop+R.offsetHeight>M.scrollTop+M.clientHeight&&(0,d.scrollTop)(M,Math.min(R.offsetTop-M.offsetHeight+R.offsetHeight,M.scrollHeight)))})},j._selectable=function(){var M=j.ref.current,D=M.children[0],R=!1,P=j._selector=new y.default(function(){return M.closest(".rbc-time-view")}),L=(0,d.scrollParent)(M);P.on("beforeSelect",function(C){var q=j.context.draggable.dragAndDropAction;if(!q.action)return!1;if(q.action==="resize")return(0,x.pointInColumn)((0,y.getBoundsForNode)(D),C);var U=(0,y.getEventNodeFromPoint)(D,C);if(!U)return!1;j.eventOffsetTop=C.y-(0,y.getBoundsForNode)(U).top}),P.on("selecting",function(C){var q=(0,y.getBoundsForNode)(D),U=j.context.draggable.dragAndDropAction;U.action==="move"&&(j.updateParentScroll(L,D),j.handleMove(C,q)),U.action==="resize"&&(j.updateParentScroll(L,D),j.handleResize(C,q))}),P.on("dropFromOutside",function(C){if(j.context.draggable.onDropFromOutside){var q=(0,y.getBoundsForNode)(D);(0,x.pointInColumn)(q,C)&&j.handleDropFromOutside(C,q)}}),P.on("dragOverFromOutside",function(C){var q=j.context.draggable.dragFromOutsideItem?j.context.draggable.dragFromOutsideItem():null;if(q){var U=(0,y.getBoundsForNode)(D);if(!(0,x.pointInColumn)(U,C))return j.reset();j.handleDragOverFromOutside(C,U)}}),P.on("selectStart",function(){R=!0,j.context.draggable.onStart()}),P.on("select",function(C){var q=(0,y.getBoundsForNode)(D);R=!1;var U=j.context.draggable.dragAndDropAction;if(U.action==="resize")j.handleInteractionEnd();else{if(!j.state.event||!(0,x.pointInColumn)(q,C))return;j.handleInteractionEnd()}}),P.on("click",function(){R&&j.reset(),j.context.draggable.onEnd(null)}),P.on("reset",function(){j.reset(),j.context.draggable.onEnd(null)})},j.handleInteractionEnd=function(){var M=j.props.resource,D=j.state.event;j.reset(),j.context.draggable.onEnd({start:D.start,end:D.end,resourceId:M})},j._teardownSelectable=function(){j._selector&&(j._selector.teardown(),j._selector=null)},j.state={},j.ref=m.default.createRef(),j}return(0,c.default)(S,_),(0,i.default)(S,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(E,T){var O=T.startDate,M=T.endDate,D=T.top,R=T.height,P=this.state.event;P&&O===P.start&&M===P.end||this.setState({top:D,height:R,event:(0,r.default)((0,r.default)({},E),{},{start:O,end:M})})}},{key:"handleResize",value:function(E,T){var O=this.props,M=O.accessors,D=O.slotMetrics,R=O.localizer,P=this.context.draggable.dragAndDropAction,L=P.event,C=P.direction,q=D.closestSlotFromPoint(E,T),U=(0,x.eventTimes)(L,M,R),z=U.start,W=U.end,ee;if(C==="UP"){var B=R.min(q,D.closestSlotFromDate(W,-1));ee=D.getRange(B,W),ee=(0,r.default)((0,r.default)({},ee),{},{endDate:W})}else if(C==="DOWN"){var H=R.max(q,D.closestSlotFromDate(z));ee=D.getRange(z,H),ee=(0,r.default)((0,r.default)({},ee),{},{startDate:z})}this.update(L,ee)}},{key:"renderContent",value:function(){var E=this.props,T=E.children,O=E.accessors,M=E.components,D=E.getters,R=E.slotMetrics,P=E.localizer,L=this.state,C=L.event,q=L.top,U=L.height;if(!C)return T;var z=T.props.children,W=C.start,ee=C.end,B,H="eventTimeRangeFormat",te=R.startsBeforeDay(W),le=R.startsAfterDay(ee);return te?H="eventTimeRangeEndFormat":le&&(H="eventTimeRangeStartFormat"),te&&le?B=P.messages.allDay:B=P.format({start:W,end:ee},H),m.default.cloneElement(T,{children:m.default.createElement(m.default.Fragment,null,z,C&&m.default.createElement(b.default,{event:C,label:B,className:"rbc-addons-dnd-drag-preview",style:{top:q,height:U,width:100},getters:D,components:M,accessors:(0,r.default)((0,r.default)({},O),x.dragAccessors),continuesPrior:te,continuesAfter:le}))})}},{key:"render",value:function(){return m.default.createElement("div",{ref:this.ref},this.renderContent())}}])})(m.default.Component);return w.contextType=v.DnDContext,rl.default=w,rl}var al={},B0={exports:{}},H0={exports:{}},F0={exports:{}},AO;function GR(){return AO||(AO=1,(function(t){function e(r,a){(a==null||a>r.length)&&(a=r.length);for(var i=0,l=Array(a);i<a;i++)l[i]=r[i];return l}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(F0)),F0.exports}var RO;function MB(){return RO||(RO=1,(function(t){var e=GR();function r(a){if(Array.isArray(a))return e(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(H0)),H0.exports}var G0={exports:{}},DO;function qB(){return DO||(DO=1,(function(t){function e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(G0)),G0.exports}var W0={exports:{}},kO;function PB(){return kO||(kO=1,(function(t){var e=GR();function r(a,i){if(a){if(typeof a=="string")return e(a,i);var l={}.toString.call(a).slice(8,-1);return l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?e(a,i):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(W0)),W0.exports}var Y0={exports:{}},MO;function LB(){return MO||(MO=1,(function(t){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Y0)),Y0.exports}var qO;function WR(){return qO||(qO=1,(function(t){var e=MB(),r=qB(),a=PB(),i=LB();function l(c){return e(c)||r(c)||a(c)||i()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports})(B0)),B0.exports}var sl={},il={},ol={},PO;function $B(){if(PO)return ol;PO=1;var t=er().default;Object.defineProperty(ol,"__esModule",{value:!0}),ol.default=void 0;var e=t(La()),r=t(Ub()),a=t(As()),i=t(Rs()),l=t(Xi()),c=t(Qi()),d=t(Cr()),f=t(nc),m=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],v=(function(y){function b(){return(0,a.default)(this,b),(0,l.default)(this,b,arguments)}return(0,c.default)(b,y),(0,i.default)(b,[{key:"render",value:function(){var w=this.props,_=w.style,S=w.className,j=w.event,E=w.selected,T=w.isAllDay,O=w.onSelect,M=w.onDoubleClick,D=w.onKeyPress,R=w.localizer,P=w.continuesPrior,L=w.continuesAfter,C=w.accessors,q=w.getters,U=w.children,z=w.components,W=z.event,ee=z.eventWrapper,B=w.slotStart,H=w.slotEnd,te=(0,r.default)(w,m);delete te.resizable;var le=C.title(j),V=C.tooltip(j),$=C.end(j),X=C.start(j),oe=C.allDay(j),ue=T||oe||R.diff(X,R.ceil($,"day"),"day")>1,fe=q.eventProp(j,X,$,E),pe=d.default.createElement("div",{className:"rbc-event-content",title:V||void 0},W?d.default.createElement(W,{event:j,continuesPrior:P,continuesAfter:L,title:le,isAllDay:oe,localizer:R,slotStart:B,slotEnd:H}):le);return d.default.createElement(ee,Object.assign({},this.props,{type:"date"}),d.default.createElement("div",Object.assign({},te,{style:(0,e.default)((0,e.default)({},fe.style),_),className:(0,f.default)("rbc-event",S,fe.className,{"rbc-selected":E,"rbc-event-allday":ue,"rbc-event-continues-prior":P,"rbc-event-continues-after":L}),onClick:function(ke){return O&&O(j,ke)},onDoubleClick:function(ke){return M&&M(j,ke)},onKeyDown:function(ke){return D&&D(j,ke)}}),typeof U=="function"?U(pe):pe))}}])})(d.default.Component);return ol.default=v,ol}var ja={},LO;function YR(){if(LO)return ja;LO=1;var t=er().default;Object.defineProperty(ja,"__esModule",{value:!0}),ja.dateCellSelection=c,ja.getSlotAtX=i,ja.isSelected=r,ja.pointInBox=l,ja.slotWidth=a;var e=t(BA());function r(d,f){return!d||f==null?!1:(0,e.default)(d,f)}function a(d,f){var m=d.right-d.left,v=m/f;return v}function i(d,f,m,v){var y=a(d,v);return m?v-1-Math.floor((f-d.left)/y):Math.floor((f-d.left)/y)}function l(d,f){var m=f.x,v=f.y;return v>=d.top&&v<=d.bottom&&m>=d.left&&m<=d.right}function c(d,f,m,v,y){var b=-1,x=-1,w=v-1,_=a(f,v),S=i(f,m.x,y,v),j=f.top<m.y&&f.bottom>m.y,E=f.top<d.y&&f.bottom>d.y,T=d.y>f.bottom,O=f.top>d.y,M=m.top<f.top&&m.bottom>f.bottom;return M&&(b=0,x=w),j&&(O?(b=0,x=S):T&&(b=S,x=w)),E&&(b=x=y?w-Math.floor((d.x-f.left)/_):Math.floor((d.x-f.left)/_),j?S<b?b=S:x=S:d.y<m.y?x=w:b=0),{startIdx:b,endIdx:x}}return ja}var $O;function UB(){if($O)return il;$O=1;var t=er().default;Object.defineProperty(il,"__esModule",{value:!0}),il.default=void 0;var e=t(Qy()),r=t(Cr()),a=t($B()),i=YR();return il.default={propTypes:{slotMetrics:e.default.object.isRequired,selected:e.default.object,isAllDay:e.default.bool,accessors:e.default.object.isRequired,localizer:e.default.object.isRequired,components:e.default.object.isRequired,getters:e.default.object.isRequired,onSelect:e.default.func,onDoubleClick:e.default.func,onKeyPress:e.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(c,d){var f=c.selected;c.isAllDay;var m=c.accessors,v=c.getters,y=c.onSelect,b=c.onDoubleClick,x=c.onKeyPress,w=c.localizer,_=c.slotMetrics,S=c.components,j=c.resizable,E=_.continuesPrior(d),T=_.continuesAfter(d);return r.default.createElement(a.default,{event:d,getters:v,localizer:w,accessors:m,components:S,onSelect:y,onDoubleClick:b,onKeyPress:x,continuesPrior:E,continuesAfter:T,slotStart:_.first,slotEnd:_.last,selected:(0,i.isSelected)(d,f),resizable:j})},renderSpan:function(c,d,f){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",v=Math.abs(d)/c*100+"%";return r.default.createElement("div",{key:f,className:"rbc-row-segment",style:{WebkitFlexBasis:v,flexBasis:v,maxWidth:v}},m)}},il}var UO;function zB(){if(UO)return sl;UO=1;var t=er().default;Object.defineProperty(sl,"__esModule",{value:!0}),sl.default=void 0;var e=t(La()),r=t(As()),a=t(Rs()),i=t(Xi()),l=t(Qi()),c=t(nc),d=t(Cr()),f=t(UB()),m=(function(v){function y(){return(0,r.default)(this,y),(0,i.default)(this,y,arguments)}return(0,l.default)(y,v),(0,a.default)(y,[{key:"render",value:function(){var x=this,w=this.props,_=w.segments,S=w.slotMetrics.slots,j=w.className,E=1;return d.default.createElement("div",{className:(0,c.default)(j,"rbc-row")},_.reduce(function(T,O,M){var D=O.event,R=O.left,P=O.right,L=O.span,C="_lvl_"+M,q=R-E,U=f.default.renderEvent(x.props,D);return q&&T.push(f.default.renderSpan(S,q,"".concat(C,"_gap"))),T.push(f.default.renderSpan(S,L,C,U)),E=P+1,T},[]))}}])})(d.default.Component);return m.defaultProps=(0,e.default)({},f.default.defaultProps),sl.default=m,sl}var un={},zO;function IB(){if(zO)return un;zO=1;var t=er().default;Object.defineProperty(un,"__esModule",{value:!0}),un.endOfRange=a,un.eventLevels=l,un.eventSegments=i,un.inRange=c,un.segsOverlap=d,un.sortEvents=m,un.sortWeekEvents=f;var e=t(WR()),r=t(GA());function a(v){var y=v.dateRange,b=v.unit,x=b===void 0?"day":b,w=v.localizer;return{first:y[0],last:w.add(y[y.length-1],1,x)}}function i(v,y,b,x){var w=a({dateRange:y,localizer:x}),_=w.first,S=w.last,j=x.diff(_,S,"day"),E=x.max(x.startOf(b.start(v),"day"),_),T=x.min(x.ceil(b.end(v),"day"),S),O=(0,r.default)(y,function(D){return x.isSameDate(D,E)}),M=x.diff(E,T,"day");return M=Math.min(M,j),M=Math.max(M-x.segmentOffset,1),{event:v,span:M,left:O+1,right:Math.max(O+M,1)}}function l(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,b,x,w,_=[],S=[];for(b=0;b<v.length;b++){for(w=v[b],x=0;x<_.length&&d(w,_[x]);x++);x>=y?S.push(w):(_[x]||(_[x]=[])).push(w)}for(b=0;b<_.length;b++)_[b].sort(function(j,E){return j.left-E.left});return{levels:_,extra:S}}function c(v,y,b,x,w){var _={start:x.start(v),end:x.end(v)},S={start:y,end:b};return w.inEventRange({event:_,range:S})}function d(v,y){return y.some(function(b){return b.left<=v.right&&b.right>=v.left})}function f(v,y,b){var x=(0,e.default)(v),w=[],_=[];x.forEach(function(E){var T=y.start(E),O=y.end(E);b.daySpan(T,O)>1?w.push(E):_.push(E)});var S=w.sort(function(E,T){return m(E,T,y,b)}),j=_.sort(function(E,T){return m(E,T,y,b)});return[].concat((0,e.default)(S),(0,e.default)(j))}function m(v,y,b,x){var w={start:b.start(v),end:b.end(v),allDay:b.allDay(v)},_={start:b.start(y),end:b.end(y),allDay:b.allDay(y)};return x.sortEvents({evtA:w,evtB:_})}return un}var IO;function BB(){if(IO)return al;IO=1;var t=jR().default,e=er().default;Object.defineProperty(al,"__esModule",{value:!0}),al.default=void 0;var r=e(La()),a=e(WR()),i=e(As()),l=e(Rs()),c=e(Xi()),d=e(Qi()),f=e(Cr()),m=e(zB()),v=t(FR()),y=IB(),b=YR(),x=Hb(),w=df(),_=(function(S){function j(){var E;(0,i.default)(this,j);for(var T=arguments.length,O=new Array(T),M=0;M<T;M++)O[M]=arguments[M];return E=(0,c.default)(this,j,[].concat(O)),E.handleMove=function(D,R,P){if(!(0,b.pointInBox)(R,D))return E.reset();var L=E.context.draggable.dragAndDropAction.event||P,C=E.props,q=C.accessors,U=C.slotMetrics,z=C.rtl,W=C.localizer,ee=(0,b.getSlotAtX)(R,D.x,z,U.slots),B=U.getDateForSlot(ee),H=(0,x.eventTimes)(L,q,W),te=H.start,le=H.duration;te=W.merge(B,te);var V=W.add(te,le,"milliseconds");E.update(L,te,V)},E.handleDropFromOutside=function(D,R){if(E.context.draggable.onDropFromOutside){var P=E.props,L=P.slotMetrics,C=P.rtl,q=P.localizer,U=(0,b.getSlotAtX)(R,D.x,C,L.slots),z=L.getDateForSlot(U);E.context.draggable.onDropFromOutside({start:z,end:q.add(z,1,"day"),allDay:!1})}},E.handleDragOverFromOutside=function(D,R){var P=E.context.draggable.dragFromOutsideItem?E.context.draggable.dragFromOutsideItem():null;P&&E.handleMove(D,R,P)},E._selectable=function(){var D=E.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),R=D.closest(".rbc-month-view, .rbc-time-view"),P=D.classList.contains("rbc-month-row"),L=E._selector=new v.default(function(){return R},{validContainers:(0,a.default)(P?[]:[".rbc-day-slot",".rbc-allday-cell"])});L.on("beforeSelect",function(C){var q=E.props.isAllDay,U=E.context.draggable.dragAndDropAction.action,z=(0,v.getBoundsForNode)(D),W=(0,b.pointInBox)(z,C);return U==="move"||U==="resize"&&(!q||W)}),L.on("selecting",function(C){var q=(0,v.getBoundsForNode)(D),U=E.context.draggable.dragAndDropAction;U.action==="move"&&E.handleMove(C,q),U.action==="resize"&&E.handleResize(C,q)}),L.on("selectStart",function(){return E.context.draggable.onStart()}),L.on("select",function(C){var q=(0,v.getBoundsForNode)(D);E.state.segment&&((0,b.pointInBox)(q,C)?E.handleInteractionEnd():E.reset())}),L.on("dropFromOutside",function(C){if(E.context.draggable.onDropFromOutside){var q=(0,v.getBoundsForNode)(D);(0,b.pointInBox)(q,C)&&E.handleDropFromOutside(C,q)}}),L.on("dragOverFromOutside",function(C){if(E.context.draggable.dragFromOutsideItem){var q=(0,v.getBoundsForNode)(D);E.handleDragOverFromOutside(C,q)}}),L.on("click",function(){return E.context.draggable.onEnd(null)}),L.on("reset",function(){E.reset(),E.context.draggable.onEnd(null)})},E.handleInteractionEnd=function(){var D=E.props,R=D.resourceId,P=D.isAllDay,L=E.state.segment.event;E.reset(),E.context.draggable.onEnd({start:L.start,end:L.end,resourceId:R,isAllDay:P})},E._teardownSelectable=function(){E._selector&&(E._selector.teardown(),E._selector=null)},E.state={},E.ref=f.default.createRef(),E}return(0,d.default)(j,S),(0,l.default)(j,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(T,O,M){var D=(0,y.eventSegments)((0,r.default)((0,r.default)({},T),{},{end:M,start:O,__isPreview:!0}),this.props.slotMetrics.range,x.dragAccessors,this.props.localizer),R=this.state.segment;R&&D.span===R.span&&D.left===R.left&&D.right===R.right||this.setState({segment:D})}},{key:"handleResize",value:function(T,O){var M=this.context.draggable.dragAndDropAction,D=M.event,R=M.direction,P=this.props,L=P.accessors,C=P.slotMetrics,q=P.rtl,U=P.localizer,z=(0,x.eventTimes)(D,L,U),W=z.start,ee=z.end,B=(0,b.getSlotAtX)(O,T.x,q,C.slots),H=C.getDateForSlot(B),te=(0,b.pointInBox)(O,T);if(R==="RIGHT"){if(te){if(C.last<W)return this.reset();U.eq(U.startOf(ee,"day"),ee)?ee=U.add(H,1,"day"):ee=H}else if(U.inRange(W,C.first,C.last)||O.bottom<T.y&&+C.first>+W)ee=U.add(C.last,1,"milliseconds");else{this.setState({segment:null});return}var le=L.end(D);ee=U.merge(ee,le),U.lt(ee,W)&&(ee=le)}else if(R==="LEFT"){if(te){if(C.first>ee)return this.reset();W=H}else if(U.inRange(ee,C.first,C.last)||O.top>T.y&&U.lt(C.last,ee))W=U.add(C.first,-1,"milliseconds");else{this.reset();return}var V=L.start(D);W=U.merge(W,V),U.gt(W,ee)&&(W=V)}this.update(D,W,ee)}},{key:"render",value:function(){var T=this.props,O=T.children,M=T.accessors,D=this.state.segment;return f.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},O,D&&f.default.createElement(m.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[D],accessors:(0,r.default)((0,r.default)({},M),x.dragAccessors)})))}}])})(f.default.Component);return _.contextType=w.DnDContext,al.default=_,al}var BO;function HB(){if(BO)return qu;BO=1;var t=er().default;Object.defineProperty(qu,"__esModule",{value:!0}),qu.default=_;var e=t(La()),r=t(Ub()),a=t(As()),i=t(Rs()),l=t(Xi()),c=t(Qi()),d=t(Cr()),f=t(nc);pB();var m=t(vB()),v=t(kB()),y=t(BB()),b=Hb(),x=df(),w=["selectable","elementProps","components"];function _(S){var j=(function(E){function T(){var O;(0,a.default)(this,T);for(var M=arguments.length,D=new Array(M),R=0;R<M;R++)D[R]=arguments[R];return O=(0,l.default)(this,T,[].concat(D)),O.defaultOnDragOver=function(P){P.preventDefault()},O.handleBeginAction=function(P,L,C){O.setState({event:P,action:L,direction:C});var q=O.props.onDragStart;q&&q({event:P,action:L,direction:C})},O.handleInteractionStart=function(){O.state.interacting===!1&&O.setState({interacting:!0})},O.handleInteractionEnd=function(P){var L=O.state,C=L.action,q=L.event;if(C&&(O.setState({action:null,event:null,interacting:!1,direction:null}),P!=null)){P.event=q;var U=O.props,z=U.onEventDrop,W=U.onEventResize;C==="move"&&z&&z(P),C==="resize"&&W&&W(P)}},O.state={interacting:!1},O}return(0,c.default)(T,E),(0,i.default)(T,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var M=this.props,D=M.selectable,R=M.elementProps,P=M.components,L=(0,r.default)(M,w),C=this.state.interacting;delete L.onEventDrop,delete L.onEventResize,L.selectable=D?"ignoreEvents":!1,this.components=(0,b.mergeComponents)(P,{eventWrapper:m.default,eventContainerWrapper:v.default,weekWrapper:y.default});var q=this.props.onDropFromOutside?(0,e.default)((0,e.default)({},R),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):R;L.className=(0,f.default)(L.className,"rbc-addons-dnd",!!C&&"rbc-addons-dnd-is-dragging");var U=this.getDnDContextValue();return d.default.createElement(x.DnDContext.Provider,{value:U},d.default.createElement(S,Object.assign({},L,{elementProps:q,components:this.components})))}}])})(d.default.Component);return j.defaultProps=(0,e.default)((0,e.default)({},S.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),j}return qu}var HO;function FB(){if(HO)return Zo;HO=1;var t=er().default;Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.default=void 0;var e=t(HB());return Zo.default=e.default,Zo}var GB=FB();const WB=Qt(GB),VR=6048e5,YB=864e5,Lu=43200,FO=1440,GO=Symbol.for("constructDateFrom");function Gr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&GO in t?t[GO](e):t instanceof Date?new t.constructor(e):new Date(e)}function at(t,e){return Gr(e||t,t)}function Os(t,e,r){const a=at(t,r?.in);return isNaN(e)?Gr(t,NaN):(e&&a.setDate(a.getDate()+e),a)}function Fb(t,e,r){const a=at(t,r?.in);if(isNaN(e))return Gr(t,NaN);if(!e)return a;const i=a.getDate(),l=Gr(t,a.getTime());l.setMonth(a.getMonth()+e+1,0);const c=l.getDate();return i>=c?l:(a.setFullYear(l.getFullYear(),l.getMonth(),i),a)}let VB={};function Ji(){return VB}function Ra(t,e){const r=Ji(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=at(t,e?.in),l=i.getDay(),c=(l<a?7:0)+l-a;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function wd(t,e){return Ra(t,{...e,weekStartsOn:1})}function KR(t,e){const r=at(t,e?.in),a=r.getFullYear(),i=Gr(r,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=wd(i),c=Gr(r,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const d=wd(c);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function _d(t){const e=at(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Zi(t,...e){const r=Gr.bind(null,t||e.find(a=>typeof a=="object"));return e.map(r)}function Ir(t,e){const r=at(t,e?.in);return r.setHours(0,0,0,0),r}function KB(t,e,r){const[a,i]=Zi(r?.in,t,e),l=Ir(a),c=Ir(i),d=+l-_d(l),f=+c-_d(c);return Math.round((d-f)/YB)}function XB(t,e){const r=KR(t,e),a=Gr(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),wd(a)}function XR(t,e,r){return Os(t,e*7,r)}function rd(t,e){const r=+at(t)-+at(e);return r<0?-1:r>0?1:r}function QB(t){return Gr(t,Date.now())}function QR(t,e,r){const[a,i]=Zi(r?.in,t,e);return+Ir(a)==+Ir(i)}function JB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ZB(t){return!(!JB(t)&&typeof t!="number"||isNaN(+at(t)))}function e8(t,e,r){const[a,i]=Zi(r?.in,t,e),l=a.getFullYear()-i.getFullYear(),c=a.getMonth()-i.getMonth();return l*12+c}function t8(t){return e=>{const a=(t?Math[t]:Math.trunc)(e);return a===0?0:a}}function r8(t,e){return+at(t)-+at(e)}function n8(t,e){const r=at(t,e?.in);return r.setHours(23,59,59,999),r}function JR(t,e){const r=at(t,e?.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function a8(t,e){const r=at(t,e?.in);return+n8(r,e)==+JR(r,e)}function s8(t,e,r){const[a,i,l]=Zi(r?.in,t,t,e),c=rd(i,l),d=Math.abs(e8(i,l));if(d<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-c*d);let f=rd(i,l)===-c;a8(a)&&d===1&&rd(a,l)===1&&(f=!1);const m=c*(d-+f);return m===0?0:m}function i8(t,e,r){const a=r8(t,e)/1e3;return t8(r?.roundingMethod)(a)}function o8(t,e){const r=at(t,e?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function l8(t,e){const r=at(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ZR(t,e){const r=Ji(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=at(t,e?.in),l=i.getDay(),c=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const c8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u8=(t,e,r)=>{let a;const i=c8[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Ti(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const d8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},f8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},h8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m8={date:Ti({formats:d8,defaultWidth:"full"}),time:Ti({formats:f8,defaultWidth:"full"}),dateTime:Ti({formats:h8,defaultWidth:"full"})},p8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},v8=(t,e,r,a)=>p8[t];function hn(t){return(e,r)=>{const a=r?.context?String(r.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=r?.width?String(r.width):c;i=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=r?.width?String(r.width):t.defaultWidth;i=t.values[d]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const g8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},x8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},w8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},S8=(t,e)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},E8={ordinalNumber:S8,era:hn({values:g8,defaultWidth:"wide"}),quarter:hn({values:y8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hn({values:b8,defaultWidth:"wide"}),day:hn({values:x8,defaultWidth:"wide"}),dayPeriod:hn({values:w8,defaultWidth:"wide",formattingValues:_8,defaultFormattingWidth:"wide"})};function mn(t){return(e,r={})=>{const a=r.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const c=l[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(d)?N8(d,y=>y.test(c)):j8(d,y=>y.test(c));let m;m=t.valueCallback?t.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const v=e.slice(c.length);return{value:m,rest:v}}}function j8(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function N8(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function eD(t){return(e,r={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(i.length);return{value:c,rest:d}}}const T8=/^(\d+)(th|st|nd|rd)?/i,O8=/\d+/i,C8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},A8={any:[/^b/i,/^(a|c)/i]},R8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},D8={any:[/1/i,/2/i,/3/i,/4/i]},k8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},q8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},L8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U8={ordinalNumber:eD({matchPattern:T8,parsePattern:O8,valueCallback:t=>parseInt(t,10)}),era:mn({matchPatterns:C8,defaultMatchWidth:"wide",parsePatterns:A8,defaultParseWidth:"any"}),quarter:mn({matchPatterns:R8,defaultMatchWidth:"wide",parsePatterns:D8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mn({matchPatterns:k8,defaultMatchWidth:"wide",parsePatterns:M8,defaultParseWidth:"any"}),day:mn({matchPatterns:q8,defaultMatchWidth:"wide",parsePatterns:P8,defaultParseWidth:"any"}),dayPeriod:mn({matchPatterns:L8,defaultMatchWidth:"any",parsePatterns:$8,defaultParseWidth:"any"})},tD={code:"en-US",formatDistance:u8,formatLong:m8,formatRelative:v8,localize:E8,match:U8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z8(t,e){const r=at(t,e?.in);return KB(r,l8(r))+1}function I8(t,e){const r=at(t,e?.in),a=+wd(r)-+XB(r);return Math.round(a/VR)+1}function rD(t,e){const r=at(t,e?.in),a=r.getFullYear(),i=Ji(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Gr(e?.in||t,0);c.setFullYear(a+1,0,l),c.setHours(0,0,0,0);const d=Ra(c,e),f=Gr(e?.in||t,0);f.setFullYear(a,0,l),f.setHours(0,0,0,0);const m=Ra(f,e);return+r>=+d?a+1:+r>=+m?a:a-1}function B8(t,e){const r=Ji(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=rD(t,e),l=Gr(e?.in||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),Ra(l,e)}function H8(t,e){const r=at(t,e?.in),a=+Ra(r,e)-+B8(r,e);return Math.round(a/VR)+1}function We(t,e){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return r+a}const Na={y(t,e){const r=t.getFullYear(),a=r>0?r:1-r;return We(e==="yy"?a%100:a,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):We(r+1,2)},d(t,e){return We(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return We(t.getHours()%12||12,e.length)},H(t,e){return We(t.getHours(),e.length)},m(t,e){return We(t.getMinutes(),e.length)},s(t,e){return We(t.getSeconds(),e.length)},S(t,e){const r=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return We(i,e.length)}},wi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},WO={G:function(t,e,r){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return Na.y(t,e)},Y:function(t,e,r,a){const i=rD(t,a),l=i>0?i:1-i;if(e==="YY"){const c=l%100;return We(c,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):We(l,e.length)},R:function(t,e){const r=KR(t);return We(r,e.length)},u:function(t,e){const r=t.getFullYear();return We(r,e.length)},Q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return We(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return We(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){const a=t.getMonth();switch(e){case"M":case"MM":return Na.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return We(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){const i=H8(t,a);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):We(i,e.length)},I:function(t,e,r){const a=I8(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):We(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Na.d(t,e)},D:function(t,e,r){const a=z8(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):We(a,e.length)},E:function(t,e,r){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return We(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return We(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return We(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const a=t.getHours();let i;switch(a===12?i=wi.noon:a===0?i=wi.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const a=t.getHours();let i;switch(a>=17?i=wi.evening:a>=12?i=wi.afternoon:a>=4?i=wi.morning:i=wi.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Na.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Na.H(t,e)},K:function(t,e,r){const a=t.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):We(a,e.length)},k:function(t,e,r){let a=t.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):We(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Na.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Na.s(t,e)},S:function(t,e){return Na.S(t,e)},X:function(t,e,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return VO(a);case"XXXX":case"XX":return ls(a);case"XXXXX":case"XXX":default:return ls(a,":")}},x:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"x":return VO(a);case"xxxx":case"xx":return ls(a);case"xxxxx":case"xxx":default:return ls(a,":")}},O:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+YO(a,":");case"OOOO":default:return"GMT"+ls(a,":")}},z:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+YO(a,":");case"zzzz":default:return"GMT"+ls(a,":")}},t:function(t,e,r){const a=Math.trunc(+t/1e3);return We(a,e.length)},T:function(t,e,r){return We(+t,e.length)}};function YO(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?r+String(i):r+String(i)+e+We(l,2)}function VO(t,e){return t%60===0?(t>0?"-":"+")+We(Math.abs(t)/60,2):ls(t,e)}function ls(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=We(Math.trunc(a/60),2),l=We(a%60,2);return r+i+e+l}const KO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},F8=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return KO(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",KO(a,e)).replace("{{time}}",nD(i,e))},G8={p:nD,P:F8},W8=/^D+$/,Y8=/^Y+$/,V8=["D","DD","YY","YYYY"];function K8(t){return W8.test(t)}function X8(t){return Y8.test(t)}function Q8(t,e,r){const a=J8(t,e,r);if(console.warn(a),V8.includes(t))throw new RangeError(a)}function J8(t,e,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,eH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tH=/^'([^]*?)'?$/,rH=/''/g,nH=/[a-zA-Z]/;function Ct(t,e,r){const a=Ji(),i=r?.locale??a.locale??tD,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d=at(t,r?.in);if(!ZB(d))throw new RangeError("Invalid time value");let f=e.match(eH).map(v=>{const y=v[0];if(y==="p"||y==="P"){const b=G8[y];return b(v,i.formatLong)}return v}).join("").match(Z8).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:aH(v)};if(WO[y])return{isToken:!0,value:v};if(y.match(nH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(f=i.localize.preprocessor(d,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return f.map(v=>{if(!v.isToken)return v.value;const y=v.value;(!r?.useAdditionalWeekYearTokens&&X8(y)||!r?.useAdditionalDayOfYearTokens&&K8(y))&&Q8(y,e,String(t));const b=WO[y[0]];return b(d,y,i.localize,m)}).join("")}function aH(t){const e=t.match(tH);return e?e[1].replace(rH,"'"):t}function sH(t,e,r){const a=Ji(),i=r?.locale??a.locale??tD,l=2520,c=rd(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:c}),[f,m]=Zi(r?.in,...c>0?[e,t]:[t,e]),v=i8(m,f),y=(_d(m)-_d(f))/1e3,b=Math.round((v-y)/60);let x;if(b<2)return r?.includeSeconds?v<5?i.formatDistance("lessThanXSeconds",5,d):v<10?i.formatDistance("lessThanXSeconds",10,d):v<20?i.formatDistance("lessThanXSeconds",20,d):v<40?i.formatDistance("halfAMinute",0,d):v<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):b===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",b,d);if(b<45)return i.formatDistance("xMinutes",b,d);if(b<90)return i.formatDistance("aboutXHours",1,d);if(b<FO){const w=Math.round(b/60);return i.formatDistance("aboutXHours",w,d)}else{if(b<l)return i.formatDistance("xDays",1,d);if(b<Lu){const w=Math.round(b/FO);return i.formatDistance("xDays",w,d)}else if(b<Lu*2)return x=Math.round(b/Lu),i.formatDistance("aboutXMonths",x,d)}if(x=s8(m,f),x<12){const w=Math.round(b/Lu);return i.formatDistance("xMonths",w,d)}else{const w=x%12,_=Math.trunc(x/12);return w<3?i.formatDistance("aboutXYears",_,d):w<9?i.formatDistance("overXYears",_,d):i.formatDistance("almostXYears",_+1,d)}}function Sd(t,e){return sH(t,QB(t),e)}function iH(t,e){return at(t,e?.in).getDay()}function oH(t,e,r){const[a,i]=Zi(r?.in,t,e);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}function lH(t,e,r){return Os(t,-1,r)}function aD(t,e,r){const a=at(t,r?.in);return a.setHours(e),a}function sD(t,e,r){const a=at(t,r?.in);return a.setMinutes(e),a}function iD(t,e,r){return Fb(t,-e,r)}function cH(t,e,r){return XR(t,-1,r)}const uH={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},dH=(t,e,r)=>{let a;const i=uH[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"en "+a:"hace "+a:a},fH={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},hH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},mH={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pH={date:Ti({formats:fH,defaultWidth:"full"}),time:Ti({formats:hH,defaultWidth:"full"}),dateTime:Ti({formats:mH,defaultWidth:"full"})},vH={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},gH={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},yH=(t,e,r,a)=>e.getHours()!==1?gH[t]:vH[t],bH={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},xH={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},wH={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},_H={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},SH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},EH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},jH=(t,e)=>Number(t)+"",NH={ordinalNumber:jH,era:hn({values:bH,defaultWidth:"wide"}),quarter:hn({values:xH,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:hn({values:wH,defaultWidth:"wide"}),day:hn({values:_H,defaultWidth:"wide"}),dayPeriod:hn({values:SH,defaultWidth:"wide",formattingValues:EH,defaultFormattingWidth:"wide"})},TH=/^(\d+)()?/i,OH=/\d+/i,CH={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},AH={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},RH={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},DH={any:[/1/i,/2/i,/3/i,/4/i]},kH={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},MH={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},qH={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},PH={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},LH={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},$H={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},UH={ordinalNumber:eD({matchPattern:TH,parsePattern:OH,valueCallback:function(t){return parseInt(t,10)}}),era:mn({matchPatterns:CH,defaultMatchWidth:"wide",parsePatterns:AH,defaultParseWidth:"any"}),quarter:mn({matchPatterns:RH,defaultMatchWidth:"wide",parsePatterns:DH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mn({matchPatterns:kH,defaultMatchWidth:"wide",parsePatterns:MH,defaultParseWidth:"any"}),day:mn({matchPatterns:qH,defaultMatchWidth:"wide",parsePatterns:PH,defaultParseWidth:"any"}),dayPeriod:mn({matchPatterns:LH,defaultMatchWidth:"any",parsePatterns:$H,defaultParseWidth:"any"})},qt={code:"es",formatDistance:dH,formatLong:pH,formatRelative:yH,localize:NH,match:UH,options:{weekStartsOn:1,firstWeekContainsDate:1}},zH={es:qt},IH=iB({format:Ct,startOfWeek:()=>Ra(new Date,{weekStartsOn:1}),getDay:iH,locales:zH}),BH={allDay:"Todo el da",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango.",showMore:t=>`+ ${t} ms`},HH={month:"Mes",week:"Semana",day:"Da",agenda:"Agenda"},ll={step:15,timeslots:4,minTime:new Date(0,0,0,7,0,0),maxTime:new Date(0,0,0,22,0,0),defaultView:"week"};function FH(t,e){switch(e){case"month":return Ct(t,"MMMM yyyy",{locale:qt});case"week":{const r=Ra(t,{weekStartsOn:1}),a=ZR(t,{weekStartsOn:1});return oH(r,a)?`${Ct(r,"d",{locale:qt})} - ${Ct(a,"d MMMM yyyy",{locale:qt})}`:`${Ct(r,"d MMM",{locale:qt})} - ${Ct(a,"d MMM yyyy",{locale:qt})}`}case"day":return Ct(t,"EEEE, d 'de' MMMM yyyy",{locale:qt});case"agenda":return Ct(t,"MMMM yyyy",{locale:qt});default:return Ct(t,"MMMM yyyy",{locale:qt})}}function GH({currentDate:t,currentView:e,onNavigate:r,onViewChange:a,eventsToday:i=0,onNewAppointment:l,isRefreshing:c=!1}){const d=["month","week","day","agenda"],f=A.useMemo(()=>FH(t,e),[t,e]),m=A.useMemo(()=>{const v=new Date;return t.toDateString()===v.toDateString()},[t]);return h.jsx("div",{className:"flex flex-col gap-4 mb-6",children:h.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l&&h.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-xl transition-all shadow-sm hover:shadow-md active:scale-[0.98]",children:[h.jsx(Vn,{className:"h-4 w-4"}),h.jsx("span",{children:"Nueva Cita"})]}),h.jsxs("div",{className:"flex items-center bg-slate-100 rounded-xl p-1 shadow-inner",children:[h.jsx("button",{onClick:()=>r("PREV"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Anterior",children:h.jsx(Yy,{className:"h-5 w-5 text-slate-600"})}),h.jsx("button",{onClick:()=>r("TODAY"),disabled:m,className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all ${m?"text-slate-400 cursor-default":"text-indigo-600 hover:bg-white hover:shadow-sm active:scale-95"}`,children:"Hoy"}),h.jsx("button",{onClick:()=>r("NEXT"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Siguiente",children:h.jsx(Ai,{className:"h-5 w-5 text-slate-600"})})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-800 capitalize whitespace-nowrap",children:f}),c&&h.jsx(Tt,{className:"h-4 w-4 text-slate-400 animate-spin"}),i>0&&h.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-semibold rounded-full border border-indigo-100",children:[h.jsx(nn,{className:"h-3.5 w-3.5"}),i," hoy"]})]})]}),h.jsx("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-xl shadow-inner",children:d.map(v=>h.jsx("button",{onClick:()=>a(v),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${e===v?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800 hover:bg-white/50"}`,children:HH[v]},v))})]})})}const ff="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/create-calendar-event",WH="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function YH(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),c=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],f=r.toTimeString().slice(0,5),m=await fetch(ff,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"create",calendarId:t.calendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:c,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:f,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id,htmlLink:v.event?.htmlLink}:{success:!1,error:v.error||"Failed to create appointment"}}async function VH(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(ff,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"delete",calendarId:t.calendarId,eventId:t.eventId})}),a=await r.json();return r.ok?{success:!0}:{success:!1,error:a.error||"Failed to delete appointment"}}async function KH(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),c=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],f=r.toTimeString().slice(0,5),m=await fetch(ff,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,oldCalendarId:t.oldCalendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:c,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:f,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id}:{success:!1,error:v.error||"Failed to update appointment"}}async function XH(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=t.newStart.toISOString(),a=t.newEnd.toISOString(),i=t.newStart.toISOString().split("T")[0],l=t.newStart.toTimeString().slice(0,5),c=await fetch(ff,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,summary:t.title,startTime:r,endTime:a,description:t.description,logData:{appointmentDate:i,appointmentTime:l}})}),d=await c.json();return c.ok?{success:!0}:{success:!1,error:d.error||"Failed to reschedule appointment"}}async function oD(t){const{data:e,error:r}=await Te.from("clients").select("*").eq("salon_id",t).order("name");if(r)throw new Error("Failed to fetch clients");return e||[]}async function Ed(t){const{data:e,error:r}=await Te.from("services").select("*").eq("salon_id",t).eq("active",!0).order("category").order("display_order");if(r)throw new Error("Failed to fetch services");return e||[]}async function QH(t,e,r,a){const{data:i,error:l}=await Te.from("clients").insert({salon_id:t,name:e.trim(),phone:r.trim(),email:a?.trim()||null,source:"manual"}).select().single();if(l)throw l.code==="23505"?new Error("Ya existe un cliente con ese telfono"):new Error("Failed to create client");return i}async function lD(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t);r.setHours(0,0,0,0);const a=new Date(t);a.setHours(23,59,59,999);const i=await fetch(WH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({timeMin:r.toISOString(),timeMax:a.toISOString()})});if(!i.ok)throw new Error("Failed to fetch events");return((await i.json()).events||[]).map(c=>({...c,start:new Date(c.start),end:new Date(c.end)}))}const JH={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"};function cD(t,e,r){const a=t.getDay(),i=JH[a],l=e||r;if(!l)return ZH();const c=l[i];if(!c.enabled||!c.open||!c.close)return[];const d=[],[f,m]=c.open.split(":").map(Number),[v,y]=c.close.split(":").map(Number);let b=f,x=m;for(;b<v||b===v&&x<y;)d.push(`${b.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`),x+=15,x>=60&&(x=0,b+=1);return d}function ZH(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&(t.push(`${e.toString().padStart(2,"0")}:15`),t.push(`${e.toString().padStart(2,"0")}:30`),t.push(`${e.toString().padStart(2,"0")}:45`));return t}function uD(t,e,r,a,i,l){const c=t.filter(d=>d.calendarId===e&&(!l||d.googleEventId!==l));return console.log("Staff events for calendar",e,":",c.map(d=>({title:d.title,start:d.start,end:d.end}))),a.map(d=>{const[f,m]=d.split(":").map(Number),v=new Date(i);v.setHours(f,m,0,0);const y=new Date(v.getTime()+r*60*1e3),b=c.some(x=>{const w=new Date(x.start),_=new Date(x.end),S=v<_&&y>w;return S&&console.log(`Slot ${d} conflicts with event:`,{eventTitle:x.title,eventStart:w.toISOString(),eventEnd:_.toISOString(),slotStart:v.toISOString(),slotEnd:y.toISOString()}),S});return{slot:d,available:!b}})}function e7({event:t,onClose:e,onDelete:r,onEdit:a,canDelete:i=!1,canEdit:l=!1}){const[c,d]=A.useState(!1),[f,m]=A.useState(!1),[v,y]=A.useState(null),b=A.useCallback(S=>{S.key==="Escape"&&e()},[e]),x=A.useCallback(S=>{S.target===S.currentTarget&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",b),document.body.style.overflow="hidden",m(!1),y(null),d(!1)),()=>{document.removeEventListener("keydown",b),document.body.style.overflow="unset"}),[t,b]);const w=async()=>{if(!(!t||!t.googleEventId||!t.calendarId))try{d(!0),y(null);const S=await VH({calendarId:t.calendarId,eventId:t.googleEventId});S.success?(r?.(),e()):y(S.error||"Error al eliminar la cita")}catch(S){y(S instanceof Error?S.message:"Error al eliminar la cita")}finally{d(!1)}};if(!t)return null;const _=t.color||"#4F46E5";return h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:x,role:"dialog","aria-modal":"true","aria-labelledby":"event-title",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-slideUp",children:[h.jsx("div",{className:"h-1.5",style:{backgroundColor:_}}),h.jsx("div",{className:"p-6 pb-4",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{id:"event-title",className:"text-xl font-semibold text-slate-800 leading-tight",children:t.title}),t.staffName&&h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:_}}),h.jsx("span",{className:"text-sm text-slate-500",children:t.staffName})]})]}),h.jsx("button",{onClick:e,className:"p-2 -m-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Cerrar",children:h.jsx(Tr,{className:"h-5 w-5 text-slate-400"})})]})}),h.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(nn,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:Ct(t.start,"EEEE, d 'de' MMMM",{locale:qt})}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(_n,{className:"h-4 w-4 text-slate-400"}),h.jsx("span",{className:"text-sm text-slate-500",children:t.allDay?"Todo el da":`${Ct(t.start,"HH:mm")} - ${Ct(t.end,"HH:mm")}`})]})]})]}),t.location&&h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(lP,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Ubicacin"}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.location})]})]}),t.staffName&&h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(yn,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Asignado a"}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.staffName})]})]}),t.description&&h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(Qq,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Descripcin"}),h.jsx("p",{className:"text-sm text-slate-500 mt-1 whitespace-pre-wrap break-words",children:t.description})]})]})]}),v&&h.jsx("div",{className:"px-6 pb-4",children:h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:v})}),h.jsx("div",{className:"px-6 pb-6",children:f?h.jsxs("div",{className:"space-y-3",children:[h.jsx("p",{className:"text-center text-sm text-slate-600",children:"Seguro que quieres eliminar esta cita?"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>m(!1),disabled:c,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors",children:"Cancelar"}),h.jsx("button",{onClick:w,disabled:c,className:"flex-1 py-3 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:c?h.jsxs(h.Fragment,{children:[h.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Eliminando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(ys,{className:"h-4 w-4"}),"Eliminar"]})})]})]}):h.jsxs("div",{className:"flex gap-3",children:[l&&t.googleEventId&&h.jsxs("button",{onClick:()=>{a?.(t),e()},className:"px-4 py-3 bg-indigo-50 text-indigo-600 font-medium rounded-xl hover:bg-indigo-100 transition-colors flex items-center gap-2",children:[h.jsx(VC,{className:"h-4 w-4"}),"Editar"]}),i&&t.googleEventId&&h.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-3 bg-red-50 text-red-600 font-medium rounded-xl hover:bg-red-100 transition-colors flex items-center gap-2",children:[h.jsx(ys,{className:"h-4 w-4"}),"Eliminar"]}),h.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300",children:"Cerrar"})]})})]})})}function t7({staffCalendars:t,selectedStaff:e,onToggleStaff:r,onSelectAll:a,onDeselectAll:i}){const l=A.useMemo(()=>e.length===t.length,[e.length,t.length]),c=e.length===0;return t.length===0?null:h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[h.jsx(hs,{className:"h-4 w-4"}),h.jsx("span",{children:"Calendarios del equipo"}),h.jsxs("span",{className:"text-slate-400",children:["(",e.length,"/",t.length,")"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:a,disabled:l,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Todos"}),h.jsx("span",{className:"text-slate-300",children:"|"}),h.jsx("button",{onClick:i,disabled:c,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Ninguno"})]})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(d=>{const f=e.includes(d.staffId);return h.jsxs("button",{onClick:()=>r(d.staffId),className:`group flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition-all ${f?"text-white shadow-md hover:shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,style:{backgroundColor:f?d.color:void 0},children:[h.jsx("span",{className:`flex items-center justify-center w-5 h-5 rounded-full transition-all ${f?"bg-white/20":""}`,style:{backgroundColor:f?void 0:d.color+"20"},children:f?h.jsx(Yn,{className:"h-3 w-3"}):h.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:d.color}})}),d.staffName]},d.staffId)})})]})}const r7=WB(eB);function dD({events:t,staffCalendars:e=[],isLoading:r=!1,isRefreshing:a=!1,showStaffFilter:i=!1,onEventClick:l,onNewAppointment:c,onEventDelete:d,onEventEdit:f,onEventReschedule:m,canDeleteEvents:v=!1,canEditEvents:y=!1,canDragEvents:b=!1}){const[x,w]=A.useState(new Date),[_,S]=A.useState(ll.defaultView),[j,E]=A.useState(null),[T,O]=A.useState([]),M=A.useMemo(()=>e.map(V=>V.staffId).sort().join(","),[e]),[D,R]=A.useState("");M!==D&&e.length>0&&(O(e.map(V=>V.staffId)),R(M));const P=A.useMemo(()=>i?T.length===0?[]:t.filter(V=>V.staffId&&T.includes(V.staffId)):t,[t,T,i]),L=A.useMemo(()=>{const V=new Date;return P.filter($=>new Date($.start).toDateString()===V.toDateString()).length},[P]),C=A.useCallback(V=>{w($=>{switch(V){case"PREV":return _==="month"?iD($,1):_==="week"?cH($):lH($);case"NEXT":return _==="month"?Fb($,1):_==="week"?XR($,1):Os($,1);case"TODAY":default:return new Date}})},[_]),q=A.useCallback(V=>{S(V)},[]),U=A.useCallback(V=>{E(V),l?.(V)},[l]),z=A.useCallback(V=>{O($=>$.includes(V)?$.filter(X=>X!==V):[...$,V])},[]),W=A.useCallback(()=>{O(e.map(V=>V.staffId))},[e]),ee=A.useCallback(()=>{O([])},[]),B=A.useCallback(V=>({style:{backgroundColor:V.color||"#4F46E5",borderRadius:"8px",opacity:.95,color:"white",border:"none",display:"block",fontSize:"0.8rem",fontWeight:500,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}}),[]),H=A.useCallback(({event:V,start:$,end:X})=>{if(!b||!m)return;const oe=new Date;new Date($)<oe||m(V,new Date($),new Date(X))},[b,m]),te=A.useCallback(({event:V,start:$,end:X})=>{if(!b||!m)return;const oe=new Date;new Date($)<oe||m(V,new Date($),new Date(X))},[b,m]),le=A.useCallback(V=>!(!b||!V.googleEventId||new Date(V.start)<new Date),[b]);return h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[h.jsxs("div",{className:"p-6 pb-0",children:[h.jsx(GH,{currentDate:x,currentView:_,onNavigate:C,onViewChange:q,eventsToday:L,onNewAppointment:c,isRefreshing:a}),i&&e.length>0&&h.jsx(t7,{staffCalendars:e,selectedStaff:T,onToggleStaff:z,onSelectAll:W,onDeselectAll:ee})]}),h.jsxs("div",{className:"relative px-6 pb-6",children:[r&&h.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm flex items-center justify-center z-10 rounded-xl",children:h.jsxs("div",{className:"flex items-center gap-3 bg-white px-6 py-4 rounded-xl shadow-lg border border-slate-100",children:[h.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"text-slate-600 font-medium",children:"Cargando calendario..."})]})}),h.jsx("div",{className:"calendar-container",style:{height:650},children:h.jsx(r7,{localizer:IH,events:P,startAccessor:"start",endAccessor:"end",date:x,view:_,onNavigate:w,onView:V=>q(V),onSelectEvent:U,eventPropGetter:B,messages:BH,culture:"es",views:[At.MONTH,At.WEEK,At.DAY,At.AGENDA],toolbar:!1,popup:!0,selectable:!1,step:ll.step,timeslots:ll.timeslots,min:ll.minTime,max:ll.maxTime,dayLayoutAlgorithm:"no-overlap",draggableAccessor:le,resizable:b,onEventDrop:H,onEventResize:te})})]}),h.jsx(e7,{event:j,onClose:()=>E(null),onDelete:()=>{E(null),d?.()},onEdit:V=>{E(null),f?.(V)},canDelete:v,canEdit:y})]})}async function XO(t){const{data:e,error:r}=await Te.from("staff_services").select("service_id").eq("staff_id",t);if(r)throw new Error(r.message);return(e||[]).map(a=>a.service_id)}async function fD(t){const{data:e,error:r}=await Te.from("staff_services").select(`
      staff_id,
      service_id,
      profiles!inner (salon_id)
    `).eq("profiles.salon_id",t);if(r)throw new Error(r.message);const a={};for(const i of e||[])a[i.staff_id]||(a[i.staff_id]=[]),a[i.staff_id].push(i.service_id);return a}async function n7(t,e){const{error:r}=await Te.from("staff_services").delete().eq("staff_id",t);if(r)throw new Error(r.message);if(e.length>0){const a=e.map(l=>({staff_id:t,service_id:l})),{error:i}=await Te.from("staff_services").insert(a);if(i)throw new Error(i.message)}}const QO=[{number:1,title:"Cliente",icon:yn},{number:2,title:"Servicio",icon:Hl},{number:3,title:"Profesional",icon:kd},{number:4,title:"Fecha",icon:nn},{number:5,title:"Confirmar",icon:Yn}];function a7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&(t.push(`${e.toString().padStart(2,"0")}:15`),t.push(`${e.toString().padStart(2,"0")}:30`),t.push(`${e.toString().padStart(2,"0")}:45`));return t}const s7=a7();function i7({isOpen:t,onClose:e,onSuccess:r,salonId:a,staffList:i,salonWorkingHours:l}){const[c,d]=A.useState(1),[f,m]=A.useState([]),[v,y]=A.useState([]),[b,x]=A.useState(!0),[w,_]=A.useState(null),[S,j]=A.useState(null),[E,T]=A.useState(null),[O,M]=A.useState(Ir(new Date)),[D,R]=A.useState(null),[P,L]=A.useState(""),[C,q]=A.useState(""),[U,z]=A.useState(""),[W,ee]=A.useState(!1),[B,H]=A.useState(""),[te,le]=A.useState(""),[V,$]=A.useState(""),[X,oe]=A.useState(!1),[ue,fe]=A.useState(!1),[pe,be]=A.useState(null),[,ke]=A.useState([]),[Pe,bt]=A.useState(!1),[vt,Wt]=A.useState([]),[pr,xt]=A.useState({});A.useEffect(()=>{t&&a&&(x(!0),Promise.all([oD(a),Ed(a),fD(a)]).then(([ae,ge,Ee])=>{m(ae),y(ge),xt(Ee)}).catch(ae=>{console.error("Error loading data:",ae),be("Error al cargar datos")}).finally(()=>x(!1)))},[t,a]),A.useEffect(()=>{t||(d(1),_(null),j(null),T(null),M(Ir(new Date)),R(null),L(""),q(""),z(""),ee(!1),H(""),le(""),$(""),be(null),ke([]),Wt([]),xt({}))},[t]),A.useEffect(()=>{if(c===4&&E&&S){bt(!0),R(null);const ae=E.workingHours,ge=cD(O,ae,l);if(ge.length===0){Wt([]),bt(!1);return}lD(O).then(Ee=>{ke(Ee);const dt=uD(Ee,E.calendarId,S.duration_minutes,ge,O),rr=new Date,Vr=QR(O,rr),vr=dt.map(ft=>{if(Vr){const[ze,gr]=ft.slot.split(":").map(Number),Yt=new Date;if(Yt.setHours(ze,gr,0,0),Yt<=rr)return{...ft,available:!1}}return ft});Wt(vr)}).catch(Ee=>{console.error("Error loading availability:",Ee),Wt(ge.map(dt=>({slot:dt,available:!0})))}).finally(()=>bt(!1))}},[c,O,E,S,l]);const Ae=A.useCallback(ae=>{ae.key==="Escape"&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",Ae),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",Ae),document.body.style.overflow="unset"}),[t,Ae]);const Pt=f.filter(ae=>ae.name.toLowerCase().includes(C.toLowerCase())||ae.phone.includes(C)),re=v.filter(ae=>ae.name.toLowerCase().includes(U.toLowerCase())||(ae.category?.toLowerCase().includes(U.toLowerCase())??!1)).reduce((ae,ge)=>{const Ee=ge.category||"Otros";return ae[Ee]||(ae[Ee]=[]),ae[Ee].push(ge),ae},{}),xe=()=>{const ae=Os(O,-1);ae>=Ir(new Date)&&M(ae)},_e=()=>{M(Os(O,1))},Xe=async()=>{if(!(!B.trim()||!te.trim()))try{oe(!0),be(null);const ae=await QH(a,B,te,V||void 0);m(ge=>[...ge,ae].sort((Ee,dt)=>Ee.name.localeCompare(dt.name))),_(ae),ee(!1),H(""),le(""),$(""),d(2)}catch(ae){be(ae instanceof Error?ae.message:"Error al crear cliente")}finally{oe(!1)}},st=async()=>{if(!w||!S||!E||!D){be("Faltan datos para crear la cita");return}try{fe(!0),be(null);const[ae,ge]=D.split(":").map(Number),Ee=sD(aD(O,ae),ge),dt=await YH({calendarId:E.calendarId,client:w,service:S,staffId:E.staffId,staffName:E.staffName,appointmentDate:Ee,notes:P.trim()||void 0,salonId:a});dt.success?(r(),e()):be(dt.error||"Error al crear la cita")}catch(ae){be(ae instanceof Error?ae.message:"Error al crear la cita")}finally{fe(!1)}},it=()=>{switch(c){case 1:return!!w;case 2:return!!S;case 3:return!!E;case 4:return!!D;case 5:return!0;default:return!1}},Ze=()=>{c<5&&it()&&d(ae=>ae+1)},de=()=>{c>1&&d(ae=>ae-1)};return t?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ae=>ae.target===ae.currentTarget&&e(),children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h2",{className:"text-lg font-bold text-white",children:"Nueva Cita"}),h.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:QO.map((ae,ge)=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${c>=ae.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:c>ae.number?h.jsx(Yn,{className:"h-4 w-4"}):ae.number}),ge<QO.length-1&&h.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${c>ae.number?"bg-indigo-600":"bg-slate-600"}`})]},ae.number))}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[b?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):h.jsxs(h.Fragment,{children:[c===1&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),W?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),h.jsx("input",{type:"text",value:B,onChange:ae=>H(ae.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),h.jsx("input",{type:"tel",value:te,onChange:ae=>le(ae.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email (opcional)"}),h.jsx("input",{type:"email",value:V,onChange:ae=>$(ae.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>ee(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{onClick:Xe,disabled:!B.trim()||!te.trim()||X,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:X?"Creando...":"Crear cliente"})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:C,onChange:ae=>q(ae.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 text-sm text-indigo-400 hover:text-indigo-300",children:[h.jsx(Vn,{className:"h-4 w-4"}),"Crear nuevo cliente"]}),h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Pt.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):Pt.map(ae=>h.jsxs("button",{onClick:()=>{_(ae),d(2)},className:`w-full text-left p-3 rounded-lg border transition-colors ${w?.id===ae.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsx("div",{className:"font-medium text-white",children:ae.name}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bl,{className:"h-3 w-3"}),ae.phone]}),ae.email&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Rd,{className:"h-3 w-3"}),ae.email]})]})]},ae.id))})]})]}),c===2&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),h.jsxs("div",{className:"relative",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:U,onChange:ae=>z(ae.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(re).length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(re).map(([ae,ge])=>h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:ae}),h.jsx("div",{className:"space-y-2",children:ge.map(Ee=>h.jsxs("button",{onClick:()=>{j(Ee),d(3)},className:`w-full text-left p-3 rounded-lg border transition-colors ${S?.id===Ee.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-medium text-white",children:Ee.name}),h.jsxs("span",{className:"text-indigo-400 font-semibold",children:[Ee.price,""]})]}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[h.jsx(_n,{className:"h-3 w-3"}),Ee.duration_minutes," min"]})]},Ee.id))})]},ae))})]}),c===3&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("p",{className:"text-sm text-slate-400",children:['Selecciona el profesional para "',S?.name,'"']}),(()=>{const ae=i.filter(ge=>{const Ee=pr[ge.staffId]||[];return S?Ee.includes(S.id):!0});return i.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):ae.length===0?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[h.jsx(vs,{className:"h-5 w-5 text-amber-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-amber-300 font-medium",children:"No hay profesionales asignados a este servicio"}),h.jsxs("p",{className:"text-sm text-amber-300/70 mt-1",children:['Contacta al administrador para asignar profesionales a "',S?.name,'".']})]})]}),h.jsx("button",{onClick:()=>d(2),className:"w-full py-2 text-sm text-indigo-400 hover:text-indigo-300",children:"Seleccionar otro servicio"})]}):h.jsxs("div",{className:"space-y-2",children:[ae.map(ge=>h.jsxs("button",{onClick:()=>{T(ge),d(4)},className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${E?.staffId===ge.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:ge.color},children:ge.staffName.charAt(0).toUpperCase()}),h.jsx("span",{className:"font-medium text-white",children:ge.staffName})]},ge.staffId)),ae.length<i.length&&h.jsxs("p",{className:"text-xs text-slate-500 text-center pt-2",children:["Mostrando ",ae.length," de ",i.length," profesionales"]})]})})()]}),c===4&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),h.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[h.jsx("button",{onClick:xe,disabled:O<=Ir(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:h.jsx(Yy,{className:"h-5 w-5"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"font-medium text-white",children:Ct(O,"EEEE, d 'de' MMMM",{locale:qt})}),h.jsx("div",{className:"text-sm text-slate-400",children:Ct(O,"yyyy")})]}),h.jsx("button",{onClick:_e,className:"p-2 text-slate-400 hover:text-white transition-colors",children:h.jsx(Ai,{className:"h-5 w-5"})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),Pe&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[h.jsx(Tt,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),h.jsx("span",{children:"Disponible"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),h.jsx("span",{children:"Ocupado"})]})]}),h.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 max-h-60 overflow-y-auto",children:(vt.length>0?vt:s7.map(ae=>({slot:ae,available:!0}))).map(({slot:ae,available:ge})=>h.jsx("button",{onClick:()=>ge&&R(ae),disabled:!ge,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${D===ae?"bg-indigo-600 text-white":ge?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:ae},ae))}),!Pe&&vt.length>0&&!vt.some(ae=>ae.available)&&h.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[h.jsx(vs,{className:"h-4 w-4 text-amber-400 mt-0.5"}),h.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),c===5&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los detalles de la cita"}),h.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(yn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),h.jsx("div",{className:"text-white font-medium",children:w?.name}),h.jsx("div",{className:"text-sm text-slate-400",children:w?.phone})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Hl,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),h.jsx("div",{className:"text-white font-medium",children:S?.name}),h.jsxs("div",{className:"text-sm text-slate-400",children:[S?.duration_minutes," min"]})]}),h.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[S?.price,""]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(kd,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),h.jsx("div",{className:"text-white font-medium",children:E?.staffName})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(nn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),h.jsx("div",{className:"text-white font-medium",children:Ct(O,"EEEE, d 'de' MMMM",{locale:qt})}),h.jsx("div",{className:"text-sm text-slate-400",children:D})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),h.jsx("textarea",{value:P,onChange:ae=>L(ae.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]})]})]}),pe&&h.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:pe})]}),h.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[h.jsx("button",{onClick:c===1?e:de,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:c===1?"Cancelar":"Atrs"}),c<5?h.jsxs("button",{onClick:Ze,disabled:!it(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",h.jsx(Ai,{className:"h-4 w-4"})]}):h.jsx("button",{onClick:st,disabled:ue,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:ue?h.jsxs(h.Fragment,{children:[h.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Creando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Yn,{className:"h-4 w-4"}),"Crear Cita"]})})]})]})}):null}const JO=[{number:1,title:"Cliente",icon:yn},{number:2,title:"Servicio",icon:Hl},{number:3,title:"Profesional",icon:kd},{number:4,title:"Fecha",icon:nn},{number:5,title:"Confirmar",icon:Yn}];function o7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&(t.push(`${e.toString().padStart(2,"0")}:15`),t.push(`${e.toString().padStart(2,"0")}:30`),t.push(`${e.toString().padStart(2,"0")}:45`));return t}const l7=o7();function c7(t){if(!t)return{};const e={},r=t.split(`
`);for(const a of r)a.startsWith("Cliente: ")?e.clientName=a.replace("Cliente: ","").trim():a.startsWith("Telfono: ")?e.clientPhone=a.replace("Telfono: ","").trim():a.startsWith("Email: ")?e.clientEmail=a.replace("Email: ","").trim():a.startsWith("Servicio: ")?e.serviceName=a.replace("Servicio: ","").trim():a.startsWith("Notas: ")&&(e.notes=a.replace("Notas: ","").trim());return e}function u7({event:t,onClose:e,onSuccess:r,salonId:a,staffList:i,salonWorkingHours:l}){const[c,d]=A.useState(1),[f,m]=A.useState([]),[v,y]=A.useState([]),[b,x]=A.useState(!0),[w,_]=A.useState(null),[S,j]=A.useState(null),[E,T]=A.useState(null),[O,M]=A.useState(new Date),[D,R]=A.useState(""),[P,L]=A.useState(null),[C,q]=A.useState(null),[U,z]=A.useState(null),[W,ee]=A.useState(Ir(new Date)),[B,H]=A.useState(null),[te,le]=A.useState(""),[V,$]=A.useState(""),[X,oe]=A.useState(""),[ue,fe]=A.useState(!1),[pe,be]=A.useState(null),[ke,Pe]=A.useState(!1),[bt,vt]=A.useState([]),[Wt,pr]=A.useState({});A.useEffect(()=>{t&&a&&(x(!0),d(1),be(null),Promise.all([oD(a),Ed(a),fD(a)]).then(([de,ae,ge])=>{m(de),y(ae),pr(ge);const Ee=c7(t.description),dt=de.find(ze=>ze.phone===Ee.clientPhone||ze.name===Ee.clientName);dt&&(L(dt),_(dt));const rr=ae.find(ze=>ze.name===Ee.serviceName);rr&&(q(rr),j(rr));const Vr=i.find(ze=>ze.staffId===t.staffId||ze.calendarId===t.calendarId);Vr&&(z(Vr),T(Vr));const vr=Ir(new Date(t.start)),ft=Ct(new Date(t.start),"HH:mm");ee(vr),M(vr),H(ft),R(ft),Ee.notes&&le(Ee.notes)}).catch(de=>{console.error("Error loading data:",de),be("Error al cargar datos")}).finally(()=>x(!1)))},[t,a,i]),A.useEffect(()=>{if(c===4&&U&&C&&t){Pe(!0);const de=U.workingHours,ae=cD(W,de,l);if(ae.length===0){vt([]),Pe(!1);return}lD(W).then(ge=>{const Ee=uD(ge,U.calendarId,C.duration_minutes,ae,W,t.googleEventId),dt=new Date,rr=QR(W,dt),Vr=Ee.map(vr=>{if(rr){const[ft,ze]=vr.slot.split(":").map(Number),gr=new Date;if(gr.setHours(ft,ze,0,0),gr<=dt)return{...vr,available:!1}}return vr});vt(Vr)}).catch(ge=>{console.error("Error loading availability:",ge),vt(ae.map(Ee=>({slot:Ee,available:!0})))}).finally(()=>Pe(!1))}},[c,W,U,C,t,l]);const xt=A.useCallback(de=>{de.key==="Escape"&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",xt),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",xt),document.body.style.overflow="unset"}),[t,xt]);const Ae=f.filter(de=>de.name.toLowerCase().includes(V.toLowerCase())||de.phone.includes(V)),De=v.filter(de=>de.name.toLowerCase().includes(X.toLowerCase())||(de.category?.toLowerCase().includes(X.toLowerCase())??!1)).reduce((de,ae)=>{const ge=ae.category||"Otros";return de[ge]||(de[ge]=[]),de[ge].push(ae),de},{}),re=()=>{const de=Os(W,-1);de>=Ir(new Date)&&(ee(de),H(null))},xe=()=>{ee(Os(W,1)),H(null)},_e=()=>P?.id!==w?.id||C?.id!==S?.id||U?.staffId!==E?.staffId||W.getTime()!==O.getTime()||B!==D,Xe=async()=>{if(!t||!P||!C||!U||!B){be("Faltan datos para actualizar la cita");return}if(!t.googleEventId){be("No se puede editar esta cita (falta ID de Google Calendar)");return}try{fe(!0),be(null);const[de,ae]=B.split(":").map(Number),ge=sD(aD(W,de),ae),Ee=U.calendarId!==E?.calendarId,dt=await KH({eventId:t.googleEventId,calendarId:U.calendarId,oldCalendarId:Ee?E?.calendarId:void 0,client:P,service:C,staffId:U.staffId,staffName:U.staffName,appointmentDate:ge,notes:te.trim()||void 0,salonId:a});dt.success?(r(),e()):be(dt.error||"Error al actualizar la cita")}catch(de){be(de instanceof Error?de.message:"Error al actualizar la cita")}finally{fe(!1)}},st=()=>{switch(c){case 1:return!!P;case 2:return!!C;case 3:return!!U;case 4:return!!B;case 5:return!0;default:return!1}},it=()=>{c<5&&st()&&d(de=>de+1)},Ze=()=>{c>1&&d(de=>de-1)};return t?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:de=>de.target===de.currentTarget&&e(),children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(VC,{className:"h-5 w-5 text-indigo-400"}),h.jsx("h2",{className:"text-lg font-bold text-white",children:"Editar Cita"})]}),h.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:JO.map((de,ae)=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${c>=de.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:c>de.number?h.jsx(Yn,{className:"h-4 w-4"}):de.number}),ae<JO.length-1&&h.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${c>de.number?"bg-indigo-600":"bg-slate-600"}`})]},de.number))}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[b?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):h.jsxs(h.Fragment,{children:[c===1&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),h.jsxs("div",{className:"relative",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:V,onChange:de=>$(de.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Ae.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):Ae.map(de=>h.jsxs("button",{onClick:()=>L(de),className:`w-full text-left p-3 rounded-lg border transition-colors ${P?.id===de.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"font-medium text-white",children:de.name}),w?.id===de.id&&h.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bl,{className:"h-3 w-3"}),de.phone]}),de.email&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Rd,{className:"h-3 w-3"}),de.email]})]})]},de.id))})]}),c===2&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),h.jsxs("div",{className:"relative",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:X,onChange:de=>oe(de.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(De).length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(De).map(([de,ae])=>h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:de}),h.jsx("div",{className:"space-y-2",children:ae.map(ge=>h.jsxs("button",{onClick:()=>q(ge),className:`w-full text-left p-3 rounded-lg border transition-colors ${C?.id===ge.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-medium text-white",children:ge.name}),S?.id===ge.id&&h.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),h.jsxs("span",{className:"text-indigo-400 font-semibold",children:[ge.price,""]})]}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[h.jsx(_n,{className:"h-3 w-3"}),ge.duration_minutes," min"]})]},ge.id))})]},de))})]}),c===3&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("p",{className:"text-sm text-slate-400",children:['Selecciona el profesional para "',C?.name,'"']}),(()=>{const de=i.filter(ae=>{const ge=Wt[ae.staffId]||[];return C?ge.includes(C.id):!0});return i.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):de.length===0?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[h.jsx(vs,{className:"h-5 w-5 text-amber-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-amber-300 font-medium",children:"No hay profesionales asignados a este servicio"}),h.jsxs("p",{className:"text-sm text-amber-300/70 mt-1",children:['Contacta al administrador para asignar profesionales a "',C?.name,'".']})]})]}),h.jsx("button",{onClick:()=>d(2),className:"w-full py-2 text-sm text-indigo-400 hover:text-indigo-300",children:"Seleccionar otro servicio"})]}):h.jsxs("div",{className:"space-y-2",children:[de.map(ae=>h.jsxs("button",{onClick:()=>z(ae),className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${U?.staffId===ae.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:ae.color},children:ae.staffName.charAt(0).toUpperCase()}),h.jsx("span",{className:"font-medium text-white flex-1",children:ae.staffName}),E?.staffId===ae.staffId&&h.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]},ae.staffId)),de.length<i.length&&h.jsxs("p",{className:"text-xs text-slate-500 text-center pt-2",children:["Mostrando ",de.length," de ",i.length," profesionales"]})]})})()]}),c===4&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),h.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[h.jsx("button",{onClick:re,disabled:W<=Ir(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:h.jsx(Yy,{className:"h-5 w-5"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"font-medium text-white",children:Ct(W,"EEEE, d 'de' MMMM",{locale:qt})}),h.jsx("div",{className:"text-sm text-slate-400",children:Ct(W,"yyyy")})]}),h.jsx("button",{onClick:xe,className:"p-2 text-slate-400 hover:text-white transition-colors",children:h.jsx(Ai,{className:"h-5 w-5"})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),ke&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[h.jsx(Tt,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),h.jsx("span",{children:"Disponible"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),h.jsx("span",{children:"Ocupado"})]})]}),h.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 max-h-60 overflow-y-auto",children:(bt.length>0?bt:l7.map(de=>({slot:de,available:!0}))).map(({slot:de,available:ae})=>h.jsx("button",{onClick:()=>ae&&H(de),disabled:!ae,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${B===de?"bg-indigo-600 text-white":ae?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:de},de))}),!ke&&bt.length>0&&!bt.some(de=>de.available)&&h.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[h.jsx(vs,{className:"h-4 w-4 text-amber-400 mt-0.5"}),h.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),c===5&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los cambios de la cita"}),h.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(yn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[P?.name,P?.id!==w?.id&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),h.jsx("div",{className:"text-sm text-slate-400",children:P?.phone})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Hl,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[C?.name,C?.id!==S?.id&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),h.jsxs("div",{className:"text-sm text-slate-400",children:[C?.duration_minutes," min"]})]}),h.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[C?.price,""]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(kd,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[U?.staffName,U?.staffId!==E?.staffId&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(nn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[Ct(W,"EEEE, d 'de' MMMM",{locale:qt}),(W.getTime()!==O.getTime()||B!==D)&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),h.jsx("div",{className:"text-sm text-slate-400",children:B})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),h.jsx("textarea",{value:te,onChange:de=>le(de.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]}),!_e()&&h.jsx("div",{className:"p-3 bg-slate-700/50 border border-slate-600 rounded-lg text-slate-400 text-sm text-center",children:"No se han realizado cambios"})]})]}),pe&&h.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:pe})]}),h.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[h.jsx("button",{onClick:c===1?e:Ze,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:c===1?"Cancelar":"Atrs"}),c<5?h.jsxs("button",{onClick:it,disabled:!st(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",h.jsx(Ai,{className:"h-4 w-4"})]}):h.jsx("button",{onClick:Xe,disabled:ue||!_e(),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:ue?h.jsxs(h.Fragment,{children:[h.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Yn,{className:"h-4 w-4"}),"Guardar Cambios"]})})]})]})}):null}const d7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function f7(t,e){const{data:{session:r}}=await Te.auth.getSession();if(!r)throw new Error("No authenticated session");const a=await fetch(d7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({timeMin:t.toISOString(),timeMax:e.toISOString()})});if(!a.ok){const c=await a.json();throw new Error(c.error||"Failed to fetch calendar events")}const i=await a.json();if(i.error)throw new Error(i.error);return{events:i.events.map(c=>({...c,start:new Date(c.start),end:new Date(c.end)})),staffList:i.staffList||[],role:i.role,salon:i.salon}}const ZO=3,h7=300*1e3;function m7(){const t=new Date,e=iD(t,ZO),r=Fb(t,ZO),a=Ra(o8(e),{weekStartsOn:1}),i=ZR(JR(r),{weekStartsOn:1});return{start:a,end:i}}function hD(){const[t,e]=A.useState([]),[r,a]=A.useState([]),[i,l]=A.useState(null),[c,d]=A.useState(!0),[f,m]=A.useState(!1),[v,y]=A.useState(null),[b,x]=A.useState(null),w=A.useRef(!0),_=A.useRef(null),S=A.useRef(!1),j=A.useCallback(async(T=!1)=>{T?m(!0):d(!0);try{const{start:O,end:M}=m7(),D=await f7(O,M);if(!w.current)return;e(D.events),a(D.staffList),l(D.salon),y(null),x(new Date),_.current={start:O,end:M}}catch(O){if(!w.current)return;const M=O instanceof Error?O.message:"Error al cargar eventos";y(M),console.error("Calendar error:",O)}finally{w.current&&(d(!1),m(!1))}},[]),E=A.useCallback(async()=>{const T=t.length>0||r.length>0;await j(T)},[j,t.length,r.length]);return A.useEffect(()=>(w.current=!0,S.current||(S.current=!0,j(!1)),()=>{w.current=!1}),[j]),A.useEffect(()=>{const T=setInterval(()=>{w.current&&!c&&!f&&j(!0)},h7);return()=>clearInterval(T)},[j,c,f]),{events:t,staffList:r,salon:i,isInitialLoading:c,isRefreshing:f,error:v,lastUpdated:b,refresh:E}}const e2={monday:{open:"09:00",close:"20:00",enabled:!0},tuesday:{open:"09:00",close:"20:00",enabled:!0},wednesday:{open:"09:00",close:"20:00",enabled:!0},thursday:{open:"09:00",close:"20:00",enabled:!0},friday:{open:"09:00",close:"20:00",enabled:!0},saturday:{open:"09:00",close:"14:00",enabled:!0},sunday:{open:null,close:null,enabled:!1}},p7={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"},v7=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function g7(){const t=[];for(let e=7;e<=22;e++)for(let r=0;r<60&&!(e===22&&r>0);r+=15)t.push(`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`);return t}const t2=g7();function y7({value:t,onChange:e,showInheritOption:r=!1,inheritLabel:a="Usar horario del saln"}){const[i,l]=A.useState(t!==null),[c,d]=A.useState(t||e2);A.useEffect(()=>{l(t!==null),d(t||e2)},[t]);const f=y=>{l(y),e(y?c:null)},m=y=>{const b={...c,[y]:{...c[y],enabled:!c[y].enabled,open:c[y].enabled?c[y].open:"09:00",close:c[y].enabled?c[y].close:"20:00"}};d(b),i&&e(b)},v=(y,b,x)=>{const w={...c,[y]:{...c[y],[b]:x}};d(w),i&&e(w)};return h.jsxs("div",{className:"space-y-4",children:[r&&h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[h.jsx("button",{type:"button",onClick:()=>f(!i),className:`p-1 rounded-lg transition-colors ${i?"text-indigo-400 hover:bg-indigo-500/20":"text-slate-500 hover:bg-slate-600"}`,children:i?h.jsx(yy,{className:"h-6 w-6"}):h.jsx(gy,{className:"h-6 w-6"})}),h.jsx("span",{className:"text-sm text-slate-300",children:i?"Horario personalizado":a})]}),(!r||i)&&h.jsx("div",{className:"space-y-2",children:v7.map(y=>h.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-colors ${c[y].enabled?"bg-slate-700/50 border-slate-600":"bg-slate-800/50 border-slate-700 opacity-60"}`,children:[h.jsx("button",{type:"button",onClick:()=>m(y),className:`p-1 rounded transition-colors ${c[y].enabled?"text-green-400 hover:bg-green-500/20":"text-slate-500 hover:bg-slate-600"}`,children:c[y].enabled?h.jsx(yy,{className:"h-5 w-5"}):h.jsx(gy,{className:"h-5 w-5"})}),h.jsx("span",{className:"w-24 font-medium text-white text-sm",children:p7[y]}),c[y].enabled?h.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[h.jsx(_n,{className:"h-4 w-4 text-slate-400"}),h.jsx("select",{value:c[y].open||"09:00",onChange:b=>v(y,"open",b.target.value),className:"bg-slate-700 border border-slate-600 rounded px-2 py-1 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:t2.map(b=>h.jsx("option",{value:b,children:b},b))}),h.jsx("span",{className:"text-slate-400",children:"-"}),h.jsx("select",{value:c[y].close||"20:00",onChange:b=>v(y,"close",b.target.value),className:"bg-slate-700 border border-slate-600 rounded px-2 py-1 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:t2.filter(b=>b>(c[y].open||"00:00")).map(b=>h.jsx("option",{value:b,children:b},b))})]}):h.jsx("span",{className:"text-sm text-slate-500 italic",children:"Cerrado"})]},y))})]})}const b7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/manage-users";async function mD(){const{data:t,error:e}=await Te.from("salons").select("*").order("name");if(e)throw new Error(e.message);return t||[]}async function x7(t){const{data:e,error:r}=await Te.from("salons").insert([{...t,slug:t.slug||t.name.toLowerCase().replace(/\s+/g,"-")}]).select().single();if(r)throw new Error(r.message);return e}async function w7(t,e){const{data:r,error:a}=await Te.from("salons").update(e).eq("id",t).select().single();if(a)throw new Error(a.message);return r}async function _7(t){const{error:e}=await Te.from("salons").delete().eq("id",t);if(e)throw new Error(e.message)}async function S7(){const{data:t,error:e}=await Te.from("profiles").select("*").order("full_name");if(e)throw new Error(e.message);return t||[]}async function hf(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(b7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Error en la operacin");return a}async function E7(t){return(await hf({action:"create",...t})).user}async function j7(t,e){return(await hf({action:"update",user_id:t,...e})).user}async function N7(t,e){await hf({action:"update_password",user_id:t,password:e})}async function T7(t){await hf({action:"delete",user_id:t})}async function O7(){const[t,e]=await Promise.all([Te.from("salons").select("id",{count:"exact",head:!0}),Te.from("profiles").select("role")]);if(t.error)throw new Error(t.error.message);if(e.error)throw new Error(e.error.message);const r=e.data||[];return{totalSalons:t.count||0,totalUsers:r.length,totalAdmins:r.filter(a=>a.role==="admin").length,totalStaff:r.filter(a=>a.role==="staff").length}}const r2={username:"",password:"",full_name:"",role:"staff",salon_id:"",google_calendar_id:"",selectedServiceIds:[],working_hours:null};function pD({onUpdate:t,salonFilter:e}){const[r,a]=A.useState([]),[i,l]=A.useState([]),[c,d]=A.useState(!0),[f,m]=A.useState(null),[v,y]=A.useState(""),[b,x]=A.useState(e||""),[w,_]=A.useState(!1),[S,j]=A.useState(null),[E,T]=A.useState(r2),[O,M]=A.useState(!1),[D,R]=A.useState(!1),[P,L]=A.useState(null),[C,q]=A.useState(null),[U,z]=A.useState(""),[W,ee]=A.useState(!1),[B,H]=A.useState([]),[te,le]=A.useState(!1),[V,$]=A.useState(new Set),[X,oe]=A.useState({}),ue=async()=>{try{d(!0),m(null);const[re,xe]=await Promise.all([S7(),mD()]);a(re),l(xe);const _e={};for(const Xe of re)if(Xe.role==="staff"||Xe.role==="admin")try{const st=await XO(Xe.id);_e[Xe.id]=st.length}catch{_e[Xe.id]=0}oe(_e)}catch(re){m(re instanceof Error?re.message:"Error al cargar datos")}finally{d(!1)}};A.useEffect(()=>{ue()},[]);const fe=r.filter(re=>{if(e&&re.salon_id!==e||b&&re.salon_id!==b)return!1;const xe=v.toLowerCase();return re.full_name.toLowerCase().includes(xe)||re.username?.toLowerCase().includes(xe)||re.email?.toLowerCase().includes(xe)}),pe=re=>re?i.find(_e=>_e.id===re)?.name||"Desconocido":"Sin saln",be=re=>{switch(re){case"superadmin":return"bg-purple-500/20 text-purple-400";case"admin":return"bg-indigo-500/20 text-indigo-400";default:return"bg-slate-500/20 text-slate-400"}},ke=async()=>{j(null);const re=e||i[0]?.id||"";if(T({...r2,salon_id:re}),M(!1),H([]),$(new Set),_(!0),re){le(!0);try{const xe=await Ed(re);H(xe);const _e=new Set(xe.map(Xe=>Xe.category||"Otros"));$(_e)}catch(xe){console.error("Error loading services:",xe)}finally{le(!1)}}},Pe=async re=>{if(j(re),H([]),$(new Set),T({username:re.username||"",password:"",full_name:re.full_name,role:re.role==="superadmin"?"admin":re.role,salon_id:re.salon_id||"",google_calendar_id:re.google_calendar_id||"",selectedServiceIds:[],working_hours:re.working_hours||null}),_(!0),re.salon_id){le(!0);try{const[xe,_e]=await Promise.all([Ed(re.salon_id),XO(re.id)]);H(xe),T(st=>({...st,selectedServiceIds:_e}));const Xe=new Set(xe.map(st=>st.category||"Otros"));$(Xe)}catch(xe){console.error("Error loading services:",xe)}finally{le(!1)}}},bt=async re=>{re.preventDefault(),R(!0),m(null);try{let xe;if(S)await j7(S.id,{full_name:E.full_name,role:E.role,salon_id:E.salon_id,google_calendar_id:E.google_calendar_id||void 0,working_hours:E.working_hours}),xe=S.id;else{if(!E.password){m("La contrasea es requerida"),R(!1);return}xe=(await E7({username:E.username,password:E.password,full_name:E.full_name,role:E.role,salon_id:E.salon_id,google_calendar_id:E.google_calendar_id||void 0})).id}(E.role==="staff"||E.role==="admin")&&await n7(xe,E.selectedServiceIds),_(!1),ue(),t?.()}catch(xe){m(xe instanceof Error?xe.message:"Error al guardar")}finally{R(!1)}},vt=re=>{$(xe=>{const _e=new Set(xe);return _e.has(re)?_e.delete(re):_e.add(re),_e})},Wt=re=>{T(xe=>{const _e=new Set(xe.selectedServiceIds);return _e.has(re)?_e.delete(re):_e.add(re),{...xe,selectedServiceIds:Array.from(_e)}})},pr=()=>{T(re=>({...re,selectedServiceIds:B.map(xe=>xe.id)}))},xt=()=>{T(re=>({...re,selectedServiceIds:[]}))},Ae=B.reduce((re,xe)=>{const _e=xe.category||"Otros";return re[_e]||(re[_e]=[]),re[_e].push(xe),re},{}),Pt=async()=>{if(!(!C||!U)){ee(!0);try{await N7(C,U),q(null),z("")}catch(re){m(re instanceof Error?re.message:"Error al cambiar contrasea")}finally{ee(!1)}}},De=async re=>{try{await T7(re),L(null),ue(),t?.()}catch(xe){m(xe instanceof Error?xe.message:"Error al eliminar")}};return c?h.jsx("div",{className:"p-12 flex justify-center",children:h.jsx(Tt,{className:"h-8 w-8 animate-spin text-indigo-400"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:v,onChange:re=>y(re.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),!e&&h.jsxs("select",{value:b,onChange:re=>x(re.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:[h.jsx("option",{value:"",children:"Todos los salones"}),i.map(re=>h.jsx("option",{value:re.id,children:re.name},re.id))]})]}),h.jsxs("button",{onClick:ke,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[h.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Usuario"]})]}),f&&h.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:f}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Usuario"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Saln"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"Calendar ID"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden sm:table-cell",children:"Servicios"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),h.jsx("tbody",{children:fe.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-slate-400",children:v||b?"No se encontraron usuarios":"No hay usuarios registrados"})}):fe.map(re=>h.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[h.jsx("td",{className:"px-4 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-lg flex items-center justify-center",children:h.jsx(yn,{className:"h-5 w-5 text-slate-300"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-white",children:re.full_name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("p",{className:"text-xs text-slate-400",children:["@",re.username]}),h.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${be(re.role)}`,children:re.role})]})]})]})}),h.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:h.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-300",children:[h.jsx(hd,{className:"h-3.5 w-3.5 text-slate-400"}),pe(re.salon_id)]})}),h.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(nn,{className:"h-3.5 w-3.5 text-slate-400"}),h.jsx("span",{className:"text-sm text-slate-300 font-mono truncate max-w-[200px]",children:re.google_calendar_id||"-"})]})}),h.jsx("td",{className:"px-4 py-4 hidden sm:table-cell",children:(re.role==="staff"||re.role==="admin")&&re.salon_id?h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(Hl,{className:"h-3.5 w-3.5 text-slate-400"}),h.jsxs("span",{className:`px-2 py-1 text-xs rounded-full ${X[re.id]>0?"bg-indigo-500/20 text-indigo-400":"bg-slate-500/20 text-slate-400"}`,children:[X[re.id]||0," servicios"]})]}):h.jsx("span",{className:"text-sm text-slate-500",children:"-"})}),h.jsx("td",{className:"px-4 py-4 text-right",children:P===re.id?h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),h.jsx("button",{onClick:()=>De(re.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:h.jsx(Yn,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>L(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:h.jsx(Tr,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("button",{onClick:()=>{q(re.id),z("")},className:"p-1.5 text-slate-400 hover:text-amber-400 hover:bg-amber-900/30 rounded-lg transition-colors",title:"Cambiar contrasea",children:h.jsx(tP,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>Pe(re),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:h.jsx(KC,{className:"h-4 w-4"})}),re.role!=="superadmin"&&h.jsx("button",{onClick:()=>L(re.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Eliminar",children:h.jsx(ys,{className:"h-4 w-4"})})]})})]},re.id))})]})}),w&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold",children:S?"Editar Usuario":"Nuevo Usuario"}),h.jsx("button",{onClick:()=>_(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:bt,className:"p-4 space-y-4",children:[!S&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre de usuario *"}),h.jsx("input",{type:"text",value:E.username,onChange:re=>T({...E,username:re.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")}),placeholder:"usuario123",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Solo letras minsculas, nmeros y guiones bajos"})]}),!S&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Contrasea *"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:O?"text":"password",value:E.password,onChange:re=>T({...E,password:re.target.value}),className:"w-full px-3 py-2 pr-10 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),h.jsx("button",{type:"button",onClick:()=>M(!O),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:O?h.jsx(GC,{className:"h-4 w-4"}):h.jsx(WC,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre completo *"}),h.jsx("input",{type:"text",value:E.full_name,onChange:re=>T({...E,full_name:re.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Rol *"}),h.jsxs("select",{value:E.role,onChange:re=>T({...E,role:re.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",disabled:!!e,children:[!e&&h.jsx("option",{value:"admin",children:"Admin"}),h.jsx("option",{value:"staff",children:"Staff"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Saln *"}),h.jsxs("select",{value:E.salon_id,onChange:re=>T({...E,salon_id:re.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0,disabled:!!e,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),i.map(re=>h.jsx("option",{value:re.id,children:re.name},re.id))]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Google Calendar ID"}),h.jsx("input",{type:"text",value:E.google_calendar_id,onChange:re=>T({...E,google_calendar_id:re.target.value}),placeholder:"ejemplo@group.calendar.google.com",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),(E.role==="staff"||E.role==="admin")&&E.salon_id&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Servicios que puede realizar"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",onClick:pr,className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded transition-colors",children:"Todos"}),h.jsx("button",{type:"button",onClick:xt,className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded transition-colors",children:"Ninguno"})]})]}),te?h.jsx("div",{className:"flex items-center justify-center py-4",children:h.jsx(Tt,{className:"h-5 w-5 animate-spin text-indigo-400"})}):B.length===0?h.jsx("p",{className:"text-sm text-slate-500 py-2",children:"No hay servicios configurados para este saln"}):h.jsx("div",{className:"bg-slate-700/50 rounded-lg border border-slate-600 max-h-48 overflow-y-auto",children:Object.entries(Ae).map(([re,xe])=>h.jsxs("div",{className:"border-b border-slate-600 last:border-b-0",children:[h.jsxs("button",{type:"button",onClick:()=>vt(re),className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-slate-600/50 transition-colors",children:[V.has(re)?h.jsx(HC,{className:"h-4 w-4 text-slate-400"}):h.jsx(Ai,{className:"h-4 w-4 text-slate-400"}),h.jsx("span",{className:"text-sm font-medium text-slate-300",children:re}),h.jsxs("span",{className:"text-xs text-slate-500",children:["(",xe.filter(_e=>E.selectedServiceIds.includes(_e.id)).length,"/",xe.length,")"]})]}),V.has(re)&&h.jsx("div",{className:"pl-6 pr-3 pb-2 space-y-1",children:xe.map(_e=>h.jsxs("label",{className:"flex items-center gap-2 py-1 px-2 rounded hover:bg-slate-600/30 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:E.selectedServiceIds.includes(_e.id),onChange:()=>Wt(_e.id),className:"w-4 h-4 rounded border-slate-500 bg-slate-600 text-indigo-500 focus:ring-indigo-500 focus:ring-offset-0"}),h.jsx("span",{className:"text-sm text-slate-300",children:_e.name}),h.jsxs("span",{className:"text-xs text-slate-500",children:["(",_e.duration_minutes," min - ",_e.price,")"]})]},_e.id))})]},re))}),h.jsxs("p",{className:"text-xs text-slate-400 mt-1.5",children:[E.selectedServiceIds.length," de ",B.length," servicios seleccionados"]})]}),(E.role==="staff"||E.role==="admin")&&E.salon_id&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[h.jsx(_n,{className:"h-4 w-4 text-slate-400"}),h.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Horario de trabajo"})]}),h.jsx(y7,{value:E.working_hours,onChange:re=>T({...E,working_hours:re}),showInheritOption:!0,inheritLabel:"Usar horario del saln"}),h.jsx("p",{className:"text-xs text-slate-400 mt-2",children:E.working_hours===null?"El empleado usa el horario por defecto del saln":"El empleado tiene un horario personalizado"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:D,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&h.jsx(Tt,{className:"h-4 w-4 animate-spin"}),S?"Guardar":"Crear"]})]})]})]})}),C&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-sm",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Cambiar Contrasea"}),h.jsx("button",{onClick:()=>q(null),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nueva contrasea"}),h.jsx("input",{type:"password",value:U,onChange:re=>z(re.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",autoFocus:!0})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>q(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsxs("button",{onClick:Pt,disabled:W||!U,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[W&&h.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Cambiar"]})]})]})]})})]})}const n2=[{value:"tariff_change",label:"Cambio de tarifas"},{value:"time_change",label:"Cambio de horarios"},{value:"bug",label:"Reportar error"},{value:"feature",label:"Sugerencia"},{value:"other",label:"Otro"}],a2=[{value:"open",label:"Abierto",color:"bg-blue-500/20 text-blue-400"},{value:"in_progress",label:"En progreso",color:"bg-yellow-500/20 text-yellow-400"},{value:"resolved",label:"Resuelto",color:"bg-green-500/20 text-green-400"},{value:"closed",label:"Cerrado",color:"bg-slate-500/20 text-slate-400"}],s2=[{value:"low",label:"Baja",color:"text-slate-400"},{value:"normal",label:"Normal",color:"text-blue-400"},{value:"high",label:"Alta",color:"text-orange-400"},{value:"urgent",label:"Urgente",color:"text-red-400"}];function vD({salonId:t,showAllSalons:e=!1}){const{profile:r,isSuperAdmin:a}=Il(),[i,l]=A.useState([]),[c,d]=A.useState(!0),[f,m]=A.useState(null),[v,y]=A.useState(!1),[b,x]=A.useState(!1),[w,_]=A.useState(null),[S,j]=A.useState("other"),[E,T]=A.useState(""),[O,M]=A.useState(""),[D,R]=A.useState("normal"),[P,L]=A.useState(null),[C,q]=A.useState(""),U=async()=>{try{d(!0),m(null);let V=Te.from("tickets").select("*").order("created_at",{ascending:!1});t&&!e&&(V=V.eq("salon_id",t));const{data:$,error:X}=await V;if(X){console.error("Error fetching tickets:",X),m("No se pudieron cargar los tickets");return}if(e&&$&&$.length>0){const oe=[...new Set($.map(pe=>pe.salon_id))],{data:ue}=await Te.from("salons").select("id, name").in("id",oe),fe=new Map(ue?.map(pe=>[pe.id,pe.name])||[]);$.forEach(pe=>{pe.salon_name=fe.get(pe.salon_id)||"Desconocido"})}l($||[])}catch(V){console.error("Unexpected error:",V),m("Error inesperado al cargar tickets")}finally{d(!1)}};A.useEffect(()=>{U()},[t,e]);const z=async V=>{if(V.preventDefault(),!r?.salon_id&&!t){m("No se pudo determinar el saln");return}x(!0),m(null);try{const{error:$}=await Te.from("tickets").insert({salon_id:t||r?.salon_id,created_by:r?.id,type:S,subject:E.trim(),description:O.trim(),priority:D,status:"open"});if($){console.error("Error creating ticket:",$),m("No se pudo crear el ticket");return}j("other"),T(""),M(""),R("normal"),y(!1),U()}catch($){console.error("Unexpected error:",$),m("Error inesperado")}finally{x(!1)}},W=async(V,$)=>{L(V);try{const X={status:$};$==="resolved"&&(X.resolved_at=new Date().toISOString());const{error:oe}=await Te.from("tickets").update(X).eq("id",V);if(oe){console.error("Error updating ticket:",oe),m("No se pudo actualizar el ticket");return}U()}finally{L(null)}},ee=async V=>{if(C.trim())try{const{error:$}=await Te.from("tickets").update({admin_notes:C.trim()}).eq("id",V);if($){console.error("Error updating notes:",$);return}q(""),_(null),U()}catch($){console.error("Error:",$)}},B=V=>{const $=a2.find(X=>X.value===V);return h.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${$?.color}`,children:$?.label})},H=V=>{const $=s2.find(X=>X.value===V);return h.jsx("span",{className:`text-xs ${$?.color}`,children:$?.label})},te=V=>n2.find($=>$.value===V)?.label||V,le=V=>new Date(V).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:e?"Todos los Tickets":"Mis Tickets"}),h.jsx("p",{className:"text-sm text-slate-400",children:e?"Gestiona las solicitudes de todos los salones":"Enva solicitudes al equipo de Galia"})]}),!e&&h.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Ticket"]})]}),f&&h.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:f}),v&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-white",children:"Nuevo Ticket"}),h.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-white",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:z,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Tipo de solicitud"}),h.jsx("select",{value:S,onChange:V=>j(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:n2.map(V=>h.jsx("option",{value:V.value,children:V.label},V.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Prioridad"}),h.jsx("select",{value:D,onChange:V=>R(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:s2.map(V=>h.jsx("option",{value:V.value,children:V.label},V.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Asunto"}),h.jsx("input",{type:"text",value:E,onChange:V=>T(V.target.value),placeholder:"Resumen breve del problema",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),h.jsx("textarea",{value:O,onChange:V=>M(V.target.value),placeholder:"Describe con detalle tu solicitud...",rows:4,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none",required:!0})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:b,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[b?h.jsx(Tt,{className:"h-4 w-4 animate-spin"}):h.jsx(wP,{className:"h-4 w-4"}),"Enviar Ticket"]})]})]})]})}),w&&a&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-white",children:"Detalle del Ticket"}),h.jsx("button",{onClick:()=>_(null),className:"text-slate-400 hover:text-white",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Saln"}),h.jsx("p",{className:"text-white",children:w.salon_name})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Asunto"}),h.jsx("p",{className:"text-white",children:w.subject})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Descripcin"}),h.jsx("p",{className:"text-white whitespace-pre-wrap",children:w.description})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Tipo"}),h.jsx("p",{className:"text-white",children:te(w.type)})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Prioridad"}),H(w.priority)]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Estado"}),B(w.status)]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas internas"}),h.jsx("textarea",{value:C||w.admin_notes||"",onChange:V=>q(V.target.value),placeholder:"Aade notas sobre este ticket...",rows:3,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Cambiar estado"}),h.jsx("div",{className:"flex gap-2 flex-wrap",children:a2.map(V=>h.jsx("button",{onClick:()=>W(w.id,V.value),disabled:P===w.id,className:`px-3 py-1 rounded text-sm ${w.status===V.value?V.color+" ring-2 ring-offset-2 ring-offset-slate-800 ring-current":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:V.label},V.value))})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cerrar"}),h.jsx("button",{onClick:()=>ee(w.id),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:"Guardar Notas"})]})]})]})}),c?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):i.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(YC,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),h.jsx("p",{className:"text-slate-400",children:"No hay tickets"}),!e&&h.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Crea uno para enviar una solicitud al equipo de Galia"})]}):h.jsx("div",{className:"space-y-3",children:i.map(V=>h.jsxs("div",{onClick:()=>a&&_(V),className:`bg-slate-900 border border-slate-700 rounded-lg p-4 ${a?"cursor-pointer hover:border-slate-600":""}`,children:[h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[B(V.status),H(V.priority),h.jsx("span",{className:"text-xs text-slate-500",children:te(V.type)})]}),h.jsx("h4",{className:"text-white font-medium truncate",children:V.subject}),h.jsx("p",{className:"text-sm text-slate-400 line-clamp-2 mt-1",children:V.description}),e&&V.salon_name&&h.jsx("p",{className:"text-xs text-indigo-400 mt-2",children:V.salon_name})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[h.jsx(_n,{className:"h-3 w-3"}),le(V.created_at)]}),V.status==="resolved"&&V.resolved_at&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-500 mt-1",children:[h.jsx(py,{className:"h-3 w-3"}),"Resuelto"]}),a&&h.jsx(HC,{className:"h-4 w-4 text-slate-500 mt-2 ml-auto"})]})]}),V.admin_notes&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[h.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Notas del equipo:"}),h.jsx("p",{className:"text-sm text-slate-300",children:V.admin_notes})]})]},V.id))})]})}const V0=[{value:"waiting",label:"Esperando",color:"bg-blue-500/20 text-blue-400",icon:h.jsx(_n,{className:"h-3 w-3"})},{value:"contacted",label:"Contactado",color:"bg-yellow-500/20 text-yellow-400",icon:h.jsx(QC,{className:"h-3 w-3"})},{value:"booked",label:"Agendado",color:"bg-green-500/20 text-green-400",icon:h.jsx(qq,{className:"h-3 w-3"})},{value:"cancelled",label:"Cancelado",color:"bg-red-500/20 text-red-400",icon:h.jsx(vy,{className:"h-3 w-3"})},{value:"expired",label:"Expirado",color:"bg-slate-500/20 text-slate-400",icon:h.jsx(vy,{className:"h-3 w-3"})}];function C7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState(!1),[m,v]=A.useState(!1),[y,b]=A.useState("waiting"),[x,w]=A.useState(""),[_,S]=A.useState(""),[j,E]=A.useState(""),[T,O]=A.useState(""),[M,D]=A.useState(""),[R,P]=A.useState(""),L=async()=>{if(t)try{i(!0),c(null);let H=Te.from("waitlist").select("*").eq("salon_id",t).order("created_at",{ascending:!1});y!=="all"&&(H=H.eq("status",y));const{data:te,error:le}=await H;if(le){console.error("Error fetching waitlist:",le),c("No se pudo cargar la lista de espera");return}r(te||[])}catch(H){console.error("Unexpected error:",H),c("Error inesperado")}finally{i(!1)}};A.useEffect(()=>{L()},[t,y]);const C=async H=>{if(H.preventDefault(),!!t){v(!0),c(null);try{const{error:te}=await Te.from("waitlist").insert({salon_id:t,customer_name:x.trim(),customer_phone:_.trim(),preferred_date:j||null,preferred_time:T||null,service_type:M.trim()||null,notes:R.trim()||null,status:"waiting",source:"manual"});if(te){console.error("Error creating entry:",te),c("No se pudo aadir a la lista");return}w(""),S(""),E(""),O(""),D(""),P(""),f(!1),L()}catch(te){console.error("Unexpected error:",te),c("Error inesperado")}finally{v(!1)}}},q=async(H,te)=>{try{const le={status:te};te==="contacted"&&(le.contacted_at=new Date().toISOString());const{error:V}=await Te.from("waitlist").update(le).eq("id",H);if(V){console.error("Error updating entry:",V),c("No se pudo actualizar");return}L()}catch(le){console.error("Error:",le)}},U=async H=>{if(confirm("Eliminar esta entrada de la lista de espera?"))try{const{error:te}=await Te.from("waitlist").delete().eq("id",H);if(te){console.error("Error deleting entry:",te),c("No se pudo eliminar");return}L()}catch(te){console.error("Error:",te)}},z=H=>{const te=V0.find(le=>le.value===H);return h.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${te?.color}`,children:[te?.icon,te?.label]})},W=H=>new Date(H).toLocaleDateString("es-ES",{day:"2-digit",month:"short"}),ee=H=>new Date(H).toLocaleDateString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),B=e.filter(H=>H.status==="waiting").length;return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Lista de Espera"}),h.jsxs("p",{className:"text-sm text-slate-400",children:[B," cliente",B!==1?"s":""," esperando"]})]}),h.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Vn,{className:"h-4 w-4"}),"Aadir"]})]}),l&&h.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:l}),h.jsxs("div",{className:"flex gap-2 mb-6 flex-wrap",children:[h.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${y==="all"?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Todos"}),V0.map(H=>h.jsxs("button",{onClick:()=>b(H.value),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${y===H.value?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[H.icon,H.label]},H.value))]}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-white",children:"Aadir a Lista de Espera"}),h.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-white",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:C,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre del cliente *"}),h.jsx("input",{type:"text",value:x,onChange:H=>w(H.target.value),placeholder:"Nombre completo",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),h.jsx("input",{type:"tel",value:_,onChange:H=>S(H.target.value),placeholder:"+34 600 000 000",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Fecha preferida"}),h.jsx("input",{type:"date",value:j,onChange:H=>E(H.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Hora preferida"}),h.jsx("input",{type:"time",value:T,onChange:H=>O(H.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Servicio solicitado"}),h.jsx("input",{type:"text",value:M,onChange:H=>D(H.target.value),placeholder:"Ej: Corte y color",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),h.jsx("textarea",{value:R,onChange:H=>P(H.target.value),placeholder:"Informacin adicional...",rows:2,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[m?h.jsx(Tt,{className:"h-4 w-4 animate-spin"}):h.jsx(Vn,{className:"h-4 w-4"}),"Aadir"]})]})]})]})}),a?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):e.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(_n,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),h.jsx("p",{className:"text-slate-400",children:y==="all"?"No hay nadie en la lista de espera":`No hay entradas con estado "${V0.find(H=>H.value===y)?.label}"`}),h.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Aade clientes que quieran una cita cuando haya hueco"})]}):h.jsx("div",{className:"space-y-3",children:e.map(H=>h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4",children:[h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[z(H.status),H.source==="chatbot"&&h.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-purple-500/20 text-purple-400",children:"Chatbot"})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(yn,{className:"h-4 w-4 text-slate-500"}),h.jsx("span",{className:"text-white font-medium",children:H.customer_name})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Bl,{className:"h-4 w-4 text-slate-500"}),h.jsx("a",{href:`tel:${H.customer_phone}`,className:"text-indigo-400 hover:text-indigo-300 text-sm",children:H.customer_phone})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-400",children:[H.preferred_date&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(nn,{className:"h-3.5 w-3.5"}),W(H.preferred_date),H.preferred_time&&` a las ${H.preferred_time}`]}),H.service_type&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-slate-500",children:"Servicio:"}),H.service_type]})]}),H.notes&&h.jsxs("div",{className:"mt-2 flex items-start gap-1 text-sm text-slate-400",children:[h.jsx(YC,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),h.jsx("span",{children:H.notes})]})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsx("p",{className:"text-xs text-slate-500 mb-2",children:ee(H.created_at)}),h.jsxs("div",{className:"flex gap-1",children:[H.status==="waiting"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>q(H.id,"contacted"),title:"Marcar como contactado",className:"p-1.5 bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30 rounded transition-colors",children:h.jsx(QC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>q(H.id,"booked"),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:h.jsx(py,{className:"h-4 w-4"})})]}),H.status==="contacted"&&h.jsx("button",{onClick:()=>q(H.id,"booked"),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:h.jsx(py,{className:"h-4 w-4"})}),(H.status==="waiting"||H.status==="contacted")&&h.jsx("button",{onClick:()=>q(H.id,"cancelled"),title:"Cancelar",className:"p-1.5 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded transition-colors",children:h.jsx(vy,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>U(H.id),title:"Eliminar",className:"p-1.5 bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white rounded transition-colors",children:h.jsx(ys,{className:"h-4 w-4"})})]})]})]}),H.contacted_at&&h.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 text-xs text-slate-500",children:["Contactado el ",ee(H.contacted_at)]})]},H.id))})]})}const A7=["Corte","Color","Peinado","Tratamiento","Barba","Esttica","Manicura","Pedicura","Otro"];function R7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState(!1),[m,v]=A.useState(null),[y,b]=A.useState(!1),[x,w]=A.useState("all"),[_,S]=A.useState(!1),[j,E]=A.useState({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),T=async()=>{if(t)try{i(!0),c(null);let z=Te.from("services").select("*").eq("salon_id",t).order("display_order",{ascending:!0}).order("name",{ascending:!0});_||(z=z.eq("active",!0));const{data:W,error:ee}=await z;if(ee)throw ee;r(W||[])}catch(z){console.error("Error fetching services:",z),c("No se pudieron cargar los servicios.")}finally{i(!1)}};A.useEffect(()=>{T()},[t,_]);const O=()=>{v(null),E({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),f(!0)},M=z=>{v(z),E({name:z.name,description:z.description||"",duration_minutes:z.duration_minutes,price:z.price,category:z.category||"",active:z.active}),f(!0)},D=async z=>{if(z.preventDefault(),!!t)try{b(!0),c(null);const W={salon_id:t,name:j.name.trim(),description:j.description.trim()||null,duration_minutes:j.duration_minutes,price:j.price,category:j.category||null,active:j.active};if(m){const{error:ee}=await Te.from("services").update(W).eq("id",m.id);if(ee)throw ee}else{const ee=e.reduce((H,te)=>Math.max(H,te.display_order),0),{error:B}=await Te.from("services").insert({...W,display_order:ee+1});if(B)throw B}f(!1),T()}catch(W){console.error("Error saving service:",W),c("No se pudo guardar el servicio.")}finally{b(!1)}},R=async z=>{try{const{error:W}=await Te.from("services").update({active:!z.active}).eq("id",z.id);if(W)throw W;T()}catch(W){console.error("Error toggling service:",W),c("No se pudo actualizar el servicio.")}},P=async z=>{if(confirm(`Eliminar "${z.name}"? Esta accin no se puede deshacer.`))try{const{error:W}=await Te.from("services").delete().eq("id",z.id);if(W)throw W;T()}catch(W){console.error("Error deleting service:",W),c("No se pudo eliminar el servicio.")}},L=z=>{if(z<60)return`${z} min`;const W=Math.floor(z/60),ee=z%60;return ee>0?`${W}h ${ee}min`:`${W}h`},C=z=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(z),q=[...new Set(e.map(z=>z.category).filter(Boolean))],U=e.filter(z=>x==="all"?!0:x==="uncategorized"?!z.category:z.category===x);return a&&e.length===0?h.jsx("div",{className:"p-6",children:h.jsx(wl,{text:"Cargando servicios..."})}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Catlogo de Servicios"}),h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Define los servicios que ofrece tu saln. El chatbot usar esta informacin."})]}),h.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Servicio"]})]}),l&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error",message:l,onRetry:T})}),h.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm text-slate-400",children:"Categora:"}),h.jsxs("select",{value:x,onChange:z=>w(z.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-1.5 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"all",children:"Todas"}),q.map(z=>h.jsx("option",{value:z,children:z},z)),h.jsx("option",{value:"uncategorized",children:"Sin categora"})]})]}),h.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-400 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:_,onChange:z=>S(z.target.checked),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Mostrar inactivos"]})]}),U.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(JC,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-400",children:"No hay servicios configurados."}),h.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Crear primer servicio"})]}):h.jsx("div",{className:"grid gap-3",children:U.map(z=>h.jsx("div",{className:`bg-slate-700/50 rounded-lg p-4 border ${z.active?"border-slate-600":"border-slate-700 opacity-60"}`,children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-1 text-slate-500 cursor-move",children:h.jsx(Zq,{className:"h-5 w-5"})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h4",{className:"font-medium text-white",children:z.name}),z.category&&h.jsx("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:z.category}),!z.active&&h.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-xs rounded",children:"Inactivo"})]}),z.description&&h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:z.description}),h.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[h.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[h.jsx(_n,{className:"h-4 w-4"}),L(z.duration_minutes)]}),h.jsxs("span",{className:"flex items-center gap-1 text-green-400 font-medium",children:[h.jsx(FC,{className:"h-4 w-4"}),C(z.price)]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>R(z),className:`p-2 rounded-lg transition-colors ${z.active?"text-green-400 hover:bg-green-500/20":"text-slate-500 hover:bg-slate-600"}`,title:z.active?"Desactivar":"Activar",children:z.active?h.jsx(yy,{className:"h-5 w-5"}):h.jsx(gy,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>M(z),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:h.jsx(XC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>P(z),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:h.jsx(ys,{className:"h-4 w-4"})})]})]})},z.id))}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Servicio":"Nuevo Servicio"}),h.jsx("button",{onClick:()=>f(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),h.jsx("input",{type:"text",value:j.name,onChange:z=>E(W=>({...W,name:z.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ej: Corte de pelo",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),h.jsx("textarea",{value:j.description,onChange:z=>E(W=>({...W,description:z.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Descripcin opcional del servicio"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Duracin (min) *"}),h.jsx("input",{type:"number",value:j.duration_minutes,onChange:z=>E(W=>({...W,duration_minutes:parseInt(z.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"5",step:"5",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Precio () *"}),h.jsx("input",{type:"number",value:j.price,onChange:z=>E(W=>({...W,price:parseFloat(z.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"0",step:"0.50",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Categora"}),h.jsxs("select",{value:j.category,onChange:z=>E(W=>({...W,category:z.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Sin categora"}),A7.map(z=>h.jsx("option",{value:z,children:z},z))]})]}),h.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:j.active,onChange:z=>E(W=>({...W,active:z.target.checked})),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Servicio activo (visible para clientes)"]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:y||!j.name.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function D7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState(!1),[m,v]=A.useState(null),[y,b]=A.useState(!1),[x,w]=A.useState(""),[_,S]=A.useState("all"),[j,E]=A.useState({name:"",phone:"",email:"",notes:"",source:"manual"}),T=async()=>{if(t)try{i(!0),c(null);const{data:C,error:q}=await Te.from("clients").select("*").eq("salon_id",t).order("last_contact_at",{ascending:!1});if(q)throw q;r(C||[])}catch(C){console.error("Error fetching clients:",C),c("No se pudieron cargar los clientes.")}finally{i(!1)}};A.useEffect(()=>{T()},[t]);const O=()=>{v(null),E({name:"",phone:"",email:"",notes:"",source:"manual"}),f(!0)},M=C=>{v(C),E({name:C.name,phone:C.phone,email:C.email||"",notes:C.notes||"",source:C.source}),f(!0)},D=async C=>{if(C.preventDefault(),!!t)try{b(!0),c(null);const q={salon_id:t,name:j.name.trim(),phone:j.phone.trim(),email:j.email.trim()||null,notes:j.notes.trim()||null,source:j.source};if(m){const{error:U}=await Te.from("clients").update(q).eq("id",m.id);if(U)throw U}else{const{error:U}=await Te.from("clients").insert(q);if(U)throw U.code==="23505"?new Error("Ya existe un cliente con ese telfono."):U}f(!1),T()}catch(q){console.error("Error saving client:",q),c(q instanceof Error?q.message:"No se pudo guardar el cliente.")}finally{b(!1)}},R=async C=>{if(confirm(`Eliminar a "${C.name}"? Esta accin no se puede deshacer.`))try{const{error:q}=await Te.from("clients").delete().eq("id",C.id);if(q)throw q;T()}catch(q){console.error("Error deleting client:",q),c("No se pudo eliminar el cliente.")}},P=C=>{const q={whatsapp:{color:"bg-green-500/20 text-green-400",icon:h.jsx(Ky,{className:"h-3 w-3"}),label:"WhatsApp"},manual:{color:"bg-slate-600 text-slate-300",icon:h.jsx(yn,{className:"h-3 w-3"}),label:"Manual"},web:{color:"bg-blue-500/20 text-blue-400",icon:h.jsx(nn,{className:"h-3 w-3"}),label:"Web"}},U=q[C]||q.manual;return h.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${U.color}`,children:[U.icon,U.label]})},L=e.filter(C=>{const q=C.name.toLowerCase().includes(x.toLowerCase())||C.phone.includes(x)||C.email&&C.email.toLowerCase().includes(x.toLowerCase()),U=_==="all"||C.source===_;return q&&U});return a&&e.length===0?h.jsx("div",{className:"p-6",children:h.jsx(wl,{text:"Cargando clientes..."})}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Base de Clientes"}),h.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[e.length," clientes registrados"]})]}),h.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Cliente"]})]}),l&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error",message:l,onRetry:T})}),h.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[h.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:x,onChange:C=>w(C.target.value),placeholder:"Buscar por nombre, telfono o email...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),h.jsxs("select",{value:_,onChange:C=>S(C.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"all",children:"Todas las fuentes"}),h.jsx("option",{value:"whatsapp",children:"WhatsApp"}),h.jsx("option",{value:"manual",children:"Manual"}),h.jsx("option",{value:"web",children:"Web"})]})]}),L.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(yn,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-400",children:x||_!=="all"?"No se encontraron clientes con esos criterios.":"No hay clientes registrados."}),!x&&_==="all"&&h.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Agregar primer cliente"})]}):h.jsx("div",{className:"grid gap-3",children:L.map(C=>h.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h.jsx("h4",{className:"font-medium text-white",children:C.name}),P(C.source),C.total_appointments>0&&h.jsxs("span",{className:"px-2 py-0.5 bg-indigo-500/20 text-indigo-400 text-xs rounded",children:[C.total_appointments," cita",C.total_appointments!==1?"s":""]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-sm text-slate-400",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bl,{className:"h-4 w-4"}),C.phone]}),C.email&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Rd,{className:"h-4 w-4"}),C.email]})]}),C.notes&&h.jsx("p",{className:"mt-2 text-sm text-slate-400 italic",children:C.notes}),h.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["ltimo contacto: ",Sd(new Date(C.last_contact_at),{addSuffix:!0,locale:qt})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>M(C),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:h.jsx(XC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>R(C),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:h.jsx(ys,{className:"h-4 w-4"})})]})]})},C.id))}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Cliente":"Nuevo Cliente"}),h.jsx("button",{onClick:()=>f(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),h.jsx("input",{type:"text",value:j.name,onChange:C=>E(q=>({...q,name:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),h.jsx("input",{type:"tel",value:j.phone,onChange:C=>E(q=>({...q,phone:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:j.email,onChange:C=>E(q=>({...q,email:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),h.jsx("textarea",{value:j.notes,onChange:C=>E(q=>({...q,notes:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Preferencias, alergias, etc."})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:y||!j.name.trim()||!j.phone.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function k7(){const{signOut:t}=Il(),[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState("calendar"),[,m]=A.useState(0),[v,y]=A.useState(!1),[b,x]=A.useState(null);A.useEffect(()=>{const q=setInterval(()=>m(U=>U+1),3e4);return()=>clearInterval(q)},[]);const{events:w,staffList:_,salon:S,isInitialLoading:j,isRefreshing:E,error:T,refresh:O}=hD(),M=async()=>{try{i(!0),c(null);const{data:q,error:U}=await Te.from("logs").select("*").order("created_at",{ascending:!1}).limit(10);if(U){console.error("Error fetching logs:",U),c("No se pudieron cargar los logs.");return}r(q||[])}catch(q){console.error("Unexpected error fetching logs:",q),c("Error inesperado al cargar los logs.")}finally{i(!1)}};A.useEffect(()=>{M()},[]);const D=()=>{O(),M()},R=async(q,U,z)=>{if(!q.googleEventId||!q.calendarId){console.error("Cannot reschedule: missing event ID or calendar ID");return}try{const W=await XH({eventId:q.googleEventId,calendarId:q.calendarId,newStart:U,newEnd:z,title:q.title,description:q.description});W.success?(O(),M()):console.error("Reschedule failed:",W.error)}catch(W){console.error("Error rescheduling appointment:",W)}},P=()=>{O(),M()},L=w.filter(q=>{const U=new Date;return q.start.toDateString()===U.toDateString()||q.end.toDateString()===U.toDateString()}).length,C=e.reduce((q,U)=>q+(U.revenue||0),0);return h.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[h.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold",children:"G"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold",children:S?.name||"Dashboard"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Administracion"}),S&&h.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${S.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[h.jsx(Ky,{className:"h-3 w-3"}),S.whatsapp_connected?`Hace ${S.whatsapp_last_ping?Sd(new Date(S.whatsapp_last_ping),{locale:qt}):"poco"}`:"Desconectado"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:P,disabled:E,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[h.jsx(Dd,{className:`h-4 w-4 ${E?"animate-spin":""}`}),"Actualizar"]}),h.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[h.jsx(Vy,{size:18})," Salir"]})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:h.jsx(FC,{className:"h-5 w-5 text-green-400"})}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-2xl font-bold",children:["$",C.toLocaleString()]}),h.jsx("p",{className:"text-xs text-slate-400",children:"Ingresos"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-blue-500/20 rounded-lg",children:h.jsx(nn,{className:"h-5 w-5 text-blue-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:L}),h.jsx("p",{className:"text-xs text-slate-400",children:"Citas Hoy"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:h.jsx(hs,{className:"h-5 w-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:_.length}),h.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:h.jsx(M1,{className:"h-5 w-5 text-purple-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:w.length}),h.jsx("p",{className:"text-xs text-slate-400",children:"Eventos"})]})]})})]}),h.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700 overflow-x-auto",children:[h.jsxs("button",{onClick:()=>f("calendar"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="calendar"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(nn,{className:"h-4 w-4"}),"Calendario"]}),h.jsxs("button",{onClick:()=>f("clients"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="clients"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(Fq,{className:"h-4 w-4"}),"Clientes"]}),h.jsxs("button",{onClick:()=>f("staff"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="staff"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(hs,{className:"h-4 w-4"}),"Staff"]}),h.jsxs("button",{onClick:()=>f("services"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="services"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(JC,{className:"h-4 w-4"}),"Servicios"]}),h.jsxs("button",{onClick:()=>f("waitlist"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="waitlist"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(_n,{className:"h-4 w-4"}),"Espera"]}),h.jsxs("button",{onClick:()=>f("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(ZC,{className:"h-4 w-4"}),"Soporte"]}),h.jsxs("button",{onClick:()=>f("logs"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="logs"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(M1,{className:"h-4 w-4"}),"Actividad"]})]}),h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="calendar"&&h.jsxs("div",{className:"p-6",children:[T&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error del calendario",message:T,onRetry:O})}),j?h.jsx("div",{className:"py-12",children:h.jsx(wl,{text:"Cargando calendarios..."})}):_.length===0?h.jsx("div",{className:"py-12 flex justify-center items-center",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-700",children:h.jsx(hs,{className:"h-8 w-8 text-slate-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sin calendarios configurados"}),h.jsx("p",{className:"text-slate-400",children:'No hay miembros del staff con calendarios de Google configurados. Ve a la pestana "Staff" para asignar Calendar IDs.'})]})}):h.jsx("div",{className:"calendar-dark",children:h.jsx(dD,{events:w,staffCalendars:_,isLoading:!1,isRefreshing:E,showStaffFilter:!0,onNewAppointment:()=>y(!0),onEventDelete:D,onEventEdit:q=>x(q),onEventReschedule:R,canDeleteEvents:!0,canEditEvents:!0,canDragEvents:!0})})]}),d==="clients"&&h.jsx(D7,{salonId:S?.id}),d==="staff"&&h.jsx(pD,{salonFilter:S?.id,onUpdate:O}),d==="services"&&h.jsx(R7,{salonId:S?.id}),d==="waitlist"&&h.jsx(C7,{salonId:S?.id}),d==="tickets"&&h.jsx(vD,{salonId:S?.id}),d==="logs"&&h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Actividad Reciente"}),a?h.jsx("div",{className:"py-12",children:h.jsx(wl,{text:"Cargando actividad..."})}):l?h.jsx(bs,{title:"Error al cargar actividad",message:l,onRetry:M}):e.length===0?h.jsx("div",{className:"py-12 text-center text-slate-400",children:h.jsx("p",{children:"No hay actividad registrada"})}):h.jsx("div",{className:"grid gap-3",children:e.map(q=>h.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:h.jsx("div",{className:"flex items-start justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h.jsx("span",{className:"font-medium text-white",children:q.action}),q.source&&h.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${q.source==="whatsapp"?"bg-green-500/20 text-green-400":q.source==="web"?"bg-blue-500/20 text-blue-400":"bg-slate-600 text-slate-300"}`,children:q.source==="whatsapp"?"WhatsApp":q.source==="web"?"Web":"Manual"}),q.revenue>0&&h.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded font-medium",children:["+",q.revenue,""]})]}),q.service_name&&h.jsxs("div",{className:"mt-2 text-sm",children:[h.jsx("span",{className:"text-indigo-400 font-medium",children:q.service_name}),q.appointment_date&&q.appointment_time&&h.jsxs("span",{className:"text-slate-400",children:[" "," ",new Date(q.appointment_date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})," a las ",q.appointment_time]}),q.duration_minutes&&h.jsxs("span",{className:"text-slate-500",children:[" (",q.duration_minutes," min)"]})]}),q.client_name&&h.jsxs("div",{className:"mt-1 text-sm text-slate-400",children:["Cliente: ",h.jsx("span",{className:"text-white",children:q.client_name}),q.client_phone&&h.jsxs("span",{className:"text-slate-500",children:["  ",q.client_phone]})]}),q.details&&!q.service_name&&h.jsx("p",{className:"mt-1 text-sm text-slate-400",children:q.details}),h.jsx("p",{className:"mt-2 text-xs text-slate-500",children:Sd(new Date(q.created_at),{addSuffix:!0,locale:qt})})]})})},q.id))})]})]})]}),S?.id&&h.jsx(i7,{isOpen:v,onClose:()=>y(!1),onSuccess:D,salonId:S.id,staffList:_,salonWorkingHours:S.working_hours}),S?.id&&h.jsx(u7,{event:b,onClose:()=>x(null),onSuccess:D,salonId:S.id,staffList:_,salonWorkingHours:S.working_hours})]})}function M7(){const{profile:t,error:e,signOut:r}=Il(),[,a]=A.useState(0);A.useEffect(()=>{const y=setInterval(()=>a(b=>b+1),3e4);return()=>clearInterval(y)},[]);const{events:i,salon:l,isInitialLoading:c,isRefreshing:d,error:f,refresh:m}=hD(),v=!!t?.google_calendar_id;return h.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[h.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold",children:"G"})}),h.jsxs("div",{children:[h.jsxs("h1",{className:"text-xl font-bold",children:["Hola, ",t?.full_name||"Usuario"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-xs text-slate-400",children:l?.name||"Tu agenda personal"}),l&&h.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${l.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[h.jsx(Ky,{className:"h-3 w-3"}),l.whatsapp_connected?`Hace ${l.whatsapp_last_ping?Sd(new Date(l.whatsapp_last_ping),{locale:qt}):"poco"}`:"Desconectado"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:m,disabled:d,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[h.jsx(Dd,{className:`h-4 w-4 ${d?"animate-spin":""}`}),"Actualizar"]}),h.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[h.jsx(Vy,{size:18})," Salir"]})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error de autenticacion",message:e})}),f&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error del calendario",message:f,onRetry:m})}),h.jsx("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:v?c?h.jsx("div",{className:"p-12",children:h.jsx(wl,{text:"Cargando tu calendario..."})}):h.jsx("div",{className:"p-6 calendar-dark",children:h.jsx(dD,{events:i,isLoading:!1,isRefreshing:d,showStaffFilter:!1})}):h.jsx("div",{className:"p-8 flex justify-center items-center min-h-[400px]",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-amber-500/20",children:h.jsx(vs,{className:"h-8 w-8 text-amber-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Calendario no configurado"}),h.jsx("p",{className:"text-slate-400",children:"No tienes un calendario de Google asignado. Contacta al administrador para configurar tu calendario."})]})})})]})]})}const i2={name:"",slug:"",phone:"",email:"",address:"",whatsapp_number:""};function q7({onUpdate:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState(""),[m,v]=A.useState(!1),[y,b]=A.useState(null),[x,w]=A.useState(i2),[_,S]=A.useState(!1),[j,E]=A.useState(null),T=async()=>{try{i(!0),c(null);const C=await mD();r(C)}catch(C){c(C instanceof Error?C.message:"Error al cargar salones")}finally{i(!1)}};A.useEffect(()=>{T()},[]);const O=e.filter(C=>C.name.toLowerCase().includes(d.toLowerCase())||C.slug?.toLowerCase().includes(d.toLowerCase())),M=()=>{b(null),w(i2),v(!0)},D=C=>{b(C),w({name:C.name,slug:C.slug||"",phone:C.phone||"",email:C.email||"",address:C.address||"",whatsapp_number:C.whatsapp_number||""}),v(!0)},R=async C=>{C.preventDefault(),S(!0),c(null);try{y?await w7(y.id,x):await x7(x),v(!1),T(),t?.()}catch(q){c(q instanceof Error?q.message:"Error al guardar")}finally{S(!1)}},P=async C=>{try{await _7(C),E(null),T(),t?.()}catch(q){c(q instanceof Error?q.message:"Error al eliminar")}},L=C=>C.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return a?h.jsx("div",{className:"p-12 flex justify-center",children:h.jsx(Tt,{className:"h-8 w-8 animate-spin text-indigo-400"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Buscar salones...",value:d,onChange:C=>f(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[h.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Saln"]})]}),l&&h.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:l}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Saln"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Contacto"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"WhatsApp"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),h.jsx("tbody",{children:O.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:4,className:"px-4 py-12 text-center text-slate-400",children:d?"No se encontraron salones":"No hay salones registrados"})}):O.map(C=>h.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[h.jsx("td",{className:"px-4 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-indigo-500/20 rounded-lg flex items-center justify-center",children:h.jsx(hd,{className:"h-5 w-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-white",children:C.name}),h.jsxs("p",{className:"text-xs text-slate-400",children:["/",C.slug]})]})]})}),h.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:h.jsxs("div",{className:"space-y-1",children:[C.phone&&h.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[h.jsx(Bl,{className:"h-3.5 w-3.5 text-slate-400"}),C.phone]}),C.email&&h.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[h.jsx(Rd,{className:"h-3.5 w-3.5 text-slate-400"}),C.email]})]})}),h.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${C.whatsapp_connected?"bg-green-400":"bg-slate-500"}`}),h.jsx("span",{className:"text-sm text-slate-300",children:C.whatsapp_number||"No configurado"})]})}),h.jsx("td",{className:"px-4 py-4 text-right",children:j===C.id?h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),h.jsx("button",{onClick:()=>P(C.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:h.jsx(Yn,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>E(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:h.jsx(Tr,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("button",{onClick:()=>D(C),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",children:h.jsx(KC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>E(C.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",children:h.jsx(ys,{className:"h-4 w-4"})})]})})]},C.id))})]})}),m&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold",children:y?"Editar Saln":"Nuevo Saln"}),h.jsx("button",{onClick:()=>v(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:h.jsx(Tr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:R,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre del saln *"}),h.jsx("input",{type:"text",value:x.name,onChange:C=>{w({...x,name:C.target.value,slug:y?x.slug:L(C.target.value)})},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Slug (URL)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-slate-400",children:"/"}),h.jsx("input",{type:"text",value:x.slug,onChange:C=>w({...x,slug:L(C.target.value)}),className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Telfono"}),h.jsx("input",{type:"tel",value:x.phone,onChange:C=>w({...x,phone:C.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Email"}),h.jsx("input",{type:"email",value:x.email,onChange:C=>w({...x,email:C.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Direccin"}),h.jsx("input",{type:"text",value:x.address,onChange:C=>w({...x,address:C.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"WhatsApp"}),h.jsx("input",{type:"tel",value:x.whatsapp_number,onChange:C=>w({...x,whatsapp_number:C.target.value}),placeholder:"+34612345678",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:_,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[_&&h.jsx(Tt,{className:"h-4 w-4 animate-spin"}),y?"Guardar":"Crear"]})]})]})]})})]})}function P7(){const{signOut:t}=Il(),[e,r]=A.useState(null),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState("salons"),m=async()=>{try{i(!0),c(null);const v=await O7();r(v)}catch(v){c(v instanceof Error?v.message:"Error al cargar estadsticas")}finally{i(!1)}};return A.useEffect(()=>{m()},[]),h.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[h.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold",children:"G"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold",children:"Galia Admin"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Control"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[h.jsx(Dd,{className:`h-4 w-4 ${a?"animate-spin":""}`}),"Actualizar"]}),h.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[h.jsx(Vy,{size:18})," Salir"]})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error",message:l,onRetry:m})}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:h.jsx(hd,{className:"h-5 w-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalSalons||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Salones"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:h.jsx(hs,{className:"h-5 w-5 text-green-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalUsers||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Usuarios"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:h.jsx(AP,{className:"h-5 w-5 text-purple-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalAdmins||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Admins"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-amber-500/20 rounded-lg",children:h.jsx(hs,{className:"h-5 w-5 text-amber-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalStaff||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})})]}),h.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700",children:[h.jsxs("button",{onClick:()=>f("salons"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="salons"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(hd,{className:"h-4 w-4"}),"Salones"]}),h.jsxs("button",{onClick:()=>f("users"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="users"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(hs,{className:"h-4 w-4"}),"Usuarios"]}),h.jsxs("button",{onClick:()=>f("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(ZC,{className:"h-4 w-4"}),"Tickets"]})]}),h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="salons"&&h.jsx(q7,{onUpdate:m}),d==="users"&&h.jsx(pD,{onUpdate:m}),d==="tickets"&&h.jsx(vD,{showAllSalons:!0})]})]})]})}const K0=({children:t,requiredRole:e})=>{const{session:r,profile:a,loading:i}=Il();if(i)return h.jsx("div",{className:"h-screen flex items-center justify-center text-indigo-600",children:"Cargando Galia..."});if(!r)return h.jsx(cl,{to:"/login",replace:!0});if(e&&a?.role!==e){if(e==="admin"&&a?.role==="superadmin")return t;switch(a?.role){case"superadmin":return h.jsx(cl,{to:"/superadmin",replace:!0});case"admin":return h.jsx(cl,{to:"/admin",replace:!0});default:return h.jsx(cl,{to:"/staff",replace:!0})}}return t};function L7(){return h.jsx(qP,{children:h.jsx(Nq,{children:h.jsx(n3,{children:h.jsxs(M4,{children:[h.jsx(_i,{path:"/login",element:h.jsx(LP,{})}),h.jsx(_i,{path:"/superadmin",element:h.jsx(K0,{requiredRole:"superadmin",children:h.jsx(P7,{})})}),h.jsx(_i,{path:"/admin",element:h.jsx(K0,{requiredRole:"admin",children:h.jsx(k7,{})})}),h.jsx(_i,{path:"/staff",element:h.jsx(K0,{requiredRole:"staff",children:h.jsx(M7,{})})}),h.jsx(_i,{path:"*",element:h.jsx(cl,{to:"/login",replace:!0})})]})})})})}console.log(" Starting Galia Digital app...");const o2=document.getElementById("root");o2?(console.log(" Root element found, mounting React app..."),BM.createRoot(o2).render(h.jsx(A.StrictMode,{children:h.jsx(L7,{})})),console.log(" React app mounted successfully")):console.error(" Root element not found!");
