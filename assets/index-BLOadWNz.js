function AM(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bn(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),r}var Nm={exports:{}},Yo={};var IS;function RM(){if(IS)return Yo;IS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:l}}return Yo.Fragment=e,Yo.jsx=r,Yo.jsxs=r,Yo}var BS;function DM(){return BS||(BS=1,Nm.exports=RM()),Nm.exports}var h=DM(),Tm={exports:{}},Te={};var HS;function kM(){if(HS)return Te;HS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function S($,Q,oe){this.props=$,this.context=Q,this.refs=E,this.updater=oe||w}S.prototype.isReactComponent={},S.prototype.setState=function($,Q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Q,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=S.prototype;function T($,Q,oe){this.props=$,this.context=Q,this.refs=E,this.updater=oe||w}var O=T.prototype=new N;O.constructor=T,_(O,S.prototype),O.isPureReactComponent=!0;var M=Array.isArray;function D(){}var C={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function P($,Q,oe){var de=oe.ref;return{$$typeof:t,type:$,key:Q,ref:de!==void 0?de:null,props:oe}}function R($,Q){return P($.type,Q,$.props)}function q($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function z($){var Q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(oe){return Q[oe]})}var U=/\/+/g;function W($,Q){return typeof $=="object"&&$!==null&&$.key!=null?z(""+$.key):Q.toString(36)}function Z($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(D,D):($.status="pending",$.then(function(Q){$.status==="pending"&&($.status="fulfilled",$.value=Q)},function(Q){$.status==="pending"&&($.status="rejected",$.reason=Q)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,Q,oe,de,he){var fe=typeof $;(fe==="undefined"||fe==="boolean")&&($=null);var Ee=!1;if($===null)Ee=!0;else switch(fe){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch($.$$typeof){case t:case e:Ee=!0;break;case v:return Ee=$._init,H(Ee($._payload),Q,oe,de,he)}}if(Ee)return he=he($),Ee=de===""?"."+W($,0):de,M(he)?(oe="",Ee!=null&&(oe=Ee.replace(U,"$&/")+"/"),H(he,Q,oe,"",function(jt){return jt})):he!=null&&(q(he)&&(he=R(he,oe+(he.key==null||$&&$.key===he.key?"":(""+he.key).replace(U,"$&/")+"/")+Ee)),Q.push(he)),1;Ee=0;var De=de===""?".":de+":";if(M($))for(var Me=0;Me<$.length;Me++)de=$[Me],fe=De+W(de,Me),Ee+=H(de,Q,oe,fe,he);else if(Me=x($),typeof Me=="function")for($=Me.call($),Me=0;!(de=$.next()).done;)de=de.value,fe=De+W(de,Me++),Ee+=H(de,Q,oe,fe,he);else if(fe==="object"){if(typeof $.then=="function")return H(Z($),Q,oe,de,he);throw Q=String($),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function B($,Q,oe){if($==null)return $;var de=[],he=0;return H($,de,"","",function(fe){return Q.call(oe,fe,he++)}),de}function te($){if($._status===-1){var Q=$._result;Q=Q(),Q.then(function(oe){($._status===0||$._status===-1)&&($._status=1,$._result=oe)},function(oe){($._status===0||$._status===-1)&&($._status=2,$._result=oe)}),$._status===-1&&($._status=0,$._result=Q)}if($._status===1)return $._result.default;throw $._result}var le=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},V={map:B,forEach:function($,Q,oe){B($,function(){Q.apply(this,arguments)},oe)},count:function($){var Q=0;return B($,function(){Q++}),Q},toArray:function($){return B($,function(Q){return Q})||[]},only:function($){if(!q($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Te.Activity=y,Te.Children=V,Te.Component=S,Te.Fragment=r,Te.Profiler=i,Te.PureComponent=T,Te.StrictMode=a,Te.Suspense=f,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Te.__COMPILER_RUNTIME={__proto__:null,c:function($){return C.H.useMemoCache($)}},Te.cache=function($){return function(){return $.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function($,Q,oe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var de=_({},$.props),he=$.key;if(Q!=null)for(fe in Q.key!==void 0&&(he=""+Q.key),Q)!L.call(Q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&Q.ref===void 0||(de[fe]=Q[fe]);var fe=arguments.length-2;if(fe===1)de.children=oe;else if(1<fe){for(var Ee=Array(fe),De=0;De<fe;De++)Ee[De]=arguments[De+2];de.children=Ee}return P($.type,he,de)},Te.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Te.createElement=function($,Q,oe){var de,he={},fe=null;if(Q!=null)for(de in Q.key!==void 0&&(fe=""+Q.key),Q)L.call(Q,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(he[de]=Q[de]);var Ee=arguments.length-2;if(Ee===1)he.children=oe;else if(1<Ee){for(var De=Array(Ee),Me=0;Me<Ee;Me++)De[Me]=arguments[Me+2];he.children=De}if($&&$.defaultProps)for(de in Ee=$.defaultProps,Ee)he[de]===void 0&&(he[de]=Ee[de]);return P($,fe,he)},Te.createRef=function(){return{current:null}},Te.forwardRef=function($){return{$$typeof:d,render:$}},Te.isValidElement=q,Te.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:te}},Te.memo=function($,Q){return{$$typeof:m,type:$,compare:Q===void 0?null:Q}},Te.startTransition=function($){var Q=C.T,oe={};C.T=oe;try{var de=$(),he=C.S;he!==null&&he(oe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(D,le)}catch(fe){le(fe)}finally{Q!==null&&oe.types!==null&&(Q.types=oe.types),C.T=Q}},Te.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Te.use=function($){return C.H.use($)},Te.useActionState=function($,Q,oe){return C.H.useActionState($,Q,oe)},Te.useCallback=function($,Q){return C.H.useCallback($,Q)},Te.useContext=function($){return C.H.useContext($)},Te.useDebugValue=function(){},Te.useDeferredValue=function($,Q){return C.H.useDeferredValue($,Q)},Te.useEffect=function($,Q){return C.H.useEffect($,Q)},Te.useEffectEvent=function($){return C.H.useEffectEvent($)},Te.useId=function(){return C.H.useId()},Te.useImperativeHandle=function($,Q,oe){return C.H.useImperativeHandle($,Q,oe)},Te.useInsertionEffect=function($,Q){return C.H.useInsertionEffect($,Q)},Te.useLayoutEffect=function($,Q){return C.H.useLayoutEffect($,Q)},Te.useMemo=function($,Q){return C.H.useMemo($,Q)},Te.useOptimistic=function($,Q){return C.H.useOptimistic($,Q)},Te.useReducer=function($,Q,oe){return C.H.useReducer($,Q,oe)},Te.useRef=function($){return C.H.useRef($)},Te.useState=function($){return C.H.useState($)},Te.useSyncExternalStore=function($,Q,oe){return C.H.useSyncExternalStore($,Q,oe)},Te.useTransition=function(){return C.H.useTransition()},Te.version="19.2.1",Te}var FS;function Tr(){return FS||(FS=1,Tm.exports=kM()),Tm.exports}var A=Tr();const Y=Kt(A);var Om={exports:{}},Wo={},Cm={exports:{}},Am={};var GS;function MM(){return GS||(GS=1,(function(t){function e(H,B){var te=H.length;H.push(B);e:for(;0<te;){var le=te-1>>>1,V=H[le];if(0<i(V,B))H[le]=B,H[te]=V,te=le;else break e}}function r(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var B=H[0],te=H.pop();if(te!==B){H[0]=te;e:for(var le=0,V=H.length,$=V>>>1;le<$;){var Q=2*(le+1)-1,oe=H[Q],de=Q+1,he=H[de];if(0>i(oe,te))de<V&&0>i(he,oe)?(H[le]=he,H[de]=te,le=de):(H[le]=oe,H[Q]=te,le=Q);else if(de<V&&0>i(he,te))H[le]=he,H[de]=te,le=de;else break e}}return B}function i(H,B){var te=H.sortIndex-B.sortIndex;return te!==0?te:H.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],m=[],v=1,y=null,b=3,x=!1,w=!1,_=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var B=r(m);B!==null;){if(B.callback===null)a(m);else if(B.startTime<=H)a(m),B.sortIndex=B.expirationTime,e(f,B);else break;B=r(m)}}function M(H){if(_=!1,O(H),!w)if(r(f)!==null)w=!0,D||(D=!0,z());else{var B=r(m);B!==null&&Z(M,B.startTime-H)}}var D=!1,C=-1,L=5,P=-1;function R(){return E?!0:!(t.unstable_now()-P<L)}function q(){if(E=!1,D){var H=t.unstable_now();P=H;var B=!0;try{e:{w=!1,_&&(_=!1,N(C),C=-1),x=!0;var te=b;try{t:{for(O(H),y=r(f);y!==null&&!(y.expirationTime>H&&R());){var le=y.callback;if(typeof le=="function"){y.callback=null,b=y.priorityLevel;var V=le(y.expirationTime<=H);if(H=t.unstable_now(),typeof V=="function"){y.callback=V,O(H),B=!0;break t}y===r(f)&&a(f),O(H)}else a(f);y=r(f)}if(y!==null)B=!0;else{var $=r(m);$!==null&&Z(M,$.startTime-H),B=!1}}break e}finally{y=null,b=te,x=!1}B=void 0}}finally{B?z():D=!1}}}var z;if(typeof T=="function")z=function(){T(q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=q,z=function(){W.postMessage(null)}}else z=function(){S(q,0)};function Z(H,B){C=S(function(){H(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var B=3;break;default:B=b}var te=b;b=B;try{return H()}finally{b=te}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(H,B){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=b;b=H;try{return B()}finally{b=te}},t.unstable_scheduleCallback=function(H,B,te){var le=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=te+V,H={id:v++,callback:B,priorityLevel:H,startTime:te,expirationTime:V,sortIndex:-1},te>le?(H.sortIndex=te,e(m,H),r(f)===null&&H===r(m)&&(_?(N(C),C=-1):_=!0,Z(M,te-le))):(H.sortIndex=V,e(f,H),w||x||(w=!0,D||(D=!0,z()))),H},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(H){var B=b;return function(){var te=b;b=B;try{return H.apply(this,arguments)}finally{b=te}}}})(Am)),Am}var YS;function qM(){return YS||(YS=1,Cm.exports=MM()),Cm.exports}var Rm={exports:{}},Yt={};var WS;function PM(){if(WS)return Yt;WS=1;var t=Tr();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Yt.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,v)},Yt.flushSync=function(f){var m=c.T,v=a.p;try{if(c.T=null,a.p=2,f)return f()}finally{c.T=m,a.p=v,a.d.f()}},Yt.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},Yt.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},Yt.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):v==="script"&&a.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Yt.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},Yt.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin);a.d.L(f,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Yt.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},Yt.requestFormReset=function(f){a.d.r(f)},Yt.unstable_batchedUpdates=function(f,m){return f(m)},Yt.useFormState=function(f,m,v){return c.H.useFormState(f,m,v)},Yt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yt.version="19.2.1",Yt}var VS;function i2(){if(VS)return Rm.exports;VS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rm.exports=PM(),Rm.exports}var KS;function LM(){if(KS)return Wo;KS=1;var t=qM(),e=Tr(),r=i2();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(a(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(a(188));return s!==n?null:n}for(var o=n,u=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return f(p),n;if(g===u)return f(p),s;g=g.sibling}throw Error(a(188))}if(o.return!==u.return)o=p,u=g;else{for(var j=!1,k=p.child;k;){if(k===o){j=!0,o=p,u=g;break}if(k===u){j=!0,u=p,o=g;break}k=k.sibling}if(!j){for(k=g.child;k;){if(k===o){j=!0,o=g,u=p;break}if(k===u){j=!0,u=g,o=p;break}k=k.sibling}if(!j)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function W(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case P:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case T:return n.displayName||"Context";case N:return(n._context.displayName||"Context")+".Consumer";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:W(n.type)||"Memo";case L:s=n._payload,n=n._init;try{return W(n(s))}catch{}}return null}var Z=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},le=[],V=-1;function $(n){return{current:n}}function Q(n){0>V||(n.current=le[V],le[V]=null,V--)}function oe(n,s){V++,le[V]=n.current,n.current=s}var de=$(null),he=$(null),fe=$(null),Ee=$(null);function De(n,s){switch(oe(fe,s),oe(he,n),oe(de,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?uS(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=uS(s),n=dS(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(de),oe(de,n)}function Me(){Q(de),Q(he),Q(fe)}function jt(n){n.memoizedState!==null&&oe(Ee,n);var s=de.current,o=dS(s,n.type);s!==o&&(oe(he,n),oe(de,o))}function Rt(n){he.current===n&&(Q(de),Q(he)),Ee.current===n&&(Q(Ee),Bo._currentValue=te)}var mr,Gt;function gt(n){if(mr===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);mr=s&&s[1]||"",Gt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mr+n+Gt}var ke=!1;function qt(n,s){if(!n||ke)return"";ke=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(ee){var J=ee}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(ee){J=ee}n.call(ie.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),j=g[0],k=g[1];if(j&&k){var I=j.split(`
`),X=k.split(`
`);for(p=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(u===I.length||p===X.length)for(u=I.length-1,p=X.length-1;1<=u&&0<=p&&I[u]!==X[p];)p--;for(;1<=u&&0<=p;u--,p--)if(I[u]!==X[p]){if(u!==1||p!==1)do if(u--,p--,0>p||I[u]!==X[p]){var re=`
`+I[u].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=u&&0<=p);break}}}finally{ke=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?gt(o):""}function Ce(n,s){switch(n.tag){case 26:case 27:case 5:return gt(n.type);case 16:return gt("Lazy");case 13:return n.child!==s&&s!==null?gt("Suspense Fallback"):gt("Suspense");case 19:return gt("SuspenseList");case 0:case 15:return qt(n.type,!1);case 11:return qt(n.type.render,!1);case 1:return qt(n.type,!0);case 31:return gt("Activity");default:return""}}function ae(n){try{var s="",o=null;do s+=Ce(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ye=Object.prototype.hasOwnProperty,we=t.unstable_scheduleCallback,We=t.unstable_cancelCallback,st=t.unstable_shouldYield,ut=t.unstable_requestPaint,ce=t.unstable_now,ne=t.unstable_getCurrentPriorityLevel,be=t.unstable_ImmediatePriority,Re=t.unstable_UserBlockingPriority,He=t.unstable_NormalPriority,tr=t.unstable_LowPriority,Zt=t.unstable_IdlePriority,nn=t.log,Or=t.unstable_setDisableYieldValue,et=null,mt=null;function Jn(n){if(typeof nn=="function"&&Or(n),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(et,n)}catch{}}var pr=Math.clz32?Math.clz32:vD,mD=Math.log,pD=Math.LN2;function vD(n){return n>>>=0,n===0?32:31-(mD(n)/pD|0)|0}var ac=256,sc=262144,ic=4194304;function $a(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function oc(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var p=0,g=n.suspendedLanes,j=n.pingedLanes;n=n.warmLanes;var k=u&134217727;return k!==0?(u=k&~g,u!==0?p=$a(u):(j&=k,j!==0?p=$a(j):o||(o=k&~n,o!==0&&(p=$a(o))))):(k=u&~g,k!==0?p=$a(k):j!==0?p=$a(j):o||(o=u&~n,o!==0&&(p=$a(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function eo(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function gD(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gb(){var n=ic;return ic<<=1,(ic&62914560)===0&&(ic=4194304),n}function mf(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function to(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function yD(n,s,o,u,p,g){var j=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var k=n.entanglements,I=n.expirationTimes,X=n.hiddenUpdates;for(o=j&~o;0<o;){var re=31-pr(o),ie=1<<re;k[re]=0,I[re]=-1;var J=X[re];if(J!==null)for(X[re]=null,re=0;re<J.length;re++){var ee=J[re];ee!==null&&(ee.lane&=-536870913)}o&=~ie}u!==0&&Yb(n,u,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(j&~s))}function Yb(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-pr(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Wb(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-pr(o),p=1<<u;p&s|n[u]&s&&(n[u]|=s),o&=~p}}function Vb(n,s){var o=s&-s;return o=(o&42)!==0?1:pf(o),(o&(n.suspendedLanes|s))!==0?0:o}function pf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Kb(){var n=B.p;return n!==0?n:(n=window.event,n===void 0?32:MS(n.type))}function Xb(n,s){var o=B.p;try{return B.p=n,s()}finally{B.p=o}}var Zn=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Zn,rr="__reactProps$"+Zn,Ds="__reactContainer$"+Zn,gf="__reactEvents$"+Zn,bD="__reactListeners$"+Zn,xD="__reactHandles$"+Zn,Qb="__reactResources$"+Zn,ro="__reactMarker$"+Zn;function yf(n){delete n[Pt],delete n[rr],delete n[gf],delete n[bD],delete n[xD]}function ks(n){var s=n[Pt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Ds]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=yS(n);n!==null;){if(o=n[Pt])return o;n=yS(n)}return s}n=o,o=n.parentNode}return null}function Ms(n){if(n=n[Pt]||n[Ds]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function no(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function qs(n){var s=n[Qb];return s||(s=n[Qb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Dt(n){n[ro]=!0}var Jb=new Set,Zb={};function Ua(n,s){Ps(n,s),Ps(n+"Capture",s)}function Ps(n,s){for(Zb[n]=s,n=0;n<s.length;n++)Jb.add(s[n])}var wD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ex={},tx={};function _D(n){return ye.call(tx,n)?!0:ye.call(ex,n)?!1:wD.test(n)?tx[n]=!0:(ex[n]=!0,!1)}function lc(n,s,o){if(_D(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function cc(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function _n(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Cr(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rx(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function SD(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(j){o=""+j,g.call(this,j)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(j){o=""+j},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function bf(n){if(!n._valueTracker){var s=rx(n)?"checked":"value";n._valueTracker=SD(n,s,""+n[s])}}function nx(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=rx(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function uc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ED=/[\n"\\]/g;function Ar(n){return n.replace(ED,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function xf(n,s,o,u,p,g,j,k){n.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?n.type=j:n.removeAttribute("type"),s!=null?j==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Cr(s)):n.value!==""+Cr(s)&&(n.value=""+Cr(s)):j!=="submit"&&j!=="reset"||n.removeAttribute("value"),s!=null?wf(n,j,Cr(s)):o!=null?wf(n,j,Cr(o)):u!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+Cr(k):n.removeAttribute("name")}function ax(n,s,o,u,p,g,j,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){bf(n);return}o=o!=null?""+Cr(o):"",s=s!=null?""+Cr(s):o,k||s===n.value||(n.value=s),n.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=k?n.checked:!!u,n.defaultChecked=!!u,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(n.name=j),bf(n)}function wf(n,s,o){s==="number"&&uc(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ls(n,s,o,u){if(n=n.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=s.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Cr(o),s=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function sx(n,s,o){if(s!=null&&(s=""+Cr(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Cr(o):""}function ix(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(a(92));if(Z(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Cr(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),bf(n)}function $s(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var jD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ox(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||jD.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function lx(n,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&ox(n,p,u)}else for(var g in s)s.hasOwnProperty(g)&&ox(n,g,s[g])}function _f(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ND=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dc(n){return TD.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Sn(){}var Sf=null;function Ef(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Us=null,zs=null;function cx(n){var s=Ms(n);if(s&&(n=s.stateNode)){var o=n[rr]||null;e:switch(n=s.stateNode,s.type){case"input":if(xf(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ar(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var p=u[rr]||null;if(!p)throw Error(a(90));xf(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&nx(u)}break e;case"textarea":sx(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ls(n,!!o.multiple,s,!1)}}}var jf=!1;function ux(n,s,o){if(jf)return n(s,o);jf=!0;try{var u=n(s);return u}finally{if(jf=!1,(Us!==null||zs!==null)&&(Jc(),Us&&(s=Us,n=zs,zs=Us=null,cx(s),n)))for(s=0;s<n.length;s++)cx(n[s])}}function ao(n,s){var o=n.stateNode;if(o===null)return null;var u=o[rr]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nf=!1;if(En)try{var so={};Object.defineProperty(so,"passive",{get:function(){Nf=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Nf=!1}var ea=null,Tf=null,fc=null;function dx(){if(fc)return fc;var n,s=Tf,o=s.length,u,p="value"in ea?ea.value:ea.textContent,g=p.length;for(n=0;n<o&&s[n]===p[n];n++);var j=o-n;for(u=1;u<=j&&s[o-u]===p[g-u];u++);return fc=p.slice(n,1<u?1-u:void 0)}function hc(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function mc(){return!0}function fx(){return!1}function nr(n){function s(o,u,p,g,j){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=j,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(o=n[k],this[k]=o?o(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mc:fx,this.isPropagationStopped=fx,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mc)},persist:function(){},isPersistent:mc}),s}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=nr(za),io=y({},za,{view:0,detail:0}),OD=nr(io),Of,Cf,oo,vc=y({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==oo&&(oo&&n.type==="mousemove"?(Of=n.screenX-oo.screenX,Cf=n.screenY-oo.screenY):Cf=Of=0,oo=n),Of)},movementY:function(n){return"movementY"in n?n.movementY:Cf}}),hx=nr(vc),CD=y({},vc,{dataTransfer:0}),AD=nr(CD),RD=y({},io,{relatedTarget:0}),Af=nr(RD),DD=y({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),kD=nr(DD),MD=y({},za,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qD=nr(MD),PD=y({},za,{data:0}),mx=nr(PD),LD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$D={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zD(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=UD[n])?!!s[n]:!1}function Rf(){return zD}var ID=y({},io,{key:function(n){if(n.key){var s=LD[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=hc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?$D[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(n){return n.type==="keypress"?hc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),BD=nr(ID),HD=y({},vc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),px=nr(HD),FD=y({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),GD=nr(FD),YD=y({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),WD=nr(YD),VD=y({},vc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),KD=nr(VD),XD=y({},za,{newState:0,oldState:0}),QD=nr(XD),JD=[9,13,27,32],Df=En&&"CompositionEvent"in window,lo=null;En&&"documentMode"in document&&(lo=document.documentMode);var ZD=En&&"TextEvent"in window&&!lo,vx=En&&(!Df||lo&&8<lo&&11>=lo),gx=" ",yx=!1;function bx(n,s){switch(n){case"keyup":return JD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Is=!1;function ek(n,s){switch(n){case"compositionend":return xx(s);case"keypress":return s.which!==32?null:(yx=!0,gx);case"textInput":return n=s.data,n===gx&&yx?null:n;default:return null}}function tk(n,s){if(Is)return n==="compositionend"||!Df&&bx(n,s)?(n=dx(),fc=Tf=ea=null,Is=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return vx&&s.locale!=="ko"?null:s.data;default:return null}}var rk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wx(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!rk[n.type]:s==="textarea"}function _x(n,s,o,u){Us?zs?zs.push(u):zs=[u]:Us=u,s=su(s,"onChange"),0<s.length&&(o=new pc("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var co=null,uo=null;function nk(n){aS(n,0)}function gc(n){var s=no(n);if(nx(s))return n}function Sx(n,s){if(n==="change")return s}var Ex=!1;if(En){var kf;if(En){var Mf="oninput"in document;if(!Mf){var jx=document.createElement("div");jx.setAttribute("oninput","return;"),Mf=typeof jx.oninput=="function"}kf=Mf}else kf=!1;Ex=kf&&(!document.documentMode||9<document.documentMode)}function Nx(){co&&(co.detachEvent("onpropertychange",Tx),uo=co=null)}function Tx(n){if(n.propertyName==="value"&&gc(uo)){var s=[];_x(s,uo,n,Ef(n)),ux(nk,s)}}function ak(n,s,o){n==="focusin"?(Nx(),co=s,uo=o,co.attachEvent("onpropertychange",Tx)):n==="focusout"&&Nx()}function sk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gc(uo)}function ik(n,s){if(n==="click")return gc(s)}function ok(n,s){if(n==="input"||n==="change")return gc(s)}function lk(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var vr=typeof Object.is=="function"?Object.is:lk;function fo(n,s){if(vr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!ye.call(s,p)||!vr(n[p],s[p]))return!1}return!0}function Ox(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Cx(n,s){var o=Ox(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ox(o)}}function Ax(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ax(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Rx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=uc(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=uc(n.document)}return s}function qf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var ck=En&&"documentMode"in document&&11>=document.documentMode,Bs=null,Pf=null,ho=null,Lf=!1;function Dx(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Lf||Bs==null||Bs!==uc(u)||(u=Bs,"selectionStart"in u&&qf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ho&&fo(ho,u)||(ho=u,u=su(Pf,"onSelect"),0<u.length&&(s=new pc("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Bs)))}function Ia(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Hs={animationend:Ia("Animation","AnimationEnd"),animationiteration:Ia("Animation","AnimationIteration"),animationstart:Ia("Animation","AnimationStart"),transitionrun:Ia("Transition","TransitionRun"),transitionstart:Ia("Transition","TransitionStart"),transitioncancel:Ia("Transition","TransitionCancel"),transitionend:Ia("Transition","TransitionEnd")},$f={},kx={};En&&(kx=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Ba(n){if($f[n])return $f[n];if(!Hs[n])return n;var s=Hs[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in kx)return $f[n]=s[o];return n}var Mx=Ba("animationend"),qx=Ba("animationiteration"),Px=Ba("animationstart"),uk=Ba("transitionrun"),dk=Ba("transitionstart"),fk=Ba("transitioncancel"),Lx=Ba("transitionend"),$x=new Map,Uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uf.push("scrollEnd");function Wr(n,s){$x.set(n,s),Ua(s,[n])}var yc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Rr=[],Fs=0,zf=0;function bc(){for(var n=Fs,s=zf=Fs=0;s<n;){var o=Rr[s];Rr[s++]=null;var u=Rr[s];Rr[s++]=null;var p=Rr[s];Rr[s++]=null;var g=Rr[s];if(Rr[s++]=null,u!==null&&p!==null){var j=u.pending;j===null?p.next=p:(p.next=j.next,j.next=p),u.pending=p}g!==0&&Ux(o,p,g)}}function xc(n,s,o,u){Rr[Fs++]=n,Rr[Fs++]=s,Rr[Fs++]=o,Rr[Fs++]=u,zf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function If(n,s,o,u){return xc(n,s,o,u),wc(n)}function Ha(n,s){return xc(n,null,null,s),wc(n)}function Ux(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&s!==null&&(p=31-pr(o),n=g.hiddenUpdates,u=n[p],u===null?n[p]=[s]:u.push(s),s.lane=o|536870912),g):null}function wc(n){if(50<qo)throw qo=0,Xh=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Gs={};function hk(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(n,s,o,u){return new hk(n,s,o,u)}function Bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function jn(n,s){var o=n.alternate;return o===null?(o=gr(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function zx(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function _c(n,s,o,u,p,g){var j=0;if(u=n,typeof n=="function")Bf(n)&&(j=1);else if(typeof n=="string")j=yM(n,o,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case P:return n=gr(31,o,s,p),n.elementType=P,n.lanes=g,n;case _:return Fa(o.children,p,g,s);case E:j=8,p|=24;break;case S:return n=gr(12,o,s,p|2),n.elementType=S,n.lanes=g,n;case M:return n=gr(13,o,s,p),n.elementType=M,n.lanes=g,n;case D:return n=gr(19,o,s,p),n.elementType=D,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:j=10;break e;case N:j=9;break e;case O:j=11;break e;case C:j=14;break e;case L:j=16,u=null;break e}j=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return s=gr(j,o,s,p),s.elementType=n,s.type=u,s.lanes=g,s}function Fa(n,s,o,u){return n=gr(7,n,u,s),n.lanes=o,n}function Hf(n,s,o){return n=gr(6,n,null,s),n.lanes=o,n}function Ix(n){var s=gr(18,null,null,0);return s.stateNode=n,s}function Ff(n,s,o){return s=gr(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Bx=new WeakMap;function Dr(n,s){if(typeof n=="object"&&n!==null){var o=Bx.get(n);return o!==void 0?o:(s={value:n,source:s,stack:ae(s)},Bx.set(n,s),s)}return{value:n,source:s,stack:ae(s)}}var Ys=[],Ws=0,Sc=null,mo=0,kr=[],Mr=0,ta=null,an=1,sn="";function Nn(n,s){Ys[Ws++]=mo,Ys[Ws++]=Sc,Sc=n,mo=s}function Hx(n,s,o){kr[Mr++]=an,kr[Mr++]=sn,kr[Mr++]=ta,ta=n;var u=an;n=sn;var p=32-pr(u)-1;u&=~(1<<p),o+=1;var g=32-pr(s)+p;if(30<g){var j=p-p%5;g=(u&(1<<j)-1).toString(32),u>>=j,p-=j,an=1<<32-pr(s)+p|o<<p|u,sn=g+n}else an=1<<g|o<<p|u,sn=n}function Gf(n){n.return!==null&&(Nn(n,1),Hx(n,1,0))}function Yf(n){for(;n===Sc;)Sc=Ys[--Ws],Ys[Ws]=null,mo=Ys[--Ws],Ys[Ws]=null;for(;n===ta;)ta=kr[--Mr],kr[Mr]=null,sn=kr[--Mr],kr[Mr]=null,an=kr[--Mr],kr[Mr]=null}function Fx(n,s){kr[Mr++]=an,kr[Mr++]=sn,kr[Mr++]=ta,an=s.id,sn=s.overflow,ta=n}var Lt=null,tt=null,Ue=!1,ra=null,qr=!1,Wf=Error(a(519));function na(n){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(Dr(s,n)),Wf}function Gx(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Pt]=n,s[rr]=u,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<Lo.length;o++)Pe(Lo[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),ax(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),ix(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||lS(s.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=Sn),s=!0):s=!1,s||na(n,!0)}function Yx(n){for(Lt=n.return;Lt;)switch(Lt.tag){case 5:case 31:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:Lt=Lt.return}}function Vs(n){if(n!==Lt)return!1;if(!Ue)return Yx(n),Ue=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||dm(n.type,n.memoizedProps)),o=!o),o&&tt&&na(n),Yx(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=gS(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=gS(n)}else s===27?(s=tt,ga(n.type)?(n=vm,vm=null,tt=n):tt=s):tt=Lt?Lr(n.stateNode.nextSibling):null;return!0}function Ga(){tt=Lt=null,Ue=!1}function Vf(){var n=ra;return n!==null&&(or===null?or=n:or.push.apply(or,n),ra=null),n}function po(n){ra===null?ra=[n]:ra.push(n)}var Kf=$(null),Ya=null,Tn=null;function aa(n,s,o){oe(Kf,s._currentValue),s._currentValue=o}function On(n){n._currentValue=Kf.current,Q(Kf)}function Xf(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Qf(n,s,o,u){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var j=p.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=p;for(var I=0;I<s.length;I++)if(k.context===s[I]){g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),Xf(g.return,o,n),u||(j=null);break e}g=k.next}}else if(p.tag===18){if(j=p.return,j===null)throw Error(a(341));j.lanes|=o,g=j.alternate,g!==null&&(g.lanes|=o),Xf(j,o,n),j=null}else j=p.child;if(j!==null)j.return=p;else for(j=p;j!==null;){if(j===n){j=null;break}if(p=j.sibling,p!==null){p.return=j.return,j=p;break}j=j.return}p=j}}function Ks(n,s,o,u){n=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var j=p.alternate;if(j===null)throw Error(a(387));if(j=j.memoizedProps,j!==null){var k=p.type;vr(p.pendingProps.value,j.value)||(n!==null?n.push(k):n=[k])}}else if(p===Ee.current){if(j=p.alternate,j===null)throw Error(a(387));j.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Bo):n=[Bo])}p=p.return}n!==null&&Qf(s,n,o,u),s.flags|=262144}function Ec(n){for(n=n.firstContext;n!==null;){if(!vr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Wa(n){Ya=n,Tn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function $t(n){return Wx(Ya,n)}function jc(n,s){return Ya===null&&Wa(n),Wx(n,s)}function Wx(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Tn===null){if(n===null)throw Error(a(308));Tn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Tn=Tn.next=s;return o}var mk=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},pk=t.unstable_scheduleCallback,vk=t.unstable_NormalPriority,yt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new mk,data:new Map,refCount:0}}function vo(n){n.refCount--,n.refCount===0&&pk(vk,function(){n.controller.abort()})}var go=null,Zf=0,Xs=0,Qs=null;function gk(n,s){if(go===null){var o=go=[];Zf=0,Xs=rm(),Qs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Zf++,s.then(Vx,Vx),s}function Vx(){if(--Zf===0&&go!==null){Qs!==null&&(Qs.status="fulfilled");var n=go;go=null,Xs=0,Qs=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function yk(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Kx=H.S;H.S=function(n,s){D_=ce(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&gk(n,s),Kx!==null&&Kx(n,s)};var Va=$(null);function eh(){var n=Va.current;return n!==null?n:Qe.pooledCache}function Nc(n,s){s===null?oe(Va,Va.current):oe(Va,s.pool)}function Xx(){var n=eh();return n===null?null:{parent:yt._currentValue,pool:n}}var Js=Error(a(460)),th=Error(a(474)),Tc=Error(a(542)),Oc={then:function(){}};function Qx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Jx(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(Sn,Sn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,ew(n),n;default:if(typeof s.status=="string")s.then(Sn,Sn);else{if(n=Qe,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,ew(n),n}throw Xa=s,Js}}function Ka(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Xa=o,Js):o}}var Xa=null;function Zx(){if(Xa===null)throw Error(a(459));var n=Xa;return Xa=null,n}function ew(n){if(n===Js||n===Tc)throw Error(a(483))}var Zs=null,yo=0;function Cc(n){var s=yo;return yo+=1,Zs===null&&(Zs=[]),Jx(Zs,n,s)}function bo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ac(n,s){throw s.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function tw(n){function s(G,F){if(n){var K=G.deletions;K===null?(G.deletions=[F],G.flags|=16):K.push(F)}}function o(G,F){if(!n)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function u(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function p(G,F){return G=jn(G,F),G.index=0,G.sibling=null,G}function g(G,F,K){return G.index=K,n?(K=G.alternate,K!==null?(K=K.index,K<F?(G.flags|=67108866,F):K):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function j(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function k(G,F,K,se){return F===null||F.tag!==6?(F=Hf(K,G.mode,se),F.return=G,F):(F=p(F,K),F.return=G,F)}function I(G,F,K,se){var xe=K.type;return xe===_?re(G,F,K.props.children,se,K.key):F!==null&&(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&Ka(xe)===F.type)?(F=p(F,K.props),bo(F,K),F.return=G,F):(F=_c(K.type,K.key,K.props,null,G.mode,se),bo(F,K),F.return=G,F)}function X(G,F,K,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=Ff(K,G.mode,se),F.return=G,F):(F=p(F,K.children||[]),F.return=G,F)}function re(G,F,K,se,xe){return F===null||F.tag!==7?(F=Fa(K,G.mode,se,xe),F.return=G,F):(F=p(F,K),F.return=G,F)}function ie(G,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Hf(""+F,G.mode,K),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return K=_c(F.type,F.key,F.props,null,G.mode,K),bo(K,F),K.return=G,K;case w:return F=Ff(F,G.mode,K),F.return=G,F;case L:return F=Ka(F),ie(G,F,K)}if(Z(F)||z(F))return F=Fa(F,G.mode,K,null),F.return=G,F;if(typeof F.then=="function")return ie(G,Cc(F),K);if(F.$$typeof===T)return ie(G,jc(G,F),K);Ac(G,F)}return null}function J(G,F,K,se){var xe=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return xe!==null?null:k(G,F,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===xe?I(G,F,K,se):null;case w:return K.key===xe?X(G,F,K,se):null;case L:return K=Ka(K),J(G,F,K,se)}if(Z(K)||z(K))return xe!==null?null:re(G,F,K,se,null);if(typeof K.then=="function")return J(G,F,Cc(K),se);if(K.$$typeof===T)return J(G,F,jc(G,K),se);Ac(G,K)}return null}function ee(G,F,K,se,xe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(K)||null,k(F,G,""+se,xe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return G=G.get(se.key===null?K:se.key)||null,I(F,G,se,xe);case w:return G=G.get(se.key===null?K:se.key)||null,X(F,G,se,xe);case L:return se=Ka(se),ee(G,F,K,se,xe)}if(Z(se)||z(se))return G=G.get(K)||null,re(F,G,se,xe,null);if(typeof se.then=="function")return ee(G,F,K,Cc(se),xe);if(se.$$typeof===T)return ee(G,F,K,jc(F,se),xe);Ac(F,se)}return null}function pe(G,F,K,se){for(var xe=null,ze=null,ve=F,Ae=F=0,$e=null;ve!==null&&Ae<K.length;Ae++){ve.index>Ae?($e=ve,ve=null):$e=ve.sibling;var Ie=J(G,ve,K[Ae],se);if(Ie===null){ve===null&&(ve=$e);break}n&&ve&&Ie.alternate===null&&s(G,ve),F=g(Ie,F,Ae),ze===null?xe=Ie:ze.sibling=Ie,ze=Ie,ve=$e}if(Ae===K.length)return o(G,ve),Ue&&Nn(G,Ae),xe;if(ve===null){for(;Ae<K.length;Ae++)ve=ie(G,K[Ae],se),ve!==null&&(F=g(ve,F,Ae),ze===null?xe=ve:ze.sibling=ve,ze=ve);return Ue&&Nn(G,Ae),xe}for(ve=u(ve);Ae<K.length;Ae++)$e=ee(ve,G,Ae,K[Ae],se),$e!==null&&(n&&$e.alternate!==null&&ve.delete($e.key===null?Ae:$e.key),F=g($e,F,Ae),ze===null?xe=$e:ze.sibling=$e,ze=$e);return n&&ve.forEach(function(_a){return s(G,_a)}),Ue&&Nn(G,Ae),xe}function _e(G,F,K,se){if(K==null)throw Error(a(151));for(var xe=null,ze=null,ve=F,Ae=F=0,$e=null,Ie=K.next();ve!==null&&!Ie.done;Ae++,Ie=K.next()){ve.index>Ae?($e=ve,ve=null):$e=ve.sibling;var _a=J(G,ve,Ie.value,se);if(_a===null){ve===null&&(ve=$e);break}n&&ve&&_a.alternate===null&&s(G,ve),F=g(_a,F,Ae),ze===null?xe=_a:ze.sibling=_a,ze=_a,ve=$e}if(Ie.done)return o(G,ve),Ue&&Nn(G,Ae),xe;if(ve===null){for(;!Ie.done;Ae++,Ie=K.next())Ie=ie(G,Ie.value,se),Ie!==null&&(F=g(Ie,F,Ae),ze===null?xe=Ie:ze.sibling=Ie,ze=Ie);return Ue&&Nn(G,Ae),xe}for(ve=u(ve);!Ie.done;Ae++,Ie=K.next())Ie=ee(ve,G,Ae,Ie.value,se),Ie!==null&&(n&&Ie.alternate!==null&&ve.delete(Ie.key===null?Ae:Ie.key),F=g(Ie,F,Ae),ze===null?xe=Ie:ze.sibling=Ie,ze=Ie);return n&&ve.forEach(function(CM){return s(G,CM)}),Ue&&Nn(G,Ae),xe}function Xe(G,F,K,se){if(typeof K=="object"&&K!==null&&K.type===_&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var xe=K.key;F!==null;){if(F.key===xe){if(xe=K.type,xe===_){if(F.tag===7){o(G,F.sibling),se=p(F,K.props.children),se.return=G,G=se;break e}}else if(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===L&&Ka(xe)===F.type){o(G,F.sibling),se=p(F,K.props),bo(se,K),se.return=G,G=se;break e}o(G,F);break}else s(G,F);F=F.sibling}K.type===_?(se=Fa(K.props.children,G.mode,se,K.key),se.return=G,G=se):(se=_c(K.type,K.key,K.props,null,G.mode,se),bo(se,K),se.return=G,G=se)}return j(G);case w:e:{for(xe=K.key;F!==null;){if(F.key===xe)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){o(G,F.sibling),se=p(F,K.children||[]),se.return=G,G=se;break e}else{o(G,F);break}else s(G,F);F=F.sibling}se=Ff(K,G.mode,se),se.return=G,G=se}return j(G);case L:return K=Ka(K),Xe(G,F,K,se)}if(Z(K))return pe(G,F,K,se);if(z(K)){if(xe=z(K),typeof xe!="function")throw Error(a(150));return K=xe.call(K),_e(G,F,K,se)}if(typeof K.then=="function")return Xe(G,F,Cc(K),se);if(K.$$typeof===T)return Xe(G,F,jc(G,K),se);Ac(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(o(G,F.sibling),se=p(F,K),se.return=G,G=se):(o(G,F),se=Hf(K,G.mode,se),se.return=G,G=se),j(G)):o(G,F)}return function(G,F,K,se){try{yo=0;var xe=Xe(G,F,K,se);return Zs=null,xe}catch(ve){if(ve===Js||ve===Tc)throw ve;var ze=gr(29,ve,null,G.mode);return ze.lanes=se,ze.return=G,ze}finally{}}}var Qa=tw(!0),rw=tw(!1),sa=!1;function rh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ia(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function oa(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Be&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=wc(n),Ux(n,null,o),s}return xc(n,u,s,o),wc(n)}function xo(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Wb(n,o)}}function ah(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var j={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=j:g=g.next=j,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var sh=!1;function wo(){if(sh){var n=Qs;if(n!==null)throw n}}function _o(n,s,o,u){sh=!1;var p=n.updateQueue;sa=!1;var g=p.firstBaseUpdate,j=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var I=k,X=I.next;I.next=null,j===null?g=X:j.next=X,j=I;var re=n.alternate;re!==null&&(re=re.updateQueue,k=re.lastBaseUpdate,k!==j&&(k===null?re.firstBaseUpdate=X:k.next=X,re.lastBaseUpdate=I))}if(g!==null){var ie=p.baseState;j=0,re=X=I=null,k=g;do{var J=k.lane&-536870913,ee=J!==k.lane;if(ee?(Le&J)===J:(u&J)===J){J!==0&&J===Xs&&(sh=!0),re!==null&&(re=re.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var pe=n,_e=k;J=s;var Xe=o;switch(_e.tag){case 1:if(pe=_e.payload,typeof pe=="function"){ie=pe.call(Xe,ie,J);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=_e.payload,J=typeof pe=="function"?pe.call(Xe,ie,J):pe,J==null)break e;ie=y({},ie,J);break e;case 2:sa=!0}}J=k.callback,J!==null&&(n.flags|=64,ee&&(n.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},re===null?(X=re=ee,I=ie):re=re.next=ee,j|=J;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;ee=k,k=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);re===null&&(I=ie),p.baseState=I,p.firstBaseUpdate=X,p.lastBaseUpdate=re,g===null&&(p.shared.lanes=0),fa|=j,n.lanes=j,n.memoizedState=ie}}function nw(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function aw(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)nw(o[n],s)}var ei=$(null),Rc=$(0);function sw(n,s){n=Ln,oe(Rc,n),oe(ei,s),Ln=n|s.baseLanes}function ih(){oe(Rc,Ln),oe(ei,ei.current)}function oh(){Ln=Rc.current,Q(ei),Q(Rc)}var yr=$(null),Pr=null;function la(n){var s=n.alternate;oe(pt,pt.current&1),oe(yr,n),Pr===null&&(s===null||ei.current!==null||s.memoizedState!==null)&&(Pr=n)}function lh(n){oe(pt,pt.current),oe(yr,n),Pr===null&&(Pr=n)}function iw(n){n.tag===22?(oe(pt,pt.current),oe(yr,n),Pr===null&&(Pr=n)):ca()}function ca(){oe(pt,pt.current),oe(yr,yr.current)}function br(n){Q(yr),Pr===n&&(Pr=null),Q(pt)}var pt=$(0);function Dc(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||mm(o)||pm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cn=0,Oe=null,Ve=null,bt=null,kc=!1,ti=!1,Ja=!1,Mc=0,So=0,ri=null,bk=0;function dt(){throw Error(a(321))}function ch(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!vr(n[o],s[o]))return!1;return!0}function uh(n,s,o,u,p,g){return Cn=g,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=n===null||n.memoizedState===null?Hw:jh,Ja=!1,g=o(u,p),Ja=!1,ti&&(g=lw(s,o,u,p)),ow(n),g}function ow(n){H.H=No;var s=Ve!==null&&Ve.next!==null;if(Cn=0,bt=Ve=Oe=null,kc=!1,So=0,ri=null,s)throw Error(a(300));n===null||xt||(n=n.dependencies,n!==null&&Ec(n)&&(xt=!0))}function lw(n,s,o,u){Oe=n;var p=0;do{if(ti&&(ri=null),So=0,ti=!1,25<=p)throw Error(a(301));if(p+=1,bt=Ve=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=Fw,g=s(o,u)}while(ti);return g}function xk(){var n=H.H,s=n.useState()[0];return s=typeof s.then=="function"?Eo(s):s,n=n.useState()[0],(Ve!==null?Ve.memoizedState:null)!==n&&(Oe.flags|=1024),s}function dh(){var n=Mc!==0;return Mc=0,n}function fh(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function hh(n){if(kc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}kc=!1}Cn=0,bt=Ve=Oe=null,ti=!1,So=Mc=0,ri=null}function er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Oe.memoizedState=bt=n:bt=bt.next=n,bt}function vt(){if(Ve===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Ve.next;var s=bt===null?Oe.memoizedState:bt.next;if(s!==null)bt=s,Ve=n;else{if(n===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));Ve=n,n={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},bt===null?Oe.memoizedState=bt=n:bt=bt.next=n}return bt}function qc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(n){var s=So;return So+=1,ri===null&&(ri=[]),n=Jx(ri,n,s),s=Oe,(bt===null?s.memoizedState:bt.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?Hw:jh),n}function Pc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Eo(n);if(n.$$typeof===T)return $t(n)}throw Error(a(438,String(n)))}function mh(n){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=qc(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=R;return s.index++,o}function An(n,s){return typeof s=="function"?s(n):s}function Lc(n){var s=vt();return ph(s,Ve,n)}function ph(n,s,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var p=n.baseQueue,g=u.pending;if(g!==null){if(p!==null){var j=p.next;p.next=g.next,g.next=j}s.baseQueue=p=g,u.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{s=p.next;var k=j=null,I=null,X=s,re=!1;do{var ie=X.lane&-536870913;if(ie!==X.lane?(Le&ie)===ie:(Cn&ie)===ie){var J=X.revertLane;if(J===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ie===Xs&&(re=!0);else if((Cn&J)===J){X=X.next,J===Xs&&(re=!0);continue}else ie={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},I===null?(k=I=ie,j=g):I=I.next=ie,Oe.lanes|=J,fa|=J;ie=X.action,Ja&&o(g,ie),g=X.hasEagerState?X.eagerState:o(g,ie)}else J={lane:ie,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},I===null?(k=I=J,j=g):I=I.next=J,Oe.lanes|=ie,fa|=ie;X=X.next}while(X!==null&&X!==s);if(I===null?j=g:I.next=k,!vr(g,n.memoizedState)&&(xt=!0,re&&(o=Qs,o!==null)))throw o;n.memoizedState=g,n.baseState=j,n.baseQueue=I,u.lastRenderedState=g}return p===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function vh(n){var s=vt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var j=p=p.next;do g=n(g,j.action),j=j.next;while(j!==p);vr(g,s.memoizedState)||(xt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function cw(n,s,o){var u=Oe,p=vt(),g=Ue;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=s();var j=!vr((Ve||p).memoizedState,o);if(j&&(p.memoizedState=o,xt=!0),p=p.queue,bh(fw.bind(null,u,p,n),[n]),p.getSnapshot!==s||j||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,ni(9,{destroy:void 0},dw.bind(null,u,p,o,s),null),Qe===null)throw Error(a(349));g||(Cn&127)!==0||uw(u,s,o)}return o}function uw(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=qc(),Oe.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function dw(n,s,o,u){s.value=o,s.getSnapshot=u,hw(s)&&mw(n)}function fw(n,s,o){return o(function(){hw(s)&&mw(n)})}function hw(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!vr(n,o)}catch{return!0}}function mw(n){var s=Ha(n,2);s!==null&&lr(s,n,2)}function gh(n){var s=er();if(typeof n=="function"){var o=n;if(n=o(),Ja){Jn(!0);try{o()}finally{Jn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:n},s}function pw(n,s,o,u){return n.baseState=o,ph(n,Ve,typeof u=="function"?u:An)}function wk(n,s,o,u,p){if(zc(n))throw Error(a(485));if(n=s.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){g.listeners.push(j)}};H.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,vw(s,g)):(g.next=o.next,s.pending=o.next=g)}}function vw(n,s){var o=s.action,u=s.payload,p=n.state;if(s.isTransition){var g=H.T,j={};H.T=j;try{var k=o(p,u),I=H.S;I!==null&&I(j,k),gw(n,s,k)}catch(X){yh(n,s,X)}finally{g!==null&&j.types!==null&&(g.types=j.types),H.T=g}}else try{g=o(p,u),gw(n,s,g)}catch(X){yh(n,s,X)}}function gw(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){yw(n,s,u)},function(u){return yh(n,s,u)}):yw(n,s,o)}function yw(n,s,o){s.status="fulfilled",s.value=o,bw(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,vw(n,o)))}function yh(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,bw(s),s=s.next;while(s!==u)}n.action=null}function bw(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function xw(n,s){return s}function ww(n,s){if(Ue){var o=Qe.formState;if(o!==null){e:{var u=Oe;if(Ue){if(tt){t:{for(var p=tt,g=qr;p.nodeType!==8;){if(!g){p=null;break t}if(p=Lr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){tt=Lr(p.nextSibling),u=p.data==="F!";break e}}na(u)}u=!1}u&&(s=o[0])}}return o=er(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xw,lastRenderedState:s},o.queue=u,o=zw.bind(null,Oe,u),u.dispatch=o,u=gh(!1),g=Eh.bind(null,Oe,!1,u.queue),u=er(),p={state:s,dispatch:null,action:n,pending:null},u.queue=p,o=wk.bind(null,Oe,p,g,o),p.dispatch=o,u.memoizedState=n,[s,o,!1]}function _w(n){var s=vt();return Sw(s,Ve,n)}function Sw(n,s,o){if(s=ph(n,s,xw)[0],n=Lc(An)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Eo(s)}catch(j){throw j===Js?Tc:j}else u=s;s=vt();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,ni(9,{destroy:void 0},_k.bind(null,p,o),null)),[u,g,n]}function _k(n,s){n.action=s}function Ew(n){var s=vt(),o=Ve;if(o!==null)return Sw(s,o,n);vt(),s=s.memoizedState,o=vt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function ni(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=qc(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function jw(){return vt().memoizedState}function $c(n,s,o,u){var p=er();Oe.flags|=n,p.memoizedState=ni(1|s,{destroy:void 0},o,u===void 0?null:u)}function Uc(n,s,o,u){var p=vt();u=u===void 0?null:u;var g=p.memoizedState.inst;Ve!==null&&u!==null&&ch(u,Ve.memoizedState.deps)?p.memoizedState=ni(s,g,o,u):(Oe.flags|=n,p.memoizedState=ni(1|s,g,o,u))}function Nw(n,s){$c(8390656,8,n,s)}function bh(n,s){Uc(2048,8,n,s)}function Sk(n){Oe.flags|=4;var s=Oe.updateQueue;if(s===null)s=qc(),Oe.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Tw(n){var s=vt().memoizedState;return Sk({ref:s,nextImpl:n}),function(){if((Be&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Ow(n,s){return Uc(4,2,n,s)}function Cw(n,s){return Uc(4,4,n,s)}function Aw(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Rw(n,s,o){o=o!=null?o.concat([n]):null,Uc(4,4,Aw.bind(null,s,n),o)}function xh(){}function Dw(n,s){var o=vt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&ch(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function kw(n,s){var o=vt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&ch(s,u[1]))return u[0];if(u=n(),Ja){Jn(!0);try{n()}finally{Jn(!1)}}return o.memoizedState=[u,s],u}function wh(n,s,o){return o===void 0||(Cn&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=M_(),Oe.lanes|=n,fa|=n,o)}function Mw(n,s,o,u){return vr(o,s)?o:ei.current!==null?(n=wh(n,o,u),vr(n,s)||(xt=!0),n):(Cn&42)===0||(Cn&1073741824)!==0&&(Le&261930)===0?(xt=!0,n.memoizedState=o):(n=M_(),Oe.lanes|=n,fa|=n,s)}function qw(n,s,o,u,p){var g=B.p;B.p=g!==0&&8>g?g:8;var j=H.T,k={};H.T=k,Eh(n,!1,s,o);try{var I=p(),X=H.S;if(X!==null&&X(k,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var re=yk(I,u);jo(n,s,re,_r(n))}else jo(n,s,u,_r(n))}catch(ie){jo(n,s,{then:function(){},status:"rejected",reason:ie},_r())}finally{B.p=g,j!==null&&k.types!==null&&(j.types=k.types),H.T=j}}function Ek(){}function _h(n,s,o,u){if(n.tag!==5)throw Error(a(476));var p=Pw(n).queue;qw(n,p,s,te,o===null?Ek:function(){return Lw(n),o(u)})}function Pw(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:te},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Lw(n){var s=Pw(n);s.next===null&&(s=n.alternate.memoizedState),jo(n,s.next.queue,{},_r())}function Sh(){return $t(Bo)}function $w(){return vt().memoizedState}function Uw(){return vt().memoizedState}function jk(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=_r();n=ia(o);var u=oa(s,n,o);u!==null&&(lr(u,s,o),xo(u,s,o)),s={cache:Jf()},n.payload=s;return}s=s.return}}function Nk(n,s,o){var u=_r();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},zc(n)?Iw(s,o):(o=If(n,s,o,u),o!==null&&(lr(o,n,u),Bw(o,s,u)))}function zw(n,s,o){var u=_r();jo(n,s,o,u)}function jo(n,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(zc(n))Iw(s,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var j=s.lastRenderedState,k=g(j,o);if(p.hasEagerState=!0,p.eagerState=k,vr(k,j))return xc(n,s,p,0),Qe===null&&bc(),!1}catch{}finally{}if(o=If(n,s,p,u),o!==null)return lr(o,n,u),Bw(o,s,u),!0}return!1}function Eh(n,s,o,u){if(u={lane:2,revertLane:rm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zc(n)){if(s)throw Error(a(479))}else s=If(n,o,u,2),s!==null&&lr(s,n,2)}function zc(n){var s=n.alternate;return n===Oe||s!==null&&s===Oe}function Iw(n,s){ti=kc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Bw(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Wb(n,o)}}var No={readContext:$t,use:Pc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};No.useEffectEvent=dt;var Hw={readContext:$t,use:Pc,useCallback:function(n,s){return er().memoizedState=[n,s===void 0?null:s],n},useContext:$t,useEffect:Nw,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,$c(4194308,4,Aw.bind(null,s,n),o)},useLayoutEffect:function(n,s){return $c(4194308,4,n,s)},useInsertionEffect:function(n,s){$c(4,2,n,s)},useMemo:function(n,s){var o=er();s=s===void 0?null:s;var u=n();if(Ja){Jn(!0);try{n()}finally{Jn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=er();if(o!==void 0){var p=o(s);if(Ja){Jn(!0);try{o(s)}finally{Jn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},u.queue=n,n=n.dispatch=Nk.bind(null,Oe,n),[u.memoizedState,n]},useRef:function(n){var s=er();return n={current:n},s.memoizedState=n},useState:function(n){n=gh(n);var s=n.queue,o=zw.bind(null,Oe,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:xh,useDeferredValue:function(n,s){var o=er();return wh(o,n,s)},useTransition:function(){var n=gh(!1);return n=qw.bind(null,Oe,n.queue,!0,!1),er().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Oe,p=er();if(Ue){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Qe===null)throw Error(a(349));(Le&127)!==0||uw(u,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,Nw(fw.bind(null,u,g,n),[n]),u.flags|=2048,ni(9,{destroy:void 0},dw.bind(null,u,g,o,s),null),o},useId:function(){var n=er(),s=Qe.identifierPrefix;if(Ue){var o=sn,u=an;o=(u&~(1<<32-pr(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Mc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=bk++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Sh,useFormState:ww,useActionState:ww,useOptimistic:function(n){var s=er();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Eh.bind(null,Oe,!0,o),o.dispatch=s,[n,s]},useMemoCache:mh,useCacheRefresh:function(){return er().memoizedState=jk.bind(null,Oe)},useEffectEvent:function(n){var s=er(),o={impl:n};return s.memoizedState=o,function(){if((Be&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},jh={readContext:$t,use:Pc,useCallback:Dw,useContext:$t,useEffect:bh,useImperativeHandle:Rw,useInsertionEffect:Ow,useLayoutEffect:Cw,useMemo:kw,useReducer:Lc,useRef:jw,useState:function(){return Lc(An)},useDebugValue:xh,useDeferredValue:function(n,s){var o=vt();return Mw(o,Ve.memoizedState,n,s)},useTransition:function(){var n=Lc(An)[0],s=vt().memoizedState;return[typeof n=="boolean"?n:Eo(n),s]},useSyncExternalStore:cw,useId:$w,useHostTransitionStatus:Sh,useFormState:_w,useActionState:_w,useOptimistic:function(n,s){var o=vt();return pw(o,Ve,n,s)},useMemoCache:mh,useCacheRefresh:Uw};jh.useEffectEvent=Tw;var Fw={readContext:$t,use:Pc,useCallback:Dw,useContext:$t,useEffect:bh,useImperativeHandle:Rw,useInsertionEffect:Ow,useLayoutEffect:Cw,useMemo:kw,useReducer:vh,useRef:jw,useState:function(){return vh(An)},useDebugValue:xh,useDeferredValue:function(n,s){var o=vt();return Ve===null?wh(o,n,s):Mw(o,Ve.memoizedState,n,s)},useTransition:function(){var n=vh(An)[0],s=vt().memoizedState;return[typeof n=="boolean"?n:Eo(n),s]},useSyncExternalStore:cw,useId:$w,useHostTransitionStatus:Sh,useFormState:Ew,useActionState:Ew,useOptimistic:function(n,s){var o=vt();return Ve!==null?pw(o,Ve,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:mh,useCacheRefresh:Uw};Fw.useEffectEvent=Tw;function Nh(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Th={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=_r(),p=ia(u);p.payload=s,o!=null&&(p.callback=o),s=oa(n,p,u),s!==null&&(lr(s,n,u),xo(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=_r(),p=ia(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=oa(n,p,u),s!==null&&(lr(s,n,u),xo(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=_r(),u=ia(o);u.tag=2,s!=null&&(u.callback=s),s=oa(n,u,o),s!==null&&(lr(s,n,o),xo(s,n,o))}};function Gw(n,s,o,u,p,g,j){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,j):s.prototype&&s.prototype.isPureReactComponent?!fo(o,u)||!fo(p,g):!0}function Yw(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Th.enqueueReplaceState(s,s.state,null)}function Za(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=y({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function Ww(n){yc(n)}function Vw(n){console.error(n)}function Kw(n){yc(n)}function Ic(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Xw(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Oh(n,s,o){return o=ia(o),o.tag=3,o.payload={element:null},o.callback=function(){Ic(n,s)},o}function Qw(n){return n=ia(n),n.tag=3,n}function Jw(n,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;n.payload=function(){return p(g)},n.callback=function(){Xw(s,o,u)}}var j=o.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(n.callback=function(){Xw(s,o,u),typeof p!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function Tk(n,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ks(s,o,p,!0),o=yr.current,o!==null){switch(o.tag){case 31:case 13:return Pr===null?Zc():o.alternate===null&&ft===0&&(ft=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Oc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Zh(n,u,p)),!1;case 22:return o.flags|=65536,u===Oc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Zh(n,u,p)),!1}throw Error(a(435,o.tag))}return Zh(n,u,p),Zc(),!1}if(Ue)return s=yr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Wf&&(n=Error(a(422),{cause:u}),po(Dr(n,o)))):(u!==Wf&&(s=Error(a(423),{cause:u}),po(Dr(s,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,u=Dr(u,o),p=Oh(n.stateNode,u,p),ah(n,p),ft!==4&&(ft=2)),!1;var g=Error(a(520),{cause:u});if(g=Dr(g,o),Mo===null?Mo=[g]:Mo.push(g),ft!==4&&(ft=2),s===null)return!0;u=Dr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Oh(o.stateNode,u,n),ah(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ha===null||!ha.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Qw(p),Jw(p,n,o,u),ah(o,p),!1}o=o.return}while(o!==null);return!1}var Ch=Error(a(461)),xt=!1;function Ut(n,s,o,u){s.child=n===null?rw(s,null,o,u):Qa(s,n.child,o,u)}function Zw(n,s,o,u,p){o=o.render;var g=s.ref;if("ref"in u){var j={};for(var k in u)k!=="ref"&&(j[k]=u[k])}else j=u;return Wa(s),u=uh(n,s,o,j,g,p),k=dh(),n!==null&&!xt?(fh(n,s,p),Rn(n,s,p)):(Ue&&k&&Gf(s),s.flags|=1,Ut(n,s,u,p),s.child)}function e_(n,s,o,u,p){if(n===null){var g=o.type;return typeof g=="function"&&!Bf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,t_(n,s,g,u,p)):(n=_c(o.type,null,u,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Lh(n,p)){var j=g.memoizedProps;if(o=o.compare,o=o!==null?o:fo,o(j,u)&&n.ref===s.ref)return Rn(n,s,p)}return s.flags|=1,n=jn(g,u),n.ref=s.ref,n.return=s,s.child=n}function t_(n,s,o,u,p){if(n!==null){var g=n.memoizedProps;if(fo(g,u)&&n.ref===s.ref)if(xt=!1,s.pendingProps=u=g,Lh(n,p))(n.flags&131072)!==0&&(xt=!0);else return s.lanes=n.lanes,Rn(n,s,p)}return Ah(n,s,o,u,p)}function r_(n,s,o,u){var p=u.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(u=s.child=n.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,s.child=null;return n_(n,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nc(s,g!==null?g.cachePool:null),g!==null?sw(s,g):ih(),iw(s);else return u=s.lanes=536870912,n_(n,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Nc(s,g.cachePool),sw(s,g),ca(),s.memoizedState=null):(n!==null&&Nc(s,null),ih(),ca());return Ut(n,s,p,o),s.child}function To(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function n_(n,s,o,u,p){var g=eh();return g=g===null?null:{parent:yt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&Nc(s,null),ih(),iw(s),n!==null&&Ks(n,s,u,!0),s.childLanes=p,null}function Bc(n,s){return s=Fc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function a_(n,s,o){return Qa(s,n.child,null,o),n=Bc(s,s.pendingProps),n.flags|=2,br(s),s.memoizedState=null,n}function Ok(n,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ue){if(u.mode==="hidden")return n=Bc(s,u),s.lanes=536870912,To(null,n);if(lh(s),(n=tt)?(n=vS(n,qr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ta!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},o=Ix(n),o.return=s,s.child=o,Lt=s,tt=null)):n=null,n===null)throw na(s);return s.lanes=536870912,null}return Bc(s,u)}var g=n.memoizedState;if(g!==null){var j=g.dehydrated;if(lh(s),p)if(s.flags&256)s.flags&=-257,s=a_(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(a(558));else if(xt||Ks(n,s,o,!1),p=(o&n.childLanes)!==0,xt||p){if(u=Qe,u!==null&&(j=Vb(u,o),j!==0&&j!==g.retryLane))throw g.retryLane=j,Ha(n,j),lr(u,n,j),Ch;Zc(),s=a_(n,s,o)}else n=g.treeContext,tt=Lr(j.nextSibling),Lt=s,Ue=!0,ra=null,qr=!1,n!==null&&Fx(s,n),s=Bc(s,u),s.flags|=4096;return s}return n=jn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Hc(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Ah(n,s,o,u,p){return Wa(s),o=uh(n,s,o,u,void 0,p),u=dh(),n!==null&&!xt?(fh(n,s,p),Rn(n,s,p)):(Ue&&u&&Gf(s),s.flags|=1,Ut(n,s,o,p),s.child)}function s_(n,s,o,u,p,g){return Wa(s),s.updateQueue=null,o=lw(s,u,o,p),ow(n),u=dh(),n!==null&&!xt?(fh(n,s,g),Rn(n,s,g)):(Ue&&u&&Gf(s),s.flags|=1,Ut(n,s,o,g),s.child)}function i_(n,s,o,u,p){if(Wa(s),s.stateNode===null){var g=Gs,j=o.contextType;typeof j=="object"&&j!==null&&(g=$t(j)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Th,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},rh(s),j=o.contextType,g.context=typeof j=="object"&&j!==null?$t(j):Gs,g.state=s.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(Nh(s,o,j,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(j=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),j!==g.state&&Th.enqueueReplaceState(g,g.state,null),_o(s,u,g,p),wo(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var k=s.memoizedProps,I=Za(o,k);g.props=I;var X=g.context,re=o.contextType;j=Gs,typeof re=="object"&&re!==null&&(j=$t(re));var ie=o.getDerivedStateFromProps;re=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||X!==j)&&Yw(s,g,u,j),sa=!1;var J=s.memoizedState;g.state=J,_o(s,u,g,p),wo(),X=s.memoizedState,k||J!==X||sa?(typeof ie=="function"&&(Nh(s,o,ie,u),X=s.memoizedState),(I=sa||Gw(s,o,I,u,J,X,j))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=j,u=I):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,nh(n,s),j=s.memoizedProps,re=Za(o,j),g.props=re,ie=s.pendingProps,J=g.context,X=o.contextType,I=Gs,typeof X=="object"&&X!==null&&(I=$t(X)),k=o.getDerivedStateFromProps,(X=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==ie||J!==I)&&Yw(s,g,u,I),sa=!1,J=s.memoizedState,g.state=J,_o(s,u,g,p),wo();var ee=s.memoizedState;j!==ie||J!==ee||sa||n!==null&&n.dependencies!==null&&Ec(n.dependencies)?(typeof k=="function"&&(Nh(s,o,k,u),ee=s.memoizedState),(re=sa||Gw(s,o,re,u,J,ee,I)||n!==null&&n.dependencies!==null&&Ec(n.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,I)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||j===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ee),g.props=u,g.state=ee,g.context=I,u=re):(typeof g.componentDidUpdate!="function"||j===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,Hc(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=Qa(s,n.child,null,p),s.child=Qa(s,null,o,p)):Ut(n,s,o,p),s.memoizedState=g.state,n=s.child):n=Rn(n,s,p),n}function o_(n,s,o,u){return Ga(),s.flags|=256,Ut(n,s,o,u),s.child}var Rh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(n){return{baseLanes:n,cachePool:Xx()}}function kh(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=wr),n}function l_(n,s,o){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,j;if((j=g)||(j=n!==null&&n.memoizedState===null?!1:(pt.current&2)!==0),j&&(p=!0,s.flags&=-129),j=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ue){if(p?la(s):ca(),(n=tt)?(n=vS(n,qr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ta!==null?{id:an,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},o=Ix(n),o.return=s,s.child=o,Lt=s,tt=null)):n=null,n===null)throw na(s);return pm(n)?s.lanes=32:s.lanes=536870912,null}var k=u.children;return u=u.fallback,p?(ca(),p=s.mode,k=Fc({mode:"hidden",children:k},p),u=Fa(u,p,o,null),k.return=s,u.return=s,k.sibling=u,s.child=k,u=s.child,u.memoizedState=Dh(o),u.childLanes=kh(n,j,o),s.memoizedState=Rh,To(null,u)):(la(s),Mh(s,k))}var I=n.memoizedState;if(I!==null&&(k=I.dehydrated,k!==null)){if(g)s.flags&256?(la(s),s.flags&=-257,s=qh(n,s,o)):s.memoizedState!==null?(ca(),s.child=n.child,s.flags|=128,s=null):(ca(),k=u.fallback,p=s.mode,u=Fc({mode:"visible",children:u.children},p),k=Fa(k,p,o,null),k.flags|=2,u.return=s,k.return=s,u.sibling=k,s.child=u,Qa(s,n.child,null,o),u=s.child,u.memoizedState=Dh(o),u.childLanes=kh(n,j,o),s.memoizedState=Rh,s=To(null,u));else if(la(s),pm(k)){if(j=k.nextSibling&&k.nextSibling.dataset,j)var X=j.dgst;j=X,u=Error(a(419)),u.stack="",u.digest=j,po({value:u,source:null,stack:null}),s=qh(n,s,o)}else if(xt||Ks(n,s,o,!1),j=(o&n.childLanes)!==0,xt||j){if(j=Qe,j!==null&&(u=Vb(j,o),u!==0&&u!==I.retryLane))throw I.retryLane=u,Ha(n,u),lr(j,n,u),Ch;mm(k)||Zc(),s=qh(n,s,o)}else mm(k)?(s.flags|=192,s.child=n.child,s=null):(n=I.treeContext,tt=Lr(k.nextSibling),Lt=s,Ue=!0,ra=null,qr=!1,n!==null&&Fx(s,n),s=Mh(s,u.children),s.flags|=4096);return s}return p?(ca(),k=u.fallback,p=s.mode,I=n.child,X=I.sibling,u=jn(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,X!==null?k=jn(X,k):(k=Fa(k,p,o,null),k.flags|=2),k.return=s,u.return=s,u.sibling=k,s.child=u,To(null,u),u=s.child,k=n.child.memoizedState,k===null?k=Dh(o):(p=k.cachePool,p!==null?(I=yt._currentValue,p=p.parent!==I?{parent:I,pool:I}:p):p=Xx(),k={baseLanes:k.baseLanes|o,cachePool:p}),u.memoizedState=k,u.childLanes=kh(n,j,o),s.memoizedState=Rh,To(n.child,u)):(la(s),o=n.child,n=o.sibling,o=jn(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(j=s.deletions,j===null?(s.deletions=[n],s.flags|=16):j.push(n)),s.child=o,s.memoizedState=null,o)}function Mh(n,s){return s=Fc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Fc(n,s){return n=gr(22,n,null,s),n.lanes=0,n}function qh(n,s,o){return Qa(s,n.child,null,o),n=Mh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function c_(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Xf(n.return,s,o)}function Ph(n,s,o,u,p,g){var j=n.memoizedState;j===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:g}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=u,j.tail=o,j.tailMode=p,j.treeForkCount=g)}function u_(n,s,o){var u=s.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var j=pt.current,k=(j&2)!==0;if(k?(j=j&1|2,s.flags|=128):j&=1,oe(pt,j),Ut(n,s,u,o),u=Ue?mo:0,!k&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&c_(n,o,s);else if(n.tag===19)c_(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)n=o.alternate,n!==null&&Dc(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),Ph(s,!1,p,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&Dc(n)===null){s.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}Ph(s,!0,o,null,g,u);break;case"together":Ph(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Rn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),fa|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Ks(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,o=jn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=jn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Lh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Ec(n)))}function Ck(n,s,o){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),aa(s,yt,n.memoizedState.cache),Ga();break;case 27:case 5:jt(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:aa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,lh(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(la(s),s.flags|=128,null):(o&s.child.childLanes)!==0?l_(n,s,o):(la(s),n=Rn(n,s,o),n!==null?n.sibling:null);la(s);break;case 19:var p=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ks(n,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return u_(n,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),oe(pt,pt.current),u)break;return null;case 22:return s.lanes=0,r_(n,s,o,s.pendingProps);case 24:aa(s,yt,n.memoizedState.cache)}return Rn(n,s,o)}function d_(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)xt=!0;else{if(!Lh(n,o)&&(s.flags&128)===0)return xt=!1,Ck(n,s,o);xt=(n.flags&131072)!==0}else xt=!1,Ue&&(s.flags&1048576)!==0&&Hx(s,mo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Ka(s.elementType),s.type=n,typeof n=="function")Bf(n)?(u=Za(n,u),s.tag=1,s=i_(null,s,n,u,o)):(s.tag=0,s=Ah(null,s,n,u,o));else{if(n!=null){var p=n.$$typeof;if(p===O){s.tag=11,s=Zw(null,s,n,u,o);break e}else if(p===C){s.tag=14,s=e_(null,s,n,u,o);break e}}throw s=W(n)||n,Error(a(306,s,""))}}return s;case 0:return Ah(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=Za(u,s.pendingProps),i_(n,s,u,p,o);case 3:e:{if(De(s,s.stateNode.containerInfo),n===null)throw Error(a(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,nh(n,s),_o(s,u,null,o);var j=s.memoizedState;if(u=j.cache,aa(s,yt,u),u!==g.cache&&Qf(s,[yt],o,!0),wo(),u=j.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:j.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=o_(n,s,u,o);break e}else if(u!==p){p=Dr(Error(a(424)),s),po(p),s=o_(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(tt=Lr(n.firstChild),Lt=s,Ue=!0,ra=null,qr=!0,o=rw(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ga(),u===p){s=Rn(n,s,o);break e}Ut(n,s,u,o)}s=s.child}return s;case 26:return Hc(n,s),n===null?(o=_S(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ue||(o=s.type,n=s.pendingProps,u=iu(fe.current).createElement(o),u[Pt]=s,u[rr]=n,zt(u,o,n),Dt(u),s.stateNode=u):s.memoizedState=_S(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return jt(s),n===null&&Ue&&(u=s.stateNode=bS(s.type,s.pendingProps,fe.current),Lt=s,qr=!0,p=tt,ga(s.type)?(vm=p,tt=Lr(u.firstChild)):tt=p),Ut(n,s,s.pendingProps.children,o),Hc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ue&&((p=u=tt)&&(u=sM(u,s.type,s.pendingProps,qr),u!==null?(s.stateNode=u,Lt=s,tt=Lr(u.firstChild),qr=!1,p=!0):p=!1),p||na(s)),jt(s),p=s.type,g=s.pendingProps,j=n!==null?n.memoizedProps:null,u=g.children,dm(p,g)?u=null:j!==null&&dm(p,j)&&(s.flags|=32),s.memoizedState!==null&&(p=uh(n,s,xk,null,null,o),Bo._currentValue=p),Hc(n,s),Ut(n,s,u,o),s.child;case 6:return n===null&&Ue&&((n=o=tt)&&(o=iM(o,s.pendingProps,qr),o!==null?(s.stateNode=o,Lt=s,tt=null,n=!0):n=!1),n||na(s)),null;case 13:return l_(n,s,o);case 4:return De(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Qa(s,null,u,o):Ut(n,s,u,o),s.child;case 11:return Zw(n,s,s.type,s.pendingProps,o);case 7:return Ut(n,s,s.pendingProps,o),s.child;case 8:return Ut(n,s,s.pendingProps.children,o),s.child;case 12:return Ut(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,aa(s,s.type,u.value),Ut(n,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Wa(s),p=$t(p),u=u(p),s.flags|=1,Ut(n,s,u,o),s.child;case 14:return e_(n,s,s.type,s.pendingProps,o);case 15:return t_(n,s,s.type,s.pendingProps,o);case 19:return u_(n,s,o);case 31:return Ok(n,s,o);case 22:return r_(n,s,o,s.pendingProps);case 24:return Wa(s),u=$t(yt),n===null?(p=eh(),p===null&&(p=Qe,g=Jf(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:u,cache:p},rh(s),aa(s,yt,p)):((n.lanes&o)!==0&&(nh(n,s),_o(s,null,null,o),wo()),p=n.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),aa(s,yt,u)):(u=g.cache,aa(s,yt,u),u!==p.cache&&Qf(s,[yt],o,!0))),Ut(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Dn(n){n.flags|=4}function $h(n,s,o,u,p){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if($_())n.flags|=8192;else throw Xa=Oc,th}else n.flags&=-16777217}function f_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!TS(s))if($_())n.flags|=8192;else throw Xa=Oc,th}function Gc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Gb():536870912,n.lanes|=s,oi|=s)}function Oo(n,s){if(!Ue)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function Ak(n,s,o){var u=s.pendingProps;switch(Yf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),On(yt),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Vs(s)?Dn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vf())),rt(s),null;case 26:var p=s.type,g=s.memoizedState;return n===null?(Dn(s),g!==null?(rt(s),f_(s,g)):(rt(s),$h(s,p,null,u,o))):g?g!==n.memoizedState?(Dn(s),rt(s),f_(s,g)):(rt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Dn(s),rt(s),$h(s,p,n,u,o)),null;case 27:if(Rt(s),o=fe.current,p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Dn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return rt(s),null}n=de.current,Vs(s)?Gx(s):(n=bS(p,u,o),s.stateNode=n,Dn(s))}return rt(s),null;case 5:if(Rt(s),p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Dn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return rt(s),null}if(g=de.current,Vs(s))Gx(s);else{var j=iu(fe.current);switch(g){case 1:g=j.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=j.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=j.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?j.createElement("select",{is:u.is}):j.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?j.createElement(p,{is:u.is}):j.createElement(p)}}g[Pt]=s,g[rr]=u;e:for(j=s.child;j!==null;){if(j.tag===5||j.tag===6)g.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===s)break e;for(;j.sibling===null;){if(j.return===null||j.return===s)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}s.stateNode=g;e:switch(zt(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Dn(s)}}return rt(s),$h(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Dn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(n=fe.current,Vs(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,p=Lt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}n[Pt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||lS(n.nodeValue,o)),n||na(s,!0)}else n=iu(n).createTextNode(u),n[Pt]=s,s.stateNode=n}return rt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=Vs(s),o!==null){if(n===null){if(!u)throw Error(a(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Pt]=s}else Ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),n=!1}else o=Vf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(br(s),s):(br(s),null);if((s.flags&128)!==0)throw Error(a(558))}return rt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Vs(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Pt]=s}else Ga(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),p=!1}else p=Vf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(br(s),s):(br(s),null)}return br(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Gc(s,s.updateQueue),rt(s),null);case 4:return Me(),n===null&&im(s.stateNode.containerInfo),rt(s),null;case 10:return On(s.type),rt(s),null;case 19:if(Q(pt),u=s.memoizedState,u===null)return rt(s),null;if(p=(s.flags&128)!==0,g=u.rendering,g===null)if(p)Oo(u,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=Dc(n),g!==null){for(s.flags|=128,Oo(u,!1),n=g.updateQueue,s.updateQueue=n,Gc(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)zx(o,n),o=o.sibling;return oe(pt,pt.current&1|2),Ue&&Nn(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&ce()>Xc&&(s.flags|=128,p=!0,Oo(u,!1),s.lanes=4194304)}else{if(!p)if(n=Dc(g),n!==null){if(s.flags|=128,p=!0,n=n.updateQueue,s.updateQueue=n,Gc(s,n),Oo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ue)return rt(s),null}else 2*ce()-u.renderingStartTime>Xc&&o!==536870912&&(s.flags|=128,p=!0,Oo(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(n=u.last,n!==null?n.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=ce(),n.sibling=null,o=pt.current,oe(pt,p?o&1|2:o&1),Ue&&Nn(s,u.treeForkCount),n):(rt(s),null);case 22:case 23:return br(s),oh(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),o=s.updateQueue,o!==null&&Gc(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&Q(Va),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),On(yt),rt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Rk(n,s){switch(Yf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return On(yt),Me(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Rt(s),null;case 31:if(s.memoizedState!==null){if(br(s),s.alternate===null)throw Error(a(340));Ga()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(br(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ga()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Q(pt),null;case 4:return Me(),null;case 10:return On(s.type),null;case 22:case 23:return br(s),oh(),n!==null&&Q(Va),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return On(yt),null;case 25:return null;default:return null}}function h_(n,s){switch(Yf(s),s.tag){case 3:On(yt),Me();break;case 26:case 27:case 5:Rt(s);break;case 4:Me();break;case 31:s.memoizedState!==null&&br(s);break;case 13:br(s);break;case 19:Q(pt);break;case 10:On(s.type);break;case 22:case 23:br(s),oh(),n!==null&&Q(Va);break;case 24:On(yt)}}function Co(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&n)===n){u=void 0;var g=o.create,j=o.inst;u=g(),j.destroy=u}o=o.next}while(o!==p)}}catch(k){Ge(s,s.return,k)}}function ua(n,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&n)===n){var j=u.inst,k=j.destroy;if(k!==void 0){j.destroy=void 0,p=s;var I=o,X=k;try{X()}catch(re){Ge(p,I,re)}}}u=u.next}while(u!==g)}}catch(re){Ge(s,s.return,re)}}function m_(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{aw(s,o)}catch(u){Ge(n,n.return,u)}}}function p_(n,s,o){o.props=Za(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Ge(n,s,u)}}function Ao(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(p){Ge(n,s,p)}}function on(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ge(n,s,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ge(n,s,p)}else o.current=null}function v_(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ge(n,n.return,p)}}function Uh(n,s,o){try{var u=n.stateNode;Zk(u,n.type,o,s),u[rr]=s}catch(p){Ge(n,n.return,p)}}function g_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ga(n.type)||n.tag===4}function zh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||g_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ga(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ih(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Sn));else if(u!==4&&(u===27&&ga(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Ih(n,s,o),n=n.sibling;n!==null;)Ih(n,s,o),n=n.sibling}function Yc(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&ga(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Yc(n,s,o),n=n.sibling;n!==null;)Yc(n,s,o),n=n.sibling}function y_(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);zt(s,u,o),s[Pt]=n,s[rr]=o}catch(g){Ge(n,n.return,g)}}var kn=!1,wt=!1,Bh=!1,b_=typeof WeakSet=="function"?WeakSet:Set,kt=null;function Dk(n,s){if(n=n.containerInfo,cm=hu,n=Rx(n),qf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var j=0,k=-1,I=-1,X=0,re=0,ie=n,J=null;t:for(;;){for(var ee;ie!==o||p!==0&&ie.nodeType!==3||(k=j+p),ie!==g||u!==0&&ie.nodeType!==3||(I=j+u),ie.nodeType===3&&(j+=ie.nodeValue.length),(ee=ie.firstChild)!==null;)J=ie,ie=ee;for(;;){if(ie===n)break t;if(J===o&&++X===p&&(k=j),J===g&&++re===u&&(I=j),(ee=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=ee}o=k===-1||I===-1?null:{start:k,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(um={focusedElem:n,selectionRange:o},hu=!1,kt=s;kt!==null;)if(s=kt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,kt=n;else for(;kt!==null;){switch(s=kt,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var pe=Za(o.type,p);n=u.getSnapshotBeforeUpdate(pe,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(_e){Ge(o,o.return,_e)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)hm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":hm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,kt=n;break}kt=s.return}}function x_(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:qn(n,o),u&4&&Co(5,o);break;case 1:if(qn(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(j){Ge(o,o.return,j)}else{var p=Za(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(p,s,n.__reactInternalSnapshotBeforeUpdate)}catch(j){Ge(o,o.return,j)}}u&64&&m_(o),u&512&&Ao(o,o.return);break;case 3:if(qn(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{aw(n,s)}catch(j){Ge(o,o.return,j)}}break;case 27:s===null&&u&4&&y_(o);case 26:case 5:qn(n,o),s===null&&u&4&&v_(o),u&512&&Ao(o,o.return);break;case 12:qn(n,o);break;case 31:qn(n,o),u&4&&S_(n,o);break;case 13:qn(n,o),u&4&&E_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Ik.bind(null,o),oM(n,o))));break;case 22:if(u=o.memoizedState!==null||kn,!u){s=s!==null&&s.memoizedState!==null||wt,p=kn;var g=wt;kn=u,(wt=s)&&!g?Pn(n,o,(o.subtreeFlags&8772)!==0):qn(n,o),kn=p,wt=g}break;case 30:break;default:qn(n,o)}}function w_(n){var s=n.alternate;s!==null&&(n.alternate=null,w_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&yf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var it=null,ar=!1;function Mn(n,s,o){for(o=o.child;o!==null;)__(n,s,o),o=o.sibling}function __(n,s,o){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(et,o)}catch{}switch(o.tag){case 26:wt||on(o,s),Mn(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||on(o,s);var u=it,p=ar;ga(o.type)&&(it=o.stateNode,ar=!1),Mn(n,s,o),Uo(o.stateNode),it=u,ar=p;break;case 5:wt||on(o,s);case 6:if(u=it,p=ar,it=null,Mn(n,s,o),it=u,ar=p,it!==null)if(ar)try{(it.nodeType===9?it.body:it.nodeName==="HTML"?it.ownerDocument.body:it).removeChild(o.stateNode)}catch(g){Ge(o,s,g)}else try{it.removeChild(o.stateNode)}catch(g){Ge(o,s,g)}break;case 18:it!==null&&(ar?(n=it,mS(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),pi(n)):mS(it,o.stateNode));break;case 4:u=it,p=ar,it=o.stateNode.containerInfo,ar=!0,Mn(n,s,o),it=u,ar=p;break;case 0:case 11:case 14:case 15:ua(2,o,s),wt||ua(4,o,s),Mn(n,s,o);break;case 1:wt||(on(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&p_(o,s,u)),Mn(n,s,o);break;case 21:Mn(n,s,o);break;case 22:wt=(u=wt)||o.memoizedState!==null,Mn(n,s,o),wt=u;break;default:Mn(n,s,o)}}function S_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{pi(n)}catch(o){Ge(s,s.return,o)}}}function E_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{pi(n)}catch(o){Ge(s,s.return,o)}}function kk(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new b_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new b_),s;default:throw Error(a(435,n.tag))}}function Wc(n,s){var o=kk(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=Bk.bind(null,n,u);u.then(p,p)}})}function sr(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=n,j=s,k=j;e:for(;k!==null;){switch(k.tag){case 27:if(ga(k.type)){it=k.stateNode,ar=!1;break e}break;case 5:it=k.stateNode,ar=!1;break e;case 3:case 4:it=k.stateNode.containerInfo,ar=!0;break e}k=k.return}if(it===null)throw Error(a(160));__(g,j,p),it=null,ar=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)j_(s,n),s=s.sibling}var Vr=null;function j_(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:sr(s,n),ir(n),u&4&&(ua(3,n,n.return),Co(3,n),ua(5,n,n.return));break;case 1:sr(s,n),ir(n),u&512&&(wt||o===null||on(o,o.return)),u&64&&kn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Vr;if(sr(s,n),ir(n),u&512&&(wt||o===null||on(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ro]||g[Pt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),zt(g,u,o),g[Pt]=n,Dt(g),u=g;break e;case"link":var j=jS("link","href",p).get(u+(o.href||""));if(j){for(var k=0;k<j.length;k++)if(g=j[k],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){j.splice(k,1);break t}}g=p.createElement(u),zt(g,u,o),p.head.appendChild(g);break;case"meta":if(j=jS("meta","content",p).get(u+(o.content||""))){for(k=0;k<j.length;k++)if(g=j[k],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){j.splice(k,1);break t}}g=p.createElement(u),zt(g,u,o),p.head.appendChild(g);break;default:throw Error(a(468,u))}g[Pt]=n,Dt(g),u=g}n.stateNode=u}else NS(p,n.type,n.stateNode);else n.stateNode=ES(p,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?NS(p,n.type,n.stateNode):ES(p,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Uh(n,n.memoizedProps,o.memoizedProps)}break;case 27:sr(s,n),ir(n),u&512&&(wt||o===null||on(o,o.return)),o!==null&&u&4&&Uh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(sr(s,n),ir(n),u&512&&(wt||o===null||on(o,o.return)),n.flags&32){p=n.stateNode;try{$s(p,"")}catch(pe){Ge(n,n.return,pe)}}u&4&&n.stateNode!=null&&(p=n.memoizedProps,Uh(n,p,o!==null?o.memoizedProps:p)),u&1024&&(Bh=!0);break;case 6:if(sr(s,n),ir(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(pe){Ge(n,n.return,pe)}}break;case 3:if(cu=null,p=Vr,Vr=ou(s.containerInfo),sr(s,n),Vr=p,ir(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{pi(s.containerInfo)}catch(pe){Ge(n,n.return,pe)}Bh&&(Bh=!1,N_(n));break;case 4:u=Vr,Vr=ou(n.stateNode.containerInfo),sr(s,n),ir(n),Vr=u;break;case 12:sr(s,n),ir(n);break;case 31:sr(s,n),ir(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Wc(n,u)));break;case 13:sr(s,n),ir(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Kc=ce()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Wc(n,u)));break;case 22:p=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,X=kn,re=wt;if(kn=X||p,wt=re||I,sr(s,n),wt=re,kn=X,ir(n),u&8192)e:for(s=n.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||I||kn||wt||es(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){I=o=s;try{if(g=I.stateNode,p)j=g.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{k=I.stateNode;var ie=I.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(pe){Ge(I,I.return,pe)}}}else if(s.tag===6){if(o===null){I=s;try{I.stateNode.nodeValue=p?"":I.memoizedProps}catch(pe){Ge(I,I.return,pe)}}}else if(s.tag===18){if(o===null){I=s;try{var ee=I.stateNode;p?pS(ee,!0):pS(I.stateNode,!1)}catch(pe){Ge(I,I.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Wc(n,o))));break;case 19:sr(s,n),ir(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Wc(n,u)));break;case 30:break;case 21:break;default:sr(s,n),ir(n)}}function ir(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(g_(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,g=zh(n);Yc(n,g,p);break;case 5:var j=o.stateNode;o.flags&32&&($s(j,""),o.flags&=-33);var k=zh(n);Yc(n,k,j);break;case 3:case 4:var I=o.stateNode.containerInfo,X=zh(n);Ih(n,X,I);break;default:throw Error(a(161))}}catch(re){Ge(n,n.return,re)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function N_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;N_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function qn(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)x_(n,s.alternate,s),s=s.sibling}function es(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:ua(4,s,s.return),es(s);break;case 1:on(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&p_(s,s.return,o),es(s);break;case 27:Uo(s.stateNode);case 26:case 5:on(s,s.return),es(s);break;case 22:s.memoizedState===null&&es(s);break;case 30:es(s);break;default:es(s)}n=n.sibling}}function Pn(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=n,g=s,j=g.flags;switch(g.tag){case 0:case 11:case 15:Pn(p,g,o),Co(4,g);break;case 1:if(Pn(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){Ge(u,u.return,X)}if(u=g,p=u.updateQueue,p!==null){var k=u.stateNode;try{var I=p.shared.hiddenCallbacks;if(I!==null)for(p.shared.hiddenCallbacks=null,p=0;p<I.length;p++)nw(I[p],k)}catch(X){Ge(u,u.return,X)}}o&&j&64&&m_(g),Ao(g,g.return);break;case 27:y_(g);case 26:case 5:Pn(p,g,o),o&&u===null&&j&4&&v_(g),Ao(g,g.return);break;case 12:Pn(p,g,o);break;case 31:Pn(p,g,o),o&&j&4&&S_(p,g);break;case 13:Pn(p,g,o),o&&j&4&&E_(p,g);break;case 22:g.memoizedState===null&&Pn(p,g,o),Ao(g,g.return);break;case 30:break;default:Pn(p,g,o)}s=s.sibling}}function Hh(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&vo(o))}function Fh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&vo(n))}function Kr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)T_(n,s,o,u),s=s.sibling}function T_(n,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Kr(n,s,o,u),p&2048&&Co(9,s);break;case 1:Kr(n,s,o,u);break;case 3:Kr(n,s,o,u),p&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&vo(n)));break;case 12:if(p&2048){Kr(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,j=g.id,k=g.onPostCommit;typeof k=="function"&&k(j,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Ge(s,s.return,I)}}else Kr(n,s,o,u);break;case 31:Kr(n,s,o,u);break;case 13:Kr(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,j=s.alternate,s.memoizedState!==null?g._visibility&2?Kr(n,s,o,u):Ro(n,s):g._visibility&2?Kr(n,s,o,u):(g._visibility|=2,ai(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Hh(j,s);break;case 24:Kr(n,s,o,u),p&2048&&Fh(s.alternate,s);break;default:Kr(n,s,o,u)}}function ai(n,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,j=s,k=o,I=u,X=j.flags;switch(j.tag){case 0:case 11:case 15:ai(g,j,k,I,p),Co(8,j);break;case 23:break;case 22:var re=j.stateNode;j.memoizedState!==null?re._visibility&2?ai(g,j,k,I,p):Ro(g,j):(re._visibility|=2,ai(g,j,k,I,p)),p&&X&2048&&Hh(j.alternate,j);break;case 24:ai(g,j,k,I,p),p&&X&2048&&Fh(j.alternate,j);break;default:ai(g,j,k,I,p)}s=s.sibling}}function Ro(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,p=u.flags;switch(u.tag){case 22:Ro(o,u),p&2048&&Hh(u.alternate,u);break;case 24:Ro(o,u),p&2048&&Fh(u.alternate,u);break;default:Ro(o,u)}s=s.sibling}}var Do=8192;function si(n,s,o){if(n.subtreeFlags&Do)for(n=n.child;n!==null;)O_(n,s,o),n=n.sibling}function O_(n,s,o){switch(n.tag){case 26:si(n,s,o),n.flags&Do&&n.memoizedState!==null&&bM(o,Vr,n.memoizedState,n.memoizedProps);break;case 5:si(n,s,o);break;case 3:case 4:var u=Vr;Vr=ou(n.stateNode.containerInfo),si(n,s,o),Vr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Do,Do=16777216,si(n,s,o),Do=u):si(n,s,o));break;default:si(n,s,o)}}function C_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function ko(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];kt=u,R_(u,n)}C_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)A_(n),n=n.sibling}function A_(n){switch(n.tag){case 0:case 11:case 15:ko(n),n.flags&2048&&ua(9,n,n.return);break;case 3:ko(n);break;case 12:ko(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Vc(n)):ko(n);break;default:ko(n)}}function Vc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];kt=u,R_(u,n)}C_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:ua(8,s,s.return),Vc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Vc(s));break;default:Vc(s)}n=n.sibling}}function R_(n,s){for(;kt!==null;){var o=kt;switch(o.tag){case 0:case 11:case 15:ua(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,kt=u;else e:for(o=n;kt!==null;){u=kt;var p=u.sibling,g=u.return;if(w_(u),u===o){kt=null;break e}if(p!==null){p.return=g,kt=p;break e}kt=g}}}var Mk={getCacheForType:function(n){var s=$t(yt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return $t(yt).controller.signal}},qk=typeof WeakMap=="function"?WeakMap:Map,Be=0,Qe=null,qe=null,Le=0,Fe=0,xr=null,da=!1,ii=!1,Gh=!1,Ln=0,ft=0,fa=0,ts=0,Yh=0,wr=0,oi=0,Mo=null,or=null,Wh=!1,Kc=0,D_=0,Xc=1/0,Qc=null,ha=null,Nt=0,ma=null,li=null,$n=0,Vh=0,Kh=null,k_=null,qo=0,Xh=null;function _r(){return(Be&2)!==0&&Le!==0?Le&-Le:H.T!==null?rm():Kb()}function M_(){if(wr===0)if((Le&536870912)===0||Ue){var n=sc;sc<<=1,(sc&3932160)===0&&(sc=262144),wr=n}else wr=536870912;return n=yr.current,n!==null&&(n.flags|=32),wr}function lr(n,s,o){(n===Qe&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&(ci(n,0),pa(n,Le,wr,!1)),to(n,o),((Be&2)===0||n!==Qe)&&(n===Qe&&((Be&2)===0&&(ts|=o),ft===4&&pa(n,Le,wr,!1)),ln(n))}function q_(n,s,o){if((Be&6)!==0)throw Error(a(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||eo(n,s),p=u?$k(n,s):Jh(n,s,!0),g=u;do{if(p===0){ii&&!u&&pa(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!Pk(o)){p=Jh(n,s,!1),g=!1;continue}if(p===2){if(g=s,n.errorRecoveryDisabledLanes&g)var j=0;else j=n.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){s=j;e:{var k=n;p=Mo;var I=k.current.memoizedState.isDehydrated;if(I&&(ci(k,j).flags|=256),j=Jh(k,j,!1),j!==2){if(Gh&&!I){k.errorRecoveryDisabledLanes|=g,ts|=g,p=4;break e}g=or,or=p,g!==null&&(or===null?or=g:or.push.apply(or,g))}p=j}if(g=!1,p!==2)continue}}if(p===1){ci(n,0),pa(n,s,0,!0);break}e:{switch(u=n,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:pa(u,s,wr,!da);break e;case 2:or=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(p=Kc+300-ce(),10<p)){if(pa(u,s,wr,!da),oc(u,0,!0)!==0)break e;$n=s,u.timeoutHandle=fS(P_.bind(null,u,o,or,Qc,Wh,s,wr,ts,oi,da,g,"Throttled",-0,0),p);break e}P_(u,o,or,Qc,Wh,s,wr,ts,oi,da,g,null,-0,0)}}break}while(!0);ln(n)}function P_(n,s,o,u,p,g,j,k,I,X,re,ie,J,ee){if(n.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},O_(s,g,ie);var pe=(g&62914560)===g?Kc-ce():(g&4194048)===g?D_-ce():0;if(pe=xM(ie,pe),pe!==null){$n=g,n.cancelPendingCommit=pe(F_.bind(null,n,s,g,o,u,p,j,k,I,re,ie,null,J,ee)),pa(n,g,j,!X);return}}F_(n,s,g,o,u,p,j,k,I)}function Pk(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!vr(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pa(n,s,o,u){s&=~Yh,s&=~ts,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var p=s;0<p;){var g=31-pr(p),j=1<<g;u[g]=-1,p&=~j}o!==0&&Yb(n,o,s)}function Jc(){return(Be&6)===0?(Po(0),!1):!0}function Qh(){if(qe!==null){if(Fe===0)var n=qe.return;else n=qe,Tn=Ya=null,hh(n),Zs=null,yo=0,n=qe;for(;n!==null;)h_(n.alternate,n),n=n.return;qe=null}}function ci(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,rM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),$n=0,Qh(),Qe=n,qe=o=jn(n.current,null),Le=s,Fe=0,xr=null,da=!1,ii=eo(n,s),Gh=!1,oi=wr=Yh=ts=fa=ft=0,or=Mo=null,Wh=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var p=31-pr(u),g=1<<p;s|=n[p],u&=~g}return Ln=s,bc(),o}function L_(n,s){Oe=null,H.H=No,s===Js||s===Tc?(s=Zx(),Fe=3):s===th?(s=Zx(),Fe=4):Fe=s===Ch?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,xr=s,qe===null&&(ft=1,Ic(n,Dr(s,n.current)))}function $_(){var n=yr.current;return n===null?!0:(Le&4194048)===Le?Pr===null:(Le&62914560)===Le||(Le&536870912)!==0?n===Pr:!1}function U_(){var n=H.H;return H.H=No,n===null?No:n}function z_(){var n=H.A;return H.A=Mk,n}function Zc(){ft=4,da||(Le&4194048)!==Le&&yr.current!==null||(ii=!0),(fa&134217727)===0&&(ts&134217727)===0||Qe===null||pa(Qe,Le,wr,!1)}function Jh(n,s,o){var u=Be;Be|=2;var p=U_(),g=z_();(Qe!==n||Le!==s)&&(Qc=null,ci(n,s)),s=!1;var j=ft;e:do try{if(Fe!==0&&qe!==null){var k=qe,I=xr;switch(Fe){case 8:Qh(),j=6;break e;case 3:case 2:case 9:case 6:yr.current===null&&(s=!0);var X=Fe;if(Fe=0,xr=null,ui(n,k,I,X),o&&ii){j=0;break e}break;default:X=Fe,Fe=0,xr=null,ui(n,k,I,X)}}Lk(),j=ft;break}catch(re){L_(n,re)}while(!0);return s&&n.shellSuspendCounter++,Tn=Ya=null,Be=u,H.H=p,H.A=g,qe===null&&(Qe=null,Le=0,bc()),j}function Lk(){for(;qe!==null;)I_(qe)}function $k(n,s){var o=Be;Be|=2;var u=U_(),p=z_();Qe!==n||Le!==s?(Qc=null,Xc=ce()+500,ci(n,s)):ii=eo(n,s);e:do try{if(Fe!==0&&qe!==null){s=qe;var g=xr;t:switch(Fe){case 1:Fe=0,xr=null,ui(n,s,g,1);break;case 2:case 9:if(Qx(g)){Fe=0,xr=null,B_(s);break}s=function(){Fe!==2&&Fe!==9||Qe!==n||(Fe=7),ln(n)},g.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Qx(g)?(Fe=0,xr=null,B_(s)):(Fe=0,xr=null,ui(n,s,g,7));break;case 5:var j=null;switch(qe.tag){case 26:j=qe.memoizedState;case 5:case 27:var k=qe;if(j?TS(j):k.stateNode.complete){Fe=0,xr=null;var I=k.sibling;if(I!==null)qe=I;else{var X=k.return;X!==null?(qe=X,eu(X)):qe=null}break t}}Fe=0,xr=null,ui(n,s,g,5);break;case 6:Fe=0,xr=null,ui(n,s,g,6);break;case 8:Qh(),ft=6;break e;default:throw Error(a(462))}}Uk();break}catch(re){L_(n,re)}while(!0);return Tn=Ya=null,H.H=u,H.A=p,Be=o,qe!==null?0:(Qe=null,Le=0,bc(),ft)}function Uk(){for(;qe!==null&&!st();)I_(qe)}function I_(n){var s=d_(n.alternate,n,Ln);n.memoizedProps=n.pendingProps,s===null?eu(n):qe=s}function B_(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=s_(o,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=s_(o,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:hh(s);default:h_(o,s),s=qe=zx(s,Ln),s=d_(o,s,Ln)}n.memoizedProps=n.pendingProps,s===null?eu(n):qe=s}function ui(n,s,o,u){Tn=Ya=null,hh(s),Zs=null,yo=0;var p=s.return;try{if(Tk(n,p,s,o,Le)){ft=1,Ic(n,Dr(o,n.current)),qe=null;return}}catch(g){if(p!==null)throw qe=p,g;ft=1,Ic(n,Dr(o,n.current)),qe=null;return}s.flags&32768?(Ue||u===1?n=!0:ii||(Le&536870912)!==0?n=!1:(da=n=!0,(u===2||u===9||u===3||u===6)&&(u=yr.current,u!==null&&u.tag===13&&(u.flags|=16384))),H_(s,n)):eu(s)}function eu(n){var s=n;do{if((s.flags&32768)!==0){H_(s,da);return}n=s.return;var o=Ak(s.alternate,s,Ln);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=n}while(s!==null);ft===0&&(ft=5)}function H_(n,s){do{var o=Rk(n.alternate,n);if(o!==null){o.flags&=32767,qe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){qe=n;return}qe=n=o}while(n!==null);ft=6,qe=null}function F_(n,s,o,u,p,g,j,k,I){n.cancelPendingCommit=null;do tu();while(Nt!==0);if((Be&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(g=s.lanes|s.childLanes,g|=zf,yD(n,o,g,j,k,I),n===Qe&&(qe=Qe=null,Le=0),li=s,ma=n,$n=o,Vh=g,Kh=p,k_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Hk(He,function(){return K_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,p=B.p,B.p=2,j=Be,Be|=4;try{Dk(n,s,o)}finally{Be=j,B.p=p,H.T=u}}Nt=1,G_(),Y_(),W_()}}function G_(){if(Nt===1){Nt=0;var n=ma,s=li,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var u=B.p;B.p=2;var p=Be;Be|=4;try{j_(s,n);var g=um,j=Rx(n.containerInfo),k=g.focusedElem,I=g.selectionRange;if(j!==k&&k&&k.ownerDocument&&Ax(k.ownerDocument.documentElement,k)){if(I!==null&&qf(k)){var X=I.start,re=I.end;if(re===void 0&&(re=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(re,k.value.length);else{var ie=k.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var ee=J.getSelection(),pe=k.textContent.length,_e=Math.min(I.start,pe),Xe=I.end===void 0?_e:Math.min(I.end,pe);!ee.extend&&_e>Xe&&(j=Xe,Xe=_e,_e=j);var G=Cx(k,_e),F=Cx(k,Xe);if(G&&F&&(ee.rangeCount!==1||ee.anchorNode!==G.node||ee.anchorOffset!==G.offset||ee.focusNode!==F.node||ee.focusOffset!==F.offset)){var K=ie.createRange();K.setStart(G.node,G.offset),ee.removeAllRanges(),_e>Xe?(ee.addRange(K),ee.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),ee.addRange(K))}}}}for(ie=[],ee=k;ee=ee.parentNode;)ee.nodeType===1&&ie.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ie.length;k++){var se=ie[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}hu=!!cm,um=cm=null}finally{Be=p,B.p=u,H.T=o}}n.current=s,Nt=2}}function Y_(){if(Nt===2){Nt=0;var n=ma,s=li,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var u=B.p;B.p=2;var p=Be;Be|=4;try{x_(n,s.alternate,s)}finally{Be=p,B.p=u,H.T=o}}Nt=3}}function W_(){if(Nt===4||Nt===3){Nt=0,ut();var n=ma,s=li,o=$n,u=k_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Nt=5:(Nt=0,li=ma=null,V_(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(ha=null),vf(o),s=s.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(et,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=H.T,p=B.p,B.p=2,H.T=null;try{for(var g=n.onRecoverableError,j=0;j<u.length;j++){var k=u[j];g(k.value,{componentStack:k.stack})}}finally{H.T=s,B.p=p}}($n&3)!==0&&tu(),ln(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===Xh?qo++:(qo=0,Xh=n):qo=0,Po(0)}}function V_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,vo(s)))}function tu(){return G_(),Y_(),W_(),K_()}function K_(){if(Nt!==5)return!1;var n=ma,s=Vh;Vh=0;var o=vf($n),u=H.T,p=B.p;try{B.p=32>o?32:o,H.T=null,o=Kh,Kh=null;var g=ma,j=$n;if(Nt=0,li=ma=null,$n=0,(Be&6)!==0)throw Error(a(331));var k=Be;if(Be|=4,A_(g.current),T_(g,g.current,j,o),Be=k,Po(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(et,g)}catch{}return!0}finally{B.p=p,H.T=u,V_(n,s)}}function X_(n,s,o){s=Dr(o,s),s=Oh(n.stateNode,s,2),n=oa(n,s,2),n!==null&&(to(n,2),ln(n))}function Ge(n,s,o){if(n.tag===3)X_(n,n,o);else for(;s!==null;){if(s.tag===3){X_(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ha===null||!ha.has(u))){n=Dr(o,n),o=Qw(2),u=oa(s,o,2),u!==null&&(Jw(o,u,s,n),to(u,2),ln(u));break}}s=s.return}}function Zh(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new qk;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Gh=!0,p.add(o),n=zk.bind(null,n,s,o),s.then(n,n))}function zk(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Qe===n&&(Le&o)===o&&(ft===4||ft===3&&(Le&62914560)===Le&&300>ce()-Kc?(Be&2)===0&&ci(n,0):Yh|=o,oi===Le&&(oi=0)),ln(n)}function Q_(n,s){s===0&&(s=Gb()),n=Ha(n,s),n!==null&&(to(n,s),ln(n))}function Ik(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Q_(n,o)}function Bk(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),Q_(n,o)}function Hk(n,s){return we(n,s)}var ru=null,di=null,em=!1,nu=!1,tm=!1,va=0;function ln(n){n!==di&&n.next===null&&(di===null?ru=di=n:di=di.next=n),nu=!0,em||(em=!0,Gk())}function Po(n,s){if(!tm&&nu){tm=!0;do for(var o=!1,u=ru;u!==null;){if(n!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var j=u.suspendedLanes,k=u.pingedLanes;g=(1<<31-pr(42|n)+1)-1,g&=p&~(j&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,tS(u,g))}else g=Le,g=oc(u,u===Qe?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||eo(u,g)||(o=!0,tS(u,g));u=u.next}while(o);tm=!1}}function Fk(){J_()}function J_(){nu=em=!1;var n=0;va!==0&&tM()&&(n=va);for(var s=ce(),o=null,u=ru;u!==null;){var p=u.next,g=Z_(u,s);g===0?(u.next=null,o===null?ru=p:o.next=p,p===null&&(di=o)):(o=u,(n!==0||(g&3)!==0)&&(nu=!0)),u=p}Nt!==0&&Nt!==5||Po(n),va!==0&&(va=0)}function Z_(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var j=31-pr(g),k=1<<j,I=p[j];I===-1?((k&o)===0||(k&u)!==0)&&(p[j]=gD(k,s)):I<=s&&(n.expiredLanes|=k),g&=~k}if(s=Qe,o=Le,o=oc(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&We(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||eo(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&We(u),vf(o)){case 2:case 8:o=Re;break;case 32:o=He;break;case 268435456:o=Zt;break;default:o=He}return u=eS.bind(null,n),o=we(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&We(u),n.callbackPriority=2,n.callbackNode=null,2}function eS(n,s){if(Nt!==0&&Nt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(tu()&&n.callbackNode!==o)return null;var u=Le;return u=oc(n,n===Qe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(q_(n,u,s),Z_(n,ce()),n.callbackNode!=null&&n.callbackNode===o?eS.bind(null,n):null)}function tS(n,s){if(tu())return null;q_(n,s,!0)}function Gk(){nM(function(){(Be&6)!==0?we(be,Fk):J_()})}function rm(){if(va===0){var n=Xs;n===0&&(n=ac,ac<<=1,(ac&261888)===0&&(ac=256)),va=n}return va}function rS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:dc(""+n)}function nS(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function Yk(n,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var g=rS((p[rr]||null).action),j=u.submitter;j&&(s=(s=j[rr]||null)?rS(s.formAction):j.getAttribute("formAction"),s!==null&&(g=s,j=null));var k=new pc("action","action",null,u,p);n.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(va!==0){var I=j?nS(p,j):new FormData(p);_h(o,{pending:!0,data:I,method:p.method,action:g},null,I)}}else typeof g=="function"&&(k.preventDefault(),I=j?nS(p,j):new FormData(p),_h(o,{pending:!0,data:I,method:p.method,action:g},g,I))},currentTarget:p}]})}}for(var nm=0;nm<Uf.length;nm++){var am=Uf[nm],Wk=am.toLowerCase(),Vk=am[0].toUpperCase()+am.slice(1);Wr(Wk,"on"+Vk)}Wr(Mx,"onAnimationEnd"),Wr(qx,"onAnimationIteration"),Wr(Px,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(uk,"onTransitionRun"),Wr(dk,"onTransitionStart"),Wr(fk,"onTransitionCancel"),Wr(Lx,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function aS(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var j=u.length-1;0<=j;j--){var k=u[j],I=k.instance,X=k.currentTarget;if(k=k.listener,I!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=X;try{g(p)}catch(re){yc(re)}p.currentTarget=null,g=I}else for(j=0;j<u.length;j++){if(k=u[j],I=k.instance,X=k.currentTarget,k=k.listener,I!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=X;try{g(p)}catch(re){yc(re)}p.currentTarget=null,g=I}}}}function Pe(n,s){var o=s[gf];o===void 0&&(o=s[gf]=new Set);var u=n+"__bubble";o.has(u)||(sS(s,n,2,!1),o.add(u))}function sm(n,s,o){var u=0;s&&(u|=4),sS(o,n,u,s)}var au="_reactListening"+Math.random().toString(36).slice(2);function im(n){if(!n[au]){n[au]=!0,Jb.forEach(function(o){o!=="selectionchange"&&(Kk.has(o)||sm(o,!1,n),sm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[au]||(s[au]=!0,sm("selectionchange",!1,s))}}function sS(n,s,o,u){switch(MS(s)){case 2:var p=SM;break;case 8:p=EM;break;default:p=wm}o=p.bind(null,s,o,n),p=void 0,!Nf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(s,o,{capture:!0,passive:p}):n.addEventListener(s,o,!0):p!==void 0?n.addEventListener(s,o,{passive:p}):n.addEventListener(s,o,!1)}function om(n,s,o,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var j=u.tag;if(j===3||j===4){var k=u.stateNode.containerInfo;if(k===p)break;if(j===4)for(j=u.return;j!==null;){var I=j.tag;if((I===3||I===4)&&j.stateNode.containerInfo===p)return;j=j.return}for(;k!==null;){if(j=ks(k),j===null)return;if(I=j.tag,I===5||I===6||I===26||I===27){u=g=j;continue e}k=k.parentNode}}u=u.return}ux(function(){var X=g,re=Ef(o),ie=[];e:{var J=$x.get(n);if(J!==void 0){var ee=pc,pe=n;switch(n){case"keypress":if(hc(o)===0)break e;case"keydown":case"keyup":ee=BD;break;case"focusin":pe="focus",ee=Af;break;case"focusout":pe="blur",ee=Af;break;case"beforeblur":case"afterblur":ee=Af;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=AD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=GD;break;case Mx:case qx:case Px:ee=kD;break;case Lx:ee=WD;break;case"scroll":case"scrollend":ee=OD;break;case"wheel":ee=KD;break;case"copy":case"cut":case"paste":ee=qD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=px;break;case"toggle":case"beforetoggle":ee=QD}var _e=(s&4)!==0,Xe=!_e&&(n==="scroll"||n==="scrollend"),G=_e?J!==null?J+"Capture":null:J;_e=[];for(var F=X,K;F!==null;){var se=F;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||G===null||(se=ao(F,G),se!=null&&_e.push($o(F,se,K))),Xe)break;F=F.return}0<_e.length&&(J=new ee(J,pe,null,o,re),ie.push({event:J,listeners:_e}))}}if((s&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",ee=n==="mouseout"||n==="pointerout",J&&o!==Sf&&(pe=o.relatedTarget||o.fromElement)&&(ks(pe)||pe[Ds]))break e;if((ee||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(pe=o.relatedTarget||o.toElement,ee=X,pe=pe?ks(pe):null,pe!==null&&(Xe=l(pe),_e=pe.tag,pe!==Xe||_e!==5&&_e!==27&&_e!==6)&&(pe=null)):(ee=null,pe=X),ee!==pe)){if(_e=hx,se="onMouseLeave",G="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(_e=px,se="onPointerLeave",G="onPointerEnter",F="pointer"),Xe=ee==null?J:no(ee),K=pe==null?J:no(pe),J=new _e(se,F+"leave",ee,o,re),J.target=Xe,J.relatedTarget=K,se=null,ks(re)===X&&(_e=new _e(G,F+"enter",pe,o,re),_e.target=K,_e.relatedTarget=Xe,se=_e),Xe=se,ee&&pe)t:{for(_e=Xk,G=ee,F=pe,K=0,se=G;se;se=_e(se))K++;se=0;for(var xe=F;xe;xe=_e(xe))se++;for(;0<K-se;)G=_e(G),K--;for(;0<se-K;)F=_e(F),se--;for(;K--;){if(G===F||F!==null&&G===F.alternate){_e=G;break t}G=_e(G),F=_e(F)}_e=null}else _e=null;ee!==null&&iS(ie,J,ee,_e,!1),pe!==null&&Xe!==null&&iS(ie,Xe,pe,_e,!0)}}e:{if(J=X?no(X):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var ze=Sx;else if(wx(J))if(Ex)ze=ok;else{ze=sk;var ve=ak}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&_f(X.elementType)&&(ze=Sx):ze=ik;if(ze&&(ze=ze(n,X))){_x(ie,ze,o,re);break e}ve&&ve(n,J,X),n==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&wf(J,"number",J.value)}switch(ve=X?no(X):window,n){case"focusin":(wx(ve)||ve.contentEditable==="true")&&(Bs=ve,Pf=X,ho=null);break;case"focusout":ho=Pf=Bs=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Dx(ie,o,re);break;case"selectionchange":if(ck)break;case"keydown":case"keyup":Dx(ie,o,re)}var Ae;if(Df)e:{switch(n){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Is?bx(n,o)&&($e="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(vx&&o.locale!=="ko"&&(Is||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Is&&(Ae=dx()):(ea=re,Tf="value"in ea?ea.value:ea.textContent,Is=!0)),ve=su(X,$e),0<ve.length&&($e=new mx($e,n,null,o,re),ie.push({event:$e,listeners:ve}),Ae?$e.data=Ae:(Ae=xx(o),Ae!==null&&($e.data=Ae)))),(Ae=ZD?ek(n,o):tk(n,o))&&($e=su(X,"onBeforeInput"),0<$e.length&&(ve=new mx("onBeforeInput","beforeinput",null,o,re),ie.push({event:ve,listeners:$e}),ve.data=Ae)),Yk(ie,n,X,o,re)}aS(ie,s)})}function $o(n,s,o){return{instance:n,listener:s,currentTarget:o}}function su(n,s){for(var o=s+"Capture",u=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ao(n,o),p!=null&&u.unshift($o(n,p,g)),p=ao(n,s),p!=null&&u.push($o(n,p,g))),n.tag===3)return u;n=n.return}return[]}function Xk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function iS(n,s,o,u,p){for(var g=s._reactName,j=[];o!==null&&o!==u;){var k=o,I=k.alternate,X=k.stateNode;if(k=k.tag,I!==null&&I===u)break;k!==5&&k!==26&&k!==27||X===null||(I=X,p?(X=ao(o,g),X!=null&&j.unshift($o(o,X,I))):p||(X=ao(o,g),X!=null&&j.push($o(o,X,I)))),o=o.return}j.length!==0&&n.push({event:s,listeners:j})}var Qk=/\r\n?/g,Jk=/\u0000|\uFFFD/g;function oS(n){return(typeof n=="string"?n:""+n).replace(Qk,`
`).replace(Jk,"")}function lS(n,s){return s=oS(s),oS(n)===s}function Ke(n,s,o,u,p,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||$s(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&$s(n,""+u);break;case"className":cc(n,"class",u);break;case"tabIndex":cc(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":cc(n,o,u);break;case"style":lx(n,u,g);break;case"data":if(s!=="object"){cc(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=dc(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ke(n,s,"name",p.name,p,null),Ke(n,s,"formEncType",p.formEncType,p,null),Ke(n,s,"formMethod",p.formMethod,p,null),Ke(n,s,"formTarget",p.formTarget,p,null)):(Ke(n,s,"encType",p.encType,p,null),Ke(n,s,"method",p.method,p,null),Ke(n,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=dc(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Sn);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=dc(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),lc(n,"popover",u);break;case"xlinkActuate":_n(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_n(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_n(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_n(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_n(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_n(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_n(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_n(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_n(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":lc(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ND.get(o)||o,lc(n,o,u))}}function lm(n,s,o,u,p,g){switch(o){case"style":lx(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?$s(n,u):(typeof u=="number"||typeof u=="bigint")&&$s(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zb.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=n[rr]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,p);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):lc(n,o,u)}}}function zt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var j=o[g];if(j!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ke(n,s,g,j,o,null)}}p&&Ke(n,s,"srcSet",o.srcSet,o,null),u&&Ke(n,s,"src",o.src,o,null);return;case"input":Pe("invalid",n);var k=g=j=p=null,I=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":p=re;break;case"type":j=re;break;case"checked":I=re;break;case"defaultChecked":X=re;break;case"value":g=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,s));break;default:Ke(n,s,u,re,o,null)}}ax(n,g,k,I,X,j,p,!1);return;case"select":Pe("invalid",n),u=j=g=null;for(p in o)if(o.hasOwnProperty(p)&&(k=o[p],k!=null))switch(p){case"value":g=k;break;case"defaultValue":j=k;break;case"multiple":u=k;default:Ke(n,s,p,k,o,null)}s=g,o=j,n.multiple=!!u,s!=null?Ls(n,!!u,s,!1):o!=null&&Ls(n,!!u,o,!0);return;case"textarea":Pe("invalid",n),g=p=u=null;for(j in o)if(o.hasOwnProperty(j)&&(k=o[j],k!=null))switch(j){case"value":u=k;break;case"defaultValue":p=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:Ke(n,s,j,k,o,null)}ix(n,u,p,g);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ke(n,s,I,u,o,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<Lo.length;u++)Pe(Lo[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ke(n,s,X,u,o,null)}return;default:if(_f(s)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&lm(n,s,re,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&Ke(n,s,k,u,o,null))}function Zk(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,j=null,k=null,I=null,X=null,re=null;for(ee in o){var ie=o[ee];if(o.hasOwnProperty(ee)&&ie!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":I=ie;default:u.hasOwnProperty(ee)||Ke(n,s,ee,null,u,ie)}}for(var J in u){var ee=u[J];if(ie=o[J],u.hasOwnProperty(J)&&(ee!=null||ie!=null))switch(J){case"type":g=ee;break;case"name":p=ee;break;case"checked":X=ee;break;case"defaultChecked":re=ee;break;case"value":j=ee;break;case"defaultValue":k=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,s));break;default:ee!==ie&&Ke(n,s,J,ee,u,ie)}}xf(n,j,k,I,X,re,g,p);return;case"select":ee=j=k=J=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":ee=I;default:u.hasOwnProperty(g)||Ke(n,s,g,null,u,I)}for(p in u)if(g=u[p],I=o[p],u.hasOwnProperty(p)&&(g!=null||I!=null))switch(p){case"value":J=g;break;case"defaultValue":k=g;break;case"multiple":j=g;default:g!==I&&Ke(n,s,p,g,u,I)}s=k,o=j,u=ee,J!=null?Ls(n,!!o,J,!1):!!u!=!!o&&(s!=null?Ls(n,!!o,s,!0):Ls(n,!!o,o?[]:"",!1));return;case"textarea":ee=J=null;for(k in o)if(p=o[k],o.hasOwnProperty(k)&&p!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ke(n,s,k,null,u,p)}for(j in u)if(p=u[j],g=o[j],u.hasOwnProperty(j)&&(p!=null||g!=null))switch(j){case"value":J=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Ke(n,s,j,p,u,g)}sx(n,J,ee);return;case"option":for(var pe in o)if(J=o[pe],o.hasOwnProperty(pe)&&J!=null&&!u.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:Ke(n,s,pe,null,u,J)}for(I in u)if(J=u[I],ee=o[I],u.hasOwnProperty(I)&&J!==ee&&(J!=null||ee!=null))switch(I){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ke(n,s,I,J,u,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)J=o[_e],o.hasOwnProperty(_e)&&J!=null&&!u.hasOwnProperty(_e)&&Ke(n,s,_e,null,u,J);for(X in u)if(J=u[X],ee=o[X],u.hasOwnProperty(X)&&J!==ee&&(J!=null||ee!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:Ke(n,s,X,J,u,ee)}return;default:if(_f(s)){for(var Xe in o)J=o[Xe],o.hasOwnProperty(Xe)&&J!==void 0&&!u.hasOwnProperty(Xe)&&lm(n,s,Xe,void 0,u,J);for(re in u)J=u[re],ee=o[re],!u.hasOwnProperty(re)||J===ee||J===void 0&&ee===void 0||lm(n,s,re,J,u,ee);return}}for(var G in o)J=o[G],o.hasOwnProperty(G)&&J!=null&&!u.hasOwnProperty(G)&&Ke(n,s,G,null,u,J);for(ie in u)J=u[ie],ee=o[ie],!u.hasOwnProperty(ie)||J===ee||J==null&&ee==null||Ke(n,s,ie,J,u,ee)}function cS(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],g=p.transferSize,j=p.initiatorType,k=p.duration;if(g&&k&&cS(j)){for(j=0,k=p.responseEnd,u+=1;u<o.length;u++){var I=o[u],X=I.startTime;if(X>k)break;var re=I.transferSize,ie=I.initiatorType;re&&cS(ie)&&(I=I.responseEnd,j+=re*(I<k?1:(k-X)/(I-X)))}if(--u,s+=8*(g+j)/(p.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var cm=null,um=null;function iu(n){return n.nodeType===9?n:n.ownerDocument}function uS(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dS(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function dm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fm=null;function tM(){var n=window.event;return n&&n.type==="popstate"?n===fm?!1:(fm=n,!0):(fm=null,!1)}var fS=typeof setTimeout=="function"?setTimeout:void 0,rM=typeof clearTimeout=="function"?clearTimeout:void 0,hS=typeof Promise=="function"?Promise:void 0,nM=typeof queueMicrotask=="function"?queueMicrotask:typeof hS<"u"?function(n){return hS.resolve(null).then(n).catch(aM)}:fS;function aM(n){setTimeout(function(){throw n})}function ga(n){return n==="head"}function mS(n,s){var o=s,u=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(p),pi(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Uo(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Uo(o);for(var g=o.firstChild;g;){var j=g.nextSibling,k=g.nodeName;g[ro]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=j}}else o==="body"&&Uo(n.ownerDocument.body);o=p}while(o);pi(s)}function pS(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function hm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":hm(o),yf(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function sM(n,s,o,u){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ro])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Lr(n.nextSibling),n===null)break}return null}function iM(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Lr(n.nextSibling),n===null))return null;return n}function vS(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Lr(n.nextSibling),n===null))return null;return n}function mm(n){return n.data==="$?"||n.data==="$~"}function pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function oM(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Lr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var vm=null;function gS(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return Lr(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function yS(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function bS(n,s,o){switch(s=iu(o),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Uo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);yf(n)}var $r=new Map,xS=new Set;function ou(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Un=B.d;B.d={f:lM,r:cM,D:uM,C:dM,L:fM,m:hM,X:pM,S:mM,M:vM};function lM(){var n=Un.f(),s=Jc();return n||s}function cM(n){var s=Ms(n);s!==null&&s.tag===5&&s.type==="form"?Lw(s):Un.r(n)}var fi=typeof document>"u"?null:document;function wS(n,s,o){var u=fi;if(u&&typeof s=="string"&&s){var p=Ar(s);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),xS.has(p)||(xS.add(p),n={rel:n,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),zt(s,"link",n),Dt(s),u.head.appendChild(s)))}}function uM(n){Un.D(n),wS("dns-prefetch",n,null)}function dM(n,s){Un.C(n,s),wS("preconnect",n,s)}function fM(n,s,o){Un.L(n,s,o);var u=fi;if(u&&n&&s){var p='link[rel="preload"][as="'+Ar(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ar(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ar(o.imageSizes)+'"]')):p+='[href="'+Ar(n)+'"]';var g=p;switch(s){case"style":g=hi(n);break;case"script":g=mi(n)}$r.has(g)||(n=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),$r.set(g,n),u.querySelector(p)!==null||s==="style"&&u.querySelector(zo(g))||s==="script"&&u.querySelector(Io(g))||(s=u.createElement("link"),zt(s,"link",n),Dt(s),u.head.appendChild(s)))}}function hM(n,s){Un.m(n,s);var o=fi;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Ar(u)+'"][href="'+Ar(n)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=mi(n)}if(!$r.has(g)&&(n=y({rel:"modulepreload",href:n},s),$r.set(g,n),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Io(g)))return}u=o.createElement("link"),zt(u,"link",n),Dt(u),o.head.appendChild(u)}}}function mM(n,s,o){Un.S(n,s,o);var u=fi;if(u&&n){var p=qs(u).hoistableStyles,g=hi(n);s=s||"default";var j=p.get(g);if(!j){var k={loading:0,preload:null};if(j=u.querySelector(zo(g)))k.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},o),(o=$r.get(g))&&gm(n,o);var I=j=u.createElement("link");Dt(I),zt(I,"link",n),I._p=new Promise(function(X,re){I.onload=X,I.onerror=re}),I.addEventListener("load",function(){k.loading|=1}),I.addEventListener("error",function(){k.loading|=2}),k.loading|=4,lu(j,s,u)}j={type:"stylesheet",instance:j,count:1,state:k},p.set(g,j)}}}function pM(n,s){Un.X(n,s);var o=fi;if(o&&n){var u=qs(o).hoistableScripts,p=mi(n),g=u.get(p);g||(g=o.querySelector(Io(p)),g||(n=y({src:n,async:!0},s),(s=$r.get(p))&&ym(n,s),g=o.createElement("script"),Dt(g),zt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function vM(n,s){Un.M(n,s);var o=fi;if(o&&n){var u=qs(o).hoistableScripts,p=mi(n),g=u.get(p);g||(g=o.querySelector(Io(p)),g||(n=y({src:n,async:!0,type:"module"},s),(s=$r.get(p))&&ym(n,s),g=o.createElement("script"),Dt(g),zt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function _S(n,s,o,u){var p=(p=fe.current)?ou(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=hi(o.href),o=qs(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=hi(o.href);var g=qs(p).hoistableStyles,j=g.get(n);if(j||(p=p.ownerDocument||p,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,j),(g=p.querySelector(zo(n)))&&!g._p&&(j.instance=g,j.state.loading=5),$r.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$r.set(n,o),g||gM(p,n,o,j.state))),s&&u===null)throw Error(a(528,""));return j}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mi(o),o=qs(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function hi(n){return'href="'+Ar(n)+'"'}function zo(n){return'link[rel="stylesheet"]['+n+"]"}function SS(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function gM(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),zt(s,"link",o),Dt(s),n.head.appendChild(s))}function mi(n){return'[src="'+Ar(n)+'"]'}function Io(n){return"script[async]"+n}function ES(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Ar(o.href)+'"]');if(u)return s.instance=u,Dt(u),u;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Dt(u),zt(u,"style",p),lu(u,o.precedence,n),s.instance=u;case"stylesheet":p=hi(o.href);var g=n.querySelector(zo(p));if(g)return s.state.loading|=4,s.instance=g,Dt(g),g;u=SS(o),(p=$r.get(p))&&gm(u,p),g=(n.ownerDocument||n).createElement("link"),Dt(g);var j=g;return j._p=new Promise(function(k,I){j.onload=k,j.onerror=I}),zt(g,"link",u),s.state.loading|=4,lu(g,o.precedence,n),s.instance=g;case"script":return g=mi(o.src),(p=n.querySelector(Io(g)))?(s.instance=p,Dt(p),p):(u=o,(p=$r.get(g))&&(u=y({},o),ym(u,p)),n=n.ownerDocument||n,p=n.createElement("script"),Dt(p),zt(p,"link",u),n.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,lu(u,o.precedence,n));return s.instance}function lu(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,j=0;j<u.length;j++){var k=u[j];if(k.dataset.precedence===s)g=k;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function gm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function ym(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var cu=null;function jS(n,s,o){if(cu===null){var u=new Map,p=cu=new Map;p.set(o,u)}else p=cu,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[ro]||g[Pt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var j=g.getAttribute(s)||"";j=n+j;var k=u.get(j);k?k.push(g):u.set(j,[g])}}return u}function NS(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function yM(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function TS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function bM(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=hi(u.href),g=s.querySelector(zo(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=uu.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,Dt(g);return}g=s.ownerDocument||s,u=SS(u),(p=$r.get(p))&&gm(u,p),g=g.createElement("link"),Dt(g);var j=g;j._p=new Promise(function(k,I){j.onload=k,j.onerror=I}),zt(g,"link",u),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=uu.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var bm=0;function xM(n,s){return n.stylesheets&&n.count===0&&fu(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&fu(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&bm===0&&(bm=62500*eM());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&fu(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>bm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var du=null;function fu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,du=new Map,s.forEach(wM,n),du=null,uu.call(n))}function wM(n,s){if(!(s.state.loading&4)){var o=du.get(n);if(o)var u=o.get(null);else{o=new Map,du.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var j=p[g];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(o.set(j.dataset.precedence,j),u=j)}u&&o.set(null,u)}p=s.instance,j=p.getAttribute("data-precedence"),g=o.get(j)||u,g===u&&o.set(null,p),o.set(j,p),this.count++,u=uu.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),s.state.loading|=4}}var Bo={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function _M(n,s,o,u,p,g,j,k,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mf(0),this.hiddenUpdates=mf(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function OS(n,s,o,u,p,g,j,k,I,X,re,ie){return n=new _M(n,s,o,j,I,X,re,ie,k),s=1,g===!0&&(s|=24),g=gr(3,null,null,s),n.current=g,g.stateNode=n,s=Jf(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},rh(g),n}function CS(n){return n?(n=Gs,n):Gs}function AS(n,s,o,u,p,g){p=CS(p),u.context===null?u.context=p:u.pendingContext=p,u=ia(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=oa(n,u,s),o!==null&&(lr(o,n,s),xo(o,n,s))}function RS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function xm(n,s){RS(n,s),(n=n.alternate)&&RS(n,s)}function DS(n){if(n.tag===13||n.tag===31){var s=Ha(n,67108864);s!==null&&lr(s,n,67108864),xm(n,67108864)}}function kS(n){if(n.tag===13||n.tag===31){var s=_r();s=pf(s);var o=Ha(n,s);o!==null&&lr(o,n,s),xm(n,s)}}var hu=!0;function SM(n,s,o,u){var p=H.T;H.T=null;var g=B.p;try{B.p=2,wm(n,s,o,u)}finally{B.p=g,H.T=p}}function EM(n,s,o,u){var p=H.T;H.T=null;var g=B.p;try{B.p=8,wm(n,s,o,u)}finally{B.p=g,H.T=p}}function wm(n,s,o,u){if(hu){var p=_m(u);if(p===null)om(n,s,u,mu,o),qS(n,u);else if(NM(p,n,s,o,u))u.stopPropagation();else if(qS(n,u),s&4&&-1<jM.indexOf(n)){for(;p!==null;){var g=Ms(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var j=$a(g.pendingLanes);if(j!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;j;){var I=1<<31-pr(j);k.entanglements[1]|=I,j&=~I}ln(g),(Be&6)===0&&(Xc=ce()+500,Po(0))}}break;case 31:case 13:k=Ha(g,2),k!==null&&lr(k,g,2),Jc(),xm(g,2)}if(g=_m(u),g===null&&om(n,s,u,mu,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else om(n,s,u,null,o)}}function _m(n){return n=Ef(n),Sm(n)}var mu=null;function Sm(n){if(mu=null,n=ks(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return mu=n,null}function MS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case be:return 2;case Re:return 8;case He:case tr:return 32;case Zt:return 268435456;default:return 32}default:return 32}}var Em=!1,ya=null,ba=null,xa=null,Ho=new Map,Fo=new Map,wa=[],jM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qS(n,s){switch(n){case"focusin":case"focusout":ya=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ho.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(s.pointerId)}}function Go(n,s,o,u,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Ms(s),s!==null&&DS(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function NM(n,s,o,u,p){switch(s){case"focusin":return ya=Go(ya,n,s,o,u,p),!0;case"dragenter":return ba=Go(ba,n,s,o,u,p),!0;case"mouseover":return xa=Go(xa,n,s,o,u,p),!0;case"pointerover":var g=p.pointerId;return Ho.set(g,Go(Ho.get(g)||null,n,s,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,Fo.set(g,Go(Fo.get(g)||null,n,s,o,u,p)),!0}return!1}function PS(n){var s=ks(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Xb(n.priority,function(){kS(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,Xb(n.priority,function(){kS(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function pu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=_m(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Sf=u,o.target.dispatchEvent(u),Sf=null}else return s=Ms(o),s!==null&&DS(s),n.blockedOn=o,!1;s.shift()}return!0}function LS(n,s,o){pu(n)&&o.delete(s)}function TM(){Em=!1,ya!==null&&pu(ya)&&(ya=null),ba!==null&&pu(ba)&&(ba=null),xa!==null&&pu(xa)&&(xa=null),Ho.forEach(LS),Fo.forEach(LS)}function vu(n,s){n.blockedOn===s&&(n.blockedOn=null,Em||(Em=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,TM)))}var gu=null;function $S(n){gu!==n&&(gu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){gu===n&&(gu=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],p=n[s+2];if(typeof u!="function"){if(Sm(u||o)===null)continue;break}var g=Ms(o);g!==null&&(n.splice(s,3),s-=3,_h(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function pi(n){function s(I){return vu(I,n)}ya!==null&&vu(ya,n),ba!==null&&vu(ba,n),xa!==null&&vu(xa,n),Ho.forEach(s),Fo.forEach(s);for(var o=0;o<wa.length;o++){var u=wa[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<wa.length&&(o=wa[0],o.blockedOn===null);)PS(o),o.blockedOn===null&&wa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],j=p[rr]||null;if(typeof g=="function")j||$S(o);else if(j){var k=null;if(g&&g.hasAttribute("formAction")){if(p=g,j=g[rr]||null)k=j.formAction;else if(Sm(p)!==null)continue}else k=j.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),$S(o)}}}function US(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(j){return p=j})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function jm(n){this._internalRoot=n}yu.prototype.render=jm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,u=_r();AS(o,u,n,s,null,null)},yu.prototype.unmount=jm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;AS(n.current,2,null,n,null,null),Jc(),s[Ds]=null}};function yu(n){this._internalRoot=n}yu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Kb();n={blockedOn:null,target:n,priority:s};for(var o=0;o<wa.length&&s!==0&&s<wa[o].priority;o++);wa.splice(o,0,n),o===0&&PS(n)}};var zS=e.version;if(zS!=="19.2.1")throw Error(a(527,zS,"19.2.1"));B.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var OM={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{et=bu.inject(OM),mt=bu}catch{}}return Wo.createRoot=function(n,s){if(!i(n))throw Error(a(299));var o=!1,u="",p=Ww,g=Vw,j=Kw;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError)),s=OS(n,1,!1,null,null,o,u,null,p,g,j,US),n[Ds]=s.current,im(n),new jm(s)},Wo.hydrateRoot=function(n,s,o){if(!i(n))throw Error(a(299));var u=!1,p="",g=Ww,j=Vw,k=Kw,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(I=o.formState)),s=OS(n,1,!0,s,o??null,u,p,I,g,j,k,US),s.context=CS(null),o=s.current,u=_r(),u=pf(u),p=ia(u),p.callback=null,oa(o,p,u),o=u,s.current.lanes=o,to(s,o),ln(s),n[Ds]=s.current,im(n),new yu(s)},Wo.version="19.2.1",Wo}var XS;function $M(){if(XS)return Om.exports;XS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Om.exports=LM(),Om.exports}var UM=$M();var QS="popstate";function zM(t={}){function e(a,i){let{pathname:l,search:c,hash:d}=a.location;return J0("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:yl(i)}return BM(e,r,null,t)}function lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IM(){return Math.random().toString(36).substring(2,10)}function JS(t,e){return{usr:t.state,key:t.key,idx:e}}function J0(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?$i(e):e,state:r,key:e&&e.key||a||IM()}}function yl({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $i(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function BM(t,e,r,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,c=i.history,d="POP",f=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){d="POP";let E=v(),S=E==null?null:E-m;m=E,f&&f({action:d,location:_.location,delta:S})}function b(E,S){d="PUSH";let N=J0(_.location,E,S);m=v()+1;let T=JS(N,m),O=_.createHref(N);try{c.pushState(T,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(O)}l&&f&&f({action:d,location:_.location,delta:1})}function x(E,S){d="REPLACE";let N=J0(_.location,E,S);m=v();let T=JS(N,m),O=_.createHref(N);c.replaceState(T,"",O),l&&f&&f({action:d,location:_.location,delta:0})}function w(E){return HM(E)}let _={get action(){return d},get location(){return t(i,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(QS,y),f=E,()=>{i.removeEventListener(QS,y),f=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let S=w(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:x,go(E){return c.go(E)}};return _}function HM(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),lt(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:yl(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function o2(t,e,r="/"){return FM(t,e,r,!1)}function FM(t,e,r,a){let i=typeof e=="string"?$i(e):e,l=Fn(i.pathname||"/",r);if(l==null)return null;let c=l2(t);GM(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=r4(l);d=e4(c[f],m,a)}return d}function l2(t,e=[],r=[],a="",i=!1){let l=(c,d,f=i,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&f)return;lt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let y=Hn([a,v.relativePath]),b=r.concat(v);c.children&&c.children.length>0&&(lt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),l2(c.children,e,b,y,f)),!(c.path==null&&!c.index)&&e.push({path:y,score:JM(y,c.index),routesMeta:b})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let f of c2(c.path))l(c,d,!0,f)}),e}function c2(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let c=c2(a.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...c),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function GM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ZM(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var YM=/^:[\w-]+$/,WM=3,VM=2,KM=1,XM=10,QM=-2,ZS=t=>t==="*";function JM(t,e){let r=t.split("/"),a=r.length;return r.some(ZS)&&(a+=QM),e&&(a+=VM),r.filter(i=>!ZS(i)).reduce((i,l)=>i+(YM.test(l)?WM:l===""?KM:XM),a)}function ZM(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function e4(t,e,r=!1){let{routesMeta:a}=t,i={},l="/",c=[];for(let d=0;d<a.length;++d){let f=a[d],m=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=nd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),b=f.route;if(!y&&m&&r&&!a[a.length-1].route.index&&(y=nd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:Hn([l,y.pathname]),pathnameBase:o4(Hn([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=Hn([l,y.pathnameBase]))}return c}function nd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=t4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:y},b)=>{if(v==="*"){let w=d[b]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const x=d[b];return y&&!x?m[v]=void 0:m[v]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function t4(t,e=!1,r=!0){Ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function r4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Fn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}var n4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a4=t=>n4.test(t);function s4(t,e="/"){let{pathname:r,search:a="",hash:i=""}=typeof t=="string"?$i(t):t,l;if(r)if(a4(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Ir(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?l=e1(r.substring(1),"/"):l=e1(r,e)}else l=e;return{pathname:l,search:l4(a),hash:c4(i)}}function e1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Dm(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ay(t){let e=i4(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Ry(t,e,r,a=!1){let i;typeof t=="string"?i=$i(t):(i={...t},lt(!i.pathname||!i.pathname.includes("?"),Dm("?","pathname","search",i)),lt(!i.pathname||!i.pathname.includes("#"),Dm("#","pathname","hash",i)),lt(!i.search||!i.search.includes("#"),Dm("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=r;else{let y=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}d=y>=0?e[y]:"/"}let f=s4(i,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Hn=t=>t.join("/").replace(/\/\/+/g,"/"),o4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),l4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function u4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function d4(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var u2=["POST","PUT","PATCH","DELETE"];new Set(u2);var f4=["GET",...u2];new Set(f4);var Ui=A.createContext(null);Ui.displayName="DataRouter";var jd=A.createContext(null);jd.displayName="DataRouterState";A.createContext(!1);var d2=A.createContext({isTransitioning:!1});d2.displayName="ViewTransition";var h4=A.createContext(new Map);h4.displayName="Fetchers";var m4=A.createContext(null);m4.displayName="Await";var Gr=A.createContext(null);Gr.displayName="Navigation";var Ll=A.createContext(null);Ll.displayName="Location";var xn=A.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Dy=A.createContext(null);Dy.displayName="RouteError";function p4(t,{relative:e}={}){lt(zi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=A.useContext(Gr),{hash:i,pathname:l,search:c}=$l(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:Hn([r,l])),a.createHref({pathname:d,search:c,hash:i})}function zi(){return A.useContext(Ll)!=null}function Ra(){return lt(zi(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Ll).location}var f2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h2(t){A.useContext(Gr).static||A.useLayoutEffect(t)}function ky(){let{isDataRoute:t}=A.useContext(xn);return t?O4():v4()}function v4(){lt(zi(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Ui),{basename:e,navigator:r}=A.useContext(Gr),{matches:a}=A.useContext(xn),{pathname:i}=Ra(),l=JSON.stringify(Ay(a)),c=A.useRef(!1);return h2(()=>{c.current=!0}),A.useCallback((f,m={})=>{if(Ir(c.current,f2),!c.current)return;if(typeof f=="number"){r.go(f);return}let v=Ry(f,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Hn([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,l,i,t])}A.createContext(null);function $l(t,{relative:e}={}){let{matches:r}=A.useContext(xn),{pathname:a}=Ra(),i=JSON.stringify(Ay(r));return A.useMemo(()=>Ry(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function g4(t,e){return m2(t,e)}function m2(t,e,r,a,i){lt(zi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(Gr),{matches:c}=A.useContext(xn),d=c[c.length-1],f=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",y=d&&d.route;{let N=y&&y.path||"";p2(m,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=Ra(),x;if(e){let N=typeof e=="string"?$i(e):e;lt(v==="/"||N.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=b;let w=x.pathname||"/",_=w;if(v!=="/"){let N=v.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=o2(t,{pathname:_});Ir(y||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Ir(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=_4(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Hn([v,l.encodeLocation?l.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?v:Hn([v,l.encodeLocation?l.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),c,r,a,i);return e&&S?A.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function y4(){let t=T4(),e=u4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:i},r):null,c)}var b4=A.createElement(y4,null),x4=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(xn.Provider,{value:this.props.routeContext},A.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w4({routeContext:t,match:e,children:r}){let a=A.useContext(Ui);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(xn.Provider,{value:t},r)}function _4(t,e=[],r=null,a=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,c=r?.errors;if(c!=null){let v=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);lt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,f=-1;if(r)for(let v=0;v<l.length;v++){let y=l[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=v),y.route.id){let{loaderData:b,errors:x}=r,w=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||w){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&a?(v,y)=>{a(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:d4(r.matches),errorInfo:y})}:void 0;return l.reduceRight((v,y,b)=>{let x,w=!1,_=null,E=null;r&&(x=c&&y.route.id?c[y.route.id]:void 0,_=y.route.errorElement||b4,d&&(f<0&&b===0?(p2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):f===b&&(w=!0,E=y.route.hydrateFallbackElement||null)));let S=e.concat(l.slice(0,b+1)),N=()=>{let T;return x?T=_:w?T=E:y.route.Component?T=A.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=v,A.createElement(w4,{match:y,routeContext:{outlet:v,matches:S,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?A.createElement(x4,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:m}):N()},null)}function My(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S4(t){let e=A.useContext(Ui);return lt(e,My(t)),e}function E4(t){let e=A.useContext(jd);return lt(e,My(t)),e}function j4(t){let e=A.useContext(xn);return lt(e,My(t)),e}function qy(t){let e=j4(t),r=e.matches[e.matches.length-1];return lt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function N4(){return qy("useRouteId")}function T4(){let t=A.useContext(Dy),e=E4("useRouteError"),r=qy("useRouteError");return t!==void 0?t:e.errors?.[r]}function O4(){let{router:t}=S4("useNavigate"),e=qy("useNavigate"),r=A.useRef(!1);return h2(()=>{r.current=!0}),A.useCallback(async(i,l={})=>{Ir(r.current,f2),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var t1={};function p2(t,e,r){!e&&!t1[t]&&(t1[t]=!0,Ir(!1,r))}A.memo(C4);function C4({routes:t,future:e,state:r,unstable_onError:a}){return m2(t,void 0,r,a,e)}function cl({to:t,replace:e,state:r,relative:a}){lt(zi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Gr);Ir(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(xn),{pathname:c}=Ra(),d=ky(),f=Ry(t,Ay(l),c,a==="path"),m=JSON.stringify(f);return A.useEffect(()=>{d(JSON.parse(m),{replace:e,state:r,relative:a})},[d,m,a,e,r]),null}function _i(t){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function A4({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){lt(!zi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[d,i,l,c]);typeof r=="string"&&(r=$i(r));let{pathname:m="/",search:v="",hash:y="",state:b=null,key:x="default"}=r,w=A.useMemo(()=>{let _=Fn(m,d);return _==null?null:{location:{pathname:_,search:v,hash:y,state:b,key:x},navigationType:a}},[d,m,v,y,b,x,a]);return Ir(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:A.createElement(Gr.Provider,{value:f},A.createElement(Ll.Provider,{children:e,value:w}))}function R4({children:t,location:e}){return g4(Z0(t),e)}function Z0(t,e=[]){let r=[];return A.Children.forEach(t,(a,i)=>{if(!A.isValidElement(a))return;let l=[...e,i];if(a.type===A.Fragment){r.push.apply(r,Z0(a.props.children,l));return}lt(a.type===_i,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Z0(a.props.children,l)),r.push(c)}),r}var $u="get",Uu="application/x-www-form-urlencoded";function Nd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function D4(t){return Nd(t)&&t.tagName.toLowerCase()==="button"}function k4(t){return Nd(t)&&t.tagName.toLowerCase()==="form"}function M4(t){return Nd(t)&&t.tagName.toLowerCase()==="input"}function q4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function P4(t,e){return t.button===0&&(!e||e==="_self")&&!q4(t)}var wu=null;function L4(){if(wu===null)try{new FormData(document.createElement("form"),0),wu=!1}catch{wu=!0}return wu}var $4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function km(t){return t!=null&&!$4.has(t)?(Ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uu}"`),null):t}function U4(t,e){let r,a,i,l,c;if(k4(t)){let d=t.getAttribute("action");a=d?Fn(d,e):null,r=t.getAttribute("method")||$u,i=km(t.getAttribute("enctype"))||Uu,l=new FormData(t)}else if(D4(t)||M4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(a=f?Fn(f,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||$u,i=km(t.getAttribute("formenctype"))||km(d.getAttribute("enctype"))||Uu,l=new FormData(d,t),!L4()){let{name:m,type:v,value:y}=t;if(v==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,y)}}else{if(Nd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=$u,a=null,i=Uu,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Py(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function z4(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&Fn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function I4(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function H4(t,e,r){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await I4(l,r);return c.links?c.links():[]}return[]}));return W4(a.flat(1).filter(B4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function r1(t,e,r,a,i,l){let c=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,d=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?e.filter((f,m)=>{let v=a.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function F4(t,e,{includeHydrateFallback:r}={}){return G4(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function G4(t){return[...new Set(t)]}function Y4(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function W4(t,e){let r=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(Y4(i));return r.has(l)||(r.add(l),a.push({key:l,link:i})),a},[])}function v2(){let t=A.useContext(Ui);return Py(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function V4(){let t=A.useContext(jd);return Py(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ly=A.createContext(void 0);Ly.displayName="FrameworkContext";function g2(){let t=A.useContext(Ly);return Py(t,"You must render this element inside a <HydratedRouter> element"),t}function K4(t,e){let r=A.useContext(Ly),[a,i]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=S=>{S.forEach(N=>{c(N.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[t]),A.useEffect(()=>{if(a){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[a]);let x=()=>{i(!0)},w=()=>{i(!1),c(!1)};return r?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Vo(d,x),onBlur:Vo(f,w),onMouseEnter:Vo(m,x),onMouseLeave:Vo(v,w),onTouchStart:Vo(y,x)}]:[!1,b,{}]}function Vo(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function X4({page:t,...e}){let{router:r}=v2(),a=A.useMemo(()=>o2(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?A.createElement(J4,{page:t,matches:a,...e}):null}function Q4(t){let{manifest:e,routeModules:r}=g2(),[a,i]=A.useState([]);return A.useEffect(()=>{let l=!1;return H4(t,e,r).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,r]),a}function J4({page:t,matches:e,...r}){let a=Ra(),{manifest:i,routeModules:l}=g2(),{basename:c}=v2(),{loaderData:d,matches:f}=V4(),m=A.useMemo(()=>r1(t,e,f,i,a,"data"),[t,e,f,i,a]),v=A.useMemo(()=>r1(t,e,f,i,a,"assets"),[t,e,f,i,a]),y=A.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let w=new Set,_=!1;if(e.forEach(S=>{let N=i.routes[S.route.id];!N||!N.hasLoader||(!m.some(T=>T.route.id===S.route.id)&&S.route.id in d&&l[S.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:w.add(S.route.id))}),w.size===0)return[];let E=z4(t,c,"data");return _&&w.size>0&&E.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[c,d,a,i,m,e,t,l]),b=A.useMemo(()=>F4(v,i),[v,i]),x=Q4(v);return A.createElement(A.Fragment,null,y.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),x.map(({key:w,link:_})=>A.createElement("link",{key:w,nonce:r.nonce,..._})))}function Z4(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{y2&&(window.__reactRouterVersion="7.10.1")}catch{}function e3({basename:t,children:e,unstable_useTransitions:r,window:a}){let i=A.useRef();i.current==null&&(i.current=zM({window:a,v5Compat:!0}));let l=i.current,[c,d]=A.useState({action:l.action,location:l.location}),f=A.useCallback(m=>{r===!1?d(m):A.startTransition(()=>d(m))},[r]);return A.useLayoutEffect(()=>l.listen(f),[l,f]),A.createElement(A4,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r===!0})}var b2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x2=A.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:i,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:v,viewTransition:y,...b},x){let{basename:w,unstable_useTransitions:_}=A.useContext(Gr),E=typeof m=="string"&&b2.test(m),S,N=!1;if(typeof m=="string"&&E&&(S=m,y2))try{let R=new URL(window.location.href),q=m.startsWith("//")?new URL(R.protocol+m):new URL(m),z=Fn(q.pathname,w);q.origin===R.origin&&z!=null?m=z+q.search+q.hash:N=!0}catch{Ir(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=p4(m,{relative:i}),[O,M,D]=K4(a,b),C=a3(m,{replace:c,state:d,target:f,preventScrollReset:v,relative:i,viewTransition:y,unstable_useTransitions:_});function L(R){e&&e(R),R.defaultPrevented||C(R)}let P=A.createElement("a",{...b,...D,href:S||T,onClick:N||l?e:L,ref:Z4(x,M),target:f,"data-discover":!E&&r==="render"?"true":void 0});return O&&!E?A.createElement(A.Fragment,null,P,A.createElement(X4,{page:T})):P});x2.displayName="Link";var t3=A.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:i=!1,style:l,to:c,viewTransition:d,children:f,...m},v){let y=$l(c,{relative:m.relative}),b=Ra(),x=A.useContext(jd),{navigator:w,basename:_}=A.useContext(Gr),E=x!=null&&c3(y)&&d===!0,S=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,N=b.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(N=N.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&_&&(T=Fn(T,_)||T);const O=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=N===S||!i&&N.startsWith(S)&&N.charAt(O)==="/",D=T!=null&&(T===S||!i&&T.startsWith(S)&&T.charAt(S.length)==="/"),C={isActive:M,isPending:D,isTransitioning:E},L=M?e:void 0,P;typeof a=="function"?P=a(C):P=[a,M?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(C):l;return A.createElement(x2,{...m,"aria-current":L,className:P,ref:v,style:R,to:c,viewTransition:d},typeof f=="function"?f(C):f)});t3.displayName="NavLink";var r3=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:i,state:l,method:c=$u,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:y,...b},x)=>{let{unstable_useTransitions:w}=A.useContext(Gr),_=o3(),E=l3(d,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&b2.test(d),T=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,D=M?.getAttribute("formmethod")||c,C=()=>_(M||O.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:i,state:l,relative:m,preventScrollReset:v,viewTransition:y});w&&r!==!1?A.startTransition(()=>C()):C()};return A.createElement("form",{ref:x,method:S,action:E,onSubmit:a?f:T,...b,"data-discover":!N&&t==="render"?"true":void 0})});r3.displayName="Form";function n3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w2(t){let e=A.useContext(Ui);return lt(e,n3(t)),e}function a3(t,{target:e,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let f=ky(),m=Ra(),v=$l(t,{relative:l});return A.useCallback(y=>{if(P4(y,e)){y.preventDefault();let b=r!==void 0?r:yl(m)===yl(v),x=()=>f(t,{replace:b,state:a,preventScrollReset:i,relative:l,viewTransition:c});d?A.startTransition(()=>x()):x()}},[m,f,v,r,a,e,t,i,l,c,d])}var s3=0,i3=()=>`__${String(++s3)}__`;function o3(){let{router:t}=w2("useSubmit"),{basename:e}=A.useContext(Gr),r=N4(),a=t.fetch,i=t.navigate;return A.useCallback(async(l,c={})=>{let{action:d,method:f,encType:m,formData:v,body:y}=U4(l,e);if(c.navigate===!1){let b=c.fetcherKey||i3();await a(b,r,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||f,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||f,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,i,e,r])}function l3(t,{relative:e}={}){let{basename:r}=A.useContext(Gr),a=A.useContext(xn);lt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...$l(t||".",{relative:e})},c=Ra();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Hn([r,l.pathname])),yl(l)}function c3(t,{relative:e}={}){let r=A.useContext(d2);lt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=w2("useViewTransitionState"),i=$l(t,{relative:e});if(!r.isTransitioning)return!1;let l=Fn(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Fn(r.nextLocation.pathname,a)||r.nextLocation.pathname;return nd(i.pathname,c)!=null||nd(i.pathname,l)!=null}var u3=i2();const _2=Kt(u3);var zn={},_u={},ey=function(t,e){return ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},ey(t,e)};function S2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ey(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ad=function(){return ad=Object.assign||function(e){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},ad.apply(this,arguments)};function Ii(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(r[a[i]]=t[a[i]]);return r}function E2(t,e,r,a){var i=arguments.length,l=i<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,a);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(i<3?c(l):i>3?c(e,r,l):c(e,r))||l);return i>3&&l&&Object.defineProperty(e,r,l),l}function j2(t,e){return function(r,a){e(r,a,t)}}function N2(t,e,r,a,i,l){function c(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var d=a.kind,f=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?a.static?t:t.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),y,b=!1,x=r.length-1;x>=0;x--){var w={};for(var _ in a)w[_]=_==="access"?{}:a[_];for(var _ in a.access)w.access[_]=a.access[_];w.addInitializer=function(S){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(S||null))};var E=(0,r[x])(d==="accessor"?{get:v.get,set:v.set}:v[f],w);if(d==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(y=c(E.get))&&(v.get=y),(y=c(E.set))&&(v.set=y),(y=c(E.init))&&i.unshift(y)}else(y=c(E))&&(d==="field"?i.unshift(y):v[f]=y)}m&&Object.defineProperty(m,a.name,v),b=!0}function T2(t,e,r){for(var a=arguments.length>2,i=0;i<e.length;i++)r=a?e[i].call(t,r):e[i].call(t);return a?r:void 0}function O2(t){return typeof t=="symbol"?t:"".concat(t)}function C2(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function A2(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function me(t,e,r,a){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(y){c(y)}}function f(v){try{m(a.throw(v))}catch(y){c(y)}}function m(v){v.done?l(v.value):i(v.value).then(d,f)}m((a=a.apply(t,e||[])).next())})}function R2(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,i,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(v){return f([m,v])}}function f(m){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(a=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(v){m=[6,v],i=0}finally{a=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Td=Object.create?(function(t,e,r,a){a===void 0&&(a=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,i)}):(function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]});function D2(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Td(e,t,r)}function sd(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $y(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var a=r.call(t),i,l=[],c;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)l.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}return l}function k2(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($y(arguments[e]));return t}function M2(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var a=Array(t),i=0,e=0;e<r;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,i++)a[i]=l[c];return a}function q2(t,e,r){if(r||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}function P2(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(x){return function(w){return Promise.resolve(w).then(x,y)}}function d(x,w){a[x]&&(i[x]=function(_){return new Promise(function(E,S){l.push([x,_,E,S])>1||f(x,_)})},w&&(i[x]=w(i[x])))}function f(x,w){try{m(a[x](w))}catch(_){b(l[0][3],_)}}function m(x){x.value instanceof Oi?Promise.resolve(x.value.v).then(v,y):b(l[0][2],x)}function v(x){f("next",x)}function y(x){f("throw",x)}function b(x,w){x(w),l.shift(),l.length&&f(l[0][0],l[0][1])}}function L2(t){var e,r;return e={},a("next"),a("throw",function(i){throw i}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(i,l){e[i]=t[i]?function(c){return(r=!r)?{value:Oi(t[i](c)),done:!1}:l?l(c):c}:l}}function $2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof sd=="function"?sd(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(l){r[l]=t[l]&&function(c){return new Promise(function(d,f){c=t[l](c),i(d,f,c.done,c.value)})}}function i(l,c,d,f){Promise.resolve(f).then(function(m){l({value:m,done:d})},c)}}function U2(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var d3=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ty=function(t){return ty=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},ty(t)};function z2(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=ty(t),a=0;a<r.length;a++)r[a]!=="default"&&Td(e,t,r[a]);return d3(e,t),e}function I2(t){return t&&t.__esModule?t:{default:t}}function B2(t,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(t):a?a.value:e.get(t)}function H2(t,e,r,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function F2(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function G2(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:a,async:r})}else r&&t.stack.push({async:!0});return e}var f3=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function Y2(t){function e(l){t.error=t.hasError?new f3(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,a=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&a===1)return a=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(l).then(i,function(c){return e(c),i()})}else a|=1}catch(c){e(c)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function W2(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,i,l,c){return a?e?".jsx":".js":i&&(!l||!c)?r:i+l+"."+c.toLowerCase()+"js"}):t}const h3={__extends:S2,__assign:ad,__rest:Ii,__decorate:E2,__param:j2,__esDecorate:N2,__runInitializers:T2,__propKey:O2,__setFunctionName:C2,__metadata:A2,__awaiter:me,__generator:R2,__createBinding:Td,__exportStar:D2,__values:sd,__read:$y,__spread:k2,__spreadArrays:M2,__spreadArray:q2,__await:Oi,__asyncGenerator:P2,__asyncDelegator:L2,__asyncValues:$2,__makeTemplateObject:U2,__importStar:z2,__importDefault:I2,__classPrivateFieldGet:B2,__classPrivateFieldSet:H2,__classPrivateFieldIn:F2,__addDisposableResource:G2,__disposeResources:Y2,__rewriteRelativeImportExtension:W2},m3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:G2,get __assign(){return ad},__asyncDelegator:L2,__asyncGenerator:P2,__asyncValues:$2,__await:Oi,__awaiter:me,__classPrivateFieldGet:B2,__classPrivateFieldIn:F2,__classPrivateFieldSet:H2,__createBinding:Td,__decorate:E2,__disposeResources:Y2,__esDecorate:N2,__exportStar:D2,__extends:S2,__generator:R2,__importDefault:I2,__importStar:z2,__makeTemplateObject:U2,__metadata:A2,__param:j2,__propKey:O2,__read:$y,__rest:Ii,__rewriteRelativeImportExtension:W2,__runInitializers:T2,__setFunctionName:C2,__spread:k2,__spreadArray:q2,__spreadArrays:M2,__values:sd,default:h3},Symbol.toStringTag,{value:"Module"})),p3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Od=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},V2=class extends Od{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},ry=class extends Od{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ny=class extends Od{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var id;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(id||(id={}));class v3{constructor(e,{headers:r={},customFetch:a,region:i=id.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=p3(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return me(this,arguments,void 0,function*(r,a={}){var i;let l,c;try{const{headers:d,method:f,body:m,signal:v,timeout:y}=a;let b={},{region:x}=a;x||(x=this.region);const w=new URL(`${this.url}/${r}`);x&&x!=="any"&&(b["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let _;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(b["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(b["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let E=v;y&&(c=new AbortController,l=setTimeout(()=>c.abort(),y),v?(E=c.signal,v.addEventListener("abort",()=>c.abort())):E=c.signal);const S=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:_,signal:E}).catch(M=>{throw new V2(M)}),N=S.headers.get("x-relay-error");if(N&&N==="true")throw new ry(S);if(!S.ok)throw new ny(S);let T=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield S.json():T==="application/octet-stream"||T==="application/pdf"?O=yield S.blob():T==="text/event-stream"?O=S:T==="multipart/form-data"?O=yield S.formData():O=yield S.text(),{data:O,error:null,response:S}}catch(d){return{data:null,error:d,response:d instanceof ny||d instanceof ry?d.context:void 0}}finally{l&&clearTimeout(l)}})}}const g3=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return id},FunctionsClient:v3,FunctionsError:Od,FunctionsFetchError:V2,FunctionsHttpError:ny,FunctionsRelayError:ry},Symbol.toStringTag,{value:"Module"})),K2=bn(g3);var Wt={};const Bi=bn(m3);var Su={},Eu={},ju={},Nu={},Tu={},Ou={},n1;function X2(){if(n1)return Ou;n1=1,Object.defineProperty(Ou,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ou.default=t,Ou}var a1;function Q2(){if(a1)return Tu;a1=1,Object.defineProperty(Tu,"__esModule",{value:!0});const e=Bi.__importDefault(X2());let r=class{constructor(i){var l,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,v,y,b;let x=null,w=null,_=null,E=f.status,S=f.statusText;if(f.ok){if(this.method!=="HEAD"){const M=await f.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?w=M:w=JSON.parse(M))}const T=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&O&&O.length>1&&(_=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,E=406,S="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await f.text();try{x=JSON.parse(T),Array.isArray(x)&&f.status===404&&(w=[],x=null,E=200,S="OK")}catch{f.status===404&&T===""?(E=204,S="No Content"):x={message:T}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,E=200,S="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:w,count:_,status:E,statusText:S}});return this.shouldThrowOnError||(d=d.catch(f=>{var m,v,y,b,x,w;let _="";const E=f?.cause;if(E){const S=(m=E?.message)!==null&&m!==void 0?m:"",N=(v=E?.code)!==null&&v!==void 0?v:"";_=`${(y=f?.name)!==null&&y!==void 0?y:"FetchError"}: ${f?.message}`,_+=`

Caused by: ${(b=E?.name)!==null&&b!==void 0?b:"Error"}: ${S}`,N&&(_+=` (${N})`),E?.stack&&(_+=`
${E.stack}`)}else _=(x=f?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(w=f?.name)!==null&&w!==void 0?w:"FetchError"}: ${f?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(i,l)}returns(){return this}overrideTypes(){return this}};return Tu.default=r,Tu}var s1;function J2(){if(s1)return Nu;s1=1,Object.defineProperty(Nu,"__esModule",{value:!0});const e=Bi.__importDefault(Q2());let r=class extends e.default{select(i){let l=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:f=d}={}){const m=f?`${f}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:f=!1,format:m="text"}={}){var v;const y=[i?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Nu.default=r,Nu}var i1;function Uy(){if(i1)return ju;i1=1,Object.defineProperty(ju,"__esModule",{value:!0});const e=Bi.__importDefault(J2()),r=new RegExp("[,()]");let a=class extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${v}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}};return ju.default=a,ju}var o1;function Z2(){if(o1)return Eu;o1=1,Object.defineProperty(Eu,"__esModule",{value:!0});const e=Bi.__importDefault(Uy());let r=class{constructor(i,{headers:l={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(i,l){const{head:c=!1,count:d}=l??{},f=c?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:c=!0}={}){var d;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:f=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(y.length>0){const b=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var l;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return Eu.default=r,Eu}var l1;function y3(){if(l1)return Su;l1=1,Object.defineProperty(Su,"__esModule",{value:!0});const t=Bi,e=t.__importDefault(Z2()),r=t.__importDefault(Uy());let a=class eC{constructor(l,{headers:c={},schema:d,fetch:f}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=f}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new eC(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:f=!1,count:m}={}){var v;let y;const b=new URL(`${this.url}/rpc/${l}`);let x;d||f?(y=d?"HEAD":"GET",Object.entries(c).filter(([_,E])=>E!==void 0).map(([_,E])=>[_,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([_,E])=>{b.searchParams.append(_,E)})):(y="POST",x=c);const w=new Headers(this.headers);return m&&w.set("Prefer",`count=${m}`),new r.default({method:y,url:b,headers:w,schema:this.schemaName,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Su.default=a,Su}var c1;function tC(){if(c1)return Wt;c1=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.PostgrestError=Wt.PostgrestBuilder=Wt.PostgrestTransformBuilder=Wt.PostgrestFilterBuilder=Wt.PostgrestQueryBuilder=Wt.PostgrestClient=void 0;const t=Bi,e=t.__importDefault(y3());Wt.PostgrestClient=e.default;const r=t.__importDefault(Z2());Wt.PostgrestQueryBuilder=r.default;const a=t.__importDefault(Uy());Wt.PostgrestFilterBuilder=a.default;const i=t.__importDefault(J2());Wt.PostgrestTransformBuilder=i.default;const l=t.__importDefault(Q2());Wt.PostgrestBuilder=l.default;const c=t.__importDefault(X2());return Wt.PostgrestError=c.default,Wt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default},Wt}class rC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const b3="2.87.1",x3=`realtime-js/${b3}`,nC="1.0.0",w3="2.0.0",u1=nC,ay=1e4,_3=1e3,S3=100;var cs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(cs||(cs={}));var _t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_t||(_t={}));var Zr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zr||(Zr={}));var sy;(function(t){t.websocket="websocket"})(sy||(sy={}));var us;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(us||(us={}));class E3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,a){var i,l;const c=e.topic,d=(i=e.ref)!==null&&i!==void 0?i:"",f=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+c.length+m.length+y.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(x),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,f.length),w.setUint8(_++,d.length),w.setUint8(_++,c.length),w.setUint8(_++,m.length),w.setUint8(_++,y.length),w.setUint8(_++,r),Array.from(f,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(d,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(c,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(m,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(y,S=>w.setUint8(_++,S.charCodeAt(0)));var E=new Uint8Array(x.byteLength+a.byteLength);return E.set(new Uint8Array(x),0),E.set(new Uint8Array(a),x.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[i,l,c,d,f]=a;return r({join_ref:i,ref:l,topic:c,event:d,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),i=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,a){const i=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=a.decode(e.slice(f,f+i));f=f+i;const v=a.decode(e.slice(f,f+l));f=f+l;const y=a.decode(e.slice(f,f+c));f=f+c;const b=e.slice(f,e.byteLength),x=d===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,w={type:this.BROADCAST_EVENT,event:v,payload:x};return c>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class aC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ze||(Ze={}));const d1=(t,e,r={})=>{var a;const i=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=j3(c,t,e,i),l),{}):{}},j3=(t,e,r,a)=>{const i=e.find(d=>d.name===t),l=i?.type,c=r[t];return l&&!a.includes(l)?sC(l,c):iy(c)},sC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return C3(e,r)}switch(t){case Ze.bool:return N3(e);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return T3(e);case Ze.json:case Ze.jsonb:return O3(e);case Ze.timestamp:return A3(e);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return iy(e);default:return iy(e)}},iy=t=>t,N3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},T3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},O3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},C3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>sC(e,d))}return t},A3=t=>typeof t=="string"?t.replace(" ","T"):t,iC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Mm{constructor(e,r,a={},i=ay){this.channel=e,this.event=r,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(oy||(oy={}));let oC=class zu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zu.syncState(this.state,i,l,c),this.pendingDiffs.forEach(f=>{this.state=zu.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=zu.syncDiff(this.state,i,l,c),d())}),this.onJoin((i,l,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:c})}),this.onLeave((i,l,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,i){const l=this.cloneDeep(e),c=this.transformState(r),d={},f={};return this.map(l,(m,v)=>{c[m]||(f[m]=v)}),this.map(c,(m,v)=>{const y=l[m];if(y){const b=v.map(E=>E.presence_ref),x=y.map(E=>E.presence_ref),w=v.filter(E=>x.indexOf(E.presence_ref)<0),_=y.filter(E=>b.indexOf(E.presence_ref)<0);w.length>0&&(d[m]=w),_.length>0&&(f[m]=_)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:f},a,i)}static syncDiff(e,r,a,i){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(d,f)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(f),v.length>0){const y=e[d].map(x=>x.presence_ref),b=v.filter(x=>y.indexOf(x.presence_ref)<0);e[d].unshift(...b)}a(d,v,f)}),this.map(c,(d,f)=>{let m=e[d];if(!m)return;const v=f.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),e[d]=m,i(d,m,f),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const i=e[a];return"metas"in i?r[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[a]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ly;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ly||(ly={}));var ji;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ji||(ji={}));var dn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dn||(dn={}));const R3=_t;let lC=class ul{constructor(e,r={config:{}},a){var i,l;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mm(this,Zr.join,this.params,this.timeout),this.rejoinTimer=new aC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zr.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new oC(this),this.broadcastEndpointURL=iC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[ji.PRESENCE]&&this.bindings[ji.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(dn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(dn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(dn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(w=_?.length)!==null&&w!==void 0?w:0,S=[];for(let N=0;N<E;N++){const T=_[N],{filter:{event:O,schema:M,table:D,filter:C}}=T,L=x&&x[N];if(L&&L.event===O&&ul.isFilterValueEqual(L.schema,M)&&ul.isFilterValueEqual(L.table,D)&&ul.isFilterValueEqual(L.filter,C))S.push(Object.assign(Object.assign({},T),{id:L.id}));else{this.unsubscribe(),this.state=_t.errored,e?.(dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(dn.SUBSCRIBED);return}}).receive("error",x=>{this.state=_t.errored,e?.(dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===_t.joined&&e===ji.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const m=await d.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,f;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zr.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Mm(this,Zr.leave,{},e),a.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),c}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Mm(this,e,r,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>S3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var i,l;const c=e.toLocaleLowerCase(),{close:d,error:f,leave:m,join:v}=Zr;if(a&&[d,f,m,v].indexOf(c)>=0&&a!==this._joinRef())return;let b=this._onMessage(c,r,a);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,_,E;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(_=x.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===c}).map(x=>x.callback(b,a)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var w,_,E,S,N,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const O=x.id,M=(w=x.filter)===null||w===void 0?void 0:w.event;return O&&((_=r.ids)===null||_===void 0?void 0:_.includes(O))&&(M==="*"||M?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const O=(N=(S=x?.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:_,table:E,commit_timestamp:S,type:N,errors:T}=w;b=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:S,eventType:N,new:{},old:{},errors:T}),this._getPayloadRecords(w))}x.callback(b,a)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&ul.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zr.close,{},e)}_onError(e){this._on(Zr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=d1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=d1(e.columns,e.old_record)),r}};const qm=()=>{},Cu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D3=[1e3,2e3,5e3,1e4],k3=1e4,M3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let q3=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ay,this.transport=null,this.heartbeatIntervalMs=Cu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qm,this.ref=0,this.reconnectTimer=null,this.vsn=u1,this.logger=qm,this.conn=null,this.sendBuffer=[],this.serializer=new E3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${sy.websocket}`,this.httpEndpoint=iC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case cs.connecting:return us.Connecting;case cs.open:return us.Open;case cs.closing:return us.Closing;default:return us.Closed}}isConnected(){return this.connectionState()===us.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new lC(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:a,payload:i,ref:l}=e,c=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${a} (${l})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(_3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Cu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:c}=r,d=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${a} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===cs.open||this.conn.readyState===cs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${a}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([M3],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:x3};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Zr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new aC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Cu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,i,l,c,d,f,m,v,y,b,x;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:ay,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Cu.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:qm,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:u1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(w=>D3[w-1]||k3),this.vsn){case nC:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((w,_)=>_(JSON.stringify(w))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((w,_)=>_(JSON.parse(w)));break;case w3:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const P3=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:R3,get REALTIME_LISTEN_TYPES(){return ji},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return ly},get REALTIME_PRESENCE_LISTEN_EVENTS(){return oy},get REALTIME_SUBSCRIBE_STATES(){return dn},RealtimeChannel:lC,RealtimeClient:q3,RealtimePresence:oC,WebSocketFactory:rC},Symbol.toStringTag,{value:"Module"})),cC=bn(P3);class Ul extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ot(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uC extends Ul{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class od extends Ul{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const zy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),L3=()=>Response,cy=t=>{if(Array.isArray(t))return t.map(r=>cy(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=cy(a)}),e},$3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},U3=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Pm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},z3=(t,e,r)=>me(void 0,void 0,void 0,function*(){const a=yield L3();t instanceof a&&!r?.noResolveJson?t.json().then(i=>{const l=t.status||500,c=i?.statusCode||l+"";e(new uC(Pm(i),l,c))}).catch(i=>{e(new od(Pm(i),i))}):e(new od(Pm(t),t))}),I3=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:($3(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function zl(t,e,r,a,i,l){return me(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,I3(e,a,i,l)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>z3(f,d,a))})})}function bl(t,e,r,a){return me(this,void 0,void 0,function*(){return zl(t,"GET",e,r,a)})}function Jr(t,e,r,a,i){return me(this,void 0,void 0,function*(){return zl(t,"POST",e,a,i,r)})}function uy(t,e,r,a,i){return me(this,void 0,void 0,function*(){return zl(t,"PUT",e,a,i,r)})}function B3(t,e,r,a){return me(this,void 0,void 0,function*(){return zl(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Iy(t,e,r,a,i){return me(this,void 0,void 0,function*(){return zl(t,"DELETE",e,a,i,r)})}class H3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}var dC;class F3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[dC]="BlobDownloadBuilder",this.promise=null}asStream(){return new H3(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}dC=Symbol.toStringTag;const G3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Y3{constructor(e,r={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=zy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,i){return me(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},f1),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),f&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(f))):(l=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),y=yield(e=="PUT"?uy:Jr)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ot(l))return{data:null,error:l};throw l}})}upload(e,r,a){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,i){return me(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let f;const m=Object.assign({upsert:f1.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",m.cacheControl)):(f=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield uy(this.fetch,d.toString(),f,{headers:v});return{data:{path:l,fullPath:y.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(ot(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return me(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const l=yield Jr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Ul("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}update(e,r,a){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return me(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}copy(e,r,a){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield Jr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,a){return me(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield Jr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,a){return me(this,void 0,void 0,function*(){try{const i=yield Jr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),f=()=>bl(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new F3(f,this.shouldThrowOnError)}info(e){return me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield bl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cy(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}exists(e){return me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield B3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a)&&a instanceof od){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),i=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${m}`)}}}remove(e){return me(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}list(e,r,a){return me(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},G3),r),{prefix:e||""});return{data:yield Jr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}listV2(e,r){return me(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield Jr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const fC="2.87.1",hC={"X-Client-Info":`storage-js/${fC}`};class W3{constructor(e,r={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hC),r),this.fetch=zy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return me(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield bl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}getBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield bl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}createBucket(e){return me(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return me(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ot(a))return{data:null,error:a};throw a}})}emptyBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var xl=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function V3(t,e,r){const a=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&a.searchParams.set(i,l);return a.toString()}async function K3(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function X3(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:i,body:l,headers:c}){const d=V3(t.baseUrl,a,i),f=await K3(t.auth),m=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...c},body:l?JSON.stringify(l):void 0}),v=await m.text(),y=(m.headers.get("content-type")||"").includes("application/json"),b=y&&v?JSON.parse(v):v;if(!m.ok){const x=y?b:void 0,w=x?.error;throw new xl(w?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:w?.type,icebergCode:w?.code,details:x})}return{status:m.status,headers:m.headers,data:b}}}}function Au(t){return t.join("")}var Q3=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Au(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Au(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Au(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Au(t.namespace)}`}),!0}catch(e){if(e instanceof xl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof xl&&r.status===409)return;throw r}}};function vi(t){return t.join("")}var J3=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof xl&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof xl&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Z3=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=X3({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new Q3(this.client,e),this.tableOps=new J3(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class mC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hC),r),this.fetch=zy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}listBuckets(e){return me(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield bl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Iy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ot(r))return{data:null,error:r};throw r}})}from(e){if(!U3(e))throw new Ul("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Z3({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>me(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(l,c){const d=l[c];return typeof d!="function"?d:(...f)=>me(this,void 0,void 0,function*(){try{return{data:yield d.apply(l,f),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}})}})}}const By={"X-Client-Info":`storage-js/${fC}`,"Content-Type":"application/json"};class Hy extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ur(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Iu extends Hy{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pC extends Hy{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var dy;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(dy||(dy={}));const Cd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),e5=()=>Response,vC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},t5=t=>Array.from(new Float32Array(t)),r5=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},h1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),n5=(t,e,r)=>me(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||i+"";e(new Iu(h1(c),i,d))}).catch(()=>{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Iu(d,i,c))});else{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Iu(d,i,c))}}else e(new pC(h1(t),t))}),a5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return a?(vC(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),r)):i};function s5(t,e,r,a,i,l){return me(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,a5(e,a,i,l)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>n5(f,d,a))})})}function Er(t,e,r,a,i){return me(this,void 0,void 0,function*(){return s5(t,"POST",e,a,i,r)})}class gC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},By),r),this.fetch=Cd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return me(this,void 0,void 0,function*(){try{return{data:(yield Er(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}getIndex(e,r){return me(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}})}listIndexes(e){return me(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return me(this,void 0,void 0,function*(){try{return{data:(yield Er(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}})}}class yC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},By),r),this.fetch=Cd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return me(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Er(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}getVectors(e){return me(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}listVectors(e){return me(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Er(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}queryVectors(e){return me(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}deleteVectors(e){return me(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Er(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}}class bC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},By),r),this.fetch=Cd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return me(this,void 0,void 0,function*(){try{return{data:(yield Er(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}getBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Er(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}listBuckets(){return me(this,arguments,void 0,function*(e={}){try{return{data:yield Er(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:(yield Er(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}}class xC extends bC{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new wC(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return me(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return me(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return me(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return me(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class wC extends gC{constructor(e,r,a,i){super(e,r,i),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return me(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return me(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return me(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return me(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new _C(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class _C extends yC{constructor(e,r,a,i,l){super(e,r,l),this.vectorBucketName=a,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return me(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return me(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return me(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return me(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return me(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class i5 extends W3{constructor(e,r={},a,i){super(e,r,a,i)}from(e){return new Y3(this.url,this.headers,e,this.fetch)}get vectors(){return new xC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mC(this.url+"/iceberg",this.headers,this.fetch)}}const o5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:mC,StorageApiError:uC,StorageClient:i5,StorageError:Ul,StorageUnknownError:od,StorageVectorsApiError:Iu,StorageVectorsClient:xC,StorageVectorsError:Hy,get StorageVectorsErrorCode(){return dy},StorageVectorsUnknownError:pC,VectorBucketApi:bC,VectorBucketScope:wC,VectorDataApi:yC,VectorIndexApi:gC,VectorIndexScope:_C,isPlainObject:vC,isStorageError:ot,isStorageVectorsError:ur,normalizeToFloat32:t5,resolveFetch:Cd,resolveResponse:e5,validateVectorDimension:r5},Symbol.toStringTag,{value:"Module"})),l5=bn(o5);var Lm={},Ko={},m1;function c5(){return m1||(m1=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.version=void 0,Ko.version="2.87.1"),Ko}var p1;function u5(){return p1||(p1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=c5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Lm)),Lm}var $m={},v1;function d5(){return v1||(v1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...l)=>i(...l):(...l)=>fetch(...l);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const a=(i,l,c)=>{const d=(0,t.resolveFetch)(c),f=(0,t.resolveHeadersConstructor)();return async(m,v)=>{var y;const b=(y=await l())!==null&&y!==void 0?y:i;let x=new f(v?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${b}`),d(m,Object.assign(Object.assign({},v),{headers:x}))}};t.fetchWithAuth=a})($m)),$m}var In={},g1;function f5(){if(g1)return In;g1=1,Object.defineProperty(In,"__esModule",{value:!0}),In.isBrowser=void 0,In.uuid=t,In.ensureTrailingSlash=e,In.applySettingDefaults=a,In.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var c=Math.random()*16|0,d=l=="x"?c:c&3|8;return d.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";In.isBrowser=r;function a(l,c){var d,f;const{db:m,auth:v,realtime:y,global:b}=l,{db:x,auth:w,realtime:_,global:E}=c,S={db:Object.assign(Object.assign({},x),m),auth:Object.assign(Object.assign({},w),v),realtime:Object.assign(Object.assign({},_),y),storage:{},global:Object.assign(Object.assign(Object.assign({},E),b),{headers:Object.assign(Object.assign({},(d=E?.headers)!==null&&d!==void 0?d:{}),(f=b?.headers)!==null&&f!==void 0?f:{})}),accessToken:async()=>""};return l.accessToken?S.accessToken=l.accessToken:delete S.accessToken,S}function i(l){const c=l?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return In}var Xo={};const SC="2.87.1",Si=30*1e3,fy=3,Um=fy*Si,h5="http://localhost:9999",m5="supabase.auth.token",p5={"X-Client-Info":`gotrue-js/${SC}`},hy="X-Supabase-Api-Version",EC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,g5=600*1e3;let Ci=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let jC=class extends Ci{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function NC(t){return ge(t)&&t.name==="AuthApiError"}let Na=class extends Ci{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Xn=class extends Ci{constructor(e,r,a,i){super(e,a,i),this.name=r,this.status=a}},cr=class extends Xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function TC(t){return ge(t)&&t.name==="AuthSessionMissingError"}let ss=class extends Xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},dl=class extends Xn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},fl=class extends Xn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function OC(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}let my=class extends Xn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ld=class extends Xn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Bu(t){return ge(t)&&t.name==="AuthRetryableFetchError"}let py=class extends Xn{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function y5(t){return ge(t)&&t.name==="AuthWeakPasswordError"}let cd=class extends Xn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y1=` 	
\r=`.split(""),b5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<y1.length;e+=1)t[y1[e].charCodeAt(0)]=-2;for(let e=0;e<ud.length;e+=1)t[ud[e].charCodeAt(0)]=e;return t})();function b1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(ud[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(ud[a]),e.queuedBits-=6}}function CC(t,e,r){const a=b5[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function x1(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=c=>{_5(c,a,r)};for(let c=0;c<t.length;c+=1)CC(t.charCodeAt(c),i,l);return e.join("")}function x5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function w5(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}x5(a,e)}}function _5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ni(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)CC(t.charCodeAt(i),r,a);return new Uint8Array(e)}function S5(t){const e=[];return w5(t,r=>e.push(r)),new Uint8Array(e)}function fs(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>b1(i,r,a)),b1(null,r,a),e.join("")}function E5(t){return Math.round(Date.now()/1e3)+t}function j5(){return Symbol("auth-callback")}const Bt=()=>typeof window<"u"&&typeof document<"u",rs={tested:!1,writable:!1},AC=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(rs.tested)return rs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),rs.tested=!0,rs.writable=!0}catch{rs.tested=!0,rs.writable=!1}return rs.writable};function N5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((a,i)=>{e[i]=a}),e}const RC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),T5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ei=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ns=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},It=async(t,e)=>{await t.removeItem(e)};class Ad{constructor(){this.promise=new Ad.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ad.promiseConstructor=Promise;function zm(t){const e=t.split(".");if(e.length!==3)throw new cd("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!v5.test(e[a]))throw new cd("JWT not in base64url format");return{header:JSON.parse(x1(e[0])),payload:JSON.parse(x1(e[1])),signature:Ni(e[2]),raw:{header:e[0],payload:e[1]}}}async function O5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function C5(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){a(c);return}}catch(c){if(!e(l,c)){i(c);return}}})()})}function A5(t){return("0"+t.toString(16)).substr(-2)}function R5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,A5).join("")}async function D5(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function k5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await D5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(t,e,r=!1){const a=R5();let i=a;r&&(i+="/PASSWORD_RECOVERY"),await Ei(t,`${e}-code-verifier`,i);const l=await k5(a);return[l,a===l?"plain":"s256"]}const M5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function q5(t){const e=t.headers.get(hy);if(!e||!e.match(M5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function P5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function L5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yi(t){if(!$5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Im(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U5(t,e){return new Proxy(t,{get:(r,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,i)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,i)}})}function w1(t){return JSON.parse(JSON.stringify(t))}const is=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),z5=[502,503,504];async function _1(t){var e;if(!T5(t))throw new ld(is(t),0);if(z5.includes(t.status))throw new ld(is(t),t.status);let r;try{r=await t.json()}catch(l){throw new Na(is(l),l)}let a;const i=q5(t);if(i&&i.getTime()>=EC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new py(is(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new cr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new py(is(r),t.status,r.weak_password.reasons);throw new jC(is(r),t.status||500,a)}const I5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),r))};async function Se(t,e,r,a){var i;const l=Object.assign({},a?.headers);l[hy]||(l[hy]=EC["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const c=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await B5(t,e,r+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function B5(t,e,r,a,i,l){const c=I5(e,a,i,l);let d;try{d=await t(r,Object.assign({},c))}catch(f){throw console.error(f),new ld(is(f),0)}if(d.ok||await _1(d),a?.noResolveJson)return d;try{return await d.json()}catch(f){await _1(f)}}function Qr(t){var e;let r=null;G5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=E5(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function S1(t){const e=Qr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ta(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function H5(t){return{data:t,error:null}}function F5(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l}=t,c=Ii(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function E1(t){return t}function G5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Hu=["global","local","others"];let Fy=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=RC(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Hu[0]){if(Hu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hu.join(", ")}`);try{return await Se(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await Se(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ta})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=Ii(e,["options"]),i=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await Se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:F5,redirectTo:r?.redirectTo})}catch(r){if(ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ta})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,i,l,c,d,f;try{const m={nextPage:null,lastPage:0,total:0},v=await Se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:E1});if(v.error)throw v.error;const y=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);m[`${E}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ge(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){yi(e);try{return await Se(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ta})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){yi(e);try{return await Se(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ta})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){yi(e);try{return await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ta})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){yi(e.userId);try{const{data:r,error:a}=await Se(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:a}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteFactor(e){yi(e.userId),yi(e.id);try{return{data:await Se(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,i,l,c,d,f;try{const m={nextPage:null,lastPage:0,total:0},v=await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:E1});if(v.error)throw v.error;const y=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);m[`${E}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ge(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ge(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await Se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}};function j1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const os={debug:!!(globalThis&&AC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let DC=class extends Gy{};class Y5 extends Gy{}async function kC(t,e,r){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),os.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){os.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{os.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw os.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new DC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(os.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const N1={};async function W5(t,e,r){var a;const i=(a=N1[t])!==null&&a!==void 0?a:Promise.resolve(),l=Promise.race([i.catch(()=>null),e>=0?new Promise((c,d)=>{setTimeout(()=>{d(new Y5(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return N1[t]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await l}function V5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function MC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function K5(t){return parseInt(t,16)}function X5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function Q5(t){var e;const{chainId:r,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:f,resources:m,scheme:v,uri:y,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=MC(t.address),w=v?`${v}://${a}`:a,_=t.statement?`${t.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${x}

${_}`;let S=`URI: ${y}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),d&&(S+=`
Not Before: ${d.toISOString()}`),f&&(S+=`
Request ID: ${f}`),m){let N=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);N+=`
- ${T}`}S+=N}return`${E}
${S}`}class St extends Error{constructor({message:e,code:r,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class dd extends St{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function J5({error:t,options:e}){var r,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new St({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new St({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new St({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new St({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new St({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new St({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new St({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new St({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(qC(c)){if(l.rp.id!==c)return new St({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new St({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Z5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new St({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new St({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(qC(a)){if(r.rpId!==a)return new St({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new St({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new St({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new St({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class eq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const tq=new eq;function rq(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,i=Ii(t,["challenge","user","excludeCredentials"]),l=Ni(e).buffer,c=Object.assign(Object.assign({},r),{id:Ni(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const m=a[f];d.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Ni(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function nq(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=Ii(t,["challenge","allowCredentials"]),i=Ni(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ni(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function aq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:fs(new Uint8Array(t.response.attestationObject)),clientDataJSON:fs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:fs(new Uint8Array(i.authenticatorData)),clientDataJSON:fs(new Uint8Array(i.clientDataJSON)),signature:fs(new Uint8Array(i.signature)),userHandle:i.userHandle?fs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function T1(){var t,e;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function iq(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dd("Browser returned unexpected credential type",e)}:{data:null,error:new dd("Empty credential response",e)}}catch(e){return{data:null,error:J5({error:e,options:t})}}}async function oq(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new dd("Browser returned unexpected credential type",e)}:{data:null,error:new dd("Empty credential response",e)}}catch(e){return{data:null,error:Z5({error:e,options:t})}}}const lq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cq={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const c=i[l];if(c!==void 0)if(Array.isArray(c))a[l]=c;else if(r(c))a[l]=c;else if(e(c)){const d=a[l];e(d)?a[l]=fd(d,c):a[l]=fd(c)}else a[l]=c}return a}function uq(t,e){return fd(lq,t,e||{})}function dq(t,e){return fd(cq,t,e||{})}class fq{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:i},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:d};const f=i??tq.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=uq(c.webauthn.credential_options.publicKey,l?.create),{data:v,error:y}=await iq({publicKey:m,signal:f});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const m=dq(c.webauthn.credential_options.publicKey,l?.request),{data:v,error:y}=await oq(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:f}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(c){return ge(c)?{data:null,error:c}:{data:null,error:new Na("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ci("rpId is required for WebAuthn authentication")};try{if(!T1())return{data:null,error:new Na("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:i},{request:l});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:a,credential_response:f.credential_response}})}catch(c){return ge(c)?{data:null,error:c}:{data:null,error:new Na("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ci("rpId is required for WebAuthn registration")};try{if(!T1())return{data:null,error:new Na("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:f,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:i},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ge(c)?{data:null,error:c}:{data:null,error:new Na("Unexpected error in register",c)}}}}V5();const hq={url:h5,storageKey:m5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:p5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function O1(t,e,r){return await r()}const bi={};let Yy=class vy{get jwks(){var e,r;return(r=(e=bi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=bi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},hq),e);if(this.storageKey=l.storageKey,this.instanceID=(r=vy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Bt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Fy({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=RC(l.fetch),this.lock=l.lock||O1,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Bt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=kC:this.lock=O1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:AC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=j1(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=j1(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${SC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Bt()&&(r=N5(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Bt()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),OC(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ge(r)?this._returnResult({error:r}):this._returnResult({error:new Na("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,i;try{const l=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Qr}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,a,i;try{let l;if("email"in e){const{email:v,password:y,options:b}=e;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await gi(this.storage,this.storageKey)),l=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:y,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Qr})}else if("phone"in e){const{phone:v,password:y,options:b}=e;l=await Se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Qr})}else throw new dl("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await It(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S1})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await Se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S1})}else throw new dl("You must provide either an email or phone number and a password");const{data:a,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const l=new ss;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,i,l,c,d,f,m,v,y,b;let x,w;if("message"in e)x=e.message,w=e.signature;else{const{chain:_,wallet:E,statement:S,options:N}=e;let T;if(Bt())if(typeof E=="object")T=E;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")T=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=E}const O=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),M=await T.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=MC(M[0]);let C=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!C){const P=await T.request({method:"eth_chainId"});C=K5(P)}const L={domain:O.host,address:D,statement:S,uri:O.href,version:"1",chainId:C,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=N?.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=Q5(L),w=await T.request({method:"personal_sign",params:[X5(x),D]})}try{const{data:_,error:E}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Qr});if(E)throw E;if(!_||!_.session||!_.user){const S=new ss;return this._returnResult({data:{user:null,session:null},error:S})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,a,i,l,c,d,f,m,v,y,b,x;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:E,wallet:S,statement:N,options:T}=e;let O;if(Bt())if(typeof S=="object")O=S;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))O=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const M=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const D=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let C;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")C=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)C=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),_=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(a=T?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=T?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const D=await O.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:E,error:S}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:fs(_)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Qr});if(S)throw S;if(!E||!E.session||!E.user){const N=new ss;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:S})}catch(E){if(ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await ns(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(r??"").split("/");try{const{data:l,error:c}=await Se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Qr});if(await It(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new ss;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:c})}catch(l){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:a,token:i,access_token:l,nonce:c}=e,d=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Qr}),{data:f,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const v=new ss;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,i,l,c;try{if("email"in e){const{email:d,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await gi(this.storage,this.storageKey));const{error:y}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:f}=e,{data:m,error:v}=await Se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new dl("You must provide either an email or phone number.")}catch(d){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,a;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await Se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:Qr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,m=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(i){if(ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,a,i,l,c;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await gi(this.storage,this.storageKey));const m=await Se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:H5});return!((l=m.data)===null||l===void 0)&&l.url&&Bt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new cr;const{error:i}=await Se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:c}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:c,error:d}=await Se(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new dl("You must provide either an email or phone number and a type")}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ns(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Um:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await ns(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Im()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=U5(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ta}):await this._useSession(async r=>{var a,i,l;const{data:c,error:d}=r;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cr}:await Se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:Ta})})}catch(r){if(ge(r))return TC(r)&&(await this._removeSession(),await It(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new cr;const c=i.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await gi(this.storage,this.storageKey));const{data:m,error:v}=await Se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:Ta});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new cr;const r=Date.now()/1e3;let a=r,i=!0,l=null;const{payload:c}=zm(e.access_token);if(c.exp&&(a=c.exp,i=a<=r),i){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new cr;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Bt())throw new fl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new my("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new my("No code detected.");const{data:N,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:c,expires_in:d,expires_at:f,token_type:m}=e;if(!l||!d||!c||!m)throw new fl("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(d);let b=v+y;f&&(b=parseInt(f));const x=b-v;x*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const w=b-y;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,v);const{data:_,error:E}=await this._getUser(l);if(E)throw E;const S={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:y,expires_at:b,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(a){if(ge(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ns(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const c=(a=i.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(NC(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await It(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=j5(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,i;try{const{data:{session:l},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await gi(this.storage,this.storageKey,!0));try{return await Se(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:i}=await this._useSession(async l=>{var c,d,f,m,v;const{data:y,error:b}=l;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Se(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Bt()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(ge(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:c,provider:d,token:f,access_token:m,nonce:v}=e,y=await Se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:f,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Qr}),{data:b,error:x}=y;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ss}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(i){if(await It(this.storage,`${this.storageKey}-code-verifier`),ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:c}=r;if(c)throw c;return await Se(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await C5(async i=>(i>0&&await O5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qr})),(i,l)=>{const c=200*Math.pow(2,i);return l&&Bu(l)&&Date.now()+c-a<Si})}catch(a){if(this._debug(r,"error",a),ge(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Bt()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ns(this.storage,this.storageKey);if(i&&this.userStorage){let c=await ns(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await Ei(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Im()}else if(i&&!i.user&&!i.user){const c=await ns(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await It(this.storage,this.storageKey+"-user"),await Ei(this.storage,this.storageKey,i)):i.user=Im()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Um;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Um}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Bu(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new cr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ad;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new cr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),ge(l)){const c={data:null,error:l};return Bu(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await It(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Ei(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=w1(i);await Ei(this.storage,this.storageKey,l)}else{const i=w1(r);await Ei(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await It(this.storage,this.storageKey),await It(this.storage,this.storageKey+"-code-verifier"),await It(this.storage,this.storageKey+"-user"),this.userStorage&&await It(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Si}ms, refresh threshold is ${fy} ticks`),i<=fy&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const i=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,c]=await gi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await Se(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await Se(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?aq(e.webauthn.credential_response):sq(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await Se(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:rq(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:nq(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=zm(a.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?await Se(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new cr})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new cr});const c=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Bt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new cr});const c=await Se(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Bt()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await Se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new cr})})}catch(e){if(ge(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?(await Se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new cr})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(d=>d.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+g5>i)return a;const{data:l,error:c}=await Se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});a=x.session.access_token}const{header:i,payload:l,signature:c,raw:{header:d,payload:f}}=zm(a);r?.allowExpired||P5(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:l,header:i,signature:c},error:null}}const v=L5(i.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,S5(`${d}.${f}`)))throw new cd("Invalid JWT signature");return{data:{claims:l,header:i,signature:c},error:null}}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}};Yy.nextInstanceID={};const mq=Fy,pq=Yy,vq=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:mq,AuthApiError:jC,AuthClient:pq,AuthError:Ci,AuthImplicitGrantRedirectError:fl,AuthInvalidCredentialsError:dl,AuthInvalidJwtError:cd,AuthInvalidTokenResponseError:ss,AuthPKCEGrantCodeExchangeError:my,AuthRetryableFetchError:ld,AuthSessionMissingError:cr,AuthUnknownError:Na,AuthWeakPasswordError:py,CustomAuthError:Xn,GoTrueAdminApi:Fy,GoTrueClient:Yy,NavigatorLockAcquireTimeoutError:DC,SIGN_OUT_SCOPES:Hu,isAuthApiError:NC,isAuthError:ge,isAuthImplicitGrantRedirectError:OC,isAuthRetryableFetchError:Bu,isAuthSessionMissingError:TC,isAuthWeakPasswordError:y5,lockInternals:os,navigatorLock:kC,processLock:W5},Symbol.toStringTag,{value:"Module"})),PC=bn(vq);var C1;function gq(){if(C1)return Xo;C1=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.SupabaseAuthClient=void 0;const t=PC;let e=class extends t.AuthClient{constructor(a){super(a)}};return Xo.SupabaseAuthClient=e,Xo}var A1;function R1(){if(A1)return _u;A1=1,Object.defineProperty(_u,"__esModule",{value:!0});const t=K2,e=tC(),r=cC,a=l5,i=u5(),l=d5(),c=f5(),d=gq();class f{constructor(v,y,b){var x,w,_;this.supabaseUrl=v,this.supabaseKey=y;const E=(0,c.validateSupabaseUrl)(v);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const S=`sb-${E.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:S}),global:i.DEFAULT_GLOBAL_OPTIONS},T=(0,c.applySettingDefaults)(b??{},N);this.storageKey=(x=T.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(w=T.global.headers)!==null&&w!==void 0?w:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(O,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=T.auth)!==null&&_!==void 0?_:{},this.headers,T.global.fetch),this.fetch=(0,l.fetchWithAuth)(y,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(O=>this.realtime.setAuth(O)).catch(O=>console.warn("Failed to set initial Realtime auth token:",O)),this.rest=new e.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,y={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,y,b)}channel(v,y={config:{}}){return this.realtime.channel(v,y)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,y;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(y=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,storageKey:_,flowType:E,lock:S,debug:N,throwOnError:T},O,M){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),O),storageKey:_,autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,flowType:E,lock:S,debug:N,throwOnError:T,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,b)=>{this._handleTokenChanged(y,"CLIENT",b?.access_token)})}_handleTokenChanged(v,y,b){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return _u.default=f,_u}var D1;function yq(){return D1||(D1=1,(function(t){var e=zn&&zn.__createBinding||(Object.create?(function(v,y,b,x){x===void 0&&(x=b);var w=Object.getOwnPropertyDescriptor(y,b);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[b]}}),Object.defineProperty(v,x,w)}):(function(v,y,b,x){x===void 0&&(x=b),v[x]=y[b]})),r=zn&&zn.__exportStar||function(v,y){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(y,b)&&e(y,v,b)},a=zn&&zn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=a(R1());r(PC,t);var l=tC();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var c=K2;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(cC,t);var d=R1();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return a(d).default}});const f=(v,y,b)=>new i.default(v,y,b);t.createClient=f;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const y=v.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(zn)),zn}var LC=yq();const $C=Kt(LC),bq=AM({__proto__:null,default:$C},[LC]),{PostgrestError:Z7,FunctionsHttpError:e9,FunctionsFetchError:t9,FunctionsRelayError:r9,FunctionsError:n9,FunctionRegion:a9,SupabaseClient:s9,createClient:xq,GoTrueAdminApi:i9,GoTrueClient:o9,AuthAdminApi:l9,AuthClient:c9,navigatorLock:u9,NavigatorLockAcquireTimeoutError:d9,lockInternals:f9,processLock:h9,SIGN_OUT_SCOPES:m9,AuthError:p9,AuthApiError:v9,AuthUnknownError:g9,CustomAuthError:y9,AuthSessionMissingError:b9,AuthInvalidTokenResponseError:x9,AuthInvalidCredentialsError:w9,AuthImplicitGrantRedirectError:_9,AuthPKCEGrantCodeExchangeError:S9,AuthRetryableFetchError:E9,AuthWeakPasswordError:j9,AuthInvalidJwtError:N9,isAuthError:T9,isAuthApiError:O9,isAuthSessionMissingError:C9,isAuthImplicitGrantRedirectError:A9,isAuthRetryableFetchError:R9,isAuthWeakPasswordError:D9,RealtimePresence:k9,RealtimeChannel:M9,RealtimeClient:q9,REALTIME_LISTEN_TYPES:P9,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:L9,REALTIME_PRESENCE_LISTEN_EVENTS:$9,REALTIME_SUBSCRIBE_STATES:U9,REALTIME_CHANNEL_STATES:z9}=$C||bq,wq="https://qtbdvbhewbrgvweeruhz.supabase.co",_q="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0YmR2Ymhld2JyZ3Z3ZWVydWh6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzODQxODgsImV4cCI6MjA4MDk2MDE4OH0.GwOJ29umkje7Ko6ShUeNmHP_TkgIXByGphthll8QzCY";console.log(" Checking environment variables...");console.log("VITE_SUPABASE_URL:"," Set");console.log("VITE_SUPABASE_ANON_KEY:"," Set");const Ne=xq(wq,_q),UC=A.createContext(void 0),Sq=({children:t})=>{const[e,r]=A.useState(null),[a,i]=A.useState(null),[l,c]=A.useState(!0),[d,f]=A.useState(null);A.useEffect(()=>{Ne.auth.getSession().then(({data:{session:x}})=>{r(x),x?m(x.user.id):c(!1)});const{data:{subscription:b}}=Ne.auth.onAuthStateChange((x,w)=>{r(w),w?m(w.user.id):(i(null),c(!1))});return()=>b.unsubscribe()},[]);const m=async b=>{try{f(null);const{data:x,error:w}=await Ne.from("profiles").select("*").eq("id",b).single();if(w){console.error("Error fetching profile:",w),f("No se pudo cargar el perfil de usuario"),i(null);return}if(!x){f("Perfil de usuario no encontrado"),i(null);return}if(!x.id||!x.role||!x.full_name){console.error("Invalid profile data structure:",x),f("Datos de perfil invlidos"),i(null);return}if(x.role!=="superadmin"&&!x.salon_id){console.error("Missing salon_id for non-superadmin user:",x),f("Usuario sin saln asignado"),i(null);return}i(x)}catch(x){console.error("Unexpected error fetching profile:",x),f("Error inesperado al cargar el perfil"),i(null)}finally{c(!1)}},v=async()=>{await Ne.auth.signOut(),i(null),r(null)},y={session:e,profile:a,loading:l,error:d,isSuperAdmin:a?.role==="superadmin",isAdmin:a?.role==="admin"||a?.role==="superadmin",signOut:v};return h.jsx(UC.Provider,{value:y,children:t})},Il=()=>{const t=A.useContext(UC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const Eq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),k1=t=>{const e=jq(t);return e.charAt(0).toUpperCase()+e.slice(1)},zC=(...t)=>t.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),Nq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Tq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Oq=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...d},f)=>A.createElement("svg",{ref:f,...Tq,width:e,height:e,stroke:t,strokeWidth:a?Number(r)*24/Number(e):r,className:zC("lucide",i),...!l&&!Nq(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,v])=>A.createElement(m,v)),...Array.isArray(l)?l:[l]]));const je=(t,e)=>{const r=A.forwardRef(({className:a,...i},l)=>A.createElement(Oq,{ref:l,iconNode:e,className:zC(`lucide-${Eq(k1(t))}`,`lucide-${t}`,a),...i}));return r.displayName=k1(t),r};const Cq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],M1=je("activity",Cq);const Aq=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],hd=je("building-2",Aq);const Rq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Dq=je("calendar-check",Rq);const kq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tn=je("calendar",kq);const Mq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gn=je("check",Mq);const qq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],IC=je("chevron-down",qq);const Pq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wy=je("chevron-left",Pq);const Lq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ai=je("chevron-right",Lq);const $q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vs=je("circle-alert",$q);const Uq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gy=je("circle-check-big",Uq);const zq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Iq=je("circle-user",zq);const Bq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yy=je("circle-x",Bq);const Hq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Da=je("clock",Hq);const Fq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],BC=je("dollar-sign",Fq);const Gq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],HC=je("eye-off",Gq);const Yq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FC=je("eye",Yq);const Wq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vq=je("file-text",Wq);const Kq=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Xq=je("grip-vertical",Kq);const Qq=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Jq=je("key",Qq);const Zq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Et=je("loader-circle",Zq);const eP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tP=je("lock",eP);const rP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vy=je("log-out",rP);const nP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Rd=je("mail",nP);const aP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sP=je("map-pin",aP);const iP=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ky=je("message-circle",iP);const oP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],GC=je("message-square",oP);const lP=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],YC=je("pen-line",lP);const cP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],WC=je("pen",cP);const uP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],VC=je("pencil",uP);const dP=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],KC=je("phone-call",dP);const fP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Bl=je("phone",fP);const hP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yn=je("plus",hP);const mP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dd=je("refresh-cw",mP);const pP=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Hl=je("scissors",pP);const vP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gs=je("search",vP);const gP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],yP=je("send",gP);const bP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],XC=je("tag",bP);const xP=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],QC=je("ticket",xP);const wP=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],_P=je("toggle-left",wP);const SP=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],EP=je("toggle-right",SP);const jP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ys=je("trash-2",jP);const NP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TP=je("triangle-alert",NP);const OP=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CP=je("user-cog",OP);const AP=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kd=je("user-check",AP);const RP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gn=je("user",RP);const DP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hs=je("users",DP);const kP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jr=je("x",kP);class MP extends A.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",children:h.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-lg border border-slate-200",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[h.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:h.jsx(TP,{className:"h-6 w-6 text-yellow-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Algo sali mal"}),h.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"La aplicacin encontr un error inesperado. Por favor, recarga la pgina o contacta al soporte."}),this.state.error&&h.jsxs("details",{className:"text-xs text-slate-500 mb-4",children:[h.jsx("summary",{className:"cursor-pointer font-medium mb-1",children:"Detalles tcnicos"}),h.jsx("pre",{className:"mt-2 p-2 bg-slate-100 rounded overflow-auto",children:this.state.error.toString()})]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition",children:"Intentar de nuevo"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-300 transition",children:"Recargar pgina"})]})]})}):this.props.children}}const qP="@galia.local";function PP(){const[t,e]=A.useState(""),[r,a]=A.useState(""),[i,l]=A.useState(!1),[c,d]=A.useState(!1),[f,m]=A.useState(null),v=ky(),y=async b=>{b.preventDefault(),d(!0),m(null);const x=t.includes("@")?t:`${t}${qP}`;try{const{data:{user:w},error:_}=await Ne.auth.signInWithPassword({email:x,password:r});if(_){m(_.message==="Invalid login credentials"?"Credenciales invlidas. Por favor verifica tu usuario y contrasea.":_.message),d(!1);return}if(w){const{data:E,error:S}=await Ne.from("profiles").select("role").eq("id",w.id).single();if(S){m("No se pudo cargar tu perfil. Contacta al administrador."),d(!1);return}if(!E){m("Perfil no encontrado. Contacta al administrador."),d(!1);return}switch(E.role){case"superadmin":v("/superadmin");break;case"admin":v("/admin");break;default:v("/staff")}}}catch(w){m("Error inesperado. Por favor intenta de nuevo."),console.error("Login error:",w)}finally{d(!1)}};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-4",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-indigo-900/50 rounded-full opacity-50 blur-3xl"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-900/50 rounded-full opacity-50 blur-3xl"})]}),h.jsxs("div",{className:"relative w-full max-w-md",children:[h.jsxs("div",{className:"bg-slate-800 backdrop-blur-xl rounded-2xl shadow-xl shadow-black/20 border border-slate-700 p-8 sm:p-10",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg shadow-indigo-500/30 mb-4",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"G"})}),h.jsx("h1",{className:"text-2xl font-semibold text-white tracking-tight",children:"Bienvenido"}),h.jsx("p",{className:"text-slate-400 mt-1",children:"Ingresa a tu cuenta para continuar"})]}),f&&h.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[h.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-red-500/20 flex items-center justify-center mt-0.5",children:h.jsx(vs,{className:"h-3.5 w-3.5 text-red-400"})}),h.jsx("p",{className:"text-sm text-red-400 leading-relaxed",children:f})]}),h.jsxs("form",{onSubmit:y,className:"space-y-5",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Usuario"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:h.jsx(gn,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),h.jsx("input",{type:"text",value:t,onChange:b=>e(b.target.value.toLowerCase().trim()),placeholder:"tu_usuario",className:"w-full pl-11 pr-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"username"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Contrasea"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:h.jsx(tP,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),h.jsx("input",{type:i?"text":"password",value:r,onChange:b=>a(b.target.value),placeholder:"",className:"w-full pl-11 pr-12 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"current-password"}),h.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 pr-3.5 flex items-center text-slate-500 hover:text-slate-300 transition-colors",children:i?h.jsx(HC,{className:"h-5 w-5"}):h.jsx(FC,{className:"h-5 w-5"})})]})]}),h.jsx("button",{type:"submit",disabled:c,className:"w-full py-3.5 bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white font-medium rounded-xl shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 focus:ring-4 focus:ring-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2",children:c?h.jsxs(h.Fragment,{children:[h.jsx(Et,{className:"h-5 w-5 animate-spin"}),h.jsx("span",{children:"Ingresando..."})]}):"Iniciar Sesin"})]}),h.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700",children:h.jsxs("p",{className:"text-center text-sm text-slate-400",children:["Problemas para acceder?"," ",h.jsx("a",{href:"#",className:"text-indigo-400 hover:text-indigo-300 font-medium hover:underline",children:"Contacta soporte"})]})})]}),h.jsxs("p",{className:"text-center text-xs text-slate-500 mt-6",children:["GALia Digital  ",new Date().getFullYear()]})]})]})}function wl({size:t="md",text:e}){const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return h.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[h.jsx(Et,{className:`${r[t]} animate-spin text-indigo-600`}),e&&h.jsx("p",{className:"text-sm text-slate-600",children:e})]})}function bs({title:t="Error",message:e,onRetry:r}){return h.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:h.jsx("div",{className:"max-w-md w-full p-6 bg-red-50 border border-red-200 rounded-xl",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(vs,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:t}),h.jsx("p",{className:"text-sm text-red-700 mb-4",children:e}),r&&h.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition",children:[h.jsx(Dd,{className:"h-4 w-4"}),"Reintentar"]})]})]})})})}function Wn(t){"@babel/helpers - typeof";return Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(t)}function LP(t,e){if(Wn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(Wn(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JC(t){var e=LP(t,"string");return Wn(e)=="symbol"?e:e+""}function ds(t,e,r){return(e=JC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function Je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q1(Object(r),!0).forEach(function(a){ds(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Md(t,e){if(t==null)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;r[a]=t[a]}return r}function yn(t,e){if(t==null)return{};var r,a,i=Md(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Ct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P1(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,JC(a.key),a)}}function At(t,e,r){return e&&P1(t.prototype,e),r&&P1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function md(t){return md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},md(t)}function ZC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZC=function(){return!!t})()}function $P(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UP(t,e){if(e&&(Wn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $P(t)}function Xt(t,e,r){return e=md(e),UP(t,ZC()?Reflect.construct(e,r||[],md(t).constructor):e.apply(t,r))}function pd(t,e){return pd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pd(t,e)}function Qt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pd(t,e)}function eA(t){if(Array.isArray(t))return t}function zP(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,i,l,c,d=[],f=!0,m=!1;try{if(l=(r=r.call(t)).next,e!==0)for(;!(f=(a=l.call(r)).done)&&(d.push(a.value),d.length!==e);f=!0);}catch(v){m=!0,i=v}finally{try{if(!f&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw i}}return d}}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function Xy(t,e){if(t){if(typeof t=="string")return by(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?by(t,e):void 0}}function tA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xs(t,e){return eA(t)||zP(t,e)||Xy(t,e)||tA()}function rA(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=rA(t[e]))&&(a&&(a+=" "),a+=r);else for(e in t)t[e]&&(a&&(a+=" "),a+=e);return a}function ct(){for(var t,e,r=0,a="";r<arguments.length;)(t=arguments[r++])&&(e=rA(t))&&(a&&(a+=" "),a+=e);return a}const IP=Object.freeze(Object.defineProperty({__proto__:null,clsx:ct,default:ct},Symbol.toStringTag,{value:"Module"}));function ht(){return ht=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ht.apply(null,arguments)}var Bm,L1;function BP(){if(L1)return Bm;L1=1;var t=function(e,r,a,i,l,c,d,f){if(!e){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[a,i,l,c,d,f],y=0;m=new Error(r.replace(/%s/g,function(){return v[y++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Bm=t,Bm}var HP=BP();const _l=Kt(HP);var FP=function(){};function GP(t,e){var r={};return Object.keys(t).forEach(function(a){r[Fu(a)]=FP}),r}function $1(t,e){return t[e]!==void 0}function Fu(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function YP(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function WP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,pd(t,e)}function nA(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function aA(t){function e(r){var a=this.constructor.getDerivedStateFromProps(t,r);return a??null}this.setState(e.bind(this))}function sA(t,e){try{var r=this.props,a=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}nA.__suppressDeprecationWarning=!0;aA.__suppressDeprecationWarning=!0;sA.__suppressDeprecationWarning=!0;function VP(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,a=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||a!==null||i!==null){var l=t.displayName||t.name,c=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+c+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=nA,e.componentWillReceiveProps=aA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=sA;var d=e.componentDidUpdate;e.componentDidUpdate=function(m,v,y){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;d.call(this,m,v,b)}}return t}var KP="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function iA(t,e,r){r===void 0&&(r=[]);var a=t.displayName||t.name||"Component",i=YP(t),l=Object.keys(e),c=l.map(Fu);i||!r.length||_l(!1);var d=(function(m){WP(v,m);function v(){for(var b,x=arguments.length,w=new Array(x),_=0;_<x;_++)w[_]=arguments[_];b=m.call.apply(m,[this].concat(w))||this,b.handlers=Object.create(null),l.forEach(function(S){var N=e[S],T=function(M){if(b.props[N]){var D;b._notifying=!0;for(var C=arguments.length,L=new Array(C>1?C-1:0),P=1;P<C;P++)L[P-1]=arguments[P];(D=b.props)[N].apply(D,[M].concat(L)),b._notifying=!1}b.unmounted||b.setState(function(R){var q,z=R.values;return{values:ht(Object.create(null),z,(q={},q[S]=M,q))}})};b.handlers[N]=T}),r.length&&(b.attachRef=function(S){b.inner=S});var E=Object.create(null);return l.forEach(function(S){E[S]=b.props[Fu(S)]}),b.state={values:E,prevProps:{}},b}var y=v.prototype;return y.shouldComponentUpdate=function(){return!this._notifying},v.getDerivedStateFromProps=function(x,w){var _=w.values,E=w.prevProps,S={values:ht(Object.create(null),_),prevProps:{}};return l.forEach(function(N){S.prevProps[N]=x[N],!$1(x,N)&&$1(E,N)&&(S.values[N]=x[Fu(N)])}),S},y.componentWillUnmount=function(){this.unmounted=!0},y.render=function(){var x=this,w=this.props,_=w.innerRef,E=Md(w,["innerRef"]);c.forEach(function(N){delete E[N]});var S={};return l.forEach(function(N){var T=x.props[N];S[N]=T!==void 0?T:x.state.values[N]}),Y.createElement(t,ht({},E,S,this.handlers,{ref:_||this.attachRef}))},v})(Y.Component);VP(d),d.displayName="Uncontrolled("+a+")",d.propTypes=ht({innerRef:function(){}},GP(e)),r.forEach(function(m){d.prototype[m]=function(){var y;return(y=this.inner)[m].apply(y,arguments)}});var f=d;return Y.forwardRef&&(f=Y.forwardRef(function(m,v){return Y.createElement(d,ht({},m,{innerRef:v,__source:{fileName:KP,lineNumber:128},__self:this}))}),f.propTypes=d.propTypes),f.ControlledComponent=t,f.deferControlTo=function(m,v,y){return v===void 0&&(v={}),iA(m,ht({},e,v),y)},f}var Hm={exports:{}},Fm,U1;function XP(){if(U1)return Fm;U1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fm=t,Fm}var Gm,z1;function QP(){if(z1)return Gm;z1=1;var t=XP();function e(){}function r(){}return r.resetWarningCache=e,Gm=function(){function a(c,d,f,m,v,y){if(y!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function i(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return l.PropTypes=l,l},Gm}var I1;function Qy(){return I1||(I1=1,Hm.exports=QP()()),Hm.exports}var JP=Qy();const ue=Kt(JP);var vd="milliseconds",Sl="seconds",El="minutes",jl="hours",ws="day",Ri="week",Nl="month",_s="year",Ss="decade",Es="century",oA={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},ZP={month:1,year:12,decade:120,century:1200};function eL(t){return[31,tL(t),31,30,31,30,31,31,30,31,30,31]}function tL(t){return t%4===0&&t%100!==0||t%400===0?29:28}function rn(t,e,r){switch(t=new Date(t),r){case vd:case Sl:case El:case jl:case ws:case Ri:return rL(t,e*oA[r]);case Nl:case _s:case Ss:case Es:return nL(t,e*ZP[r])}throw new TypeError('Invalid units: "'+r+'"')}function rL(t,e){var r=new Date(+t+e);return aL(t,r)}function nL(t,e){var r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),l=r*12+a+e,c=Math.trunc(l/12),d=l%12,f=Math.min(i,eL(c)[d]),m=new Date(t);return m.setFullYear(c),m.setDate(1),m.setMonth(d),m.setDate(f),m}function aL(t,e){var r=t.getTimezoneOffset(),a=e.getTimezoneOffset(),i=a-r;return new Date(+e+i*oA.minutes)}function Tl(t,e,r){return rn(t,-e,r)}function Ft(t,e,r){switch(t=new Date(t),e){case Es:case Ss:case _s:t=yd(t,0);case Nl:t=fA(t,1);case Ri:case ws:t=Al(t,0);case jl:t=Di(t,0);case El:t=Cl(t,0);case Sl:t=Ol(t,0)}return e===Ss&&(t=Tl(t,js(t)%10,"year")),e===Es&&(t=Tl(t,js(t)%100,"year")),e===Ri&&(t=hA(t,0,r)),t}function gd(t,e,r){switch(t=new Date(t),t=Ft(t,e,r),e){case Es:case Ss:case _s:case Nl:case Ri:t=rn(t,1,e),t=Tl(t,1,ws),t.setHours(23,59,59,999);break;case ws:t.setHours(23,59,59,999);break;case jl:case El:case Sl:t=rn(t,1,e),t=Tl(t,1,vd)}return t}var Hi=Gi(function(t,e){return t===e}),Jy=Gi(function(t,e){return t!==e}),qd=Gi(function(t,e){return t>e}),Fl=Gi(function(t,e){return t>=e}),Zy=Gi(function(t,e){return t<e}),Fi=Gi(function(t,e){return t<=e});function lA(){return new Date(Math.min.apply(Math,arguments))}function cA(){return new Date(Math.max.apply(Math,arguments))}function uA(t,e,r,a){return a=a||"day",(!e||Fl(t,e,a))&&(!r||Fi(t,r,a))}var Ol=ka("Milliseconds"),Cl=ka("Seconds"),Di=ka("Minutes"),Al=ka("Hours"),dA=ka("Day"),fA=ka("Date"),yd=ka("Month"),js=ka("FullYear");function sL(t,e){return e===void 0?js(Ft(t,Ss)):rn(t,e+10,_s)}function iL(t,e){return e===void 0?js(Ft(t,Es)):rn(t,e+100,_s)}function hA(t,e,r){var a=(dA(t)+7-(r||0))%7;return e===void 0?a:rn(t,e-a,ws)}function oL(t,e,r,a){var i,l,c;switch(r){case vd:case Sl:case El:case jl:case ws:case Ri:i=e.getTime()-t.getTime();break;case Nl:case _s:case Ss:case Es:i=(js(e)-js(t))*12+yd(e)-yd(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case vd:l=1;break;case Sl:l=1e3;break;case El:l=1e3*60;break;case jl:l=1e3*60*60;break;case ws:l=1e3*60*60*24;break;case Ri:l=1e3*60*60*24*7;break;case Nl:l=1;break;case _s:l=12;break;case Ss:l=120;break;case Es:l=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return c=i/l,a?c:Math.round(c)}function ka(t){var e=(function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(t);return function(r,a){if(a===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](a),e&&i["get"+t]()!=a&&(t==="Hours"||a>=e&&i.getHours()-r.getHours()<Math.floor(a/e))&&i["set"+t](a+e),i}}function Gi(t){return function(e,r,a){return t(+Ft(e,a),+Ft(r,a))}}const B1=Object.freeze(Object.defineProperty({__proto__:null,add:rn,century:iL,date:fA,day:dA,decade:sL,diff:oL,endOf:gd,eq:Hi,gt:qd,gte:Fl,hours:Al,inRange:uA,lt:Zy,lte:Fi,max:cA,milliseconds:Ol,min:lA,minutes:Di,month:yd,neq:Jy,seconds:Cl,startOf:Ft,subtract:Tl,weekday:hA,year:js},Symbol.toStringTag,{value:"Module"}));function lL(t){if(Array.isArray(t))return by(t)}function mA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gu(t){return lL(t)||mA(t)||Xy(t)||cL()}var Ym,H1;function pA(){if(H1)return Ym;H1=1;function t(e,r,a){var i=-1,l=e.length;r<0&&(r=-r>l?0:l+r),a=a>l?l:a,a<0&&(a+=l),l=r>a?0:a-r>>>0,r>>>=0;for(var c=Array(l);++i<l;)c[i]=e[i+r];return c}return Ym=t,Ym}var Wm,F1;function Gl(){if(F1)return Wm;F1=1;function t(e,r){return e===r||e!==e&&r!==r}return Wm=t,Wm}var Vm,G1;function vA(){if(G1)return Vm;G1=1;var t=typeof xu=="object"&&xu&&xu.Object===Object&&xu;return Vm=t,Vm}var Km,Y1;function wn(){if(Y1)return Km;Y1=1;var t=vA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Km=r,Km}var Xm,W1;function Yi(){if(W1)return Xm;W1=1;var t=wn(),e=t.Symbol;return Xm=e,Xm}var Qm,V1;function uL(){if(V1)return Qm;V1=1;var t=Yi(),e=Object.prototype,r=e.hasOwnProperty,a=e.toString,i=t?t.toStringTag:void 0;function l(c){var d=r.call(c,i),f=c[i];try{c[i]=void 0;var m=!0}catch{}var v=a.call(c);return m&&(d?c[i]=f:delete c[i]),v}return Qm=l,Qm}var Jm,K1;function dL(){if(K1)return Jm;K1=1;var t=Object.prototype,e=t.toString;function r(a){return e.call(a)}return Jm=r,Jm}var Zm,X1;function Wi(){if(X1)return Zm;X1=1;var t=Yi(),e=uL(),r=dL(),a="[object Null]",i="[object Undefined]",l=t?t.toStringTag:void 0;function c(d){return d==null?d===void 0?i:a:l&&l in Object(d)?e(d):r(d)}return Zm=c,Zm}var ep,Q1;function Qn(){if(Q1)return ep;Q1=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return ep=t,ep}var tp,J1;function eb(){if(J1)return tp;J1=1;var t=Wi(),e=Qn(),r="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",l="[object Proxy]";function c(d){if(!e(d))return!1;var f=t(d);return f==a||f==i||f==r||f==l}return tp=c,tp}var rp,Z1;function tb(){if(Z1)return rp;Z1=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return rp=e,rp}var np,eE;function Yl(){if(eE)return np;eE=1;var t=eb(),e=tb();function r(a){return a!=null&&e(a.length)&&!t(a)}return np=r,np}var ap,tE;function rb(){if(tE)return ap;tE=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(a,i){var l=typeof a;return i=i??t,!!i&&(l=="number"||l!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return ap=r,ap}var sp,rE;function Pd(){if(rE)return sp;rE=1;var t=Gl(),e=Yl(),r=rb(),a=Qn();function i(l,c,d){if(!a(d))return!1;var f=typeof c;return(f=="number"?e(d)&&r(c,d.length):f=="string"&&c in d)?t(d[c],l):!1}return sp=i,sp}var ip,nE;function fL(){if(nE)return ip;nE=1;var t=/\s/;function e(r){for(var a=r.length;a--&&t.test(r.charAt(a)););return a}return ip=e,ip}var op,aE;function hL(){if(aE)return op;aE=1;var t=fL(),e=/^\s+/;function r(a){return a&&a.slice(0,t(a)+1).replace(e,"")}return op=r,op}var lp,sE;function Ma(){if(sE)return lp;sE=1;function t(e){return e!=null&&typeof e=="object"}return lp=t,lp}var cp,iE;function Wl(){if(iE)return cp;iE=1;var t=Wi(),e=Ma(),r="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&t(i)==r}return cp=a,cp}var up,oE;function mL(){if(oE)return up;oE=1;var t=hL(),e=Qn(),r=Wl(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function f(m){if(typeof m=="number")return m;if(r(m))return a;if(e(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=e(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=t(m);var y=l.test(m);return y||c.test(m)?d(m.slice(2),y?2:8):i.test(m)?a:+m}return up=f,up}var dp,lE;function gA(){if(lE)return dp;lE=1;var t=mL(),e=1/0,r=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var l=i<0?-1:1;return l*r}return i===i?i:0}return dp=a,dp}var fp,cE;function yA(){if(cE)return fp;cE=1;var t=gA();function e(r){var a=t(r),i=a%1;return a===a?i?a-i:a:0}return fp=e,fp}var hp,uE;function pL(){if(uE)return hp;uE=1;var t=pA(),e=Pd(),r=yA(),a=Math.ceil,i=Math.max;function l(c,d,f){(f?e(c,d,f):d===void 0)?d=1:d=i(r(d),0);var m=c==null?0:c.length;if(!m||d<1)return[];for(var v=0,y=0,b=Array(a(m/d));v<m;)b[y++]=t(c,v,v+=d);return b}return hp=l,hp}var vL=pL();const gL=Kt(vL);function qa(t){return t&&t.ownerDocument||document}function nb(t){var e=qa(t);return e&&e.defaultView||window}function ab(t,e){return nb(t).getComputedStyle(t,e)}var yL=/([A-Z])/g;function bA(t){return t.replace(yL,"-$1").toLowerCase()}var bL=/^ms-/;function Ru(t){return bA(t).replace(bL,"-ms-")}var xL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xA(t){return!!(t&&xL.test(t))}function Ht(t,e){var r="",a="";if(typeof e=="string")return t.style.getPropertyValue(Ru(e))||ab(t).getPropertyValue(Ru(e));Object.keys(e).forEach(function(i){var l=e[i];!l&&l!==0?t.style.removeProperty(Ru(i)):xA(i)?a+=i+"("+l+") ":r+=Ru(i)+": "+l+";"}),a&&(r+="transform: "+a+";"),t.style.cssText+=";"+r}function Vn(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const wL=Object.freeze(Object.defineProperty({__proto__:null,default:Vn},Symbol.toStringTag,{value:"Module"}));function wA(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function Ld(t){return"window"in t&&t.window===t?t:wA(t)&&t.defaultView||!1}function _A(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(a,i){var l=Ld(a);if(i===void 0)return l?l[t]:a[e];l?l.scrollTo(l[t],i):a[e]=i}return r}const $d=_A("pageXOffset"),ki=_A("pageYOffset");function en(t){var e=qa(t),r={top:0,left:0,height:0,width:0},a=e&&e.documentElement;return!a||!Vn(a,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+ki(a)-(a.clientTop||0),left:r.left+$d(a)-(a.clientLeft||0),width:r.width,height:r.height}),r}var _L=function(e){return!!e&&"offsetParent"in e};function sb(t){for(var e=qa(t),r=t&&t.offsetParent;_L(r)&&r.nodeName!=="HTML"&&Ht(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var SL=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function Ud(t,e){var r={top:0,left:0},a;if(Ht(t,"position")==="fixed")a=t.getBoundingClientRect();else{var i=e||sb(t);a=en(t),SL(i)!=="html"&&(r=en(i));var l=String(Ht(i,"borderTopWidth")||0);r.top+=parseInt(l,10)-ki(i)||0;var c=String(Ht(i,"borderLeftWidth")||0);r.left+=parseInt(c,10)-$d(i)||0}var d=String(Ht(t,"marginTop")||0),f=String(Ht(t,"marginLeft")||0);return ht({},a,{top:a.top-r.top-(parseInt(d,10)||0),left:a.left-r.left-(parseInt(f,10)||0)})}const ib=!!(typeof window<"u"&&window.document&&window.document.createElement);var dE=new Date().getTime();function EL(t){var e=new Date().getTime(),r=Math.max(0,16-(e-dE)),a=setTimeout(t,r);return dE=e,a}var jL=["","webkit","moz","o","ms"],xy="clearTimeout",wy=EL,fE=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};ib&&jL.some(function(t){var e=fE(t,"request");return e in window&&(xy=fE(t,"cancel"),wy=function(a){return window[e](a)}),!!wy});var Rl=function(e){typeof window[xy]=="function"&&window[xy](e)},Vl=wy,mp;function zd(t,e){if(!mp){var r=document.body,a=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;mp=function(l,c){return a.call(l,c)}}return mp(t,e)}var NL=Function.prototype.bind.call(Function.prototype.call,[].slice);function Id(t,e){return NL(t.querySelectorAll(e))}var _y=!1,Sy=!1;try{var pp={get passive(){return _y=!0},get once(){return Sy=_y=!0}};ib&&(window.addEventListener("test",pp,pp),window.removeEventListener("test",pp,!0))}catch{}function ob(t,e,r,a){if(a&&typeof a!="boolean"&&!Sy){var i=a.once,l=a.capture,c=r;!Sy&&i&&(c=r.__once||function d(f){this.removeEventListener(e,d,l),r.call(this,f)},r.__once=c),t.addEventListener(e,c,_y?a:l)}t.addEventListener(e,r,a)}function TL(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t},[t]),e}function hE(t){const e=TL(t);return A.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function mE(){return A.useState(null)}function OL(){const t=A.useRef(!0),e=A.useRef(()=>t.current);return A.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function CL(t){const e=OL();return[t[0],A.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var dr="top",Br="bottom",Hr="right",fr="left",lb="auto",Kl=[dr,Br,Hr,fr],Mi="start",Dl="end",AL="clippingParents",SA="viewport",Qo="popper",RL="reference",pE=Kl.reduce(function(t,e){return t.concat([e+"-"+Mi,e+"-"+Dl])},[]),cb=[].concat(Kl,[lb]).reduce(function(t,e){return t.concat([e,e+"-"+Mi,e+"-"+Dl])},[]),DL="beforeRead",kL="read",ML="afterRead",qL="beforeMain",PL="main",LL="afterMain",$L="beforeWrite",UL="write",zL="afterWrite",IL=[DL,kL,ML,qL,PL,LL,$L,UL,zL];function pn(t){return t.split("-")[0]}function Nr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ns(t){var e=Nr(t).Element;return t instanceof e||t instanceof Element}function vn(t){var e=Nr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ub(t){if(typeof ShadowRoot>"u")return!1;var e=Nr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ms=Math.max,bd=Math.min,qi=Math.round;function Ey(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function EA(){return!/^((?!chrome|android).)*safari/i.test(Ey())}function Pi(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var a=t.getBoundingClientRect(),i=1,l=1;e&&vn(t)&&(i=t.offsetWidth>0&&qi(a.width)/t.offsetWidth||1,l=t.offsetHeight>0&&qi(a.height)/t.offsetHeight||1);var c=Ns(t)?Nr(t):window,d=c.visualViewport,f=!EA()&&r,m=(a.left+(f&&d?d.offsetLeft:0))/i,v=(a.top+(f&&d?d.offsetTop:0))/l,y=a.width/i,b=a.height/l;return{width:y,height:b,top:v,right:m+y,bottom:v+b,left:m,x:m,y:v}}function db(t){var e=Pi(t),r=t.offsetWidth,a=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:a}}function jA(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&ub(r)){var a=e;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Oa(t){return t?(t.nodeName||"").toLowerCase():null}function Kn(t){return Nr(t).getComputedStyle(t)}function BL(t){return["table","td","th"].indexOf(Oa(t))>=0}function Pa(t){return((Ns(t)?t.ownerDocument:t.document)||window.document).documentElement}function Bd(t){return Oa(t)==="html"?t:t.assignedSlot||t.parentNode||(ub(t)?t.host:null)||Pa(t)}function vE(t){return!vn(t)||Kn(t).position==="fixed"?null:t.offsetParent}function HL(t){var e=/firefox/i.test(Ey()),r=/Trident/i.test(Ey());if(r&&vn(t)){var a=Kn(t);if(a.position==="fixed")return null}var i=Bd(t);for(ub(i)&&(i=i.host);vn(i)&&["html","body"].indexOf(Oa(i))<0;){var l=Kn(i);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return i;i=i.parentNode}return null}function Xl(t){for(var e=Nr(t),r=vE(t);r&&BL(r)&&Kn(r).position==="static";)r=vE(r);return r&&(Oa(r)==="html"||Oa(r)==="body"&&Kn(r).position==="static")?e:r||HL(t)||e}function fb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function vl(t,e,r){return ms(t,bd(e,r))}function FL(t,e,r){var a=vl(t,e,r);return a>r?r:a}function NA(){return{top:0,right:0,bottom:0,left:0}}function TA(t){return Object.assign({},NA(),t)}function OA(t,e){return e.reduce(function(r,a){return r[a]=t,r},{})}var GL=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,TA(typeof e!="number"?e:OA(e,Kl))};function YL(t){var e,r=t.state,a=t.name,i=t.options,l=r.elements.arrow,c=r.modifiersData.popperOffsets,d=pn(r.placement),f=fb(d),m=[fr,Hr].indexOf(d)>=0,v=m?"height":"width";if(!(!l||!c)){var y=GL(i.padding,r),b=db(l),x=f==="y"?dr:fr,w=f==="y"?Br:Hr,_=r.rects.reference[v]+r.rects.reference[f]-c[f]-r.rects.popper[v],E=c[f]-r.rects.reference[f],S=Xl(l),N=S?f==="y"?S.clientHeight||0:S.clientWidth||0:0,T=_/2-E/2,O=y[x],M=N-b[v]-y[w],D=N/2-b[v]/2+T,C=vl(O,D,M),L=f;r.modifiersData[a]=(e={},e[L]=C,e.centerOffset=C-D,e)}}function WL(t){var e=t.state,r=t.options,a=r.element,i=a===void 0?"[data-popper-arrow]":a;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||jA(e.elements.popper,i)&&(e.elements.arrow=i))}const VL={name:"arrow",enabled:!0,phase:"main",fn:YL,effect:WL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Li(t){return t.split("-")[1]}var KL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function XL(t,e){var r=t.x,a=t.y,i=e.devicePixelRatio||1;return{x:qi(r*i)/i||0,y:qi(a*i)/i||0}}function gE(t){var e,r=t.popper,a=t.popperRect,i=t.placement,l=t.variation,c=t.offsets,d=t.position,f=t.gpuAcceleration,m=t.adaptive,v=t.roundOffsets,y=t.isFixed,b=c.x,x=b===void 0?0:b,w=c.y,_=w===void 0?0:w,E=typeof v=="function"?v({x,y:_}):{x,y:_};x=E.x,_=E.y;var S=c.hasOwnProperty("x"),N=c.hasOwnProperty("y"),T=fr,O=dr,M=window;if(m){var D=Xl(r),C="clientHeight",L="clientWidth";if(D===Nr(r)&&(D=Pa(r),Kn(D).position!=="static"&&d==="absolute"&&(C="scrollHeight",L="scrollWidth")),D=D,i===dr||(i===fr||i===Hr)&&l===Dl){O=Br;var P=y&&D===M&&M.visualViewport?M.visualViewport.height:D[C];_-=P-a.height,_*=f?1:-1}if(i===fr||(i===dr||i===Br)&&l===Dl){T=Hr;var R=y&&D===M&&M.visualViewport?M.visualViewport.width:D[L];x-=R-a.width,x*=f?1:-1}}var q=Object.assign({position:d},m&&KL),z=v===!0?XL({x,y:_},Nr(r)):{x,y:_};if(x=z.x,_=z.y,f){var U;return Object.assign({},q,(U={},U[O]=N?"0":"",U[T]=S?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+x+"px, "+_+"px)":"translate3d("+x+"px, "+_+"px, 0)",U))}return Object.assign({},q,(e={},e[O]=N?_+"px":"",e[T]=S?x+"px":"",e.transform="",e))}function QL(t){var e=t.state,r=t.options,a=r.gpuAcceleration,i=a===void 0?!0:a,l=r.adaptive,c=l===void 0?!0:l,d=r.roundOffsets,f=d===void 0?!0:d,m={placement:pn(e.placement),variation:Li(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,gE(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,gE(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const JL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QL,data:{}};var Du={passive:!0};function ZL(t){var e=t.state,r=t.instance,a=t.options,i=a.scroll,l=i===void 0?!0:i,c=a.resize,d=c===void 0?!0:c,f=Nr(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(v){v.addEventListener("scroll",r.update,Du)}),d&&f.addEventListener("resize",r.update,Du),function(){l&&m.forEach(function(v){v.removeEventListener("scroll",r.update,Du)}),d&&f.removeEventListener("resize",r.update,Du)}}const e6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ZL,data:{}};var t6={left:"right",right:"left",bottom:"top",top:"bottom"};function Yu(t){return t.replace(/left|right|bottom|top/g,function(e){return t6[e]})}var r6={start:"end",end:"start"};function yE(t){return t.replace(/start|end/g,function(e){return r6[e]})}function hb(t){var e=Nr(t),r=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:r,scrollTop:a}}function mb(t){return Pi(Pa(t)).left+hb(t).scrollLeft}function n6(t,e){var r=Nr(t),a=Pa(t),i=r.visualViewport,l=a.clientWidth,c=a.clientHeight,d=0,f=0;if(i){l=i.width,c=i.height;var m=EA();(m||!m&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}return{width:l,height:c,x:d+mb(t),y:f}}function a6(t){var e,r=Pa(t),a=hb(t),i=(e=t.ownerDocument)==null?void 0:e.body,l=ms(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=ms(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),d=-a.scrollLeft+mb(t),f=-a.scrollTop;return Kn(i||r).direction==="rtl"&&(d+=ms(r.clientWidth,i?i.clientWidth:0)-l),{width:l,height:c,x:d,y:f}}function pb(t){var e=Kn(t),r=e.overflow,a=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+a)}function CA(t){return["html","body","#document"].indexOf(Oa(t))>=0?t.ownerDocument.body:vn(t)&&pb(t)?t:CA(Bd(t))}function gl(t,e){var r;e===void 0&&(e=[]);var a=CA(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),l=Nr(a),c=i?[l].concat(l.visualViewport||[],pb(a)?a:[]):a,d=e.concat(c);return i?d:d.concat(gl(Bd(c)))}function jy(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function s6(t,e){var r=Pi(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function bE(t,e,r){return e===SA?jy(n6(t,r)):Ns(e)?s6(e,r):jy(a6(Pa(t)))}function i6(t){var e=gl(Bd(t)),r=["absolute","fixed"].indexOf(Kn(t).position)>=0,a=r&&vn(t)?Xl(t):t;return Ns(a)?e.filter(function(i){return Ns(i)&&jA(i,a)&&Oa(i)!=="body"}):[]}function o6(t,e,r,a){var i=e==="clippingParents"?i6(t):[].concat(e),l=[].concat(i,[r]),c=l[0],d=l.reduce(function(f,m){var v=bE(t,m,a);return f.top=ms(v.top,f.top),f.right=bd(v.right,f.right),f.bottom=bd(v.bottom,f.bottom),f.left=ms(v.left,f.left),f},bE(t,c,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function AA(t){var e=t.reference,r=t.element,a=t.placement,i=a?pn(a):null,l=a?Li(a):null,c=e.x+e.width/2-r.width/2,d=e.y+e.height/2-r.height/2,f;switch(i){case dr:f={x:c,y:e.y-r.height};break;case Br:f={x:c,y:e.y+e.height};break;case Hr:f={x:e.x+e.width,y:d};break;case fr:f={x:e.x-r.width,y:d};break;default:f={x:e.x,y:e.y}}var m=i?fb(i):null;if(m!=null){var v=m==="y"?"height":"width";switch(l){case Mi:f[m]=f[m]-(e[v]/2-r[v]/2);break;case Dl:f[m]=f[m]+(e[v]/2-r[v]/2);break}}return f}function kl(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=a===void 0?t.placement:a,l=r.strategy,c=l===void 0?t.strategy:l,d=r.boundary,f=d===void 0?AL:d,m=r.rootBoundary,v=m===void 0?SA:m,y=r.elementContext,b=y===void 0?Qo:y,x=r.altBoundary,w=x===void 0?!1:x,_=r.padding,E=_===void 0?0:_,S=TA(typeof E!="number"?E:OA(E,Kl)),N=b===Qo?RL:Qo,T=t.rects.popper,O=t.elements[w?N:b],M=o6(Ns(O)?O:O.contextElement||Pa(t.elements.popper),f,v,c),D=Pi(t.elements.reference),C=AA({reference:D,element:T,placement:i}),L=jy(Object.assign({},T,C)),P=b===Qo?L:D,R={top:M.top-P.top+S.top,bottom:P.bottom-M.bottom+S.bottom,left:M.left-P.left+S.left,right:P.right-M.right+S.right},q=t.modifiersData.offset;if(b===Qo&&q){var z=q[i];Object.keys(R).forEach(function(U){var W=[Hr,Br].indexOf(U)>=0?1:-1,Z=[dr,Br].indexOf(U)>=0?"y":"x";R[U]+=z[Z]*W})}return R}function l6(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=r.boundary,l=r.rootBoundary,c=r.padding,d=r.flipVariations,f=r.allowedAutoPlacements,m=f===void 0?cb:f,v=Li(a),y=v?d?pE:pE.filter(function(w){return Li(w)===v}):Kl,b=y.filter(function(w){return m.indexOf(w)>=0});b.length===0&&(b=y);var x=b.reduce(function(w,_){return w[_]=kl(t,{placement:_,boundary:i,rootBoundary:l,padding:c})[pn(_)],w},{});return Object.keys(x).sort(function(w,_){return x[w]-x[_]})}function c6(t){if(pn(t)===lb)return[];var e=Yu(t);return[yE(t),e,yE(e)]}function u6(t){var e=t.state,r=t.options,a=t.name;if(!e.modifiersData[a]._skip){for(var i=r.mainAxis,l=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!0:c,f=r.fallbackPlacements,m=r.padding,v=r.boundary,y=r.rootBoundary,b=r.altBoundary,x=r.flipVariations,w=x===void 0?!0:x,_=r.allowedAutoPlacements,E=e.options.placement,S=pn(E),N=S===E,T=f||(N||!w?[Yu(E)]:c6(E)),O=[E].concat(T).reduce(function(de,he){return de.concat(pn(he)===lb?l6(e,{placement:he,boundary:v,rootBoundary:y,padding:m,flipVariations:w,allowedAutoPlacements:_}):he)},[]),M=e.rects.reference,D=e.rects.popper,C=new Map,L=!0,P=O[0],R=0;R<O.length;R++){var q=O[R],z=pn(q),U=Li(q)===Mi,W=[dr,Br].indexOf(z)>=0,Z=W?"width":"height",H=kl(e,{placement:q,boundary:v,rootBoundary:y,altBoundary:b,padding:m}),B=W?U?Hr:fr:U?Br:dr;M[Z]>D[Z]&&(B=Yu(B));var te=Yu(B),le=[];if(l&&le.push(H[z]<=0),d&&le.push(H[B]<=0,H[te]<=0),le.every(function(de){return de})){P=q,L=!1;break}C.set(q,le)}if(L)for(var V=w?3:1,$=function(he){var fe=O.find(function(Ee){var De=C.get(Ee);if(De)return De.slice(0,he).every(function(Me){return Me})});if(fe)return P=fe,"break"},Q=V;Q>0;Q--){var oe=$(Q);if(oe==="break")break}e.placement!==P&&(e.modifiersData[a]._skip=!0,e.placement=P,e.reset=!0)}}const d6={name:"flip",enabled:!0,phase:"main",fn:u6,requiresIfExists:["offset"],data:{_skip:!1}};function xE(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function wE(t){return[dr,Hr,Br,fr].some(function(e){return t[e]>=0})}function f6(t){var e=t.state,r=t.name,a=e.rects.reference,i=e.rects.popper,l=e.modifiersData.preventOverflow,c=kl(e,{elementContext:"reference"}),d=kl(e,{altBoundary:!0}),f=xE(c,a),m=xE(d,i,l),v=wE(f),y=wE(m);e.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:m,isReferenceHidden:v,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":y})}const h6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:f6};function m6(t,e,r){var a=pn(t),i=[fr,dr].indexOf(a)>=0?-1:1,l=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,c=l[0],d=l[1];return c=c||0,d=(d||0)*i,[fr,Hr].indexOf(a)>=0?{x:d,y:c}:{x:c,y:d}}function p6(t){var e=t.state,r=t.options,a=t.name,i=r.offset,l=i===void 0?[0,0]:i,c=cb.reduce(function(v,y){return v[y]=m6(y,e.rects,l),v},{}),d=c[e.placement],f=d.x,m=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=m),e.modifiersData[a]=c}const v6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:p6};function g6(t){var e=t.state,r=t.name;e.modifiersData[r]=AA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const y6={name:"popperOffsets",enabled:!0,phase:"read",fn:g6,data:{}};function b6(t){return t==="x"?"y":"x"}function x6(t){var e=t.state,r=t.options,a=t.name,i=r.mainAxis,l=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!1:c,f=r.boundary,m=r.rootBoundary,v=r.altBoundary,y=r.padding,b=r.tether,x=b===void 0?!0:b,w=r.tetherOffset,_=w===void 0?0:w,E=kl(e,{boundary:f,rootBoundary:m,padding:y,altBoundary:v}),S=pn(e.placement),N=Li(e.placement),T=!N,O=fb(S),M=b6(O),D=e.modifiersData.popperOffsets,C=e.rects.reference,L=e.rects.popper,P=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,R=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(D){if(l){var U,W=O==="y"?dr:fr,Z=O==="y"?Br:Hr,H=O==="y"?"height":"width",B=D[O],te=B+E[W],le=B-E[Z],V=x?-L[H]/2:0,$=N===Mi?C[H]:L[H],Q=N===Mi?-L[H]:-C[H],oe=e.elements.arrow,de=x&&oe?db(oe):{width:0,height:0},he=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:NA(),fe=he[W],Ee=he[Z],De=vl(0,C[H],de[H]),Me=T?C[H]/2-V-De-fe-R.mainAxis:$-De-fe-R.mainAxis,jt=T?-C[H]/2+V+De+Ee+R.mainAxis:Q+De+Ee+R.mainAxis,Rt=e.elements.arrow&&Xl(e.elements.arrow),mr=Rt?O==="y"?Rt.clientTop||0:Rt.clientLeft||0:0,Gt=(U=q?.[O])!=null?U:0,gt=B+Me-Gt-mr,ke=B+jt-Gt,qt=vl(x?bd(te,gt):te,B,x?ms(le,ke):le);D[O]=qt,z[O]=qt-B}if(d){var Ce,ae=O==="x"?dr:fr,ye=O==="x"?Br:Hr,we=D[M],We=M==="y"?"height":"width",st=we+E[ae],ut=we-E[ye],ce=[dr,fr].indexOf(S)!==-1,ne=(Ce=q?.[M])!=null?Ce:0,be=ce?st:we-C[We]-L[We]-ne+R.altAxis,Re=ce?we+C[We]+L[We]-ne-R.altAxis:ut,He=x&&ce?FL(be,we,Re):vl(x?be:st,we,x?Re:ut);D[M]=He,z[M]=He-we}e.modifiersData[a]=z}}const w6={name:"preventOverflow",enabled:!0,phase:"main",fn:x6,requiresIfExists:["offset"]};function _6(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function S6(t){return t===Nr(t)||!vn(t)?hb(t):_6(t)}function E6(t){var e=t.getBoundingClientRect(),r=qi(e.width)/t.offsetWidth||1,a=qi(e.height)/t.offsetHeight||1;return r!==1||a!==1}function j6(t,e,r){r===void 0&&(r=!1);var a=vn(e),i=vn(e)&&E6(e),l=Pa(e),c=Pi(t,i,r),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(a||!a&&!r)&&((Oa(e)!=="body"||pb(l))&&(d=S6(e)),vn(e)?(f=Pi(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):l&&(f.x=mb(l))),{x:c.left+d.scrollLeft-f.x,y:c.top+d.scrollTop-f.y,width:c.width,height:c.height}}function N6(t){var e=new Map,r=new Set,a=[];t.forEach(function(l){e.set(l.name,l)});function i(l){r.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(d){if(!r.has(d)){var f=e.get(d);f&&i(f)}}),a.push(l)}return t.forEach(function(l){r.has(l.name)||i(l)}),a}function T6(t){var e=N6(t);return IL.reduce(function(r,a){return r.concat(e.filter(function(i){return i.phase===a}))},[])}function O6(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function C6(t){var e=t.reduce(function(r,a){var i=r[a.name];return r[a.name]=i?Object.assign({},i,a,{options:Object.assign({},i.options,a.options),data:Object.assign({},i.data,a.data)}):a,r},{});return Object.keys(e).map(function(r){return e[r]})}var _E={placement:"bottom",modifiers:[],strategy:"absolute"};function SE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function A6(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,a=r===void 0?[]:r,i=e.defaultOptions,l=i===void 0?_E:i;return function(d,f,m){m===void 0&&(m=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},_E,l),modifiersData:{},elements:{reference:d,popper:f},attributes:{},styles:{}},y=[],b=!1,x={state:v,setOptions:function(S){var N=typeof S=="function"?S(v.options):S;_(),v.options=Object.assign({},l,v.options,N),v.scrollParents={reference:Ns(d)?gl(d):d.contextElement?gl(d.contextElement):[],popper:gl(f)};var T=T6(C6([].concat(a,v.options.modifiers)));return v.orderedModifiers=T.filter(function(O){return O.enabled}),w(),x.update()},forceUpdate:function(){if(!b){var S=v.elements,N=S.reference,T=S.popper;if(SE(N,T)){v.rects={reference:j6(N,Xl(T),v.options.strategy==="fixed"),popper:db(T)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(R){return v.modifiersData[R.name]=Object.assign({},R.data)});for(var O=0;O<v.orderedModifiers.length;O++){if(v.reset===!0){v.reset=!1,O=-1;continue}var M=v.orderedModifiers[O],D=M.fn,C=M.options,L=C===void 0?{}:C,P=M.name;typeof D=="function"&&(v=D({state:v,options:L,name:P,instance:x})||v)}}}},update:O6(function(){return new Promise(function(E){x.forceUpdate(),E(v)})}),destroy:function(){_(),b=!0}};if(!SE(d,f))return x;x.setOptions(m).then(function(E){!b&&m.onFirstUpdate&&m.onFirstUpdate(E)});function w(){v.orderedModifiers.forEach(function(E){var S=E.name,N=E.options,T=N===void 0?{}:N,O=E.effect;if(typeof O=="function"){var M=O({state:v,name:S,instance:x,options:T}),D=function(){};y.push(M||D)}})}function _(){y.forEach(function(E){return E()}),y=[]}return x}}var R6=A6({defaultModifiers:[h6,y6,JL,e6,v6,d6,w6,VL]}),EE=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},D6={name:"applyStyles",enabled:!1},k6={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var a=r.elements,i=a.reference,l=a.popper;if("removeAttribute"in i){var c=(i.getAttribute("aria-describedby")||"").split(",").filter(function(d){return d.trim()!==l.id});c.length?i.setAttribute("aria-describedby",c.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,a=e.state,i=a.elements,l=i.popper,c=i.reference,d=(r=l.getAttribute("role"))==null?void 0:r.toLowerCase();if(l.id&&d==="tooltip"&&"setAttribute"in c){var f=c.getAttribute("aria-describedby");if(f&&f.split(",").indexOf(l.id)!==-1)return;c.setAttribute("aria-describedby",f?f+","+l.id:l.id)}}},M6=[];function q6(t,e,r){var a=r===void 0?{}:r,i=a.enabled,l=i===void 0?!0:i,c=a.placement,d=c===void 0?"bottom":c,f=a.strategy,m=f===void 0?"absolute":f,v=a.modifiers,y=v===void 0?M6:v,b=Md(a,["enabled","placement","strategy","modifiers"]),x=A.useRef(),w=A.useCallback(function(){var O;(O=x.current)==null||O.update()},[]),_=A.useCallback(function(){var O;(O=x.current)==null||O.forceUpdate()},[]),E=CL(A.useState({placement:d,update:w,forceUpdate:_,attributes:{},styles:{popper:EE(m),arrow:{}}})),S=E[0],N=E[1],T=A.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(M){var D=M.state,C={},L={};Object.keys(D.elements).forEach(function(P){C[P]=D.styles[P],L[P]=D.attributes[P]}),N({state:D,styles:C,attributes:L,update:w,forceUpdate:_,placement:D.placement})}}},[w,_,N]);return A.useEffect(function(){!x.current||!l||x.current.setOptions({placement:d,strategy:m,modifiers:[].concat(y,[T,D6])})},[m,d,T,l]),A.useEffect(function(){if(!(!l||t==null||e==null))return x.current=R6(t,e,ht({},b,{placement:d,strategy:m,modifiers:[].concat(y,[k6,T])})),function(){x.current!=null&&(x.current.destroy(),x.current=void 0,N(function(O){return ht({},O,{attributes:{},styles:{popper:EE(m)}})}))}},[l,t,e]),S}function vb(t,e,r,a){var i=a&&typeof a!="boolean"?a.capture:a;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function mn(t,e,r,a){return ob(t,e,r,a),function(){vb(t,e,r,a)}}const P6=Object.freeze(Object.defineProperty({__proto__:null,default:mn},Symbol.toStringTag,{value:"Module"}));var vp,jE;function L6(){if(jE)return vp;jE=1;var t=function(){};return vp=t,vp}var $6=L6();const U6=Kt($6);function z6(t){return t&&"setState"in t?_2.findDOMNode(t):t??null}const I6=(function(t){return qa(z6(t))});var B6=27,NE=function(){};function H6(t){return t.button===0}function F6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var TE=function(e){return e&&("current"in e?e.current:e)};function G6(t,e,r){var a=r===void 0?{}:r,i=a.disabled,l=a.clickTrigger,c=l===void 0?"click":l,d=A.useRef(!1),f=e||NE,m=A.useCallback(function(b){var x,w=TE(t);U6(!!w,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),d.current=!w||F6(b)||!H6(b)||!!Vn(w,(x=b.composedPath==null?void 0:b.composedPath()[0])!=null?x:b.target)},[t]),v=hE(function(b){d.current||f(b)}),y=hE(function(b){b.keyCode===B6&&f(b)});A.useEffect(function(){if(!(i||t==null)){var b=window.event,x=I6(TE(t)),w=mn(x,c,m,!0),_=mn(x,c,function(N){if(N===b){b=void 0;return}v(N)}),E=mn(x,"keyup",function(N){if(N===b){b=void 0;return}y(N)}),S=[];return"ontouchstart"in x.documentElement&&(S=[].slice.call(x.body.children).map(function(N){return mn(N,"mousemove",NE)})),function(){w(),_(),E(),S.forEach(function(N){return N()})}}},[t,i,c,m,v,y])}function Y6(t){var e={};return Array.isArray(t)?(t?.forEach(function(r){e[r.name]=r}),e):t||e}function W6(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function V6(t){var e,r,a,i,l=t.enabled,c=t.enableEvents,d=t.placement,f=t.flip,m=t.offset,v=t.fixed,y=t.containerPadding,b=t.arrowElement,x=t.popperConfig,w=x===void 0?{}:x,_=Y6(w.modifiers);return ht({},w,{placement:d,enabled:l,strategy:v?"fixed":w.strategy,modifiers:W6(ht({},_,{eventListeners:{enabled:c},preventOverflow:ht({},_.preventOverflow,{options:y?ht({padding:y},(e=_.preventOverflow)==null?void 0:e.options):(r=_.preventOverflow)==null?void 0:r.options}),offset:{options:ht({offset:m},(a=_.offset)==null?void 0:a.options)},arrow:ht({},_.arrow,{enabled:!!b,options:ht({},(i=_.arrow)==null?void 0:i.options,{element:b})}),flip:ht({enabled:!!f},_.flip)}))})}function RA(t){t===void 0&&(t=qa());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Hd(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Fd(t,e){t.classList?t.classList.add(e):Hd(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function OE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Gd(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=OE(t.className,e):t.setAttribute("class",OE(t.className&&t.className.baseVal||"",e))}var ku;function Ql(t){if((!ku&&ku!==0||t)&&ib){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),ku=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return ku}var gp=function(e){var r;return typeof document>"u"?null:e==null?qa().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function CE(t,e){var r=A.useState(function(){return gp(t)}),a=r[0],i=r[1];if(!a){var l=gp(t);l&&i(l)}return A.useEffect(function(){},[e,a]),A.useEffect(function(){var c=gp(t);c!==a&&i(c)},[t,a]),a}const AE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function K6(t,e){const r=AE(t),a=AE(e);return i=>{r&&r(i),a&&a(i)}}function X6(t,e){return A.useMemo(()=>K6(t,e),[t,e])}var gb=Y.forwardRef(function(t,e){var r=t.flip,a=t.offset,i=t.placement,l=t.containerPadding,c=l===void 0?5:l,d=t.popperConfig,f=d===void 0?{}:d,m=t.transition,v=mE(),y=v[0],b=v[1],x=mE(),w=x[0],_=x[1],E=X6(b,e),S=CE(t.container),N=CE(t.target),T=A.useState(!t.show),O=T[0],M=T[1],D=q6(N,y,V6({placement:i,enableEvents:!!t.show,containerPadding:c||5,flip:r,offset:a,arrowElement:w,popperConfig:f})),C=D.styles,L=D.attributes,P=Md(D,["styles","attributes"]);t.show?O&&M(!1):!t.transition&&!O&&M(!0);var R=function(){M(!0),t.onExited&&t.onExited.apply(t,arguments)},q=t.show||m&&!O;if(G6(y,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!q)return null;var z=t.children(ht({},P,{show:!!t.show,props:ht({},L.popper,{style:C.popper,ref:E}),arrowProps:ht({},L.arrow,{style:C.arrow,ref:_})}));if(m){var U=t.onExit,W=t.onExiting,Z=t.onEnter,H=t.onEntering,B=t.onEntered;z=Y.createElement(m,{in:t.show,appear:!0,onExit:U,onExiting:W,onExited:R,onEnter:Z,onEntering:H,onEntered:B},z)}return S?_2.createPortal(z,S):null});gb.displayName="Overlay";gb.propTypes={show:ue.bool,placement:ue.oneOf(cb),target:ue.any,container:ue.any,flip:ue.bool,children:ue.func.isRequired,containerPadding:ue.number,popperConfig:ue.object,rootClose:ue.bool,rootCloseEvent:ue.oneOf(["click","mousedown"]),rootCloseDisabled:ue.bool,onHide:function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(e.rootClose){var l;return(l=ue.func).isRequired.apply(l,[e].concat(a))}return ue.func.apply(ue,[e].concat(a))},transition:ue.elementType,onEnter:ue.func,onEntering:ue.func,onEntered:ue.func,onExit:ue.func,onExiting:ue.func,onExited:ue.func};var yp,RE;function Q6(){if(RE)return yp;RE=1;function t(){this.__data__=[],this.size=0}return yp=t,yp}var bp,DE;function Yd(){if(DE)return bp;DE=1;var t=Gl();function e(r,a){for(var i=r.length;i--;)if(t(r[i][0],a))return i;return-1}return bp=e,bp}var xp,kE;function J6(){if(kE)return xp;kE=1;var t=Yd(),e=Array.prototype,r=e.splice;function a(i){var l=this.__data__,c=t(l,i);if(c<0)return!1;var d=l.length-1;return c==d?l.pop():r.call(l,c,1),--this.size,!0}return xp=a,xp}var wp,ME;function Z6(){if(ME)return wp;ME=1;var t=Yd();function e(r){var a=this.__data__,i=t(a,r);return i<0?void 0:a[i][1]}return wp=e,wp}var _p,qE;function e$(){if(qE)return _p;qE=1;var t=Yd();function e(r){return t(this.__data__,r)>-1}return _p=e,_p}var Sp,PE;function t$(){if(PE)return Sp;PE=1;var t=Yd();function e(r,a){var i=this.__data__,l=t(i,r);return l<0?(++this.size,i.push([r,a])):i[l][1]=a,this}return Sp=e,Sp}var Ep,LE;function Wd(){if(LE)return Ep;LE=1;var t=Q6(),e=J6(),r=Z6(),a=e$(),i=t$();function l(c){var d=-1,f=c==null?0:c.length;for(this.clear();++d<f;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Ep=l,Ep}var jp,$E;function r$(){if($E)return jp;$E=1;var t=Wd();function e(){this.__data__=new t,this.size=0}return jp=e,jp}var Np,UE;function n$(){if(UE)return Np;UE=1;function t(e){var r=this.__data__,a=r.delete(e);return this.size=r.size,a}return Np=t,Np}var Tp,zE;function a$(){if(zE)return Tp;zE=1;function t(e){return this.__data__.get(e)}return Tp=t,Tp}var Op,IE;function s$(){if(IE)return Op;IE=1;function t(e){return this.__data__.has(e)}return Op=t,Op}var Cp,BE;function i$(){if(BE)return Cp;BE=1;var t=wn(),e=t["__core-js_shared__"];return Cp=e,Cp}var Ap,HE;function o$(){if(HE)return Ap;HE=1;var t=i$(),e=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!e&&e in a}return Ap=r,Ap}var Rp,FE;function DA(){if(FE)return Rp;FE=1;var t=Function.prototype,e=t.toString;function r(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return Rp=r,Rp}var Dp,GE;function l$(){if(GE)return Dp;GE=1;var t=eb(),e=o$(),r=Qn(),a=DA(),i=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,f=c.toString,m=d.hasOwnProperty,v=RegExp("^"+f.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(b){if(!r(b)||e(b))return!1;var x=t(b)?v:l;return x.test(a(b))}return Dp=y,Dp}var kp,YE;function c$(){if(YE)return kp;YE=1;function t(e,r){return e?.[r]}return kp=t,kp}var Mp,WE;function Cs(){if(WE)return Mp;WE=1;var t=l$(),e=c$();function r(a,i){var l=e(a,i);return t(l)?l:void 0}return Mp=r,Mp}var qp,VE;function yb(){if(VE)return qp;VE=1;var t=Cs(),e=wn(),r=t(e,"Map");return qp=r,qp}var Pp,KE;function Vd(){if(KE)return Pp;KE=1;var t=Cs(),e=t(Object,"create");return Pp=e,Pp}var Lp,XE;function u$(){if(XE)return Lp;XE=1;var t=Vd();function e(){this.__data__=t?t(null):{},this.size=0}return Lp=e,Lp}var $p,QE;function d$(){if(QE)return $p;QE=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return $p=t,$p}var Up,JE;function f$(){if(JE)return Up;JE=1;var t=Vd(),e="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function i(l){var c=this.__data__;if(t){var d=c[l];return d===e?void 0:d}return a.call(c,l)?c[l]:void 0}return Up=i,Up}var zp,ZE;function h$(){if(ZE)return zp;ZE=1;var t=Vd(),e=Object.prototype,r=e.hasOwnProperty;function a(i){var l=this.__data__;return t?l[i]!==void 0:r.call(l,i)}return zp=a,zp}var Ip,ej;function m$(){if(ej)return Ip;ej=1;var t=Vd(),e="__lodash_hash_undefined__";function r(a,i){var l=this.__data__;return this.size+=this.has(a)?0:1,l[a]=t&&i===void 0?e:i,this}return Ip=r,Ip}var Bp,tj;function p$(){if(tj)return Bp;tj=1;var t=u$(),e=d$(),r=f$(),a=h$(),i=m$();function l(c){var d=-1,f=c==null?0:c.length;for(this.clear();++d<f;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Bp=l,Bp}var Hp,rj;function v$(){if(rj)return Hp;rj=1;var t=p$(),e=Wd(),r=yb();function a(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Hp=a,Hp}var Fp,nj;function g$(){if(nj)return Fp;nj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Fp=t,Fp}var Gp,aj;function Kd(){if(aj)return Gp;aj=1;var t=g$();function e(r,a){var i=r.__data__;return t(a)?i[typeof a=="string"?"string":"hash"]:i.map}return Gp=e,Gp}var Yp,sj;function y$(){if(sj)return Yp;sj=1;var t=Kd();function e(r){var a=t(this,r).delete(r);return this.size-=a?1:0,a}return Yp=e,Yp}var Wp,ij;function b$(){if(ij)return Wp;ij=1;var t=Kd();function e(r){return t(this,r).get(r)}return Wp=e,Wp}var Vp,oj;function x$(){if(oj)return Vp;oj=1;var t=Kd();function e(r){return t(this,r).has(r)}return Vp=e,Vp}var Kp,lj;function w$(){if(lj)return Kp;lj=1;var t=Kd();function e(r,a){var i=t(this,r),l=i.size;return i.set(r,a),this.size+=i.size==l?0:1,this}return Kp=e,Kp}var Xp,cj;function bb(){if(cj)return Xp;cj=1;var t=v$(),e=y$(),r=b$(),a=x$(),i=w$();function l(c){var d=-1,f=c==null?0:c.length;for(this.clear();++d<f;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Xp=l,Xp}var Qp,uj;function _$(){if(uj)return Qp;uj=1;var t=Wd(),e=yb(),r=bb(),a=200;function i(l,c){var d=this.__data__;if(d instanceof t){var f=d.__data__;if(!e||f.length<a-1)return f.push([l,c]),this.size=++d.size,this;d=this.__data__=new r(f)}return d.set(l,c),this.size=d.size,this}return Qp=i,Qp}var Jp,dj;function xb(){if(dj)return Jp;dj=1;var t=Wd(),e=r$(),r=n$(),a=a$(),i=s$(),l=_$();function c(d){var f=this.__data__=new t(d);this.size=f.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=i,c.prototype.set=l,Jp=c,Jp}var Zp,fj;function S$(){if(fj)return Zp;fj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Zp=e,Zp}var ev,hj;function E$(){if(hj)return ev;hj=1;function t(e){return this.__data__.has(e)}return ev=t,ev}var tv,mj;function j$(){if(mj)return tv;mj=1;var t=bb(),e=S$(),r=E$();function a(i){var l=-1,c=i==null?0:i.length;for(this.__data__=new t;++l<c;)this.add(i[l])}return a.prototype.add=a.prototype.push=e,a.prototype.has=r,tv=a,tv}var rv,pj;function N$(){if(pj)return rv;pj=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(e[a],a,e))return!0;return!1}return rv=t,rv}var nv,vj;function T$(){if(vj)return nv;vj=1;function t(e,r){return e.has(r)}return nv=t,nv}var av,gj;function kA(){if(gj)return av;gj=1;var t=j$(),e=N$(),r=T$(),a=1,i=2;function l(c,d,f,m,v,y){var b=f&a,x=c.length,w=d.length;if(x!=w&&!(b&&w>x))return!1;var _=y.get(c),E=y.get(d);if(_&&E)return _==d&&E==c;var S=-1,N=!0,T=f&i?new t:void 0;for(y.set(c,d),y.set(d,c);++S<x;){var O=c[S],M=d[S];if(m)var D=b?m(M,O,S,d,c,y):m(O,M,S,c,d,y);if(D!==void 0){if(D)continue;N=!1;break}if(T){if(!e(d,function(C,L){if(!r(T,L)&&(O===C||v(O,C,f,m,y)))return T.push(L)})){N=!1;break}}else if(!(O===M||v(O,M,f,m,y))){N=!1;break}}return y.delete(c),y.delete(d),N}return av=l,av}var sv,yj;function MA(){if(yj)return sv;yj=1;var t=wn(),e=t.Uint8Array;return sv=e,sv}var iv,bj;function O$(){if(bj)return iv;bj=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i,l){a[++r]=[l,i]}),a}return iv=t,iv}var ov,xj;function C$(){if(xj)return ov;xj=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i){a[++r]=i}),a}return ov=t,ov}var lv,wj;function A$(){if(wj)return lv;wj=1;var t=Yi(),e=MA(),r=Gl(),a=kA(),i=O$(),l=C$(),c=1,d=2,f="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Map]",b="[object Number]",x="[object RegExp]",w="[object Set]",_="[object String]",E="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",T=t?t.prototype:void 0,O=T?T.valueOf:void 0;function M(D,C,L,P,R,q,z){switch(L){case N:if(D.byteLength!=C.byteLength||D.byteOffset!=C.byteOffset)return!1;D=D.buffer,C=C.buffer;case S:return!(D.byteLength!=C.byteLength||!q(new e(D),new e(C)));case f:case m:case b:return r(+D,+C);case v:return D.name==C.name&&D.message==C.message;case x:case _:return D==C+"";case y:var U=i;case w:var W=P&c;if(U||(U=l),D.size!=C.size&&!W)return!1;var Z=z.get(D);if(Z)return Z==C;P|=d,z.set(D,C);var H=a(U(D),U(C),P,R,q,z);return z.delete(D),H;case E:if(O)return O.call(D)==O.call(C)}return!1}return lv=M,lv}var cv,_j;function wb(){if(_j)return cv;_j=1;function t(e,r){for(var a=-1,i=r.length,l=e.length;++a<i;)e[l+a]=r[a];return e}return cv=t,cv}var uv,Sj;function Yr(){if(Sj)return uv;Sj=1;var t=Array.isArray;return uv=t,uv}var dv,Ej;function qA(){if(Ej)return dv;Ej=1;var t=wb(),e=Yr();function r(a,i,l){var c=i(a);return e(a)?c:t(c,l(a))}return dv=r,dv}var fv,jj;function R$(){if(jj)return fv;jj=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=0,c=[];++a<i;){var d=e[a];r(d,a,e)&&(c[l++]=d)}return c}return fv=t,fv}var hv,Nj;function PA(){if(Nj)return hv;Nj=1;function t(){return[]}return hv=t,hv}var mv,Tj;function _b(){if(Tj)return mv;Tj=1;var t=R$(),e=PA(),r=Object.prototype,a=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,l=i?function(c){return c==null?[]:(c=Object(c),t(i(c),function(d){return a.call(c,d)}))}:e;return mv=l,mv}var pv,Oj;function D$(){if(Oj)return pv;Oj=1;function t(e,r){for(var a=-1,i=Array(e);++a<e;)i[a]=r(a);return i}return pv=t,pv}var vv,Cj;function k$(){if(Cj)return vv;Cj=1;var t=Wi(),e=Ma(),r="[object Arguments]";function a(i){return e(i)&&t(i)==r}return vv=a,vv}var gv,Aj;function Sb(){if(Aj)return gv;Aj=1;var t=k$(),e=Ma(),r=Object.prototype,a=r.hasOwnProperty,i=r.propertyIsEnumerable,l=t((function(){return arguments})())?t:function(c){return e(c)&&a.call(c,"callee")&&!i.call(c,"callee")};return gv=l,gv}var hl={exports:{}},yv,Rj;function M$(){if(Rj)return yv;Rj=1;function t(){return!1}return yv=t,yv}hl.exports;var Dj;function Xd(){return Dj||(Dj=1,(function(t,e){var r=wn(),a=M$(),i=e&&!e.nodeType&&e,l=i&&!0&&t&&!t.nodeType&&t,c=l&&l.exports===i,d=c?r.Buffer:void 0,f=d?d.isBuffer:void 0,m=f||a;t.exports=m})(hl,hl.exports)),hl.exports}var bv,kj;function q$(){if(kj)return bv;kj=1;var t=Wi(),e=tb(),r=Ma(),a="[object Arguments]",i="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",f="[object Function]",m="[object Map]",v="[object Number]",y="[object Object]",b="[object RegExp]",x="[object Set]",w="[object String]",_="[object WeakMap]",E="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",C="[object Uint8Array]",L="[object Uint8ClampedArray]",P="[object Uint16Array]",R="[object Uint32Array]",q={};q[N]=q[T]=q[O]=q[M]=q[D]=q[C]=q[L]=q[P]=q[R]=!0,q[a]=q[i]=q[E]=q[l]=q[S]=q[c]=q[d]=q[f]=q[m]=q[v]=q[y]=q[b]=q[x]=q[w]=q[_]=!1;function z(U){return r(U)&&e(U.length)&&!!q[t(U)]}return bv=z,bv}var xv,Mj;function Qd(){if(Mj)return xv;Mj=1;function t(e){return function(r){return e(r)}}return xv=t,xv}var ml={exports:{}};ml.exports;var qj;function Eb(){return qj||(qj=1,(function(t,e){var r=vA(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l&&r.process,d=(function(){try{var f=i&&i.require&&i.require("util").types;return f||c&&c.binding&&c.binding("util")}catch{}})();t.exports=d})(ml,ml.exports)),ml.exports}var wv,Pj;function jb(){if(Pj)return wv;Pj=1;var t=q$(),e=Qd(),r=Eb(),a=r&&r.isTypedArray,i=a?e(a):t;return wv=i,wv}var _v,Lj;function LA(){if(Lj)return _v;Lj=1;var t=D$(),e=Sb(),r=Yr(),a=Xd(),i=rb(),l=jb(),c=Object.prototype,d=c.hasOwnProperty;function f(m,v){var y=r(m),b=!y&&e(m),x=!y&&!b&&a(m),w=!y&&!b&&!x&&l(m),_=y||b||x||w,E=_?t(m.length,String):[],S=E.length;for(var N in m)(v||d.call(m,N))&&!(_&&(N=="length"||x&&(N=="offset"||N=="parent")||w&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&E.push(N);return E}return _v=f,_v}var Sv,$j;function Nb(){if($j)return Sv;$j=1;var t=Object.prototype;function e(r){var a=r&&r.constructor,i=typeof a=="function"&&a.prototype||t;return r===i}return Sv=e,Sv}var Ev,Uj;function $A(){if(Uj)return Ev;Uj=1;function t(e,r){return function(a){return e(r(a))}}return Ev=t,Ev}var jv,zj;function P$(){if(zj)return jv;zj=1;var t=$A(),e=t(Object.keys,Object);return jv=e,jv}var Nv,Ij;function L$(){if(Ij)return Nv;Ij=1;var t=Nb(),e=P$(),r=Object.prototype,a=r.hasOwnProperty;function i(l){if(!t(l))return e(l);var c=[];for(var d in Object(l))a.call(l,d)&&d!="constructor"&&c.push(d);return c}return Nv=i,Nv}var Tv,Bj;function Jl(){if(Bj)return Tv;Bj=1;var t=LA(),e=L$(),r=Yl();function a(i){return r(i)?t(i):e(i)}return Tv=a,Tv}var Ov,Hj;function UA(){if(Hj)return Ov;Hj=1;var t=qA(),e=_b(),r=Jl();function a(i){return t(i,r,e)}return Ov=a,Ov}var Cv,Fj;function $$(){if(Fj)return Cv;Fj=1;var t=UA(),e=1,r=Object.prototype,a=r.hasOwnProperty;function i(l,c,d,f,m,v){var y=d&e,b=t(l),x=b.length,w=t(c),_=w.length;if(x!=_&&!y)return!1;for(var E=x;E--;){var S=b[E];if(!(y?S in c:a.call(c,S)))return!1}var N=v.get(l),T=v.get(c);if(N&&T)return N==c&&T==l;var O=!0;v.set(l,c),v.set(c,l);for(var M=y;++E<x;){S=b[E];var D=l[S],C=c[S];if(f)var L=y?f(C,D,S,c,l,v):f(D,C,S,l,c,v);if(!(L===void 0?D===C||m(D,C,d,f,v):L)){O=!1;break}M||(M=S=="constructor")}if(O&&!M){var P=l.constructor,R=c.constructor;P!=R&&"constructor"in l&&"constructor"in c&&!(typeof P=="function"&&P instanceof P&&typeof R=="function"&&R instanceof R)&&(O=!1)}return v.delete(l),v.delete(c),O}return Cv=i,Cv}var Av,Gj;function U$(){if(Gj)return Av;Gj=1;var t=Cs(),e=wn(),r=t(e,"DataView");return Av=r,Av}var Rv,Yj;function z$(){if(Yj)return Rv;Yj=1;var t=Cs(),e=wn(),r=t(e,"Promise");return Rv=r,Rv}var Dv,Wj;function I$(){if(Wj)return Dv;Wj=1;var t=Cs(),e=wn(),r=t(e,"Set");return Dv=r,Dv}var kv,Vj;function B$(){if(Vj)return kv;Vj=1;var t=Cs(),e=wn(),r=t(e,"WeakMap");return kv=r,kv}var Mv,Kj;function Jd(){if(Kj)return Mv;Kj=1;var t=U$(),e=yb(),r=z$(),a=I$(),i=B$(),l=Wi(),c=DA(),d="[object Map]",f="[object Object]",m="[object Promise]",v="[object Set]",y="[object WeakMap]",b="[object DataView]",x=c(t),w=c(e),_=c(r),E=c(a),S=c(i),N=l;return(t&&N(new t(new ArrayBuffer(1)))!=b||e&&N(new e)!=d||r&&N(r.resolve())!=m||a&&N(new a)!=v||i&&N(new i)!=y)&&(N=function(T){var O=l(T),M=O==f?T.constructor:void 0,D=M?c(M):"";if(D)switch(D){case x:return b;case w:return d;case _:return m;case E:return v;case S:return y}return O}),Mv=N,Mv}var qv,Xj;function H$(){if(Xj)return qv;Xj=1;var t=xb(),e=kA(),r=A$(),a=$$(),i=Jd(),l=Yr(),c=Xd(),d=jb(),f=1,m="[object Arguments]",v="[object Array]",y="[object Object]",b=Object.prototype,x=b.hasOwnProperty;function w(_,E,S,N,T,O){var M=l(_),D=l(E),C=M?v:i(_),L=D?v:i(E);C=C==m?y:C,L=L==m?y:L;var P=C==y,R=L==y,q=C==L;if(q&&c(_)){if(!c(E))return!1;M=!0,P=!1}if(q&&!P)return O||(O=new t),M||d(_)?e(_,E,S,N,T,O):r(_,E,C,S,N,T,O);if(!(S&f)){var z=P&&x.call(_,"__wrapped__"),U=R&&x.call(E,"__wrapped__");if(z||U){var W=z?_.value():_,Z=U?E.value():E;return O||(O=new t),T(W,Z,S,N,O)}}return q?(O||(O=new t),a(_,E,S,N,T,O)):!1}return qv=w,qv}var Pv,Qj;function Tb(){if(Qj)return Pv;Qj=1;var t=H$(),e=Ma();function r(a,i,l,c,d){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:t(a,i,l,c,r,d)}return Pv=r,Pv}var Lv,Jj;function zA(){if(Jj)return Lv;Jj=1;var t=Tb();function e(r,a){return t(r,a)}return Lv=e,Lv}var F$=zA();const G$=Kt(F$);function ps(t,e){var r=Ld(t);return r?r.innerHeight:e?t.clientHeight:en(t).height}function Zl(t,e,r){t.closest&&!r&&t.closest(e);var a=t;do{if(zd(a,e))return a;a=a.parentElement}while(a&&a!==r&&a.nodeType===document.ELEMENT_NODE);return null}const Y$=Object.freeze(Object.defineProperty({__proto__:null,default:Zl},Symbol.toStringTag,{value:"Module"}));var $v,Zj;function W$(){if(Zj)return $v;Zj=1;function t(e,r,a,i){for(var l=e.length,c=a+(i?1:-1);i?c--:++c<l;)if(r(e[c],c,e))return c;return-1}return $v=t,$v}var Uv,eN;function V$(){if(eN)return Uv;eN=1;var t=xb(),e=Tb(),r=1,a=2;function i(l,c,d,f){var m=d.length,v=m,y=!f;if(l==null)return!v;for(l=Object(l);m--;){var b=d[m];if(y&&b[2]?b[1]!==l[b[0]]:!(b[0]in l))return!1}for(;++m<v;){b=d[m];var x=b[0],w=l[x],_=b[1];if(y&&b[2]){if(w===void 0&&!(x in l))return!1}else{var E=new t;if(f)var S=f(w,_,x,l,c,E);if(!(S===void 0?e(_,w,r|a,f,E):S))return!1}}return!0}return Uv=i,Uv}var zv,tN;function IA(){if(tN)return zv;tN=1;var t=Qn();function e(r){return r===r&&!t(r)}return zv=e,zv}var Iv,rN;function K$(){if(rN)return Iv;rN=1;var t=IA(),e=Jl();function r(a){for(var i=e(a),l=i.length;l--;){var c=i[l],d=a[c];i[l]=[c,d,t(d)]}return i}return Iv=r,Iv}var Bv,nN;function BA(){if(nN)return Bv;nN=1;function t(e,r){return function(a){return a==null?!1:a[e]===r&&(r!==void 0||e in Object(a))}}return Bv=t,Bv}var Hv,aN;function X$(){if(aN)return Hv;aN=1;var t=V$(),e=K$(),r=BA();function a(i){var l=e(i);return l.length==1&&l[0][2]?r(l[0][0],l[0][1]):function(c){return c===i||t(c,i,l)}}return Hv=a,Hv}var Fv,sN;function Ob(){if(sN)return Fv;sN=1;var t=Yr(),e=Wl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(l,c){if(t(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:a.test(l)||!r.test(l)||c!=null&&l in Object(c)}return Fv=i,Fv}var Gv,iN;function Q$(){if(iN)return Gv;iN=1;var t=bb(),e="Expected a function";function r(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var l=function(){var c=arguments,d=i?i.apply(this,c):c[0],f=l.cache;if(f.has(d))return f.get(d);var m=a.apply(this,c);return l.cache=f.set(d,m)||f,m};return l.cache=new(r.Cache||t),l}return r.Cache=t,Gv=r,Gv}var Yv,oN;function J$(){if(oN)return Yv;oN=1;var t=Q$(),e=500;function r(a){var i=t(a,function(c){return l.size===e&&l.clear(),c}),l=i.cache;return i}return Yv=r,Yv}var Wv,lN;function Z$(){if(lN)return Wv;lN=1;var t=J$(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=t(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(e,function(c,d,f,m){l.push(f?m.replace(r,"$1"):d||c)}),l});return Wv=a,Wv}var Vv,cN;function Cb(){if(cN)return Vv;cN=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=Array(i);++a<i;)l[a]=r(e[a],a,e);return l}return Vv=t,Vv}var Kv,uN;function eU(){if(uN)return Kv;uN=1;var t=Yi(),e=Cb(),r=Yr(),a=Wl(),i=t?t.prototype:void 0,l=i?i.toString:void 0;function c(d){if(typeof d=="string")return d;if(r(d))return e(d,c)+"";if(a(d))return l?l.call(d):"";var f=d+"";return f=="0"&&1/d==-1/0?"-0":f}return Kv=c,Kv}var Xv,dN;function tU(){if(dN)return Xv;dN=1;var t=eU();function e(r){return r==null?"":t(r)}return Xv=e,Xv}var Qv,fN;function Zd(){if(fN)return Qv;fN=1;var t=Yr(),e=Ob(),r=Z$(),a=tU();function i(l,c){return t(l)?l:e(l,c)?[l]:r(a(l))}return Qv=i,Qv}var Jv,hN;function ec(){if(hN)return Jv;hN=1;var t=Wl();function e(r){if(typeof r=="string"||t(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return Jv=e,Jv}var Zv,mN;function ef(){if(mN)return Zv;mN=1;var t=Zd(),e=ec();function r(a,i){i=t(i,a);for(var l=0,c=i.length;a!=null&&l<c;)a=a[e(i[l++])];return l&&l==c?a:void 0}return Zv=r,Zv}var eg,pN;function rU(){if(pN)return eg;pN=1;var t=ef();function e(r,a,i){var l=r==null?void 0:t(r,a);return l===void 0?i:l}return eg=e,eg}var tg,vN;function nU(){if(vN)return tg;vN=1;function t(e,r){return e!=null&&r in Object(e)}return tg=t,tg}var rg,gN;function aU(){if(gN)return rg;gN=1;var t=Zd(),e=Sb(),r=Yr(),a=rb(),i=tb(),l=ec();function c(d,f,m){f=t(f,d);for(var v=-1,y=f.length,b=!1;++v<y;){var x=l(f[v]);if(!(b=d!=null&&m(d,x)))break;d=d[x]}return b||++v!=y?b:(y=d==null?0:d.length,!!y&&i(y)&&a(x,y)&&(r(d)||e(d)))}return rg=c,rg}var ng,yN;function sU(){if(yN)return ng;yN=1;var t=nU(),e=aU();function r(a,i){return a!=null&&e(a,i,t)}return ng=r,ng}var ag,bN;function iU(){if(bN)return ag;bN=1;var t=Tb(),e=rU(),r=sU(),a=Ob(),i=IA(),l=BA(),c=ec(),d=1,f=2;function m(v,y){return a(v)&&i(y)?l(c(v),y):function(b){var x=e(b,v);return x===void 0&&x===y?r(b,v):t(y,x,d|f)}}return ag=m,ag}var sg,xN;function tf(){if(xN)return sg;xN=1;function t(e){return e}return sg=t,sg}var ig,wN;function oU(){if(wN)return ig;wN=1;function t(e){return function(r){return r?.[e]}}return ig=t,ig}var og,_N;function lU(){if(_N)return og;_N=1;var t=ef();function e(r){return function(a){return t(a,r)}}return og=e,og}var lg,SN;function cU(){if(SN)return lg;SN=1;var t=oU(),e=lU(),r=Ob(),a=ec();function i(l){return r(l)?t(a(l)):e(l)}return lg=i,lg}var cg,EN;function rf(){if(EN)return cg;EN=1;var t=X$(),e=iU(),r=tf(),a=Yr(),i=cU();function l(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?a(c)?e(c[0],c[1]):t(c):i(c)}return cg=l,cg}var ug,jN;function HA(){if(jN)return ug;jN=1;var t=W$(),e=rf(),r=yA(),a=Math.max;function i(l,c,d){var f=l==null?0:l.length;if(!f)return-1;var m=d==null?0:r(d);return m<0&&(m=a(f+m,0)),t(l,e(c,3),m)}return ug=i,ug}var uU=HA();const dU=Kt(uU);var dg,NN;function fU(){if(NN)return dg;NN=1;var t=Math.ceil,e=Math.max;function r(a,i,l,c){for(var d=-1,f=e(t((i-a)/(l||1)),0),m=Array(f);f--;)m[c?f:++d]=a,a+=l;return m}return dg=r,dg}var fg,TN;function hU(){if(TN)return fg;TN=1;var t=fU(),e=Pd(),r=gA();function a(i){return function(l,c,d){return d&&typeof d!="number"&&e(l,c,d)&&(c=d=void 0),l=r(l),c===void 0?(c=l,l=0):c=r(c),d=d===void 0?l<c?1:-1:r(d),t(l,c,d,i)}}return fg=a,fg}var hg,ON;function mU(){if(ON)return hg;ON=1;var t=hU(),e=t();return hg=e,hg}var pU=mU();const vU=Kt(pU);var CN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function gU(t,e){return!!(t===e||CN(t)&&CN(e))}function yU(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!gU(t[r],e[r]))return!1;return!0}function FA(t,e){e===void 0&&(e=yU);var r=null;function a(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var c=t.apply(this,i);return r={lastResult:c,lastArgs:i,lastThis:this},c}return a.clear=function(){r=null},a}function Ml(t,e){var r=Ld(t);return r?r.innerWidth:e?t.clientWidth:en(t).width}var mg,AN;function bU(){if(AN)return mg;AN=1;var t=Yi(),e=Sb(),r=Yr(),a=t?t.isConcatSpreadable:void 0;function i(l){return r(l)||e(l)||!!(a&&l&&l[a])}return mg=i,mg}var pg,RN;function GA(){if(RN)return pg;RN=1;var t=wb(),e=bU();function r(a,i,l,c,d){var f=-1,m=a.length;for(l||(l=e),d||(d=[]);++f<m;){var v=a[f];i>0&&l(v)?i>1?r(v,i-1,l,c,d):t(d,v):c||(d[d.length]=v)}return d}return pg=r,pg}var vg,DN;function xU(){if(DN)return vg;DN=1;function t(e){return function(r,a,i){for(var l=-1,c=Object(r),d=i(r),f=d.length;f--;){var m=d[e?f:++l];if(a(c[m],m,c)===!1)break}return r}}return vg=t,vg}var gg,kN;function wU(){if(kN)return gg;kN=1;var t=xU(),e=t();return gg=e,gg}var yg,MN;function Ab(){if(MN)return yg;MN=1;var t=wU(),e=Jl();function r(a,i){return a&&t(a,i,e)}return yg=r,yg}var bg,qN;function _U(){if(qN)return bg;qN=1;var t=Yl();function e(r,a){return function(i,l){if(i==null)return i;if(!t(i))return r(i,l);for(var c=i.length,d=a?c:-1,f=Object(i);(a?d--:++d<c)&&l(f[d],d,f)!==!1;);return i}}return bg=e,bg}var xg,PN;function SU(){if(PN)return xg;PN=1;var t=Ab(),e=_U(),r=e(t);return xg=r,xg}var wg,LN;function EU(){if(LN)return wg;LN=1;var t=SU(),e=Yl();function r(a,i){var l=-1,c=e(a)?Array(a.length):[];return t(a,function(d,f,m){c[++l]=i(d,f,m)}),c}return wg=r,wg}var _g,$N;function jU(){if($N)return _g;$N=1;function t(e,r){var a=e.length;for(e.sort(r);a--;)e[a]=e[a].value;return e}return _g=t,_g}var Sg,UN;function NU(){if(UN)return Sg;UN=1;var t=Wl();function e(r,a){if(r!==a){var i=r!==void 0,l=r===null,c=r===r,d=t(r),f=a!==void 0,m=a===null,v=a===a,y=t(a);if(!m&&!y&&!d&&r>a||d&&f&&v&&!m&&!y||l&&f&&v||!i&&v||!c)return 1;if(!l&&!d&&!y&&r<a||y&&i&&c&&!l&&!d||m&&i&&c||!f&&c||!v)return-1}return 0}return Sg=e,Sg}var Eg,zN;function TU(){if(zN)return Eg;zN=1;var t=NU();function e(r,a,i){for(var l=-1,c=r.criteria,d=a.criteria,f=c.length,m=i.length;++l<f;){var v=t(c[l],d[l]);if(v){if(l>=m)return v;var y=i[l];return v*(y=="desc"?-1:1)}}return r.index-a.index}return Eg=e,Eg}var jg,IN;function OU(){if(IN)return jg;IN=1;var t=Cb(),e=ef(),r=rf(),a=EU(),i=jU(),l=Qd(),c=TU(),d=tf(),f=Yr();function m(v,y,b){y.length?y=t(y,function(_){return f(_)?function(E){return e(E,_.length===1?_[0]:_)}:_}):y=[d];var x=-1;y=t(y,l(r));var w=a(v,function(_,E,S){var N=t(y,function(T){return T(_)});return{criteria:N,index:++x,value:_}});return i(w,function(_,E){return c(_,E,b)})}return jg=m,jg}var Ng,BN;function CU(){if(BN)return Ng;BN=1;function t(e,r,a){switch(a.length){case 0:return e.call(r);case 1:return e.call(r,a[0]);case 2:return e.call(r,a[0],a[1]);case 3:return e.call(r,a[0],a[1],a[2])}return e.apply(r,a)}return Ng=t,Ng}var Tg,HN;function YA(){if(HN)return Tg;HN=1;var t=CU(),e=Math.max;function r(a,i,l){return i=e(i===void 0?a.length-1:i,0),function(){for(var c=arguments,d=-1,f=e(c.length-i,0),m=Array(f);++d<f;)m[d]=c[i+d];d=-1;for(var v=Array(i+1);++d<i;)v[d]=c[d];return v[i]=l(m),t(a,this,v)}}return Tg=r,Tg}var Og,FN;function AU(){if(FN)return Og;FN=1;function t(e){return function(){return e}}return Og=t,Og}var Cg,GN;function WA(){if(GN)return Cg;GN=1;var t=Cs(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Cg=e,Cg}var Ag,YN;function RU(){if(YN)return Ag;YN=1;var t=AU(),e=WA(),r=tf(),a=e?function(i,l){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(l),writable:!0})}:r;return Ag=a,Ag}var Rg,WN;function DU(){if(WN)return Rg;WN=1;var t=800,e=16,r=Date.now;function a(i){var l=0,c=0;return function(){var d=r(),f=e-(d-c);if(c=d,f>0){if(++l>=t)return arguments[0]}else l=0;return i.apply(void 0,arguments)}}return Rg=a,Rg}var Dg,VN;function VA(){if(VN)return Dg;VN=1;var t=RU(),e=DU(),r=e(t);return Dg=r,Dg}var kg,KN;function KA(){if(KN)return kg;KN=1;var t=tf(),e=YA(),r=VA();function a(i,l){return r(e(i,l,t),i+"")}return kg=a,kg}var Mg,XN;function kU(){if(XN)return Mg;XN=1;var t=GA(),e=OU(),r=KA(),a=Pd(),i=r(function(l,c){if(l==null)return[];var d=c.length;return d>1&&a(l,c[0],c[1])?c=[]:d>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),e(l,t(c,1),[])});return Mg=i,Mg}var MU=kU();const qU=Kt(MU);function XA(t){return eA(t)||mA(t)||Xy(t)||tA()}var qg,QN;function PU(){if(QN)return qg;QN=1;function t(e){var r=[];if(e!=null)for(var a in Object(e))r.push(a);return r}return qg=t,qg}var Pg,JN;function LU(){if(JN)return Pg;JN=1;var t=Qn(),e=Nb(),r=PU(),a=Object.prototype,i=a.hasOwnProperty;function l(c){if(!t(c))return r(c);var d=e(c),f=[];for(var m in c)m=="constructor"&&(d||!i.call(c,m))||f.push(m);return f}return Pg=l,Pg}var Lg,ZN;function nf(){if(ZN)return Lg;ZN=1;var t=LA(),e=LU(),r=Yl();function a(i){return r(i)?t(i,!0):e(i)}return Lg=a,Lg}var $g,eT;function $U(){if(eT)return $g;eT=1;var t=KA(),e=Gl(),r=Pd(),a=nf(),i=Object.prototype,l=i.hasOwnProperty,c=t(function(d,f){d=Object(d);var m=-1,v=f.length,y=v>2?f[2]:void 0;for(y&&r(f[0],f[1],y)&&(v=1);++m<v;)for(var b=f[m],x=a(b),w=-1,_=x.length;++w<_;){var E=x[w],S=d[E];(S===void 0||e(S,i[E])&&!l.call(d,E))&&(d[E]=b[E])}return d});return $g=c,$g}var UU=$U();const zU=Kt(UU);var Ug,tT;function Rb(){if(tT)return Ug;tT=1;var t=WA();function e(r,a,i){a=="__proto__"&&t?t(r,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[a]=i}return Ug=e,Ug}var zg,rT;function IU(){if(rT)return zg;rT=1;var t=Rb(),e=Ab(),r=rf();function a(i,l){var c={};return l=r(l,3),e(i,function(d,f,m){t(c,f,l(d,f,m))}),c}return zg=a,zg}var BU=IU();const HU=Kt(BU);var Ig,nT;function QA(){if(nT)return Ig;nT=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i&&r(e[a],a,e)!==!1;);return e}return Ig=t,Ig}var Bg,aT;function JA(){if(aT)return Bg;aT=1;var t=Rb(),e=Gl(),r=Object.prototype,a=r.hasOwnProperty;function i(l,c,d){var f=l[c];(!(a.call(l,c)&&e(f,d))||d===void 0&&!(c in l))&&t(l,c,d)}return Bg=i,Bg}var Hg,sT;function tc(){if(sT)return Hg;sT=1;var t=JA(),e=Rb();function r(a,i,l,c){var d=!l;l||(l={});for(var f=-1,m=i.length;++f<m;){var v=i[f],y=c?c(l[v],a[v],v,l,a):void 0;y===void 0&&(y=a[v]),d?e(l,v,y):t(l,v,y)}return l}return Hg=r,Hg}var Fg,iT;function FU(){if(iT)return Fg;iT=1;var t=tc(),e=Jl();function r(a,i){return a&&t(i,e(i),a)}return Fg=r,Fg}var Gg,oT;function GU(){if(oT)return Gg;oT=1;var t=tc(),e=nf();function r(a,i){return a&&t(i,e(i),a)}return Gg=r,Gg}var pl={exports:{}};pl.exports;var lT;function YU(){return lT||(lT=1,(function(t,e){var r=wn(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l?r.Buffer:void 0,d=c?c.allocUnsafe:void 0;function f(m,v){if(v)return m.slice();var y=m.length,b=d?d(y):new m.constructor(y);return m.copy(b),b}t.exports=f})(pl,pl.exports)),pl.exports}var Yg,cT;function WU(){if(cT)return Yg;cT=1;function t(e,r){var a=-1,i=e.length;for(r||(r=Array(i));++a<i;)r[a]=e[a];return r}return Yg=t,Yg}var Wg,uT;function VU(){if(uT)return Wg;uT=1;var t=tc(),e=_b();function r(a,i){return t(a,e(a),i)}return Wg=r,Wg}var Vg,dT;function af(){if(dT)return Vg;dT=1;var t=$A(),e=t(Object.getPrototypeOf,Object);return Vg=e,Vg}var Kg,fT;function ZA(){if(fT)return Kg;fT=1;var t=wb(),e=af(),r=_b(),a=PA(),i=Object.getOwnPropertySymbols,l=i?function(c){for(var d=[];c;)t(d,r(c)),c=e(c);return d}:a;return Kg=l,Kg}var Xg,hT;function KU(){if(hT)return Xg;hT=1;var t=tc(),e=ZA();function r(a,i){return t(a,e(a),i)}return Xg=r,Xg}var Qg,mT;function eR(){if(mT)return Qg;mT=1;var t=qA(),e=ZA(),r=nf();function a(i){return t(i,r,e)}return Qg=a,Qg}var Jg,pT;function XU(){if(pT)return Jg;pT=1;var t=Object.prototype,e=t.hasOwnProperty;function r(a){var i=a.length,l=new a.constructor(i);return i&&typeof a[0]=="string"&&e.call(a,"index")&&(l.index=a.index,l.input=a.input),l}return Jg=r,Jg}var Zg,vT;function Db(){if(vT)return Zg;vT=1;var t=MA();function e(r){var a=new r.constructor(r.byteLength);return new t(a).set(new t(r)),a}return Zg=e,Zg}var e0,gT;function QU(){if(gT)return e0;gT=1;var t=Db();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return e0=e,e0}var t0,yT;function JU(){if(yT)return t0;yT=1;var t=/\w*$/;function e(r){var a=new r.constructor(r.source,t.exec(r));return a.lastIndex=r.lastIndex,a}return t0=e,t0}var r0,bT;function ZU(){if(bT)return r0;bT=1;var t=Yi(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function a(i){return r?Object(r.call(i)):{}}return r0=a,r0}var n0,xT;function ez(){if(xT)return n0;xT=1;var t=Db();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return n0=e,n0}var a0,wT;function tz(){if(wT)return a0;wT=1;var t=Db(),e=QU(),r=JU(),a=ZU(),i=ez(),l="[object Boolean]",c="[object Date]",d="[object Map]",f="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",N="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",C="[object Uint32Array]";function L(P,R,q){var z=P.constructor;switch(R){case x:return t(P);case l:case c:return new z(+P);case w:return e(P,q);case _:case E:case S:case N:case T:case O:case M:case D:case C:return i(P,q);case d:return new z;case f:case y:return new z(P);case m:return r(P);case v:return new z;case b:return a(P)}}return a0=L,a0}var s0,_T;function tR(){if(_T)return s0;_T=1;var t=Qn(),e=Object.create,r=(function(){function a(){}return function(i){if(!t(i))return{};if(e)return e(i);a.prototype=i;var l=new a;return a.prototype=void 0,l}})();return s0=r,s0}var i0,ST;function rz(){if(ST)return i0;ST=1;var t=tR(),e=af(),r=Nb();function a(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return i0=a,i0}var o0,ET;function nz(){if(ET)return o0;ET=1;var t=Jd(),e=Ma(),r="[object Map]";function a(i){return e(i)&&t(i)==r}return o0=a,o0}var l0,jT;function az(){if(jT)return l0;jT=1;var t=nz(),e=Qd(),r=Eb(),a=r&&r.isMap,i=a?e(a):t;return l0=i,l0}var c0,NT;function sz(){if(NT)return c0;NT=1;var t=Jd(),e=Ma(),r="[object Set]";function a(i){return e(i)&&t(i)==r}return c0=a,c0}var u0,TT;function iz(){if(TT)return u0;TT=1;var t=sz(),e=Qd(),r=Eb(),a=r&&r.isSet,i=a?e(a):t;return u0=i,u0}var d0,OT;function oz(){if(OT)return d0;OT=1;var t=xb(),e=QA(),r=JA(),a=FU(),i=GU(),l=YU(),c=WU(),d=VU(),f=KU(),m=UA(),v=eR(),y=Jd(),b=XU(),x=tz(),w=rz(),_=Yr(),E=Xd(),S=az(),N=Qn(),T=iz(),O=Jl(),M=nf(),D=1,C=2,L=4,P="[object Arguments]",R="[object Array]",q="[object Boolean]",z="[object Date]",U="[object Error]",W="[object Function]",Z="[object GeneratorFunction]",H="[object Map]",B="[object Number]",te="[object Object]",le="[object RegExp]",V="[object Set]",$="[object String]",Q="[object Symbol]",oe="[object WeakMap]",de="[object ArrayBuffer]",he="[object DataView]",fe="[object Float32Array]",Ee="[object Float64Array]",De="[object Int8Array]",Me="[object Int16Array]",jt="[object Int32Array]",Rt="[object Uint8Array]",mr="[object Uint8ClampedArray]",Gt="[object Uint16Array]",gt="[object Uint32Array]",ke={};ke[P]=ke[R]=ke[de]=ke[he]=ke[q]=ke[z]=ke[fe]=ke[Ee]=ke[De]=ke[Me]=ke[jt]=ke[H]=ke[B]=ke[te]=ke[le]=ke[V]=ke[$]=ke[Q]=ke[Rt]=ke[mr]=ke[Gt]=ke[gt]=!0,ke[U]=ke[W]=ke[oe]=!1;function qt(Ce,ae,ye,we,We,st){var ut,ce=ae&D,ne=ae&C,be=ae&L;if(ye&&(ut=We?ye(Ce,we,We,st):ye(Ce)),ut!==void 0)return ut;if(!N(Ce))return Ce;var Re=_(Ce);if(Re){if(ut=b(Ce),!ce)return c(Ce,ut)}else{var He=y(Ce),tr=He==W||He==Z;if(E(Ce))return l(Ce,ce);if(He==te||He==P||tr&&!We){if(ut=ne||tr?{}:w(Ce),!ce)return ne?f(Ce,i(ut,Ce)):d(Ce,a(ut,Ce))}else{if(!ke[He])return We?Ce:{};ut=x(Ce,He,ce)}}st||(st=new t);var Zt=st.get(Ce);if(Zt)return Zt;st.set(Ce,ut),T(Ce)?Ce.forEach(function(et){ut.add(qt(et,ae,ye,et,Ce,st))}):S(Ce)&&Ce.forEach(function(et,mt){ut.set(mt,qt(et,ae,ye,mt,Ce,st))});var nn=be?ne?v:m:ne?M:O,Or=Re?void 0:nn(Ce);return e(Or||Ce,function(et,mt){Or&&(mt=et,et=Ce[mt]),r(ut,mt,qt(et,ae,ye,mt,Ce,st))}),ut}return d0=qt,d0}var f0,CT;function lz(){if(CT)return f0;CT=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return f0=t,f0}var h0,AT;function cz(){if(AT)return h0;AT=1;var t=ef(),e=pA();function r(a,i){return i.length<2?a:t(a,e(i,0,-1))}return h0=r,h0}var m0,RT;function uz(){if(RT)return m0;RT=1;var t=Zd(),e=lz(),r=cz(),a=ec();function i(l,c){return c=t(c,l),l=r(l,c),l==null||delete l[a(e(c))]}return m0=i,m0}var p0,DT;function dz(){if(DT)return p0;DT=1;var t=Wi(),e=af(),r=Ma(),a="[object Object]",i=Function.prototype,l=Object.prototype,c=i.toString,d=l.hasOwnProperty,f=c.call(Object);function m(v){if(!r(v)||t(v)!=a)return!1;var y=e(v);if(y===null)return!0;var b=d.call(y,"constructor")&&y.constructor;return typeof b=="function"&&b instanceof b&&c.call(b)==f}return p0=m,p0}var v0,kT;function fz(){if(kT)return v0;kT=1;var t=dz();function e(r){return t(r)?void 0:r}return v0=e,v0}var g0,MT;function hz(){if(MT)return g0;MT=1;var t=GA();function e(r){var a=r==null?0:r.length;return a?t(r,1):[]}return g0=e,g0}var y0,qT;function mz(){if(qT)return y0;qT=1;var t=hz(),e=YA(),r=VA();function a(i){return r(e(i,void 0,t),i+"")}return y0=a,y0}var b0,PT;function pz(){if(PT)return b0;PT=1;var t=Cb(),e=oz(),r=uz(),a=Zd(),i=tc(),l=fz(),c=mz(),d=eR(),f=1,m=2,v=4,y=c(function(b,x){var w={};if(b==null)return w;var _=!1;x=t(x,function(S){return S=a(S,b),_||(_=S.length>1),S}),i(b,d(b),w),_&&(w=e(w,f|m|v,l));for(var E=x.length;E--;)r(w,x[E]);return w});return b0=y,b0}var vz=pz();const gz=Kt(vz);var x0,LT;function yz(){if(LT)return x0;LT=1;var t=QA(),e=tR(),r=Ab(),a=rf(),i=af(),l=Yr(),c=Xd(),d=eb(),f=Qn(),m=jb();function v(y,b,x){var w=l(y),_=w||c(y)||m(y);if(b=a(b,4),x==null){var E=y&&y.constructor;_?x=w?new E:[]:f(y)?x=d(E)?e(i(y)):{}:x={}}return(_?t:r)(y,function(S,N,T){return b(x,S,N,T)}),x}return x0=v,x0}var bz=yz();const xz=Kt(bz);var Wu={exports:{}},wz=Wu.exports,$T;function _z(){return $T||($T=1,(function(t,e){(function(r,a){t.exports=a()})(wz,(function(){return function(r,a,i){a.prototype.isBetween=function(l,c,d,f){var m=i(l),v=i(c),y=(f=f||"()")[0]==="(",b=f[1]===")";return(y?this.isAfter(m,d):!this.isBefore(m,d))&&(b?this.isBefore(v,d):!this.isAfter(v,d))||(y?this.isBefore(m,d):!this.isAfter(m,d))&&(b?this.isAfter(v,d):!this.isBefore(v,d))}}}))})(Wu)),Wu.exports}_z();var Vu={exports:{}},Sz=Vu.exports,UT;function Ez(){return UT||(UT=1,(function(t,e){(function(r,a){t.exports=a()})(Sz,(function(){return function(r,a){a.prototype.isSameOrAfter=function(i,l){return this.isSame(i,l)||this.isAfter(i,l)}}}))})(Vu)),Vu.exports}Ez();var Ku={exports:{}},jz=Ku.exports,zT;function Nz(){return zT||(zT=1,(function(t,e){(function(r,a){t.exports=a()})(jz,(function(){return function(r,a){a.prototype.isSameOrBefore=function(i,l){return this.isSame(i,l)||this.isBefore(i,l)}}}))})(Ku)),Ku.exports}Nz();var Xu={exports:{}},Tz=Xu.exports,IT;function Oz(){return IT||(IT=1,(function(t,e){(function(r,a){t.exports=a()})(Tz,(function(){return function(r,a,i){var l=a.prototype,c=function(y){return y&&(y.indexOf?y:y.s)},d=function(y,b,x,w,_){var E=y.name?y:y.$locale(),S=c(E[b]),N=c(E[x]),T=S||N.map((function(M){return M.slice(0,w)}));if(!_)return T;var O=E.weekStart;return T.map((function(M,D){return T[(D+(O||0))%7]}))},f=function(){return i.Ls[i.locale()]},m=function(y,b){return y.formats[b]||(function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,_,E){return _||E.slice(1)}))})(y.formats[b.toUpperCase()])},v=function(){var y=this;return{months:function(b){return b?b.format("MMMM"):d(y,"months")},monthsShort:function(b){return b?b.format("MMM"):d(y,"monthsShort","months",3)},firstDayOfWeek:function(){return y.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):d(y,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):d(y,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):d(y,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return m(y.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};l.localeData=function(){return v.bind(this)()},i.localeData=function(){var y=f();return{firstDayOfWeek:function(){return y.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(b){return m(y,b)},meridiem:y.meridiem,ordinal:y.ordinal}},i.months=function(){return d(f(),"months")},i.monthsShort=function(){return d(f(),"monthsShort","months",3)},i.weekdays=function(y){return d(f(),"weekdays",null,null,y)},i.weekdaysShort=function(y){return d(f(),"weekdaysShort","weekdays",3,y)},i.weekdaysMin=function(y){return d(f(),"weekdaysMin","weekdays",2,y)}}}))})(Xu)),Xu.exports}Oz();var Qu={exports:{}},Cz=Qu.exports,BT;function Az(){return BT||(BT=1,(function(t,e){(function(r,a){t.exports=a()})(Cz,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,i,l){var c=i.prototype,d=c.format;l.en.formats=r,c.format=function(f){f===void 0&&(f="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,v=(function(y,b){return y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(x,w,_){var E=_&&_.toUpperCase();return w||b[_]||r[_]||b[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,N,T){return N||T.slice(1)}))}))})(f,m===void 0?{}:m);return d.call(this,v)}}}))})(Qu)),Qu.exports}Az();var Ju={exports:{}},Rz=Ju.exports,HT;function Dz(){return HT||(HT=1,(function(t,e){(function(r,a){t.exports=a()})(Rz,(function(){return function(r,a,i){var l=function(c,d){if(!d||!d.length||d.length===1&&!d[0]||d.length===1&&Array.isArray(d[0])&&!d[0].length)return null;var f;d.length===1&&d[0].length>0&&(d=d[0]),f=(d=d.filter((function(v){return v})))[0];for(var m=1;m<d.length;m+=1)d[m].isValid()&&!d[m][c](f)||(f=d[m]);return f};i.max=function(){var c=[].slice.call(arguments,0);return l("isAfter",c)},i.min=function(){var c=[].slice.call(arguments,0);return l("isBefore",c)}}}))})(Ju)),Ju.exports}Dz();var Zu={exports:{}},kz=Zu.exports,FT;function Mz(){return FT||(FT=1,(function(t,e){(function(r,a){t.exports=a()})(kz,(function(){var r="minute",a=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(l,c,d){var f=c.prototype;d.utc=function(_){var E={date:_,utc:!0,args:arguments};return new c(E)},f.utc=function(_){var E=d(this.toDate(),{locale:this.$L,utc:!0});return _?E.add(this.utcOffset(),r):E},f.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var m=f.parse;f.parse=function(_){_.utc&&(this.$u=!0),this.$utils().u(_.$offset)||(this.$offset=_.$offset),m.call(this,_)};var v=f.init;f.init=function(){if(this.$u){var _=this.$d;this.$y=_.getUTCFullYear(),this.$M=_.getUTCMonth(),this.$D=_.getUTCDate(),this.$W=_.getUTCDay(),this.$H=_.getUTCHours(),this.$m=_.getUTCMinutes(),this.$s=_.getUTCSeconds(),this.$ms=_.getUTCMilliseconds()}else v.call(this)};var y=f.utcOffset;f.utcOffset=function(_,E){var S=this.$utils().u;if(S(_))return this.$u?0:S(this.$offset)?y.call(this):this.$offset;if(typeof _=="string"&&(_=(function(M){M===void 0&&(M="");var D=M.match(a);if(!D)return null;var C=(""+D[0]).match(i)||["-",0,0],L=C[0],P=60*+C[1]+ +C[2];return P===0?0:L==="+"?P:-P})(_),_===null))return this;var N=Math.abs(_)<=16?60*_:_;if(N===0)return this.utc(E);var T=this.clone();if(E)return T.$offset=N,T.$u=!1,T;var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(T=this.local().add(N+O,r)).$offset=N,T.$x.$localOffset=O,T};var b=f.format;f.format=function(_){var E=_||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,E)},f.valueOf=function(){var _=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*_},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var x=f.toDate;f.toDate=function(_){return _==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var w=f.diff;f.diff=function(_,E,S){if(_&&this.$u===_.$u)return w.call(this,_,E,S);var N=this.local(),T=d(_).local();return w.call(N,T,E,S)}}}))})(Zu)),Zu.exports}Mz();var ed={exports:{}},qz=ed.exports,GT;function Pz(){return GT||(GT=1,(function(t,e){(function(r,a){t.exports=a()})(qz,(function(){return function(r,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(ed)),ed.exports}Pz();function un(t){return t.children}var hr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Ot={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},YT=Object.keys(Ot).map(function(t){return Ot[t]});ue.oneOfType([ue.string,ue.func]);ue.any;ue.func;ue.oneOfType([ue.arrayOf(ue.oneOf(YT)),ue.objectOf(function(t,e){var r=YT.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var a=arguments.length,i=new Array(a>2?a-2:0),l=2;l<a;l++)i[l-2]=arguments[l];return ue.elementType.apply(ue,[t,e].concat(i))})]);ue.oneOfType([ue.oneOf(["overlap","no-overlap"]),ue.func]);var WT={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function rR(t,e){var r=Ft(t,"month");return Ft(r,"week",e.startOfWeek())}function nR(t,e){var r=gd(t,"month");return gd(r,"week",e.startOfWeek())}function Lz(t,e){for(var r=rR(t,e),a=nR(t,e),i=[];Fi(r,a,"day");)i.push(r),r=rn(r,1,"day");return i}function $z(t,e){var r=Ft(t,e);return Hi(r,t)?r:rn(r,1,e)}function Uz(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",a=t,i=[];Fi(a,e,r);)i.push(a),a=rn(a,1,r);return i}function zz(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Ft(t,"day"),t=Al(t,Al(e)),t=Di(t,Di(e)),t=Cl(t,Cl(e)),Ol(t,Ol(e)))}function VT(t){return Al(t)===0&&Di(t)===0&&Cl(t)===0&&Ol(t)===0}function Iz(t,e,r,a){return r==="day"&&(r="date"),Math.abs(B1[r](t,void 0,a)-B1[r](e,void 0,a))}function kb(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Ft(t,r)/WT[r]-+Ft(e,r)/WT[r]))}var Bz=ue.oneOfType([ue.string,ue.func]);function Hz(t,e,r,a,i){var l=typeof a=="function"?a(r,i,t):e.call(t,r,a,i);return _l(l==null||typeof l=="string","`localizer format(..)` must return a string, null, or undefined"),l}function Fz(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function Mb(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function Gz(t,e){return kb(t,e,"minutes")+Mb(t,e)}function Yz(t){var e=Ft(t,"day");return kb(e,t,"minutes")+Mb(e,t)}function Wz(t,e){return Zy(t,e,"day")}function Vz(t,e,r){var a=Hi(t,e,"minutes");return a?Fl(e,r,"minutes"):qd(e,r,"minutes")}function Ny(t,e){return Iz(t,e,"day")}function Kz(t){var e=t.evtA,r=e.start,a=e.end,i=e.allDay,l=t.evtB,c=l.start,d=l.end,f=l.allDay,m=+Ft(r,"day")-+Ft(c,"day"),v=Ny(r,a),y=Ny(c,d);return m||y-v||!!f-!!i||+r-+c||+a-+d}function Xz(t){var e=t.event,r=e.start,a=e.end,i=t.range,l=i.start,c=i.end,d=Ft(r,"day"),f=Fi(d,c,"day"),m=Jy(d,a,"minutes"),v=m?qd(a,l,"minutes"):Fl(a,l,"minutes");return f&&v}function Qz(t,e){return Hi(t,e,"day")}function Jz(t,e){return VT(t)&&VT(e)}var Zz=At(function t(e){var r=this;Ct(this,t),_l(typeof e.format=="function","date localizer `format(..)` must be a function"),_l(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||Bz,this.formats=e.formats,this.format=function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return Hz.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||zz,this.inRange=e.inRange||uA,this.lt=e.lt||Zy,this.lte=e.lte||Fi,this.gt=e.gt||qd,this.gte=e.gte||Fl,this.eq=e.eq||Hi,this.neq=e.neq||Jy,this.startOf=e.startOf||Ft,this.endOf=e.endOf||gd,this.add=e.add||rn,this.range=e.range||Uz,this.diff=e.diff||kb,this.ceil=e.ceil||$z,this.min=e.min||lA,this.max=e.max||cA,this.minutes=e.minutes||Di,this.daySpan=e.daySpan||Ny,this.firstVisibleDay=e.firstVisibleDay||rR,this.lastVisibleDay=e.lastVisibleDay||nR,this.visibleDays=e.visibleDays||Lz,this.getSlotDate=e.getSlotDate||Fz,this.getTimezoneOffset=e.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||Mb,this.getTotalMin=e.getTotalMin||Gz,this.getMinutesFromMidnight=e.getMinutesFromMidnight||Yz,this.continuesPrior=e.continuesPrior||Wz,this.continuesAfter=e.continuesAfter||Vz,this.sortEvents=e.sortEvents||Kz,this.inEventRange=e.inEventRange||Xz,this.isSameDate=e.isSameDate||Qz,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||Jz,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function eI(t,e,r,a){var i=Je(Je({},t.formats),r);return Je(Je({},t),{},{messages:a,startOfWeek:function(){return t.startOfWeek(e)},format:function(c,d){return t.format(c,i[d]||d,e)}})}var tI=(function(t){function e(){var r;Ct(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Xt(this,e,[].concat(i)),r.navigate=function(c){r.props.onNavigate(c)},r.view=function(c){r.props.onView(c)},r}return Qt(e,t),At(e,[{key:"render",value:function(){var a=this.props,i=a.localizer.messages,l=a.label;return Y.createElement("div",{className:"rbc-toolbar"},Y.createElement("span",{className:"rbc-btn-group"},Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,hr.TODAY)},i.today),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,hr.PREVIOUS)},i.previous),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,hr.NEXT)},i.next)),Y.createElement("span",{className:"rbc-toolbar-label"},l),Y.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(a){var i=this,l=this.props.views,c=this.props.view;if(l.length>1)return l.map(function(d){return Y.createElement("button",{type:"button",key:d,className:ct({"rbc-active":c===d}),onClick:i.view.bind(null,d)},a[d])})}}])})(Y.Component);function nt(t,e){t&&t.apply(null,[].concat(e))}var rI={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function nI(t){return Je(Je({},rI),t)}function aI(t){var e=t.ref,r=t.callback;A.useEffect(function(){var a=function(l){e.current&&!e.current.contains(l.target)&&r()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[e,r])}var sI=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],aR=(function(t){function e(){return Ct(this,e),Xt(this,e,arguments)}return Qt(e,t),At(e,[{key:"render",value:function(){var a=this.props,i=a.style,l=a.className,c=a.event,d=a.selected,f=a.isAllDay,m=a.onSelect,v=a.onDoubleClick,y=a.onKeyPress,b=a.localizer,x=a.continuesPrior,w=a.continuesAfter,_=a.accessors,E=a.getters,S=a.children,N=a.components,T=N.event,O=N.eventWrapper,M=a.slotStart,D=a.slotEnd,C=yn(a,sI);delete C.resizable;var L=_.title(c),P=_.tooltip(c),R=_.end(c),q=_.start(c),z=_.allDay(c),U=f||z||b.diff(q,b.ceil(R,"day"),"day")>1,W=E.eventProp(c,q,R,d),Z=Y.createElement("div",{className:"rbc-event-content",title:P||void 0},T?Y.createElement(T,{event:c,continuesPrior:x,continuesAfter:w,title:L,isAllDay:z,localizer:b,slotStart:M,slotEnd:D}):L);return Y.createElement(O,Object.assign({},this.props,{type:"date"}),Y.createElement("div",Object.assign({},C,{style:Je(Je({},W.style),i),className:ct("rbc-event",l,W.className,{"rbc-selected":d,"rbc-event-allday":U,"rbc-event-continues-prior":x,"rbc-event-continues-after":w}),onClick:function(B){return m&&m(c,B)},onDoubleClick:function(B){return v&&v(c,B)},onKeyDown:function(B){return y&&y(c,B)}}),typeof S=="function"?S(Z):Z))}}])})(Y.Component);function sf(t,e){return!t||e==null?!1:G$(t,e)}function sR(t,e){var r=t.right-t.left,a=r/e;return a}function iR(t,e,r,a){var i=sR(t,a);return r?a-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function iI(t,e){var r=e.x,a=e.y;return a>=t.top&&a<=t.bottom&&r>=t.left&&r<=t.right}function oI(t,e,r,a,i){var l=-1,c=-1,d=a-1,f=sR(e,a),m=iR(e,r.x,i,a),v=e.top<r.y&&e.bottom>r.y,y=e.top<t.y&&e.bottom>t.y,b=t.y>e.bottom,x=e.top>t.y,w=r.top<e.top&&r.bottom>e.bottom;return w&&(l=0,c=d),v&&(x?(l=0,c=m):b&&(l=m,c=d)),y&&(l=c=i?d-Math.floor((t.x-e.left)/f):Math.floor((t.x-e.left)/f),v?m<l?l=m:c=m:t.y<r.y?c=d:l=0),{startIdx:l,endIdx:c}}function lI(t){var e=t.target,r=t.offset,a=t.container,i=t.box,l=en(e),c=l.top,d=l.left,f=l.width,m=l.height,v=en(a),y=v.top,b=v.left,x=v.width,w=v.height,_=en(i),E=_.width,S=_.height,N=y+w,T=b+x,O=c+S,M=d+E,D=r.x,C=r.y,L=O>N?c-S-C:c+C+m,P=M>T?d+D-E+f:d+D;return{topOffset:L,leftOffset:P}}function cI(t){var e=t.containerRef,r=t.accessors,a=t.getters,i=t.selected,l=t.components,c=t.localizer,d=t.position,f=t.show,m=t.events,v=t.slotStart,y=t.slotEnd,b=t.onSelect,x=t.onDoubleClick,w=t.onKeyPress,_=t.handleDragStart,E=t.popperRef,S=t.target,N=t.offset;aI({ref:E,callback:f}),A.useLayoutEffect(function(){var M=lI({target:S,offset:N,container:e.current,box:E.current}),D=M.topOffset,C=M.leftOffset;E.current.style.top="".concat(D,"px"),E.current.style.left="".concat(C,"px")},[N.x,N.y,S]);var T=d.width,O={minWidth:T+T/2};return Y.createElement("div",{style:O,className:"rbc-overlay",ref:E},Y.createElement("div",{className:"rbc-overlay-header"},c.format(v,"dayHeaderFormat")),m.map(function(M,D){return Y.createElement(aR,{key:D,type:"popup",localizer:c,event:M,getters:a,onSelect:b,accessors:r,components:l,onDoubleClick:x,onKeyPress:w,continuesPrior:c.lt(r.end(M),v,"day"),continuesAfter:c.gte(r.start(M),y,"day"),slotStart:v,slotEnd:y,selected:sf(M,i),draggable:!0,onDragStart:function(){return _(M)},onDragEnd:function(){return f()}})}))}var oR=Y.forwardRef(function(t,e){return Y.createElement(cI,Object.assign({},t,{popperRef:e}))});oR.propTypes={accessors:ue.object.isRequired,getters:ue.object.isRequired,selected:ue.object,components:ue.object.isRequired,localizer:ue.object.isRequired,position:ue.object.isRequired,show:ue.func.isRequired,events:ue.array.isRequired,slotStart:ue.instanceOf(Date).isRequired,slotEnd:ue.instanceOf(Date),onSelect:ue.func,onDoubleClick:ue.func,onKeyPress:ue.func,handleDragStart:ue.func,style:ue.object,offset:ue.shape({x:ue.number,y:ue.number})};function uI(t){var e=t.containerRef,r=t.popupOffset,a=r===void 0?5:r,i=t.overlay,l=t.accessors,c=t.localizer,d=t.components,f=t.getters,m=t.selected,v=t.handleSelectEvent,y=t.handleDoubleClickEvent,b=t.handleKeyPressEvent,x=t.handleDragStart,w=t.onHide,_=t.overlayDisplay,E=A.useRef(null);if(!i.position)return null;var S=a;isNaN(a)||(S={x:a,y:a});var N=i.position,T=i.events,O=i.date,M=i.end;return Y.createElement(gb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:w,target:i.target},function(D){var C=D.props;return Y.createElement(oR,Object.assign({},C,{containerRef:e,ref:E,target:i.target,offset:S,accessors:l,getters:f,selected:m,components:d,localizer:c,position:N,show:_,events:T,slotStart:O,slotEnd:M,onSelect:v,onDoubleClick:y,onKeyPress:b,handleDragStart:x}))})}var qb=Y.forwardRef(function(t,e){return Y.createElement(uI,Object.assign({},t,{containerRef:e}))});qb.propTypes={popupOffset:ue.oneOfType([ue.number,ue.shape({x:ue.number,y:ue.number})]),overlay:ue.shape({position:ue.object,events:ue.array,date:ue.instanceOf(Date),end:ue.instanceOf(Date)}),accessors:ue.object.isRequired,localizer:ue.object.isRequired,components:ue.object.isRequired,getters:ue.object.isRequired,selected:ue.object,handleSelectEvent:ue.func,handleDoubleClickEvent:ue.func,handleKeyPressEvent:ue.func,handleDragStart:ue.func,onHide:ue.func,overlayDisplay:ue.func};function Vt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return mn(r,t,e,{passive:!1})}function dI(t,e,r){return!t||Vn(t,document.elementFromPoint(e,r))}function fI(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return Zl(i,".rbc-event",t)}function hI(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return Zl(i,".rbc-show-more",t)}function xd(t,e){return!!fI(t,e)}function mI(t,e){return!!hI(t,e)}function Jo(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var KT=5,pI=250,lR=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.global,i=a===void 0?!1:a,l=r.longPressThreshold,c=l===void 0?250:l,d=r.validContainers,f=d===void 0?[]:d;Ct(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=c,this.validContainers=f,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Vt("touchmove",function(){},window),this._removeKeyDownListener=Vt("keydown",this._keyListener),this._removeKeyUpListener=Vt("keyup",this._keyListener),this._removeDropFromOutsideListener=Vt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Vt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return At(t,[{key:"on",value:function(r,a){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(a),{remove:function(){var c=i.indexOf(a);c!==-1&&i.splice(c,1)}}}},{key:"emit",value:function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];var c,d=this._listeners[r]||[];return d.forEach(function(f){c===void 0&&(c=f.apply(void 0,i))}),c}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var a=this._selectRect;return!a||!this.selecting?!1:XT(a,Ts(r))}},{key:"filter",value:function(r){var a=this._selectRect;return!a||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,a){var i=this,l=null,c=null,d=null,f=function(b){l=setTimeout(function(){v(),r(b)},i.longPressThreshold),c=Vt("touchmove",function(){return v()}),d=Vt("touchend",function(){return v()})},m=Vt("touchstart",f),v=function(){l&&clearTimeout(l),c&&c(),d&&d(),l=null,c=null,d=null};return a&&f(a),function(){v(),m()}}},{key:"_addInitialEventListener",value:function(){var r=this,a=Vt("mousedown",function(l){r._removeInitialEventListener(),r._handleInitialEvent(l),r._removeInitialEventListener=Vt("mousedown",r._handleInitialEvent)}),i=Vt("touchstart",function(l){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,l)});this._removeInitialEventListener=function(){a(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var a=Jo(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY;this.emit("dropFromOutside",{x:i,y:l,clientX:c,clientY:d}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var a=Jo(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY;this.emit("dragOverFromOutside",{x:i,y:l,clientX:c,clientY:d}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var a=Jo(r),i=a.clientX,l=a.clientY,c=a.pageX,d=a.pageY,f=this.container(),m,v;if(!(r.which===3||r.button===2||!dI(f,i,l))){if(!this.globalMouse&&f&&!Vn(f,r.target)){var y=vI(0),b=y.top,x=y.left,w=y.bottom,_=y.right;if(v=Ts(f),m=XT({top:v.top-b,left:v.left-x,bottom:v.bottom+w,right:v.right+_},{top:d,left:c}),!m)return}var E=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:c,y:d,clientX:i,clientY:l});if(E!==!1)switch(r.type){case"mousedown":this._removeEndListener=Vt("mouseup",this._handleTerminatingEvent),this._onEscListener=Vt("keydown",this._handleTerminatingEvent),this._removeMoveListener=Vt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Vt("touchend",this._handleTerminatingEvent),this._removeMoveListener=Vt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var a=r.target,i=this.validContainers;return!i||!i.length||!a?!0:i.some(function(l){return!!a.closest(l)})}},{key:"_handleTerminatingEvent",value:function(r){var a=this.selecting,i=this._selectRect;if(!a&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var l=!this.container||Vn(this.container(),r.target),c=this._isWithinValidContainer(r);return r.key==="Escape"||!c?this.emit("reset"):!a&&l?this._handleClickEvent(r):a?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var a=Jo(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY,f=new Date().getTime();return this._lastClickData&&f-this._lastClickData.timestamp<pI?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:l,clientX:c,clientY:d})):(this._lastClickData={timestamp:f},this.emit("click",{x:i,y:l,clientX:c,clientY:d}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var a=this._initialEventData,i=a.x,l=a.y,c=Jo(r),d=c.pageX,f=c.pageY,m=Math.abs(i-d),v=Math.abs(l-f),y=Math.min(d,i),b=Math.min(f,l),x=this.selecting,w=this.isClick(d,f);w&&!x&&!(m||v)||(!x&&!w&&this.emit("selectStart",this._initialEventData),w||(this.selecting=!0,this._selectRect={top:b,left:y,x:d,y:f,right:y+m,bottom:b+v},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,a){var i=this._initialEventData,l=i.x,c=i.y,d=i.isTouch;return!d&&Math.abs(r-l)<=KT&&Math.abs(a-c)<=KT}}])})();function vI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Wn(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function XT(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=Ts(t),i=a.top,l=a.left,c=a.right,d=c===void 0?l:c,f=a.bottom,m=f===void 0?i:f,v=Ts(e),y=v.top,b=v.left,x=v.right,w=x===void 0?b:x,_=v.bottom,E=_===void 0?y:_;return!(m-r<y||i+r>E||d-r<b||l+r>w)}function Ts(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+QT("left"),a=e.top+QT("top");return{top:a,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+a}}function QT(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var gI=(function(t){function e(r,a){var i;return Ct(this,e),i=Xt(this,e,[r,a]),i.state={selecting:!1},i.containerRef=A.createRef(),i}return Qt(e,t),At(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,i=a.range,l=a.getNow,c=a.getters,d=a.date,f=a.components.dateCellWrapper,m=a.localizer,v=this.state,y=v.selecting,b=v.startIdx,x=v.endIdx,w=l();return Y.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(_,E){var S=y&&E>=b&&E<=x,N=c.dayProp(_),T=N.className,O=N.style;return Y.createElement(f,{key:E,value:_,range:i},Y.createElement("div",{style:O,className:ct("rbc-day-bg",T,S&&"rbc-selected-cell",m.isSameDate(_,w)&&"rbc-today",d&&m.neq(d,_,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,i=this.containerRef.current,l=this._selector=new lR(this.props.container,{longPressThreshold:this.props.longPressThreshold}),c=function(f,m){if(!xd(i,f)&&!mI(i,f)){var v=Ts(i),y=a.props,b=y.range,x=y.rtl;if(iI(v,f)){var w=iR(v,f.x,x,b.length);a._selectSlot({startIdx:w,endIdx:w,action:m,box:f})}}a._initial={},a.setState({selecting:!1})};l.on("selecting",function(d){var f=a.props,m=f.range,v=f.rtl,y=-1,b=-1;if(a.state.selecting||(nt(a.props.onSelectStart,[d]),a._initial={x:d.x,y:d.y}),l.isSelected(i)){var x=Ts(i),w=oI(a._initial,x,d,m.length,v);y=w.startIdx,b=w.endIdx}a.setState({selecting:!0,startIdx:y,endIdx:b})}),l.on("beforeSelect",function(d){if(a.props.selectable==="ignoreEvents")return!xd(a.containerRef.current,d)}),l.on("click",function(d){return c(d,"click")}),l.on("doubleClick",function(d){return c(d,"doubleClick")}),l.on("select",function(d){a._selectSlot(Je(Je({},a.state),{},{action:"select",bounds:d})),a._initial={},a.setState({selecting:!1}),nt(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var i=a.endIdx,l=a.startIdx,c=a.action,d=a.bounds,f=a.box;i!==-1&&l!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:l,end:i,action:c,bounds:d,box:f,resourceId:this.props.resourceId})}}])})(Y.Component),Ur={propTypes:{slotMetrics:ue.object.isRequired,selected:ue.object,isAllDay:ue.bool,accessors:ue.object.isRequired,localizer:ue.object.isRequired,components:ue.object.isRequired,getters:ue.object.isRequired,onSelect:ue.func,onDoubleClick:ue.func,onKeyPress:ue.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var a=e.selected;e.isAllDay;var i=e.accessors,l=e.getters,c=e.onSelect,d=e.onDoubleClick,f=e.onKeyPress,m=e.localizer,v=e.slotMetrics,y=e.components,b=e.resizable,x=v.continuesPrior(r),w=v.continuesAfter(r);return Y.createElement(aR,{event:r,getters:l,localizer:m,accessors:i,components:y,onSelect:c,onDoubleClick:d,onKeyPress:f,continuesPrior:x,continuesAfter:w,slotStart:v.first,slotEnd:v.last,selected:sf(r,a),resizable:b})},renderSpan:function(e,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",l=Math.abs(r)/e*100+"%";return Y.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:l,flexBasis:l,maxWidth:l}},i)}},cR=(function(t){function e(){return Ct(this,e),Xt(this,e,arguments)}return Qt(e,t),At(e,[{key:"render",value:function(){var a=this,i=this.props,l=i.segments,c=i.slotMetrics.slots,d=i.className,f=1;return Y.createElement("div",{className:ct(d,"rbc-row")},l.reduce(function(m,v,y){var b=v.event,x=v.left,w=v.right,_=v.span,E="_lvl_"+y,S=x-f,N=Ur.renderEvent(a.props,b);return S&&m.push(Ur.renderSpan(c,S,"".concat(E,"_gap"))),m.push(Ur.renderSpan(c,_,E,N)),f=w+1,m},[]))}}])})(Y.Component);cR.defaultProps=Je({},Ur.defaultProps);function uR(t){var e=t.dateRange,r=t.unit,a=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,a)}}function yI(t,e,r,a){var i=uR({dateRange:e,localizer:a}),l=i.first,c=i.last,d=a.diff(l,c,"day"),f=a.max(a.startOf(r.start(t),"day"),l),m=a.min(a.ceil(r.end(t),"day"),c),v=dU(e,function(b){return a.isSameDate(b,f)}),y=a.diff(f,m,"day");return y=Math.min(y,d),y=Math.max(y-a.segmentOffset,1),{event:t,span:y,left:v+1,right:Math.max(v+y,1)}}function Ty(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,a,i,l=[],c=[];for(r=0;r<t.length;r++){for(i=t[r],a=0;a<l.length&&bI(i,l[a]);a++);a>=e?c.push(i):(l[a]||(l[a]=[])).push(i)}for(r=0;r<l.length;r++)l[r].sort(function(d,f){return d.left-f.left});return{levels:l,extra:c}}function ql(t,e,r,a,i){var l={start:a.start(t),end:a.end(t)},c={start:e,end:r};return i.inEventRange({event:l,range:c})}function bI(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function xI(t,e,r){var a=Gu(t),i=[],l=[];a.forEach(function(f){var m=e.start(f),v=e.end(f);r.daySpan(m,v)>1?i.push(f):l.push(f)});var c=i.sort(function(f,m){return Oy(f,m,e,r)}),d=l.sort(function(f,m){return Oy(f,m,e,r)});return[].concat(Gu(c),Gu(d))}function Oy(t,e,r,a){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},l={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return a.sortEvents({evtA:i,evtB:l})}var Cy=function(e,r){return e.left<=r&&e.right>=r},w0=function(e,r){return e.filter(function(a){return Cy(a,r)}).map(function(a){return a.event})},dR=(function(t){function e(){return Ct(this,e),Xt(this,e,arguments)}return Qt(e,t),At(e,[{key:"render",value:function(){for(var a=this.props,i=a.segments,l=a.slotMetrics.slots,c=Ty(i).levels[0],d=1,f=1,m=[];d<=l;){var v="_lvl_"+d,y=c.filter(function(O){return Cy(O,d)})[0]||{},b=y.event,x=y.left,w=y.right,_=y.span;if(!b){var E=this.getHiddenEventsForSlot(i,d);if(E.length>0){var S=d-f;S&&m.push(Ur.renderSpan(l,S,v+"_gap")),m.push(Ur.renderSpan(l,1,v,this.renderShowMore(i,d))),f=d=d+1;continue}d++;continue}var N=Math.max(0,x-f);if(this.canRenderSlotEvent(x,_)){var T=Ur.renderEvent(this.props,b);N&&m.push(Ur.renderSpan(l,N,v+"_gap")),m.push(Ur.renderSpan(l,_,v,T)),f=d=w+1}else N&&m.push(Ur.renderSpan(l,N,v+"_gap")),m.push(Ur.renderSpan(l,1,v,this.renderShowMore(i,d))),f=d=d+1}return Y.createElement("div",{className:"rbc-row"},m)}},{key:"getHiddenEventsForSlot",value:function(a,i){var l=w0(a,i),c=Ty(a).levels[0],d=c.filter(function(f){return Cy(f,i)}).map(function(f){return f.event});return l.filter(function(f){return!d.some(function(m){return m===f})})}},{key:"canRenderSlotEvent",value:function(a,i){var l=this.props.segments;return vU(a,a+i).every(function(c){var d=w0(l,c).length;return d===1})}},{key:"renderShowMore",value:function(a,i){var l=this,c=this.props,d=c.localizer,f=c.slotMetrics,m=c.components,v=f.getEventsForSlot(i),y=w0(a,i),b=y.length;if(m!=null&&m.showMore){var x=m.showMore,w=f.getDateForSlot(i-1);return b?Y.createElement(x,{localizer:d,slotDate:w,slot:i,count:b,events:v,remainingEvents:y}):!1}return b?Y.createElement("button",{type:"button",key:"sm_"+i,className:ct("rbc-button-link","rbc-show-more"),onClick:function(E){return l.showMore(i,E)}},d.messages.showMore(b,y,v)):!1}},{key:"showMore",value:function(a,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(a,i.target)}}])})(Y.Component);dR.defaultProps=Je({},Ur.defaultProps);var wI=function(e){var r=e.children;return Y.createElement("div",{className:"rbc-row-content-scroll-container"},r)},_I=function(e,r){return e.left<=r&&e.right>=r},SI=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function fR(){return FA(function(t){for(var e=t.range,r=t.events,a=t.maxRows,i=t.minRows,l=t.accessors,c=t.localizer,d=uR({dateRange:e,localizer:c}),f=d.first,m=d.last,v=r.map(function(_){return yI(_,e,l,c)}),y=Ty(v,Math.max(a-1,1)),b=y.levels,x=y.extra,w=x.length>0?i-1:i;b.length<w;)b.push([]);return{first:f,last:m,levels:b,extra:x,range:e,slots:e.length,clone:function(E){var S=fR();return S(Je(Je({},t),E))},getDateForSlot:function(E){return e[E]},getSlotForDate:function(E){return e.find(function(S){return c.isSameDate(S,E)})},getEventsForSlot:function(E){return v.filter(function(S){return _I(S,E)}).map(function(S){return S.event})},continuesPrior:function(E){return c.continuesPrior(l.start(E),f)},continuesAfter:function(E){var S=l.start(E),N=l.end(E);return c.continuesAfter(S,N,m)}}},SI)}var Pl=(function(t){function e(){var r;Ct(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Xt(this,e,[].concat(i)),r.handleSelectSlot=function(c){var d=r.props,f=d.range,m=d.onSelectSlot;m(f.slice(c.start,c.end+1),c)},r.handleShowMore=function(c,d){var f=r.props,m=f.range,v=f.onShowMore,y=r.slotMetrics(r.props),b=Id(r.containerRef.current,".rbc-row-bg")[0],x;b&&(x=b.children[c-1]);var w=y.getEventsForSlot(c);v(w,m[c-1],x,c,d)},r.getContainer=function(){var c=r.props.container;return c?c():r.containerRef.current},r.renderHeadingCell=function(c,d){var f=r.props,m=f.renderHeader,v=f.getNow,y=f.localizer;return m({date:c,key:"header_".concat(d),className:ct("rbc-date-cell",y.isSameDate(c,v())&&"rbc-now")})},r.renderDummy=function(){var c=r.props,d=c.className,f=c.range,m=c.renderHeader,v=c.showAllEvents;return Y.createElement("div",{className:d,ref:r.containerRef},Y.createElement("div",{className:ct("rbc-row-content",v&&"rbc-row-content-scrollable")},m&&Y.createElement("div",{className:"rbc-row",ref:r.headingRowRef},f.map(r.renderHeadingCell)),Y.createElement("div",{className:"rbc-row",ref:r.eventRowRef},Y.createElement("div",{className:"rbc-row-segment"},Y.createElement("div",{className:"rbc-event"},Y.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=A.createRef(),r.headingRowRef=A.createRef(),r.eventRowRef=A.createRef(),r.slotMetrics=fR(),r}return Qt(e,t),At(e,[{key:"getRowLimit",value:function(){var a,i=ps(this.eventRowRef.current),l=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?ps(this.headingRowRef.current):0,c=ps(this.containerRef.current)-l;return Math.max(Math.floor(c/i),1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.rtl,c=a.range,d=a.className,f=a.selected,m=a.selectable,v=a.renderForMeasure,y=a.accessors,b=a.getters,x=a.components,w=a.getNow,_=a.renderHeader,E=a.onSelect,S=a.localizer,N=a.onSelectStart,T=a.onSelectEnd,O=a.onDoubleClick,M=a.onKeyPress,D=a.resourceId,C=a.longPressThreshold,L=a.isAllDay,P=a.resizable,R=a.showAllEvents;if(v)return this.renderDummy();var q=this.slotMetrics(this.props),z=q.levels,U=q.extra,W=R?wI:un,Z=x.weekWrapper,H={selected:f,accessors:y,getters:b,localizer:S,components:x,onSelect:E,onDoubleClick:O,onKeyPress:M,resourceId:D,slotMetrics:q,resizable:P};return Y.createElement("div",{className:d,role:"rowgroup",ref:this.containerRef},Y.createElement(gI,{localizer:S,date:i,getNow:w,rtl:l,range:c,selectable:m,container:this.getContainer,getters:b,onSelectStart:N,onSelectEnd:T,onSelectSlot:this.handleSelectSlot,components:x,longPressThreshold:C,resourceId:D}),Y.createElement("div",{className:ct("rbc-row-content",R&&"rbc-row-content-scrollable"),role:"row"},_&&Y.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},c.map(this.renderHeadingCell)),Y.createElement(W,null,Y.createElement(Z,Object.assign({isAllDay:L},H,{rtl:this.props.rtl}),z.map(function(B,te){return Y.createElement(cR,Object.assign({key:te,segments:B},H))}),!!U.length&&Y.createElement(dR,Object.assign({segments:U,onShowMore:this.handleShowMore},H))))))}}])})(Y.Component);Pl.defaultProps={minRows:0,maxRows:1/0};var Pb=function(e){var r=e.label;return Y.createElement("span",{role:"columnheader","aria-sort":"none"},r)},EI=function(e){var r=e.label,a=e.drilldownView,i=e.onDrillDown;return a?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):Y.createElement("span",null,r)},jI=["date","className"],NI=function(e,r,a,i,l){return e.filter(function(c){return ql(c,r,a,i,l)})},of=(function(t){function e(){var r;Ct(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Xt(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(c,d){var f=r.props,m=f.events,v=f.components,y=f.selectable,b=f.getNow,x=f.selected,w=f.date,_=f.localizer,E=f.longPressThreshold,S=f.accessors,N=f.getters,T=f.showAllEvents,O=r.state,M=O.needLimitMeasure,D=O.rowLimit,C=NI(Gu(m),c[0],c[c.length-1],S,_),L=xI(C,S,_);return Y.createElement(Pl,{key:d,ref:d===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:b,date:w,range:c,events:L,maxRows:T?1/0:D,selected:x,selectable:y,components:v,accessors:S,getters:N,localizer:_,renderHeader:r.readerDateHeading,renderForMeasure:M,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:E,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:T})},r.readerDateHeading=function(c){var d=c.date,f=c.className,m=yn(c,jI),v=r.props,y=v.date,b=v.getDrilldownView,x=v.localizer,w=x.neq(y,d,"month"),_=x.isSameDate(d,y),E=b(d),S=x.format(d,"dateFormat"),N=r.props.components.dateHeader||EI;return Y.createElement("div",Object.assign({},m,{className:ct(f,w&&"rbc-off-range",_&&"rbc-current"),role:"cell"}),Y.createElement(N,{label:S,date:d,drilldownView:E,isOffRange:w,onDrillDown:function(O){return r.handleHeadingClick(d,E,O)}}))},r.handleSelectSlot=function(c,d){r._pendingSelection=r._pendingSelection.concat(c),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(d)})},r.handleHeadingClick=function(c,d,f){f.preventDefault(),r.clearSelection(),nt(r.props.onDrillDown,[c,d])},r.handleSelectEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onKeyPressEvent,d)},r.handleShowMore=function(c,d,f,m,v){var y=r.props,b=y.popup,x=y.onDrillDown,w=y.onShowMore,_=y.getDrilldownView,E=y.doShowMoreDrillDown;if(r.clearSelection(),b){var S=Ud(f,r.containerRef.current);r.setState({overlay:{date:d,events:c,position:S,target:v}})}else E&&nt(x,[d,_(d)||Ot.DAY]);nt(w,[c,d,m])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=A.createRef(),r.slotRowRef=A.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Qt(e,t),At(e,[{key:"componentDidMount",value:function(){var a=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||Vl(function(){i=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.className,d=l.visibleDays(i,l),f=gL(d,7);return this._weekCount=f.length,Y.createElement("div",{className:ct("rbc-month-view",c),role:"table","aria-label":"Month View",ref:this.containerRef},Y.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(f[0])),f.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var i=this.props,l=i.localizer,c=i.components,d=a[0],f=a[a.length-1],m=c.header||Pb;return l.range(d,f,"day").map(function(v,y){return Y.createElement("div",{key:"header_"+y,className:"rbc-header"},Y.createElement(m,{date:v,localizer:l,label:l.format(v,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,i,l=this,c=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,f=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(qb,{overlay:c,accessors:f,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(d,f){return+d-+f});var l=new Date(i[0]),c=new Date(i[i.length-1]);c.setDate(i[i.length-1].getDate()+1),nt(this.props.onSelectSlot,{slots:i,start:l,end:c,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,i){var l=a.date,c=a.localizer;return{date:l,needLimitMeasure:c.neq(l,i.date,"month")}}}])})(Y.Component);of.range=function(t,e){var r=e.localizer,a=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:a,end:i}};of.navigate=function(t,e,r){var a=r.localizer;switch(e){case hr.PREVIOUS:return a.add(t,-1,"month");case hr.NEXT:return a.add(t,1,"month");default:return t}};of.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var JT=function(e){var r=e.min,a=e.max,i=e.step,l=e.slots,c=e.localizer;return"".concat(+c.startOf(r,"minutes"))+"".concat(+c.startOf(a,"minutes"))+"".concat(i,"-").concat(l)};function Lb(t){for(var e=t.min,r=t.max,a=t.step,i=t.timeslots,l=t.localizer,c=JT({step:a,localizer:l}),d=1+l.getTotalMin(e,r),f=l.getMinutesFromMidnight(e),m=Math.ceil((d-1)/(a*i)),v=m*i,y=new Array(m),b=new Array(v),x=0;x<m;x++){y[x]=new Array(i);for(var w=0;w<i;w++){var _=x*i+w,E=_*a;b[_]=y[x][w]=l.getSlotDate(e,f,E)}}var S=b.length*a;b.push(l.getSlotDate(e,f,S));function N(T){var O=l.diff(e,T,"minutes")+l.getDstOffset(e,T);return Math.min(O,d)}return{groups:y,update:function(O){return JT(O)!==c?Lb(O):this},dateIsInGroup:function(O,M){var D=y[M+1];return l.inRange(O,y[M][0],D?D[0]:r,"minutes")},nextSlot:function(O){var M=b[Math.min(b.findIndex(function(D){return D===O||l.eq(D,O)})+1,b.length-1)];return l.eq(M,O)&&(M=l.add(O,a,"minutes")),M},closestSlotToPosition:function(O){var M=Math.min(b.length-1,Math.max(0,Math.floor(O*v)));return b[M]},closestSlotFromPoint:function(O,M){var D=Math.abs(M.top-M.bottom);return this.closestSlotToPosition((O.y-M.top)/D)},closestSlotFromDate:function(O){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l.lt(O,e,"minutes"))return b[0];if(l.gt(O,r,"minutes"))return b[b.length-1];var D=l.diff(e,O,"minutes");return b[(D-D%a)/a+M]},startsBeforeDay:function(O){return l.lt(O,e,"day")},startsAfterDay:function(O){return l.gt(O,r,"day")},startsBefore:function(O){return l.lt(l.merge(e,O),e,"minutes")},startsAfter:function(O){return l.gt(l.merge(r,O),r,"minutes")},getRange:function(O,M,D,C){D||(O=l.min(r,l.max(e,O))),C||(M=l.min(r,l.max(e,M)));var L=N(O),P=N(M),R=P>a*v&&!l.eq(r,M)?(L-a)/(a*v)*100:L/(a*v)*100;return{top:R,height:P/(a*v)*100-R,start:N(O),startDate:O,end:N(M),endDate:M}},getCurrentTimePosition:function(O){var M=N(O),D=M/(a*v)*100;return D}}}var TI=(function(){function t(e,r){var a=r.accessors,i=r.slotMetrics;Ct(this,t);var l=i.getRange(a.start(e),a.end(e)),c=l.start,d=l.startDate,f=l.end,m=l.endDate,v=l.top,y=l.height;this.start=c,this.end=f,this.startMs=+d,this.endMs=+m,this.top=v,this.height=y,this.data=e}return At(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,l){return Math.max(i,l.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var a=100-this.container._width;return a/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,a=Math.min(100,this._width*1.7);if(this.rows)return a;if(this.leaves)return this.leaves.length>0?a:r;var i=this.row.leaves,l=i.indexOf(this);return l===i.length-1?r:a}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,a=r.leaves,i=r.xOffset,l=r._width,c=a.indexOf(this)+1;return i+c*l}}])})();function OI(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function CI(t){for(var e=qU(t,["startMs",function(d){return-d.endMs}]),r=[];e.length>0;){var a=e.shift();r.push(a);for(var i=0;i<e.length;i++){var l=e[i];if(!(a.endMs>l.startMs)){if(i>0){var c=e.splice(i,1)[0];r.push(c)}break}}}return r}function hR(t){for(var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=e.map(function(v){return new TI(v,{slotMetrics:a,accessors:i})}),c=CI(l),d=[],f=function(){var y=c[m],b=d.find(function(_){return _.end>y.start||Math.abs(y.start-_.start)<r});if(!b)return y.rows=[],d.push(y),1;y.container=b;for(var x=null,w=b.rows.length-1;!x&&w>=0;w--)OI(b.rows[w],y,r)&&(x=b.rows[w]);x?(x.leaves.push(y),y.row=x):(y.leaves=[],b.rows.push(y))},m=0;m<c.length;m++)f();return c.map(function(v){return{event:v.data,style:{top:v.top,height:v.height,width:v.width,xOffset:Math.max(0,v.xOffset)}}})}function mR(t,e,r){for(var a=0;a<t.friends.length;++a)if(!(r.indexOf(t.friends[a])>-1)){e=e>t.friends[a].idx?e:t.friends[a].idx,r.push(t.friends[a]);var i=mR(t.friends[a],e,r);e=e>i?e:i}return e}function AI(t){var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=hR({events:e,minimumStartDifference:r,slotMetrics:a,accessors:i});l.sort(function(Z,H){return Z=Z.style,H=H.style,Z.top!==H.top?Z.top>H.top?1:-1:Z.height!==H.height?Z.top+Z.height<H.top+H.height?1:-1:0});for(var c=0;c<l.length;++c)l[c].friends=[],delete l[c].style.left,delete l[c].style.left,delete l[c].idx,delete l[c].size;for(var d=0;d<l.length-1;++d)for(var f=l[d],m=f.style.top,v=f.style.top+f.style.height,y=d+1;y<l.length;++y){var b=l[y],x=b.style.top,w=b.style.top+b.style.height;(x>=m&&w<=v||w>m&&w<=v||x>=m&&x<v)&&(f.friends.push(b),b.friends.push(f))}for(var _=0;_<l.length;++_){for(var E=l[_],S=[],N=0;N<100;++N)S.push(1);for(var T=0;T<E.friends.length;++T)E.friends[T].idx!==void 0&&(S[E.friends[T].idx]=0);E.idx=S.indexOf(1)}for(var O=0;O<l.length;++O){var M=0;if(!l[O].size){var D=[],C=mR(l[O],0,D);M=100/(C+1),l[O].size=M;for(var L=0;L<D.length;++L)D[L].size=M}}for(var P=0;P<l.length;++P){var R=l[P];R.style.left=R.idx*R.size;for(var q=0,z=0;z<R.friends.length;++z){var U=R.friends[z].idx;q=q>U?q:U}q<=R.idx&&(R.size=100-R.idx*R.size);var W=R.idx===0?0:3;R.style.width="calc(".concat(R.size,"% - ").concat(W,"px)"),R.style.height="calc(".concat(R.style.height,"% - 2px)"),R.style.xOffset="calc(".concat(R.style.left,"% + ").concat(W,"px)")}return l}var ZT={overlap:hR,"no-overlap":AI};function RI(t){return!!(t&&t.constructor&&t.call&&t.apply)}function DI(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in ZT&&(r=ZT[e]),RI(r)?r.apply(this,arguments):[]}var pR=(function(t){function e(){return Ct(this,e),Xt(this,e,arguments)}return Qt(e,t),At(e,[{key:"render",value:function(){var a=this.props,i=a.renderSlot,l=a.resource,c=a.group,d=a.getters,f=a.components,m=f===void 0?{}:f,v=m.timeSlotWrapper,y=v===void 0?un:v,b=d?d.slotGroupProp(c):{};return Y.createElement("div",Object.assign({className:"rbc-timeslot-group"},b),c.map(function(x,w){var _=d?d.slotProp(x,l):{};return Y.createElement(y,{key:w,value:x,resource:l},Y.createElement("div",Object.assign({},_,{className:ct("rbc-time-slot",_.className)}),i&&i(x,w)))}))}}])})(A.Component);function Mu(t){return typeof t=="string"?t:t+"%"}function kI(t){var e=t.style,r=t.className,a=t.event,i=t.accessors,l=t.rtl,c=t.selected,d=t.label,f=t.continuesPrior,m=t.continuesAfter,v=t.getters,y=t.onClick,b=t.onDoubleClick,x=t.isBackgroundEvent,w=t.onKeyPress,_=t.components,E=_.event,S=_.eventWrapper,N=i.title(a),T=i.tooltip(a),O=i.end(a),M=i.start(a),D=v.eventProp(a,M,O,c),C=[Y.createElement("div",{key:"1",className:"rbc-event-label"},d),Y.createElement("div",{key:"2",className:"rbc-event-content"},E?Y.createElement(E,{event:a,title:N}):N)],L=e.height,P=e.top,R=e.width,q=e.xOffset,z=Je(Je({},D.style),{},ds({top:Mu(P),height:Mu(L),width:Mu(R)},l?"right":"left",Mu(q)));return Y.createElement(S,Object.assign({type:"time"},t),Y.createElement("div",{role:"button",tabIndex:0,onClick:y,onDoubleClick:b,style:z,onKeyDown:w,title:T?(typeof d=="string"?d+": ":"")+T:void 0,className:ct(x?"rbc-background-event":"rbc-event",r,D.className,{"rbc-selected":c,"rbc-event-continues-earlier":f,"rbc-event-continues-later":m})},C))}var MI=function(e){var r=e.children,a=e.className,i=e.style,l=e.innerRef;return Y.createElement("div",{className:a,style:i,ref:l},r)},qI=Y.forwardRef(function(t,e){return Y.createElement(MI,Object.assign({},t,{innerRef:e}))}),PI=["dayProp"],LI=["eventContainerWrapper","timeIndicatorWrapper"],vR=(function(t){function e(){var r;Ct(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Xt(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(c){var d=c.events,f=c.isBackgroundEvent,m=r.props,v=m.rtl,y=m.selected,b=m.accessors,x=m.localizer,w=m.getters,_=m.components,E=m.step,S=m.timeslots,N=m.dayLayoutAlgorithm,T=m.resizable,O=r,M=O.slotMetrics,D=x.messages,C=DI({events:d,accessors:b,slotMetrics:M,minimumStartDifference:Math.ceil(E*S/2),dayLayoutAlgorithm:N});return C.map(function(L,P){var R,q=L.event,z=L.style,U=b.end(q),W=b.start(q),Z=(R=b.eventId(q))!==null&&R!==void 0?R:"evt_"+P,H="eventTimeRangeFormat",B,te=M.startsBeforeDay(W),le=M.startsAfterDay(U);te?H="eventTimeRangeEndFormat":le&&(H="eventTimeRangeStartFormat"),te&&le?B=D.allDay:B=x.format({start:W,end:U},H);var V=te||M.startsBefore(W),$=le||M.startsAfter(U);return Y.createElement(kI,{style:z,event:q,label:B,key:Z,getters:w,rtl:v,components:_,continuesPrior:V,continuesAfter:$,accessors:b,resource:r.props.resource,selected:sf(q,y),onClick:function(oe){return r._select(Je(Je(Je({},q),r.props.resource&&{sourceResource:r.props.resource}),f&&{isBackgroundEvent:!0}),oe)},onDoubleClick:function(oe){return r._doubleClick(q,oe)},isBackgroundEvent:f,onKeyPress:function(oe){return r._keyPress(q,oe)},resizable:T})})},r._selectable=function(){var c=r.containerRef.current,d=r.props,f=d.longPressThreshold,m=d.localizer,v=r._selector=new lR(function(){return c},{longPressThreshold:f}),y=function(_){var E=r.props.onSelecting,S=r.state||{},N=b(_),T=N.startDate,O=N.endDate;E&&(m.eq(S.startDate,T,"minutes")&&m.eq(S.endDate,O,"minutes")||E({start:T,end:O,resourceId:r.props.resource})===!1)||(r.state.start!==N.start||r.state.end!==N.end||r.state.selecting!==N.selecting)&&r.setState(N)},b=function(_){var E=r.slotMetrics.closestSlotFromPoint(_,Ts(c));r.state.selecting||(r._initialSlot=E);var S=r._initialSlot;m.lte(S,E)?E=r.slotMetrics.nextSlot(E):m.gt(S,E)&&(S=r.slotMetrics.nextSlot(S));var N=r.slotMetrics.getRange(m.min(S,E),m.max(S,E));return Je(Je({},N),{},{selecting:!0,top:"".concat(N.top,"%"),height:"".concat(N.height,"%")})},x=function(_,E){if(!xd(r.containerRef.current,_)){var S=b(_),N=S.startDate,T=S.endDate;r._selectSlot({startDate:N,endDate:T,action:E,box:_})}r.setState({selecting:!1})};v.on("selecting",y),v.on("selectStart",y),v.on("beforeSelect",function(w){if(r.props.selectable==="ignoreEvents")return!xd(r.containerRef.current,w)}),v.on("click",function(w){return x(w,"click")}),v.on("doubleClick",function(w){return x(w,"doubleClick")}),v.on("select",function(w){r.state.selecting&&(r._selectSlot(Je(Je({},r.state),{},{action:"select",bounds:w})),r.setState({selecting:!1}))}),v.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(c){for(var d=c.startDate,f=c.endDate,m=c.action,v=c.bounds,y=c.box,b=d,x=[];r.props.localizer.lte(b,f);)x.push(b),b=new Date(+b+r.props.step*60*1e3);nt(r.props.onSelectSlot,{slots:x,start:d,end:f,resourceId:r.props.resource,action:m,bounds:v,box:y})},r._select=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onSelectEvent,d)},r._doubleClick=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onDoubleClickEvent,d)},r._keyPress=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onKeyPressEvent,d)},r.slotMetrics=Lb(r.props),r.containerRef=A.createRef(),r}return Qt(e,t),At(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(a,i){this.props.selectable&&!a.selectable&&this._selectable(),!this.props.selectable&&a.selectable&&this._teardownSelectable();var l=this.props,c=l.getNow,d=l.isNow,f=l.localizer,m=l.date,v=l.min,y=l.max,b=f.neq(a.getNow(),c(),"minutes");if(a.isNow!==d||b){if(this.clearTimeIndicatorInterval(),d){var x=!b&&f.eq(a.date,m,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(x)}}else d&&(f.neq(a.min,v,"minutes")||f.neq(a.max,y,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,i=a.min,l=a.max,c=a.getNow,d=c();if(d>=i&&d<=l){var f=this.slotMetrics.getCurrentTimePosition(d);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:f})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.max,c=a.rtl,d=a.isNow,f=a.resource,m=a.accessors,v=a.localizer,y=a.getters,b=y.dayProp,x=yn(y,PI),w=a.components,_=w.eventContainerWrapper,E=w.timeIndicatorWrapper,S=yn(w,LI);this.slotMetrics=this.slotMetrics.update(this.props);var N=this.slotMetrics,T=this.state,O=T.selecting,M=T.top,D=T.height,C=T.startDate,L=T.endDate,P={start:C,end:L},R=b(l,f),q=R.className,z=R.style,U={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},W=S.dayColumnWrapper||qI;return Y.createElement(W,{ref:this.containerRef,date:i,style:z,className:ct(q,"rbc-day-slot","rbc-time-column",d&&"rbc-now",d&&"rbc-today",O&&"rbc-slot-selecting"),slotMetrics:N,resource:f},N.groups.map(function(Z,H){return Y.createElement(pR,{key:H,group:Z,resource:f,getters:x,components:S})}),Y.createElement(_,{localizer:v,resource:f,accessors:m,getters:x,components:S,slotMetrics:N},Y.createElement("div",{className:ct("rbc-events-container",c&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),O&&Y.createElement("div",{className:"rbc-slot-selection",style:{top:M,height:D}},Y.createElement("span",null,v.format(P,"selectRangeFormat"))),d&&this.intervalTriggered&&Y.createElement(E,U,Y.createElement("div",U)))}}])})(Y.Component);vR.defaultProps={dragThroughEvents:!0,timeslots:2};var gR=function(e){var r=e.label;return Y.createElement(Y.Fragment,null,r)},$I=(function(t){function e(){var r;Ct(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Xt(this,e,[].concat(i)),r.handleHeaderClick=function(c,d,f){f.preventDefault(),nt(r.props.onDrillDown,[c,d])},r.renderRow=function(c){var d=r.props,f=d.events,m=d.rtl,v=d.selectable,y=d.getNow,b=d.range,x=d.getters,w=d.localizer,_=d.accessors,E=d.components,S=d.resizable,N=_.resourceId(c),T=c?f.filter(function(O){return _.resource(O)===N}):f;return Y.createElement(Pl,{isAllDay:!0,rtl:m,getNow:y,minRows:2,maxRows:r.props.allDayMaxRows+1,range:b,events:T,resourceId:N,className:"rbc-allday-cell",selectable:v,selected:r.props.selected,components:E,accessors:_,getters:x,localizer:w,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:S})},r}return Qt(e,t),At(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,c=l.localizer,d=l.getDrilldownView,f=l.getNow,m=l.getters.dayProp,v=l.components.header,y=v===void 0?Pb:v,b=f();return a.map(function(x,w){var _=d(x),E=c.format(x,"dayFormat"),S=m(x),N=S.className,T=S.style,O=Y.createElement(y,{date:x,label:E,localizer:c});return Y.createElement("div",{key:w,style:T,className:ct("rbc-header",N,c.isSameDate(x,b)&&"rbc-today")},_?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(D){return i.handleHeaderClick(x,_,D)}},O):Y.createElement("span",null,O))})}},{key:"render",value:function(){var a=this,i=this.props,l=i.width,c=i.rtl,d=i.resources,f=i.range,m=i.events,v=i.getNow,y=i.accessors,b=i.selectable,x=i.components,w=i.getters,_=i.scrollRef,E=i.localizer,S=i.isOverflowing,N=i.components,T=N.timeGutterHeader,O=N.resourceHeader,M=O===void 0?gR:O,D=i.resizable,C={};S&&(C[c?"marginLeft":"marginRight"]="".concat(Ql()-1,"px"));var L=d.groupEvents(m);return Y.createElement("div",{style:C,ref:_,className:ct("rbc-time-header",S&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:l,minWidth:l,maxWidth:l}},T&&Y.createElement(T,null)),d.map(function(P,R){var q=xs(P,2),z=q[0],U=q[1];return Y.createElement("div",{className:"rbc-time-header-content",key:z||R},U&&Y.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(R)},Y.createElement("div",{className:"rbc-header"},Y.createElement(M,{index:R,label:y.resourceTitle(U),resource:U}))),Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(f.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(f)),Y.createElement(Pl,{isAllDay:!0,rtl:c,getNow:v,minRows:2,maxRows:a.props.allDayMaxRows+1,range:f,events:L.get(z)||[],resourceId:U&&z,className:"rbc-allday-cell",selectable:b,selected:a.props.selected,components:x,accessors:y,getters:w,localizer:E,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:D}))}))}}])})(Y.Component),UI=(function(t){function e(){var r;Ct(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Xt(this,e,[].concat(i)),r.handleHeaderClick=function(c,d,f){f.preventDefault(),nt(r.props.onDrillDown,[c,d])},r}return Qt(e,t),At(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,c=l.localizer,d=l.getDrilldownView,f=l.getNow,m=l.getters.dayProp,v=l.components,y=v.header,b=y===void 0?Pb:y,x=v.resourceHeader,w=x===void 0?gR:x,_=l.resources,E=l.accessors,S=l.events,N=l.rtl,T=l.selectable,O=l.components,M=l.getters,D=l.resizable,C=f(),L=_.groupEvents(S);return a.map(function(P,R){var q=d(P),z=c.format(P,"dayFormat"),U=m(P),W=U.className,Z=U.style,H=Y.createElement(b,{date:P,label:z,localizer:c});return Y.createElement("div",{key:R,className:"rbc-time-header-content rbc-resource-grouping"},Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},Y.createElement("div",{style:Z,className:ct("rbc-header",W,c.isSameDate(P,C)&&"rbc-today")},q?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(te){return i.handleHeaderClick(P,q,te)}},H):Y.createElement("span",null,H))),Y.createElement("div",{className:"rbc-row"},_.map(function(B,te){var le=xs(B,2),V=le[0],$=le[1];return Y.createElement("div",{key:"resource_".concat(V,"_").concat(te),className:ct("rbc-header",W,c.isSameDate(P,C)&&"rbc-today")},Y.createElement(w,{index:te,label:E.resourceTitle($),resource:$}))})),Y.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},_.map(function(B,te){var le=xs(B,2),V=le[0],$=le[1],Q=(L.get(V)||[]).filter(function(oe){return c.isSameDate(oe.start,P)||c.isSameDate(oe.end,P)});return Y.createElement(Pl,{key:"resource_".concat(V,"_").concat(te),isAllDay:!0,rtl:N,getNow:f,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[P],events:Q,resourceId:$&&V,className:"rbc-allday-cell",selectable:T,selected:i.props.selected,components:O,accessors:E,getters:M,localizer:c,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:D})})))})}},{key:"render",value:function(){var a=this.props,i=a.width,l=a.rtl,c=a.range,d=a.scrollRef,f=a.isOverflowing,m=a.components.timeGutterHeader,v={};return f&&(v[l?"marginLeft":"marginRight"]="".concat(Ql()-1,"px")),Y.createElement("div",{style:v,ref:d,className:ct("rbc-time-header",f&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},m&&Y.createElement(m,null)),this.renderHeaderCells(c))}}])})(Y.Component);function zI(t){var e=t.min,r=t.max,a=t.localizer;return a.getTimezoneOffset(e)!==a.getTimezoneOffset(r)?{start:a.add(e,-1,"day"),end:a.add(r,-1,"day")}:{start:e,end:r}}var II=function(e){var r=e.min,a=e.max,i=e.timeslots,l=e.step,c=e.localizer,d=e.getNow,f=e.resource,m=e.components,v=e.getters,y=e.gutterRef,b=m.timeGutterWrapper,x=A.useMemo(function(){return zI({min:r,max:a,localizer:c})},[r?.toISOString(),a?.toISOString(),c]),w=x.start,_=x.end,E=A.useState(Lb({min:w,max:_,timeslots:i,step:l,localizer:c})),S=xs(E,2),N=S[0],T=S[1];A.useEffect(function(){N&&T(N.update({min:w,max:_,timeslots:i,step:l,localizer:c}))},[w?.toISOString(),_?.toISOString(),i,l]);var O=A.useCallback(function(M,D){if(D)return null;var C=N.dateIsInGroup(d(),D);return Y.createElement("span",{className:ct("rbc-label",C&&"rbc-now")},c.format(M,"timeGutterFormat"))},[N,c,d]);return Y.createElement(b,{slotMetrics:N},Y.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:y},N.groups.map(function(M,D){return Y.createElement(pR,{key:D,group:M,resource:f,components:m,renderSlot:O,getters:v})})))},BI=Y.forwardRef(function(t,e){return Y.createElement(II,Object.assign({gutterRef:e},t))}),_0={};function HI(t,e){return{map:function(a){return t?t.map(function(i,l){return a([e.resourceId(i),i],l)}):[a([_0,null],0)]},groupEvents:function(a){var i=new Map;return t?(a.forEach(function(l){var c=e.resource(l)||_0;if(Array.isArray(c))c.forEach(function(f){var m=i.get(f)||[];m.push(l),i.set(f,m)});else{var d=i.get(c)||[];d.push(l),i.set(c,d)}}),i):(i.set(_0,a),i)}}}var Vi=(function(t){function e(r){var a;return Ct(this,e),a=Xt(this,e,[r]),a.handleScroll=function(i){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=i.target.scrollLeft)},a.handleResize=function(){Rl(a.rafHandle),a.rafHandle=Vl(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onKeyPressEvent,l)},a.handleSelectEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onSelectEvent,l)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onDoubleClickEvent,l)},a.handleShowMore=function(i,l,c,d,f){var m=a.props,v=m.popup,y=m.onDrillDown,b=m.onShowMore,x=m.getDrilldownView,w=m.doShowMoreDrillDown;if(a.clearSelection(),v){var _=Ud(c,a.containerRef.current);a.setState({overlay:{date:l,events:i,position:Je(Je({},_),{},{width:"200px"}),target:f}})}else w&&nt(y,[l,x(l)||Ot.DAY]);nt(b,[i,l,d])},a.handleSelectAllDaySlot=function(i,l){var c=a.props.onSelectSlot,d=new Date(i[0]),f=new Date(i[i.length-1]);f.setDate(i[i.length-1].getDate()+1),nt(c,{slots:i,start:d,end:f,action:l.action,resourceId:l.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var i=a.contentRef.current;if(i!=null&&i.scrollHeight){var l=i.scrollHeight>i.clientHeight;a.state.isOverflowing!==l&&(a._updatingOverflow=!0,a.setState({isOverflowing:l},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=FA(function(i,l){return HI(i,l)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=Y.createRef(),a.contentRef=Y.createRef(),a.containerRef=Y.createRef(),a._scrollRatio=null,a.gutterRef=A.createRef(),a}return Qt(e,t),At(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Rl(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(a,i,l,c,d,f,m,v,y,b){var x=this.props,w=x.min,_=x.max,E=(c.get(i)||[]).filter(function(N){return f.inRange(a,m.start(N),m.end(N),"day")}),S=(d.get(i)||[]).filter(function(N){return f.inRange(a,m.start(N),m.end(N),"day")});return Y.createElement(vR,Object.assign({},this.props,{localizer:f,min:f.merge(a,w),max:f.merge(a,_),resource:l&&i,components:v,isNow:f.isSameDate(a,b),key:"".concat(i,"-").concat(a),date:a,events:E,backgroundEvents:S,dayLayoutAlgorithm:y}))}},{key:"renderResourcesFirst",value:function(a,i,l,c,d,f,m,v,y){var b=this;return i.map(function(x){var w=xs(x,2),_=w[0],E=w[1];return a.map(function(S){return b.renderDayColumn(S,_,E,l,c,d,f,v,y,m)})})}},{key:"renderRangeFirst",value:function(a,i,l,c,d,f,m,v,y){var b=this;return a.map(function(x){return Y.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:x},i.map(function(w){var _=xs(w,2),E=_[0],S=_[1];return Y.createElement("div",{style:{flex:1},key:f.resourceId(S)},b.renderDayColumn(x,E,S,l,c,d,f,v,y,m))}))})}},{key:"renderEvents",value:function(a,i,l,c){var d=this.props,f=d.accessors,m=d.localizer,v=d.resourceGroupingLayout,y=d.components,b=d.dayLayoutAlgorithm,x=this.memoizedResources(this.props.resources,f),w=x.groupEvents(i),_=x.groupEvents(l);return v?this.renderRangeFirst(a,x,w,_,m,f,c,y,b):this.renderResourcesFirst(a,x,w,_,m,f,c,y,b)}},{key:"render",value:function(){var a,i=this.props,l=i.events,c=i.backgroundEvents,d=i.range,f=i.width,m=i.rtl,v=i.selected,y=i.getNow,b=i.resources,x=i.components,w=i.accessors,_=i.getters,E=i.localizer,S=i.min,N=i.max,T=i.showMultiDayTimes,O=i.longPressThreshold,M=i.resizable,D=i.resourceGroupingLayout;f=f||this.state.gutterWidth;var C=d[0],L=d[d.length-1];this.slots=d.length;var P=[],R=[],q=[];l.forEach(function(U){if(ql(U,C,L,w,E)){var W=w.start(U),Z=w.end(U);w.allDay(U)||E.startAndEndAreDateOnly(W,Z)||!T&&!E.isSameDate(W,Z)?P.push(U):R.push(U)}}),c.forEach(function(U){ql(U,C,L,w,E)&&q.push(U)}),P.sort(function(U,W){return Oy(U,W,w,E)});var z={range:d,events:P,width:f,rtl:m,getNow:y,localizer:E,selected:v,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(b,w),selectable:this.props.selectable,accessors:w,getters:_,components:x,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:O,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:M};return Y.createElement("div",{className:ct("rbc-time-view",b&&"rbc-time-view-resources"),ref:this.containerRef},b&&b.length>1&&D?Y.createElement(UI,z):Y.createElement($I,z),this.props.popup&&this.renderOverlay(),Y.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Y.createElement(BI,{date:C,ref:this.gutterRef,localizer:E,min:E.merge(C,S),max:E.merge(C,N),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:x,className:"rbc-time-gutter",getters:_}),this.renderEvents(d,R,q,y())))}},{key:"renderOverlay",value:function(){var a,i,l=this,c=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,f=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(qb,{overlay:c,accessors:f,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,l=(i=a.gutterRef)!==null&&i!==void 0&&i.current?Ml(a.gutterRef.current):void 0;l&&a.state.gutterWidth!==l&&a.setState({gutterWidth:l})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=a.min,l=a.max,c=a.scrollToTime,d=a.localizer,f=d.diff(d.merge(c,i),c,"milliseconds"),m=d.diff(i,l,"milliseconds");this._scrollRatio=f/m}}])})(A.Component);Vi.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var FI=["date","localizer","min","max","scrollToTime","enableAutoScroll"],lf=(function(t){function e(){return Ct(this,e),Xt(this,e,arguments)}return Qt(e,t),At(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,f=a.max,m=f===void 0?l.endOf(new Date,"day"):f,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=yn(a,FI),_=e.range(i,{localizer:l});return Y.createElement(Vi,Object.assign({},w,{range:_,eventOffset:10,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);lf.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};lf.navigate=function(t,e,r){var a=r.localizer;switch(e){case hr.PREVIOUS:return a.add(t,-1,"day");case hr.NEXT:return a.add(t,1,"day");default:return t}};lf.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var GI=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ca=(function(t){function e(){return Ct(this,e),Xt(this,e,arguments)}return Qt(e,t),At(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,f=a.max,m=f===void 0?l.endOf(new Date,"day"):f,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=yn(a,GI),_=e.range(i,this.props);return Y.createElement(Vi,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);Ca.defaultProps=Vi.defaultProps;Ca.navigate=function(t,e,r){var a=r.localizer;switch(e){case hr.PREVIOUS:return a.add(t,-1,"week");case hr.NEXT:return a.add(t,1,"week");default:return t}};Ca.range=function(t,e){var r=e.localizer,a=r.startOfWeek(),i=r.startOf(t,"week",a),l=r.endOf(t,"week",a);return r.range(i,l)};Ca.title=function(t,e){var r=e.localizer,a=Ca.range(t,{localizer:r}),i=XA(a),l=i[0],c=i.slice(1);return r.format({start:l,end:c.pop()},"dayRangeHeaderFormat")};var YI=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function $b(t,e){return Ca.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var rc=(function(t){function e(){return Ct(this,e),Xt(this,e,arguments)}return Qt(e,t),At(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,f=a.max,m=f===void 0?l.endOf(new Date,"day"):f,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=yn(a,YI),_=$b(i,this.props);return Y.createElement(Vi,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);rc.defaultProps=Vi.defaultProps;rc.range=$b;rc.navigate=Ca.navigate;rc.title=function(t,e){var r=e.localizer,a=$b(t,{localizer:r}),i=XA(a),l=i[0],c=i.slice(1);return r.format({start:l,end:c.pop()},"dayRangeHeaderFormat")};var cf=30;function uf(t){var e=t.accessors,r=t.components,a=t.date,i=t.events,l=t.getters,c=t.length,d=c===void 0?cf:c,f=t.localizer,m=t.onDoubleClickEvent,v=t.onSelectEvent,y=t.selected,b=A.useRef(null),x=A.useRef(null),w=A.useRef(null),_=A.useRef(null),E=A.useRef(null);A.useEffect(function(){T()});var S=function(L,P,R){var q=r.event,z=r.date;return P=P.filter(function(U){return ql(U,f.startOf(L,"day"),f.endOf(L,"day"),e,f)}),P.map(function(U,W){var Z=e.title(U),H=e.end(U),B=e.start(U),te=l.eventProp(U,B,H,sf(U,y)),le=W===0&&f.format(L,"agendaDateFormat"),V=W===0?Y.createElement("td",{rowSpan:P.length,className:"rbc-agenda-date-cell"},z?Y.createElement(z,{day:L,label:le}):le):!1;return Y.createElement("tr",{key:R+"_"+W,className:te.className,style:te.style},V,Y.createElement("td",{className:"rbc-agenda-time-cell"},N(L,U)),Y.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Q){return v&&v(U,Q)},onDoubleClick:function(Q){return m&&m(U,Q)}},q?Y.createElement(q,{event:U,title:Z}):Z))},[])},N=function(L,P){var R="",q=r.time,z=f.messages.allDay,U=e.end(P),W=e.start(P);return e.allDay(P)||(f.eq(W,U)?z=f.format(W,"agendaTimeFormat"):f.isSameDate(W,U)?z=f.format({start:W,end:U},"agendaTimeRangeFormat"):f.isSameDate(L,W)?z=f.format(W,"agendaTimeFormat"):f.isSameDate(L,U)&&(z=f.format(U,"agendaTimeFormat"))),f.gt(L,W,"day")&&(R="rbc-continues-prior"),f.lt(L,U,"day")&&(R+=" rbc-continues-after"),Y.createElement("span",{className:R.trim()},q?Y.createElement(q,{event:P,day:L,label:z}):z)},T=function(){if(E.current){var L=b.current,P=E.current.firstChild;if(P){var R=_.current.scrollHeight>_.current.clientHeight,q=[],z=q;q=[Ml(P.children[0]),Ml(P.children[1])],(z[0]!==q[0]||z[1]!==q[1])&&(x.current.style.width=q[0]+"px",w.current.style.width=q[1]+"px"),R?(Fd(L,"rbc-header-overflowing"),L.style.marginRight=Ql()+"px"):Gd(L,"rbc-header-overflowing")}}},O=f.messages,M=f.add(a,d,"day"),D=f.range(a,M,"day");return i=i.filter(function(C){return ql(C,f.startOf(a,"day"),f.endOf(M,"day"),e,f)}),i.sort(function(C,L){return+e.start(C)-+e.start(L)}),Y.createElement("div",{className:"rbc-agenda-view"},i.length!==0?Y.createElement(Y.Fragment,null,Y.createElement("table",{ref:b,className:"rbc-agenda-table"},Y.createElement("thead",null,Y.createElement("tr",null,Y.createElement("th",{className:"rbc-header",ref:x},O.date),Y.createElement("th",{className:"rbc-header",ref:w},O.time),Y.createElement("th",{className:"rbc-header"},O.event)))),Y.createElement("div",{className:"rbc-agenda-content",ref:_},Y.createElement("table",{className:"rbc-agenda-table"},Y.createElement("tbody",{ref:E},D.map(function(C,L){return S(C,i,L)}))))):Y.createElement("span",{className:"rbc-agenda-empty"},O.noEventsInRange))}uf.range=function(t,e){var r=e.length,a=r===void 0?cf:r,i=e.localizer,l=i.add(t,a,"day");return{start:t,end:l}};uf.navigate=function(t,e,r){var a=r.length,i=a===void 0?cf:a,l=r.localizer;switch(e){case hr.PREVIOUS:return l.add(t,-i,"day");case hr.NEXT:return l.add(t,i,"day");default:return t}};uf.title=function(t,e){var r=e.length,a=r===void 0?cf:r,i=e.localizer,l=i.add(t,a,"day");return i.format({start:t,end:l},"agendaHeaderFormat")};var td=ds(ds(ds(ds(ds({},Ot.MONTH,of),Ot.WEEK,Ca),Ot.WORK_WEEK,rc),Ot.DAY,lf),Ot.AGENDA,uf),WI=["action","date","today"];function VI(t,e){var r=e.action,a=e.date,i=e.today,l=yn(e,WI);switch(t=typeof t=="string"?td[t]:t,r){case hr.TODAY:a=i||new Date;break;case hr.DATE:break;default:_l(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),a=t.navigate(a,r,l)}return a}function KI(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&Wn(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var Bn=function(e){return function(r){return KI(r,e)}},XI=["view","date","getNow","onNavigate"],QI=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function yR(t){if(Array.isArray(t))return t;for(var e=[],r=0,a=Object.entries(t);r<a.length;r++){var i=xs(a[r],2),l=i[0],c=i[1];c&&e.push(l)}return e}function JI(t,e){var r=e.views,a=yR(r);return a.indexOf(t)!==-1}var bR=(function(t){function e(){var r;Ct(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Xt(this,e,[].concat(i)),r.getViews=function(){var c=r.props.views;return Array.isArray(c)?xz(c,function(d,f){return d[f]=td[f]},{}):Wn(c)==="object"?HU(c,function(d,f){return d===!0?td[f]:d}):td},r.getView=function(){var c=r.getViews();return c[r.props.view]},r.getDrilldownView=function(c){var d=r.props,f=d.view,m=d.drilldownView,v=d.getDrilldownView;return v?v(c,f,Object.keys(r.getViews())):m},r.handleRangeChange=function(c,d,f){var m=r.props,v=m.onRangeChange,y=m.localizer;v&&d.range&&v(d.range(c,{localizer:y}),f)},r.handleNavigate=function(c,d){var f=r.props,m=f.view,v=f.date,y=f.getNow,b=f.onNavigate,x=yn(f,XI),w=r.getView(),_=y();v=VI(w,Je(Je({},x),{},{action:c,date:d||v||_,today:_})),b(v,m,c),r.handleRangeChange(v,w)},r.handleViewChange=function(c){c!==r.props.view&&JI(c,r.props)&&r.props.onView(c);var d=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),d[c],c)},r.handleSelectEvent=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];nt(r.props.onKeyPressEvent,d)},r.handleSelectSlot=function(c){nt(r.props.onSelectSlot,c)},r.handleDrillDown=function(c,d){var f=r.props.onDrillDown;if(f){f(c,d,r.drilldownView);return}d&&r.handleViewChange(d),r.handleNavigate(hr.DATE,c)},r.state={context:e.getContext(r.props)},r}return Qt(e,t),At(e,[{key:"render",value:function(){var a=this.props,i=a.view,l=a.toolbar,c=a.events,d=a.backgroundEvents,f=a.resourceGroupingLayout,m=a.style,v=a.className,y=a.elementProps,b=a.date,x=a.getNow,w=a.length,_=a.showMultiDayTimes,E=a.onShowMore,S=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var N=yn(a,QI);b=b||x();var T=this.getView(),O=this.state.context,M=O.accessors,D=O.components,C=O.getters,L=O.localizer,P=O.viewNames,R=D.toolbar||tI,q=T.title(b,{localizer:L,length:w});return Y.createElement("div",Object.assign({},y,{className:ct(v,"rbc-calendar",N.rtl&&"rbc-rtl"),style:m}),l&&Y.createElement(R,{date:b,view:i,views:P,label:q,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:L}),Y.createElement(T,Object.assign({},N,{events:c,backgroundEvents:d,date:b,getNow:x,length:w,localizer:L,getters:C,components:D,accessors:M,showMultiDayTimes:_,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:E,doShowMoreDrillDown:S,resourceGroupingLayout:f})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:e.getContext(a)}}},{key:"getContext",value:function(a){var i=a.startAccessor,l=a.endAccessor,c=a.allDayAccessor,d=a.tooltipAccessor,f=a.titleAccessor,m=a.resourceAccessor,v=a.resourceIdAccessor,y=a.resourceTitleAccessor,b=a.eventIdAccessor,x=a.eventPropGetter,w=a.backgroundEventPropGetter,_=a.slotPropGetter,E=a.slotGroupPropGetter,S=a.dayPropGetter,N=a.view,T=a.views,O=a.localizer,M=a.culture,D=a.messages,C=D===void 0?{}:D,L=a.components,P=L===void 0?{}:L,R=a.formats,q=R===void 0?{}:R,z=yR(T),U=nI(C);return{viewNames:z,localizer:eI(O,M,q,U),getters:{eventProp:function(){return x&&x.apply(void 0,arguments)||{}},backgroundEventProp:function(){return w&&w.apply(void 0,arguments)||{}},slotProp:function(){return _&&_.apply(void 0,arguments)||{}},slotGroupProp:function(){return E&&E.apply(void 0,arguments)||{}},dayProp:function(){return S&&S.apply(void 0,arguments)||{}}},components:zU(P[N]||{},gz(P,z),{eventWrapper:un,backgroundEventWrapper:un,eventContainerWrapper:un,dateCellWrapper:un,weekWrapper:un,timeSlotWrapper:un,timeGutterWrapper:un,timeIndicatorWrapper:un}),accessors:{start:Bn(i),end:Bn(l),allDay:Bn(c),tooltip:Bn(d),title:Bn(f),resource:Bn(m),resourceId:Bn(v),resourceTitle:Bn(y),eventId:Bn(b)}}}}])})(Y.Component);bR.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Ot.MONTH,views:[Ot.MONTH,Ot.WEEK,Ot.DAY,Ot.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Ot.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var ZI=iA(bR,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),eB=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"P",r),"  ").concat(a.format(l,"P",r))},S0=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"p",r),"  ").concat(a.format(l,"p",r))},tB=function(e,r,a){var i=e.start;return"".concat(a.format(i,"h:mma",r),"  ")},rB=function(e,r,a){var i=e.end;return"  ".concat(a.format(i,"h:mma",r))},nB=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"MMMM dd",r),"  ").concat(a.format(l,Hi(i,l,"month")?"dd":"MMMM dd",r))},aB={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:S0,eventTimeRangeFormat:S0,eventTimeRangeStartFormat:tB,eventTimeRangeEndFormat:rB,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:nB,agendaHeaderFormat:eB,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:S0},sB=function(e){var r=e.startOfWeek,a=e.getDay,i=e.format,l=e.locales;return new Zz({formats:aB,firstOfWeek:function(d){return a(r(new Date,{locale:l[d]}))},format:function(d,f,m){return i(new Date(d),f,{locale:l[m]})}})},Zo={},E0={exports:{}},eO;function Jt(){return eO||(eO=1,(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(E0)),E0.exports}var qu={},j0={exports:{}},N0={exports:{}},T0={exports:{}},O0={exports:{}},tO;function Ki(){return tO||(tO=1,(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(O0)),O0.exports}var C0={exports:{}},rO;function iB(){return rO||(rO=1,(function(t){var e=Ki().default;function r(a,i){if(e(a)!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var c=l.call(a,i||"default");if(e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(C0)),C0.exports}var nO;function xR(){return nO||(nO=1,(function(t){var e=Ki().default,r=iB();function a(i){var l=r(i,"string");return e(l)=="symbol"?l:l+""}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(T0)),T0.exports}var aO;function wR(){return aO||(aO=1,(function(t){var e=xR();function r(a,i,l){return(i=e(i))in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(N0)),N0.exports}var sO;function La(){return sO||(sO=1,(function(t){var e=wR();function r(i,l){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);l&&(d=d.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),c.push.apply(c,d)}return c}function a(i){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?r(Object(c),!0).forEach(function(d){e(i,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(c,d))})}return i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(j0)),j0.exports}var A0={exports:{}},R0={exports:{}},iO;function oB(){return iO||(iO=1,(function(t){function e(r,a){if(r==null)return{};var i={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(a.indexOf(l)!==-1)continue;i[l]=r[l]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(R0)),R0.exports}var oO;function Ub(){return oO||(oO=1,(function(t){var e=oB();function r(a,i){if(a==null)return{};var l,c,d=e(a,i);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(c=0;c<f.length;c++)l=f[c],i.indexOf(l)===-1&&{}.propertyIsEnumerable.call(a,l)&&(d[l]=a[l])}return d}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(A0)),A0.exports}var D0={exports:{}},lO;function As(){return lO||(lO=1,(function(t){function e(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(D0)),D0.exports}var k0={exports:{}},cO;function Rs(){return cO||(cO=1,(function(t){var e=xR();function r(i,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,e(d.key),d)}}function a(i,l,c){return l&&r(i.prototype,l),c&&r(i,c),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(k0)),k0.exports}var M0={exports:{}},q0={exports:{}},uO;function lB(){return uO||(uO=1,(function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(q0)),q0.exports}var P0={exports:{}},dO;function cB(){return dO||(dO=1,(function(t){function e(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t.exports=e=function(){return!!r},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(P0)),P0.exports}var L0={exports:{}},$0={exports:{}},fO;function uB(){return fO||(fO=1,(function(t){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})($0)),$0.exports}var hO;function dB(){return hO||(hO=1,(function(t){var e=Ki().default,r=uB();function a(i,l){if(l&&(e(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(i)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(L0)),L0.exports}var mO;function Xi(){return mO||(mO=1,(function(t){var e=lB(),r=cB(),a=dB();function i(l,c,d){return c=e(c),a(l,r()?Reflect.construct(c,d||[],e(l).constructor):c.apply(l,d))}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(M0)),M0.exports}var U0={exports:{}},z0={exports:{}},pO;function fB(){return pO||(pO=1,(function(t){function e(r,a){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,a)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(z0)),z0.exports}var vO;function Qi(){return vO||(vO=1,(function(t){var e=fB();function r(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&e(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(U0)),U0.exports}const nc=bn(IP);var Sr={},as={},gO;function hB(){return gO||(gO=1,Object.defineProperty(as,"__esModule",{value:!0}),as.views=as.navigate=void 0,as.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},as.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"}),as}var yO;function mB(){if(yO)return Sr;yO=1;var t=Jt().default;Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.views=Sr.dateRangeFormat=Sr.dateFormat=Sr.accessor=Sr.DayLayoutAlgorithmPropType=void 0;var e=t(Qy()),r=hB(),a=Object.keys(r.views).map(function(i){return r.views[i]});return Sr.accessor=e.default.oneOfType([e.default.string,e.default.func]),Sr.dateFormat=e.default.any,Sr.dateRangeFormat=e.default.func,Sr.views=e.default.oneOfType([e.default.arrayOf(e.default.oneOf(a)),e.default.objectOf(function(i,l){var c=a.indexOf(l)!==-1&&typeof i[l]=="boolean";if(c)return null;for(var d=arguments.length,f=new Array(d>2?d-2:0),m=2;m<d;m++)f[m-2]=arguments[m];return e.default.elementType.apply(e.default,[i,l].concat(f))})]),Sr.DayLayoutAlgorithmPropType=e.default.oneOfType([e.default.oneOf(["overlap","no-overlap"]),e.default.func]),Sr}var el={},xi={},bO;function _R(){if(bO)return xi;bO=1;var t=Jt().default;Object.defineProperty(xi,"__esModule",{value:!0}),xi.accessor=r,xi.wrapAccessor=void 0;var e=t(Ki());function r(a,i){var l=null;return typeof i=="function"?l=i(a):typeof i=="string"&&(0,e.default)(a)==="object"&&a!=null&&i in a&&(l=a[i]),l}return xi.wrapAccessor=function(i){return function(l){return r(l,i)}},xi}var tl={},xO;function df(){if(xO)return tl;xO=1;var t=Jt().default;Object.defineProperty(tl,"__esModule",{value:!0}),tl.DnDContext=void 0;var e=t(Tr());return tl.DnDContext=e.default.createContext(),tl}var wO;function pB(){if(wO)return el;wO=1;var t=Jt().default;Object.defineProperty(el,"__esModule",{value:!0}),el.default=void 0;var e=t(La()),r=t(As()),a=t(Rs()),i=t(Xi()),l=t(Qi()),c=t(Tr()),d=t(nc),f=_R(),m=df(),v=(function(y){function b(){var x;(0,r.default)(this,b);for(var w=arguments.length,_=new Array(w),E=0;E<w;E++)_[E]=arguments[E];return x=(0,i.default)(this,b,[].concat(_)),x.handleResizeUp=function(S){S.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","UP")},x.handleResizeDown=function(S){S.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","DOWN")},x.handleResizeLeft=function(S){S.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","LEFT")},x.handleResizeRight=function(S){S.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","RIGHT")},x.handleStartDragging=function(S){var N;if(S.button===0){var T=(N=S.target.getAttribute("class"))===null||N===void 0?void 0:N.includes("rbc-addons-dnd-resize");if(!T){var O=(0,e.default)({},x.props.event);O.sourceResource=x.props.resource,x.context.draggable.onBeginAction(x.props.event,"move")}}},x}return(0,l.default)(b,y),(0,a.default)(b,[{key:"renderAnchor",value:function(w){var _=w==="Up"||w==="Down"?"ns":"ew";return c.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-anchor"),onMouseDown:this["handleResize".concat(w)]},c.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-icon")}))}},{key:"render",value:function(){var w=this.props,_=w.event,E=w.type,S=w.continuesPrior,N=w.continuesAfter,T=w.resizable,O=this.props.children;if(_.__isPreview)return c.default.cloneElement(O,{className:(0,d.default)(O.props.className,"rbc-addons-dnd-drag-preview")});var M=this.context.draggable,D=M.draggableAccessor,C=M.resizableAccessor,L=D?!!(0,f.accessor)(_,D):!0;if(!L)return O;var P=T&&(C?!!(0,f.accessor)(_,C):!0);if(P||L){var R={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(P){var q=null,z=null;E==="date"?(q=!S&&this.renderAnchor("Left"),z=!N&&this.renderAnchor("Right")):(q=!S&&this.renderAnchor("Up"),z=!N&&this.renderAnchor("Down")),R.children=c.default.createElement("div",{className:"rbc-addons-dnd-resizable"},q,O.props.children,z)}M.dragAndDropAction.interacting&&M.dragAndDropAction.event===_&&(R.className=(0,d.default)(O.props.className,"rbc-addons-dnd-dragged-event")),O=c.default.cloneElement(O,R)}return O}}])})(c.default.Component);return v.contextType=m.DnDContext,el.default=v,el}var rl={},I0={exports:{}},_O;function SR(){return _O||(_O=1,(function(t){var e=Ki().default;function r(a,i){if(typeof WeakMap=="function")var l=new WeakMap,c=new WeakMap;return(t.exports=r=function(f,m){if(!m&&f&&f.__esModule)return f;var v,y,b={__proto__:null,default:f};if(f===null||e(f)!="object"&&typeof f!="function")return b;if(v=m?c:l){if(v.has(f))return v.get(f);v.set(f,b)}for(var x in f)x!=="default"&&{}.hasOwnProperty.call(f,x)&&((y=(v=Object.defineProperty)&&Object.getOwnPropertyDescriptor(f,x))&&(y.get||y.set)?v(b,x,y):b[x]=f[x]);return b},t.exports.__esModule=!0,t.exports.default=t.exports)(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(I0)),I0.exports}function zb(t,e,r,a){if(r===void 0&&(r=!1),a===void 0&&(a=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,r,a),t.dispatchEvent(i)}}function vB(t){var e=Ht(t,"transitionDuration")||"",r=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*r}function gB(t,e,r){r===void 0&&(r=5);var a=!1,i=setTimeout(function(){a||zb(t,"transitionend",!0)},e+r),l=mn(t,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(i),l()}}function Ib(t,e,r,a){r==null&&(r=vB(t)||0);var i=gB(t,r,a),l=mn(t,"transitionend",e);return function(){i(),l()}}var SO={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function EO(t){var e=t.node,r=t.properties,a=t.duration,i=a===void 0?200:a,l=t.easing,c=t.callback,d=[],f={},m="";Object.keys(r).forEach(function(b){var x=r[b];xA(b)?m+=b+"("+x+") ":(f[b]=x,d.push(bA(b)))}),m&&(f.transform=m,d.push("transform"));function v(b){b.target===b.currentTarget&&(Ht(e,SO),c&&c.call(this,b))}i>0&&(f.transition=d.join(", "),f["transition-duration"]=i/1e3+"s",f["transition-delay"]="0s",f["transition-timing-function"]=l||"linear");var y=Ib(e,v,i);return e.clientLeft,Ht(e,f),{cancel:function(){y(),Ht(e,SO)}}}function ER(t,e,r,a,i){if(!("nodeType"in t))return EO(t);if(!e)throw new Error("must include properties to animate");return typeof a=="function"&&(i=a,a=""),EO({node:t,properties:e,duration:r,easing:a,callback:i})}function jR(t,e,r){if(t){if(typeof r>"u")return t.getAttribute(e);!r&&r!==""?t.removeAttribute(e):t.setAttribute(e,String(r))}}function NR(t){return t?Array.from(t.children):[]}function TR(t){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}return null}var yB=Function.prototype.bind.call(Function.prototype.call,[].slice);function OR(t){return t?yB(t.childNodes):[]}function CR(t,e){return function(a){var i=a.currentTarget,l=a.target,c=Id(i,t);c.some(function(d){return Vn(d,l)})&&e.call(this,a)}}function AR(t,e){return t&&e&&e.parentNode?(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t):null}var bB=/^(?:input|select|textarea|button)$/i;function RR(t){return t?bB.test(t.nodeName):!1}function DR(t){return t?!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):!1}function kR(t,e,r){e===void 0&&(e=null),r===void 0&&(r=null);for(var a=[];t;t=t.nextElementSibling)if(t!==e){if(r&&zd(t,r))break;a.push(t)}return a}function MR(t,e){return kR(t,t,e)}function xB(t,e){var r=null,a=[];for(r=t?t[e]:null;r&&r.nodeType!==9;)a.push(r),r=r[e]||null;return a}function qR(t){return xB(t,"parentElement")}function PR(t,e){return t&&e?(e.firstElementChild?e.insertBefore(t,e.firstElementChild):e.appendChild(t),t):null}function LR(t){return t&&t.parentNode?(t.parentNode.removeChild(t),t):null}function Bb(t,e){var r=Ht(t,"position"),a=r==="absolute",i=t.ownerDocument;if(r==="fixed")return i||document;for(;(t=t.parentNode)&&!wA(t);){var l=a&&Ht(t,"position")==="static",c=(Ht(t,"overflow")||"")+(Ht(t,"overflow-y")||"")+Ht(t,"overflow-x");if(!l&&/(auto|scroll)/.test(c)&&(e||ps(t)<t.scrollHeight))return t}return i||document}function $R(t,e){var r=en(t),a={top:0,left:0};if(t){var i=e||Bb(t),l=Ld(i),c=ki(i),d=ps(i,!0);l||(a=en(i)),r={top:r.top-a.top,left:r.left-a.left,height:r.height,width:r.width};var f=r.height,m=r.top+(l?0:c),v=m+f;c=c>m?m:v>c+d?v-d:c;var y=Vl(function(){return ki(i,c)});return function(){return Rl(y)}}}function UR(t){return kR(t&&t.parentElement?t.parentElement.firstElementChild:null,t)}var wB=/&nbsp;/gi,_B=/\xA0/g,SB=/\s+([^\s])/gm;function zR(t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);var a="";return t&&(a=(t.textContent||"").replace(wB," ").replace(_B," "),e&&(a=a.trim()),r&&(a=a.replace(SB," $1"))),a}function IR(t,e){t.classList?t.classList.toggle(e):Hd(t,e)?Gd(t,e):Fd(t,e)}const EB={addEventListener:ob,removeEventListener:vb,triggerEvent:zb,animate:ER,filter:CR,listen:mn,style:Ht,getComputedStyle:ab,attribute:jR,activeElement:RA,ownerDocument:qa,ownerWindow:nb,requestAnimationFrame:Vl,cancelAnimationFrame:Rl,matches:zd,height:ps,width:Ml,offset:en,offsetParent:sb,position:Ud,contains:Vn,scrollbarSize:Ql,scrollLeft:$d,scrollParent:Bb,scrollTo:$R,scrollTop:ki,querySelectorAll:Id,closest:Zl,addClass:Fd,removeClass:Gd,hasClass:Hd,toggleClass:IR,transitionEnd:Ib,childNodes:OR,childElements:NR,nextUntil:MR,parents:qR,siblings:UR,clear:TR,insertAfter:AR,isInput:RR,isVisible:DR,prepend:PR,remove:LR,text:zR},jB=Object.freeze(Object.defineProperty({__proto__:null,activeElement:RA,addClass:Fd,addEventListener:ob,animate:ER,attribute:jR,cancelAnimationFrame:Rl,childElements:NR,childNodes:OR,clear:TR,closest:Zl,contains:Vn,default:EB,filter:CR,getComputedStyle:ab,hasClass:Hd,height:ps,insertAfter:AR,isInput:RR,isVisible:DR,listen:mn,matches:zd,nextUntil:MR,offset:en,offsetParent:sb,ownerDocument:qa,ownerWindow:nb,parents:qR,position:Ud,prepend:PR,querySelectorAll:Id,remove:LR,removeClass:Gd,removeEventListener:vb,requestAnimationFrame:Vl,scrollLeft:$d,scrollParent:Bb,scrollTo:$R,scrollTop:ki,scrollbarSize:Ql,siblings:UR,style:Ht,text:zR,toggleClass:IR,transitionEnd:Ib,triggerEvent:zb,width:Ml},Symbol.toStringTag,{value:"Module"})),NB=bn(jB);var Pu={exports:{}},jO;function TB(){return jO||(jO=1,(function(t,e){e.__esModule=!0,e.default=a;var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(i,l){return r(i.querySelectorAll(l))}t.exports=e.default})(Pu,Pu.exports)),Pu.exports}var Xr={};const OB=bn(wL),CB=bn(Y$),AB=bn(P6);var NO;function BR(){if(NO)return Xr;NO=1;var t=Jt().default;Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.default=void 0,Xr.getBoundsForNode=T,Xr.getEventNodeFromPoint=m,Xr.getShowMoreNodeFromPoint=v,Xr.isEvent=y,Xr.isShowMore=b,Xr.objectsCollide=N;var e=t(Ki()),r=t(As()),a=t(Rs()),i=t(OB),l=t(CB),c=t(AB);function d(M,D){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,c.default)(C,M,D,{passive:!1})}function f(M,D,C){return!M||(0,i.default)(M,document.elementFromPoint(D,C))}function m(M,D){var C=D.clientX,L=D.clientY,P=document.elementFromPoint(C,L);return(0,l.default)(P,".rbc-event",M)}function v(M,D){var C=D.clientX,L=D.clientY,P=document.elementFromPoint(C,L);return(0,l.default)(P,".rbc-show-more",M)}function y(M,D){return!!m(M,D)}function b(M,D){return!!v(M,D)}function x(M){var D=M;return M.touches&&M.touches.length&&(D=M.touches[0]),{clientX:D.clientX,clientY:D.clientY,pageX:D.pageX,pageY:D.pageY}}var w=5,_=250,E=(function(){function M(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=C.global,P=L===void 0?!1:L,R=C.longPressThreshold,q=R===void 0?250:R,z=C.validContainers,U=z===void 0?[]:z;(0,r.default)(this,M),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=D,this.globalMouse=!D||P,this.longPressThreshold=q,this.validContainers=U,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=d("touchmove",function(){},window),this._removeKeyDownListener=d("keydown",this._keyListener),this._removeKeyUpListener=d("keyup",this._keyListener),this._removeDropFromOutsideListener=d("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=d("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,a.default)(M,[{key:"on",value:function(C,L){var P=this._listeners[C]||(this._listeners[C]=[]);return P.push(L),{remove:function(){var q=P.indexOf(L);q!==-1&&P.splice(q,1)}}}},{key:"emit",value:function(C){for(var L=arguments.length,P=new Array(L>1?L-1:0),R=1;R<L;R++)P[R-1]=arguments[R];var q,z=this._listeners[C]||[];return z.forEach(function(U){q===void 0&&(q=U.apply(void 0,P))}),q}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(C){var L=this._selectRect;return!L||!this.selecting?!1:N(L,T(C))}},{key:"filter",value:function(C){var L=this._selectRect;return!L||!this.selecting?[]:C.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(C,L){var P=this,R=null,q=null,z=null,U=function(B){R=setTimeout(function(){Z(),C(B)},P.longPressThreshold),q=d("touchmove",function(){return Z()}),z=d("touchend",function(){return Z()})},W=d("touchstart",U),Z=function(){R&&clearTimeout(R),q&&q(),z&&z(),R=null,q=null,z=null};return L&&U(L),function(){Z(),W()}}},{key:"_addInitialEventListener",value:function(){var C=this,L=d("mousedown",function(R){C._removeInitialEventListener(),C._handleInitialEvent(R),C._removeInitialEventListener=d("mousedown",C._handleInitialEvent)}),P=d("touchstart",function(R){C._removeInitialEventListener(),C._removeInitialEventListener=C._addLongPressListener(C._handleInitialEvent,R)});this._removeInitialEventListener=function(){L(),P()}}},{key:"_dropFromOutsideListener",value:function(C){var L=x(C),P=L.pageX,R=L.pageY,q=L.clientX,z=L.clientY;this.emit("dropFromOutside",{x:P,y:R,clientX:q,clientY:z}),C.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(C){var L=x(C),P=L.pageX,R=L.pageY,q=L.clientX,z=L.clientY;this.emit("dragOverFromOutside",{x:P,y:R,clientX:q,clientY:z}),C.preventDefault()}},{key:"_handleInitialEvent",value:function(C){if(this._initialEvent=C,!this.isDetached){var L=x(C),P=L.clientX,R=L.clientY,q=L.pageX,z=L.pageY,U=this.container(),W,Z;if(!(C.which===3||C.button===2||!f(U,P,R))){if(!this.globalMouse&&U&&!(0,i.default)(U,C.target)){var H=S(0),B=H.top,te=H.left,le=H.bottom,V=H.right;if(Z=T(U),W=N({top:Z.top-B,left:Z.left-te,bottom:Z.bottom+le,right:Z.right+V},{top:z,left:q}),!W)return}var $=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(C.type),x:q,y:z,clientX:P,clientY:R});if($!==!1)switch(C.type){case"mousedown":this._removeEndListener=d("mouseup",this._handleTerminatingEvent),this._onEscListener=d("keydown",this._handleTerminatingEvent),this._removeMoveListener=d("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(C),this._removeEndListener=d("touchend",this._handleTerminatingEvent),this._removeMoveListener=d("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(C){var L=C.target,P=this.validContainers;return!P||!P.length||!L?!0:P.some(function(R){return!!L.closest(R)})}},{key:"_handleTerminatingEvent",value:function(C){var L=this.selecting,P=this._selectRect;if(!L&&C.type.includes("key")&&(C=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!C){var R=!this.container||(0,i.default)(this.container(),C.target),q=this._isWithinValidContainer(C);return C.key==="Escape"||!q?this.emit("reset"):!L&&R?this._handleClickEvent(C):L?this.emit("select",P):this.emit("reset")}}},{key:"_handleClickEvent",value:function(C){var L=x(C),P=L.pageX,R=L.pageY,q=L.clientX,z=L.clientY,U=new Date().getTime();return this._lastClickData&&U-this._lastClickData.timestamp<_?(this._lastClickData=null,this.emit("doubleClick",{x:P,y:R,clientX:q,clientY:z})):(this._lastClickData={timestamp:U},this.emit("click",{x:P,y:R,clientX:q,clientY:z}))}},{key:"_handleMoveEvent",value:function(C){if(!(this._initialEventData===null||this.isDetached)){var L=this._initialEventData,P=L.x,R=L.y,q=x(C),z=q.pageX,U=q.pageY,W=Math.abs(P-z),Z=Math.abs(R-U),H=Math.min(z,P),B=Math.min(U,R),te=this.selecting,le=this.isClick(z,U);le&&!te&&!(W||Z)||(!te&&!le&&this.emit("selectStart",this._initialEventData),le||(this.selecting=!0,this._selectRect={top:B,left:H,x:z,y:U,right:H+W,bottom:B+Z},this.emit("selecting",this._selectRect)),C.preventDefault())}}},{key:"_keyListener",value:function(C){this.ctrl=C.metaKey||C.ctrlKey}},{key:"isClick",value:function(C,L){var P=this._initialEventData,R=P.x,q=P.y,z=P.isTouch;return!z&&Math.abs(C-R)<=w&&Math.abs(L-q)<=w}}])})();function S(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,e.default)(M)!=="object"&&(M={top:M,left:M,right:M,bottom:M}),M}function N(M,D){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,L=T(M),P=L.top,R=L.left,q=L.right,z=q===void 0?R:q,U=L.bottom,W=U===void 0?P:U,Z=T(D),H=Z.top,B=Z.left,te=Z.right,le=te===void 0?B:te,V=Z.bottom,$=V===void 0?H:V;return!(W-C<H||P+C>$||z-C<B||R+C>le)}function T(M){if(!M.getBoundingClientRect)return M;var D=M.getBoundingClientRect(),C=D.left+O("left"),L=D.top+O("top");return{top:L,left:C,right:(M.offsetWidth||0)+C,bottom:(M.offsetHeight||0)+L}}function O(M){if(M==="left")return window.pageXOffset||document.body.scrollLeft||0;if(M==="top")return window.pageYOffset||document.body.scrollTop||0}return Xr.default=E,Xr}var nl={},TO;function RB(){if(TO)return nl;TO=1;var t=Jt().default;Object.defineProperty(nl,"__esModule",{value:!0}),nl.default=void 0;var e=t(wR()),r=t(La()),a=t(nc),i=t(Tr());function l(d){return typeof d=="string"?d:d+"%"}function c(d){var f=d.style,m=d.className,v=d.event,y=d.accessors,b=d.rtl,x=d.selected,w=d.label,_=d.continuesPrior,E=d.continuesAfter,S=d.getters,N=d.onClick,T=d.onDoubleClick,O=d.isBackgroundEvent,M=d.onKeyPress,D=d.components,C=D.event,L=D.eventWrapper,P=y.title(v),R=y.tooltip(v),q=y.end(v),z=y.start(v),U=S.eventProp(v,z,q,x),W=[i.default.createElement("div",{key:"1",className:"rbc-event-label"},w),i.default.createElement("div",{key:"2",className:"rbc-event-content"},C?i.default.createElement(C,{event:v,title:P}):P)],Z=f.height,H=f.top,B=f.width,te=f.xOffset,le=(0,r.default)((0,r.default)({},U.style),{},(0,e.default)({top:l(H),height:l(Z),width:l(B)},b?"right":"left",l(te)));return i.default.createElement(L,Object.assign({type:"time"},d),i.default.createElement("div",{role:"button",tabIndex:0,onClick:N,onDoubleClick:T,style:le,onKeyDown:M,title:R?(typeof w=="string"?w+": ":"")+R:void 0,className:(0,a.default)(O?"rbc-background-event":"rbc-event",m,U.className,{"rbc-selected":x,"rbc-event-continues-earlier":_,"rbc-event-continues-later":E})},W))}return nl.default=c,nl}var Sa={},OO;function Hb(){if(OO)return Sa;OO=1;var t=Jt().default;Object.defineProperty(Sa,"__esModule",{value:!0}),Sa.dragAccessors=void 0,Sa.eventTimes=m,Sa.mergeComponents=d,Sa.pointInColumn=f;var e=t(La()),r=t(Ub()),a=_R(),i=Tr(),l=["children"];Sa.dragAccessors={start:(0,a.wrapAccessor)(function(v){return v.start}),end:(0,a.wrapAccessor)(function(v){return v.end})};function c(){for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];var x=function(_){var E=_.children,S=(0,r.default)(_,l);return y.filter(Boolean).reduceRight(function(N,T){return(0,i.createElement)(T,S,N)},E)};return x}function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1?arguments[1]:void 0,b=Object.keys(y),x=(0,e.default)({},v);return b.forEach(function(w){x[w]=v[w]?c(v[w],y[w]):y[w]}),x}function f(v,y){var b=v.left,x=v.right,w=v.top,_=y.x,E=y.y;return _<x+10&&_>b&&E>w}function m(v,y,b){var x=y.start(v),w=y.end(v),_=b.eq(x,w,"minutes")&&b.diff(x,w,"minutes")===0;_&&(w=b.add(w,1,"day"));var E=b.diff(x,w,"milliseconds");return{start:x,end:w,duration:E}}return Sa}var CO;function DB(){if(CO)return rl;CO=1;var t=SR().default,e=Jt().default;Object.defineProperty(rl,"__esModule",{value:!0}),rl.default=void 0;var r=e(La()),a=e(As()),i=e(Rs()),l=e(Xi()),c=e(Qi()),d=NB,f=e(TB()),m=e(Tr()),v=df(),y=t(BR()),b=e(RB()),x=Hb(),w=(function(_){function E(){var S;(0,a.default)(this,E);for(var N=arguments.length,T=new Array(N),O=0;O<N;O++)T[O]=arguments[O];return S=(0,l.default)(this,E,[].concat(T)),S.handleMove=function(M,D){if(!(0,x.pointInColumn)(D,M))return S.reset();var C=S.context.draggable.dragAndDropAction.event,L=S.props,P=L.accessors,R=L.slotMetrics,q=R.closestSlotFromPoint({y:M.y-S.eventOffsetTop,x:M.x},D),z=(0,x.eventTimes)(C,P,S.props.localizer),U=z.duration,W=S.props.localizer.add(q,U,"milliseconds");S.update(C,R.getRange(q,W,!1,!0))},S.handleDropFromOutside=function(M,D){var C=S.props,L=C.slotMetrics,P=C.resource,R=L.closestSlotFromPoint({y:M.y,x:M.x},D),q=S._calculateDnDEnd(R);S.context.draggable.onDropFromOutside({start:R,end:q,allDay:!1,resource:P}),S.reset()},S.handleDragOverFromOutside=function(M,D){var C=S.props.slotMetrics,L=C.closestSlotFromPoint({y:M.y,x:M.x},D),P=S._calculateDnDEnd(L),R=S.context.draggable.dragFromOutsideItem();S.update(R,C.getRange(L,P,!1,!0))},S._calculateDnDEnd=function(M){var D=S.props,C=D.accessors,L=D.slotMetrics,P=D.localizer,R=S.context.draggable.dragFromOutsideItem(),q=(0,x.eventTimes)(R,C,P),z=q.duration,U=L.nextSlot(M),W=!isNaN(z);if(W){var Z=P.add(M,z,"milliseconds");U=new Date(Math.max(Z,U))}return U},S.updateParentScroll=function(M,D){setTimeout(function(){var C=(0,f.default)(D,".rbc-addons-dnd-drag-preview")[0];C&&(C.offsetTop<M.scrollTop?(0,d.scrollTop)(M,Math.max(C.offsetTop,0)):C.offsetTop+C.offsetHeight>M.scrollTop+M.clientHeight&&(0,d.scrollTop)(M,Math.min(C.offsetTop-M.offsetHeight+C.offsetHeight,M.scrollHeight)))})},S._selectable=function(){var M=S.ref.current,D=M.children[0],C=!1,L=S._selector=new y.default(function(){return M.closest(".rbc-time-view")}),P=(0,d.scrollParent)(M);L.on("beforeSelect",function(R){var q=S.context.draggable.dragAndDropAction;if(!q.action)return!1;if(q.action==="resize")return(0,x.pointInColumn)((0,y.getBoundsForNode)(D),R);var z=(0,y.getEventNodeFromPoint)(D,R);if(!z)return!1;S.eventOffsetTop=R.y-(0,y.getBoundsForNode)(z).top}),L.on("selecting",function(R){var q=(0,y.getBoundsForNode)(D),z=S.context.draggable.dragAndDropAction;z.action==="move"&&(S.updateParentScroll(P,D),S.handleMove(R,q)),z.action==="resize"&&(S.updateParentScroll(P,D),S.handleResize(R,q))}),L.on("dropFromOutside",function(R){if(S.context.draggable.onDropFromOutside){var q=(0,y.getBoundsForNode)(D);(0,x.pointInColumn)(q,R)&&S.handleDropFromOutside(R,q)}}),L.on("dragOverFromOutside",function(R){var q=S.context.draggable.dragFromOutsideItem?S.context.draggable.dragFromOutsideItem():null;if(q){var z=(0,y.getBoundsForNode)(D);if(!(0,x.pointInColumn)(z,R))return S.reset();S.handleDragOverFromOutside(R,z)}}),L.on("selectStart",function(){C=!0,S.context.draggable.onStart()}),L.on("select",function(R){var q=(0,y.getBoundsForNode)(D);C=!1;var z=S.context.draggable.dragAndDropAction;if(z.action==="resize")S.handleInteractionEnd();else{if(!S.state.event||!(0,x.pointInColumn)(q,R))return;S.handleInteractionEnd()}}),L.on("click",function(){C&&S.reset(),S.context.draggable.onEnd(null)}),L.on("reset",function(){S.reset(),S.context.draggable.onEnd(null)})},S.handleInteractionEnd=function(){var M=S.props.resource,D=S.state.event;S.reset(),S.context.draggable.onEnd({start:D.start,end:D.end,resourceId:M})},S._teardownSelectable=function(){S._selector&&(S._selector.teardown(),S._selector=null)},S.state={},S.ref=m.default.createRef(),S}return(0,c.default)(E,_),(0,i.default)(E,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(N,T){var O=T.startDate,M=T.endDate,D=T.top,C=T.height,L=this.state.event;L&&O===L.start&&M===L.end||this.setState({top:D,height:C,event:(0,r.default)((0,r.default)({},N),{},{start:O,end:M})})}},{key:"handleResize",value:function(N,T){var O=this.props,M=O.accessors,D=O.slotMetrics,C=O.localizer,L=this.context.draggable.dragAndDropAction,P=L.event,R=L.direction,q=D.closestSlotFromPoint(N,T),z=(0,x.eventTimes)(P,M,C),U=z.start,W=z.end,Z;if(R==="UP"){var H=C.min(q,D.closestSlotFromDate(W,-1));Z=D.getRange(H,W),Z=(0,r.default)((0,r.default)({},Z),{},{endDate:W})}else if(R==="DOWN"){var B=C.max(q,D.closestSlotFromDate(U));Z=D.getRange(U,B),Z=(0,r.default)((0,r.default)({},Z),{},{startDate:U})}this.update(P,Z)}},{key:"renderContent",value:function(){var N=this.props,T=N.children,O=N.accessors,M=N.components,D=N.getters,C=N.slotMetrics,L=N.localizer,P=this.state,R=P.event,q=P.top,z=P.height;if(!R)return T;var U=T.props.children,W=R.start,Z=R.end,H,B="eventTimeRangeFormat",te=C.startsBeforeDay(W),le=C.startsAfterDay(Z);return te?B="eventTimeRangeEndFormat":le&&(B="eventTimeRangeStartFormat"),te&&le?H=L.messages.allDay:H=L.format({start:W,end:Z},B),m.default.cloneElement(T,{children:m.default.createElement(m.default.Fragment,null,U,R&&m.default.createElement(b.default,{event:R,label:H,className:"rbc-addons-dnd-drag-preview",style:{top:q,height:z,width:100},getters:D,components:M,accessors:(0,r.default)((0,r.default)({},O),x.dragAccessors),continuesPrior:te,continuesAfter:le}))})}},{key:"render",value:function(){return m.default.createElement("div",{ref:this.ref},this.renderContent())}}])})(m.default.Component);return w.contextType=v.DnDContext,rl.default=w,rl}var al={},B0={exports:{}},H0={exports:{}},F0={exports:{}},AO;function HR(){return AO||(AO=1,(function(t){function e(r,a){(a==null||a>r.length)&&(a=r.length);for(var i=0,l=Array(a);i<a;i++)l[i]=r[i];return l}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(F0)),F0.exports}var RO;function kB(){return RO||(RO=1,(function(t){var e=HR();function r(a){if(Array.isArray(a))return e(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(H0)),H0.exports}var G0={exports:{}},DO;function MB(){return DO||(DO=1,(function(t){function e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(G0)),G0.exports}var Y0={exports:{}},kO;function qB(){return kO||(kO=1,(function(t){var e=HR();function r(a,i){if(a){if(typeof a=="string")return e(a,i);var l={}.toString.call(a).slice(8,-1);return l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?e(a,i):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Y0)),Y0.exports}var W0={exports:{}},MO;function PB(){return MO||(MO=1,(function(t){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(W0)),W0.exports}var qO;function FR(){return qO||(qO=1,(function(t){var e=kB(),r=MB(),a=qB(),i=PB();function l(c){return e(c)||r(c)||a(c)||i()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports})(B0)),B0.exports}var sl={},il={},ol={},PO;function LB(){if(PO)return ol;PO=1;var t=Jt().default;Object.defineProperty(ol,"__esModule",{value:!0}),ol.default=void 0;var e=t(La()),r=t(Ub()),a=t(As()),i=t(Rs()),l=t(Xi()),c=t(Qi()),d=t(Tr()),f=t(nc),m=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],v=(function(y){function b(){return(0,a.default)(this,b),(0,l.default)(this,b,arguments)}return(0,c.default)(b,y),(0,i.default)(b,[{key:"render",value:function(){var w=this.props,_=w.style,E=w.className,S=w.event,N=w.selected,T=w.isAllDay,O=w.onSelect,M=w.onDoubleClick,D=w.onKeyPress,C=w.localizer,L=w.continuesPrior,P=w.continuesAfter,R=w.accessors,q=w.getters,z=w.children,U=w.components,W=U.event,Z=U.eventWrapper,H=w.slotStart,B=w.slotEnd,te=(0,r.default)(w,m);delete te.resizable;var le=R.title(S),V=R.tooltip(S),$=R.end(S),Q=R.start(S),oe=R.allDay(S),de=T||oe||C.diff(Q,C.ceil($,"day"),"day")>1,he=q.eventProp(S,Q,$,N),fe=d.default.createElement("div",{className:"rbc-event-content",title:V||void 0},W?d.default.createElement(W,{event:S,continuesPrior:L,continuesAfter:P,title:le,isAllDay:oe,localizer:C,slotStart:H,slotEnd:B}):le);return d.default.createElement(Z,Object.assign({},this.props,{type:"date"}),d.default.createElement("div",Object.assign({},te,{style:(0,e.default)((0,e.default)({},he.style),_),className:(0,f.default)("rbc-event",E,he.className,{"rbc-selected":N,"rbc-event-allday":de,"rbc-event-continues-prior":L,"rbc-event-continues-after":P}),onClick:function(De){return O&&O(S,De)},onDoubleClick:function(De){return M&&M(S,De)},onKeyDown:function(De){return D&&D(S,De)}}),typeof z=="function"?z(fe):fe))}}])})(d.default.Component);return ol.default=v,ol}var Ea={},LO;function GR(){if(LO)return Ea;LO=1;var t=Jt().default;Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.dateCellSelection=c,Ea.getSlotAtX=i,Ea.isSelected=r,Ea.pointInBox=l,Ea.slotWidth=a;var e=t(zA());function r(d,f){return!d||f==null?!1:(0,e.default)(d,f)}function a(d,f){var m=d.right-d.left,v=m/f;return v}function i(d,f,m,v){var y=a(d,v);return m?v-1-Math.floor((f-d.left)/y):Math.floor((f-d.left)/y)}function l(d,f){var m=f.x,v=f.y;return v>=d.top&&v<=d.bottom&&m>=d.left&&m<=d.right}function c(d,f,m,v,y){var b=-1,x=-1,w=v-1,_=a(f,v),E=i(f,m.x,y,v),S=f.top<m.y&&f.bottom>m.y,N=f.top<d.y&&f.bottom>d.y,T=d.y>f.bottom,O=f.top>d.y,M=m.top<f.top&&m.bottom>f.bottom;return M&&(b=0,x=w),S&&(O?(b=0,x=E):T&&(b=E,x=w)),N&&(b=x=y?w-Math.floor((d.x-f.left)/_):Math.floor((d.x-f.left)/_),S?E<b?b=E:x=E:d.y<m.y?x=w:b=0),{startIdx:b,endIdx:x}}return Ea}var $O;function $B(){if($O)return il;$O=1;var t=Jt().default;Object.defineProperty(il,"__esModule",{value:!0}),il.default=void 0;var e=t(Qy()),r=t(Tr()),a=t(LB()),i=GR();return il.default={propTypes:{slotMetrics:e.default.object.isRequired,selected:e.default.object,isAllDay:e.default.bool,accessors:e.default.object.isRequired,localizer:e.default.object.isRequired,components:e.default.object.isRequired,getters:e.default.object.isRequired,onSelect:e.default.func,onDoubleClick:e.default.func,onKeyPress:e.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(c,d){var f=c.selected;c.isAllDay;var m=c.accessors,v=c.getters,y=c.onSelect,b=c.onDoubleClick,x=c.onKeyPress,w=c.localizer,_=c.slotMetrics,E=c.components,S=c.resizable,N=_.continuesPrior(d),T=_.continuesAfter(d);return r.default.createElement(a.default,{event:d,getters:v,localizer:w,accessors:m,components:E,onSelect:y,onDoubleClick:b,onKeyPress:x,continuesPrior:N,continuesAfter:T,slotStart:_.first,slotEnd:_.last,selected:(0,i.isSelected)(d,f),resizable:S})},renderSpan:function(c,d,f){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",v=Math.abs(d)/c*100+"%";return r.default.createElement("div",{key:f,className:"rbc-row-segment",style:{WebkitFlexBasis:v,flexBasis:v,maxWidth:v}},m)}},il}var UO;function UB(){if(UO)return sl;UO=1;var t=Jt().default;Object.defineProperty(sl,"__esModule",{value:!0}),sl.default=void 0;var e=t(La()),r=t(As()),a=t(Rs()),i=t(Xi()),l=t(Qi()),c=t(nc),d=t(Tr()),f=t($B()),m=(function(v){function y(){return(0,r.default)(this,y),(0,i.default)(this,y,arguments)}return(0,l.default)(y,v),(0,a.default)(y,[{key:"render",value:function(){var x=this,w=this.props,_=w.segments,E=w.slotMetrics.slots,S=w.className,N=1;return d.default.createElement("div",{className:(0,c.default)(S,"rbc-row")},_.reduce(function(T,O,M){var D=O.event,C=O.left,L=O.right,P=O.span,R="_lvl_"+M,q=C-N,z=f.default.renderEvent(x.props,D);return q&&T.push(f.default.renderSpan(E,q,"".concat(R,"_gap"))),T.push(f.default.renderSpan(E,P,R,z)),N=L+1,T},[]))}}])})(d.default.Component);return m.defaultProps=(0,e.default)({},f.default.defaultProps),sl.default=m,sl}var cn={},zO;function zB(){if(zO)return cn;zO=1;var t=Jt().default;Object.defineProperty(cn,"__esModule",{value:!0}),cn.endOfRange=a,cn.eventLevels=l,cn.eventSegments=i,cn.inRange=c,cn.segsOverlap=d,cn.sortEvents=m,cn.sortWeekEvents=f;var e=t(FR()),r=t(HA());function a(v){var y=v.dateRange,b=v.unit,x=b===void 0?"day":b,w=v.localizer;return{first:y[0],last:w.add(y[y.length-1],1,x)}}function i(v,y,b,x){var w=a({dateRange:y,localizer:x}),_=w.first,E=w.last,S=x.diff(_,E,"day"),N=x.max(x.startOf(b.start(v),"day"),_),T=x.min(x.ceil(b.end(v),"day"),E),O=(0,r.default)(y,function(D){return x.isSameDate(D,N)}),M=x.diff(N,T,"day");return M=Math.min(M,S),M=Math.max(M-x.segmentOffset,1),{event:v,span:M,left:O+1,right:Math.max(O+M,1)}}function l(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,b,x,w,_=[],E=[];for(b=0;b<v.length;b++){for(w=v[b],x=0;x<_.length&&d(w,_[x]);x++);x>=y?E.push(w):(_[x]||(_[x]=[])).push(w)}for(b=0;b<_.length;b++)_[b].sort(function(S,N){return S.left-N.left});return{levels:_,extra:E}}function c(v,y,b,x,w){var _={start:x.start(v),end:x.end(v)},E={start:y,end:b};return w.inEventRange({event:_,range:E})}function d(v,y){return y.some(function(b){return b.left<=v.right&&b.right>=v.left})}function f(v,y,b){var x=(0,e.default)(v),w=[],_=[];x.forEach(function(N){var T=y.start(N),O=y.end(N);b.daySpan(T,O)>1?w.push(N):_.push(N)});var E=w.sort(function(N,T){return m(N,T,y,b)}),S=_.sort(function(N,T){return m(N,T,y,b)});return[].concat((0,e.default)(E),(0,e.default)(S))}function m(v,y,b,x){var w={start:b.start(v),end:b.end(v),allDay:b.allDay(v)},_={start:b.start(y),end:b.end(y),allDay:b.allDay(y)};return x.sortEvents({evtA:w,evtB:_})}return cn}var IO;function IB(){if(IO)return al;IO=1;var t=SR().default,e=Jt().default;Object.defineProperty(al,"__esModule",{value:!0}),al.default=void 0;var r=e(La()),a=e(FR()),i=e(As()),l=e(Rs()),c=e(Xi()),d=e(Qi()),f=e(Tr()),m=e(UB()),v=t(BR()),y=zB(),b=GR(),x=Hb(),w=df(),_=(function(E){function S(){var N;(0,i.default)(this,S);for(var T=arguments.length,O=new Array(T),M=0;M<T;M++)O[M]=arguments[M];return N=(0,c.default)(this,S,[].concat(O)),N.handleMove=function(D,C,L){if(!(0,b.pointInBox)(C,D))return N.reset();var P=N.context.draggable.dragAndDropAction.event||L,R=N.props,q=R.accessors,z=R.slotMetrics,U=R.rtl,W=R.localizer,Z=(0,b.getSlotAtX)(C,D.x,U,z.slots),H=z.getDateForSlot(Z),B=(0,x.eventTimes)(P,q,W),te=B.start,le=B.duration;te=W.merge(H,te);var V=W.add(te,le,"milliseconds");N.update(P,te,V)},N.handleDropFromOutside=function(D,C){if(N.context.draggable.onDropFromOutside){var L=N.props,P=L.slotMetrics,R=L.rtl,q=L.localizer,z=(0,b.getSlotAtX)(C,D.x,R,P.slots),U=P.getDateForSlot(z);N.context.draggable.onDropFromOutside({start:U,end:q.add(U,1,"day"),allDay:!1})}},N.handleDragOverFromOutside=function(D,C){var L=N.context.draggable.dragFromOutsideItem?N.context.draggable.dragFromOutsideItem():null;L&&N.handleMove(D,C,L)},N._selectable=function(){var D=N.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),C=D.closest(".rbc-month-view, .rbc-time-view"),L=D.classList.contains("rbc-month-row"),P=N._selector=new v.default(function(){return C},{validContainers:(0,a.default)(L?[]:[".rbc-day-slot",".rbc-allday-cell"])});P.on("beforeSelect",function(R){var q=N.props.isAllDay,z=N.context.draggable.dragAndDropAction.action,U=(0,v.getBoundsForNode)(D),W=(0,b.pointInBox)(U,R);return z==="move"||z==="resize"&&(!q||W)}),P.on("selecting",function(R){var q=(0,v.getBoundsForNode)(D),z=N.context.draggable.dragAndDropAction;z.action==="move"&&N.handleMove(R,q),z.action==="resize"&&N.handleResize(R,q)}),P.on("selectStart",function(){return N.context.draggable.onStart()}),P.on("select",function(R){var q=(0,v.getBoundsForNode)(D);N.state.segment&&((0,b.pointInBox)(q,R)?N.handleInteractionEnd():N.reset())}),P.on("dropFromOutside",function(R){if(N.context.draggable.onDropFromOutside){var q=(0,v.getBoundsForNode)(D);(0,b.pointInBox)(q,R)&&N.handleDropFromOutside(R,q)}}),P.on("dragOverFromOutside",function(R){if(N.context.draggable.dragFromOutsideItem){var q=(0,v.getBoundsForNode)(D);N.handleDragOverFromOutside(R,q)}}),P.on("click",function(){return N.context.draggable.onEnd(null)}),P.on("reset",function(){N.reset(),N.context.draggable.onEnd(null)})},N.handleInteractionEnd=function(){var D=N.props,C=D.resourceId,L=D.isAllDay,P=N.state.segment.event;N.reset(),N.context.draggable.onEnd({start:P.start,end:P.end,resourceId:C,isAllDay:L})},N._teardownSelectable=function(){N._selector&&(N._selector.teardown(),N._selector=null)},N.state={},N.ref=f.default.createRef(),N}return(0,d.default)(S,E),(0,l.default)(S,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(T,O,M){var D=(0,y.eventSegments)((0,r.default)((0,r.default)({},T),{},{end:M,start:O,__isPreview:!0}),this.props.slotMetrics.range,x.dragAccessors,this.props.localizer),C=this.state.segment;C&&D.span===C.span&&D.left===C.left&&D.right===C.right||this.setState({segment:D})}},{key:"handleResize",value:function(T,O){var M=this.context.draggable.dragAndDropAction,D=M.event,C=M.direction,L=this.props,P=L.accessors,R=L.slotMetrics,q=L.rtl,z=L.localizer,U=(0,x.eventTimes)(D,P,z),W=U.start,Z=U.end,H=(0,b.getSlotAtX)(O,T.x,q,R.slots),B=R.getDateForSlot(H),te=(0,b.pointInBox)(O,T);if(C==="RIGHT"){if(te){if(R.last<W)return this.reset();z.eq(z.startOf(Z,"day"),Z)?Z=z.add(B,1,"day"):Z=B}else if(z.inRange(W,R.first,R.last)||O.bottom<T.y&&+R.first>+W)Z=z.add(R.last,1,"milliseconds");else{this.setState({segment:null});return}var le=P.end(D);Z=z.merge(Z,le),z.lt(Z,W)&&(Z=le)}else if(C==="LEFT"){if(te){if(R.first>Z)return this.reset();W=B}else if(z.inRange(Z,R.first,R.last)||O.top>T.y&&z.lt(R.last,Z))W=z.add(R.first,-1,"milliseconds");else{this.reset();return}var V=P.start(D);W=z.merge(W,V),z.gt(W,Z)&&(W=V)}this.update(D,W,Z)}},{key:"render",value:function(){var T=this.props,O=T.children,M=T.accessors,D=this.state.segment;return f.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},O,D&&f.default.createElement(m.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[D],accessors:(0,r.default)((0,r.default)({},M),x.dragAccessors)})))}}])})(f.default.Component);return _.contextType=w.DnDContext,al.default=_,al}var BO;function BB(){if(BO)return qu;BO=1;var t=Jt().default;Object.defineProperty(qu,"__esModule",{value:!0}),qu.default=_;var e=t(La()),r=t(Ub()),a=t(As()),i=t(Rs()),l=t(Xi()),c=t(Qi()),d=t(Tr()),f=t(nc);mB();var m=t(pB()),v=t(DB()),y=t(IB()),b=Hb(),x=df(),w=["selectable","elementProps","components"];function _(E){var S=(function(N){function T(){var O;(0,a.default)(this,T);for(var M=arguments.length,D=new Array(M),C=0;C<M;C++)D[C]=arguments[C];return O=(0,l.default)(this,T,[].concat(D)),O.defaultOnDragOver=function(L){L.preventDefault()},O.handleBeginAction=function(L,P,R){O.setState({event:L,action:P,direction:R});var q=O.props.onDragStart;q&&q({event:L,action:P,direction:R})},O.handleInteractionStart=function(){O.state.interacting===!1&&O.setState({interacting:!0})},O.handleInteractionEnd=function(L){var P=O.state,R=P.action,q=P.event;if(R&&(O.setState({action:null,event:null,interacting:!1,direction:null}),L!=null)){L.event=q;var z=O.props,U=z.onEventDrop,W=z.onEventResize;R==="move"&&U&&U(L),R==="resize"&&W&&W(L)}},O.state={interacting:!1},O}return(0,c.default)(T,N),(0,i.default)(T,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var M=this.props,D=M.selectable,C=M.elementProps,L=M.components,P=(0,r.default)(M,w),R=this.state.interacting;delete P.onEventDrop,delete P.onEventResize,P.selectable=D?"ignoreEvents":!1,this.components=(0,b.mergeComponents)(L,{eventWrapper:m.default,eventContainerWrapper:v.default,weekWrapper:y.default});var q=this.props.onDropFromOutside?(0,e.default)((0,e.default)({},C),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):C;P.className=(0,f.default)(P.className,"rbc-addons-dnd",!!R&&"rbc-addons-dnd-is-dragging");var z=this.getDnDContextValue();return d.default.createElement(x.DnDContext.Provider,{value:z},d.default.createElement(E,Object.assign({},P,{elementProps:q,components:this.components})))}}])})(d.default.Component);return S.defaultProps=(0,e.default)((0,e.default)({},E.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),S}return qu}var HO;function HB(){if(HO)return Zo;HO=1;var t=Jt().default;Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.default=void 0;var e=t(BB());return Zo.default=e.default,Zo}var FB=HB();const GB=Kt(FB),YR=6048e5,YB=864e5,Lu=43200,FO=1440,GO=Symbol.for("constructDateFrom");function Fr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&GO in t?t[GO](e):t instanceof Date?new t.constructor(e):new Date(e)}function at(t,e){return Fr(e||t,t)}function Os(t,e,r){const a=at(t,r?.in);return isNaN(e)?Fr(t,NaN):(e&&a.setDate(a.getDate()+e),a)}function Fb(t,e,r){const a=at(t,r?.in);if(isNaN(e))return Fr(t,NaN);if(!e)return a;const i=a.getDate(),l=Fr(t,a.getTime());l.setMonth(a.getMonth()+e+1,0);const c=l.getDate();return i>=c?l:(a.setFullYear(l.getFullYear(),l.getMonth(),i),a)}let WB={};function Ji(){return WB}function Aa(t,e){const r=Ji(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=at(t,e?.in),l=i.getDay(),c=(l<a?7:0)+l-a;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function wd(t,e){return Aa(t,{...e,weekStartsOn:1})}function WR(t,e){const r=at(t,e?.in),a=r.getFullYear(),i=Fr(r,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=wd(i),c=Fr(r,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const d=wd(c);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function _d(t){const e=at(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Zi(t,...e){const r=Fr.bind(null,t||e.find(a=>typeof a=="object"));return e.map(r)}function zr(t,e){const r=at(t,e?.in);return r.setHours(0,0,0,0),r}function VB(t,e,r){const[a,i]=Zi(r?.in,t,e),l=zr(a),c=zr(i),d=+l-_d(l),f=+c-_d(c);return Math.round((d-f)/YB)}function KB(t,e){const r=WR(t,e),a=Fr(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),wd(a)}function VR(t,e,r){return Os(t,e*7,r)}function rd(t,e){const r=+at(t)-+at(e);return r<0?-1:r>0?1:r}function XB(t){return Fr(t,Date.now())}function KR(t,e,r){const[a,i]=Zi(r?.in,t,e);return+zr(a)==+zr(i)}function QB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function JB(t){return!(!QB(t)&&typeof t!="number"||isNaN(+at(t)))}function ZB(t,e,r){const[a,i]=Zi(r?.in,t,e),l=a.getFullYear()-i.getFullYear(),c=a.getMonth()-i.getMonth();return l*12+c}function e8(t){return e=>{const a=(t?Math[t]:Math.trunc)(e);return a===0?0:a}}function t8(t,e){return+at(t)-+at(e)}function r8(t,e){const r=at(t,e?.in);return r.setHours(23,59,59,999),r}function XR(t,e){const r=at(t,e?.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function n8(t,e){const r=at(t,e?.in);return+r8(r,e)==+XR(r,e)}function a8(t,e,r){const[a,i,l]=Zi(r?.in,t,t,e),c=rd(i,l),d=Math.abs(ZB(i,l));if(d<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-c*d);let f=rd(i,l)===-c;n8(a)&&d===1&&rd(a,l)===1&&(f=!1);const m=c*(d-+f);return m===0?0:m}function s8(t,e,r){const a=t8(t,e)/1e3;return e8(r?.roundingMethod)(a)}function i8(t,e){const r=at(t,e?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function o8(t,e){const r=at(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function QR(t,e){const r=Ji(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=at(t,e?.in),l=i.getDay(),c=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const l8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},c8=(t,e,r)=>{let a;const i=l8[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Ti(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const u8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},d8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},f8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},h8={date:Ti({formats:u8,defaultWidth:"full"}),time:Ti({formats:d8,defaultWidth:"full"}),dateTime:Ti({formats:f8,defaultWidth:"full"})},m8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},p8=(t,e,r,a)=>m8[t];function fn(t){return(e,r)=>{const a=r?.context?String(r.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=r?.width?String(r.width):c;i=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=r?.width?String(r.width):t.defaultWidth;i=t.values[d]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const v8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},g8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},y8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},b8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},x8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},w8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_8=(t,e)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},S8={ordinalNumber:_8,era:fn({values:v8,defaultWidth:"wide"}),quarter:fn({values:g8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:fn({values:y8,defaultWidth:"wide"}),day:fn({values:b8,defaultWidth:"wide"}),dayPeriod:fn({values:x8,defaultWidth:"wide",formattingValues:w8,defaultFormattingWidth:"wide"})};function hn(t){return(e,r={})=>{const a=r.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const c=l[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(d)?j8(d,y=>y.test(c)):E8(d,y=>y.test(c));let m;m=t.valueCallback?t.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const v=e.slice(c.length);return{value:m,rest:v}}}function E8(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function j8(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function JR(t){return(e,r={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(i.length);return{value:c,rest:d}}}const N8=/^(\d+)(th|st|nd|rd)?/i,T8=/\d+/i,O8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},C8={any:[/^b/i,/^(a|c)/i]},A8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},R8={any:[/1/i,/2/i,/3/i,/4/i]},D8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},k8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},M8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},q8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},L8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$8={ordinalNumber:JR({matchPattern:N8,parsePattern:T8,valueCallback:t=>parseInt(t,10)}),era:hn({matchPatterns:O8,defaultMatchWidth:"wide",parsePatterns:C8,defaultParseWidth:"any"}),quarter:hn({matchPatterns:A8,defaultMatchWidth:"wide",parsePatterns:R8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hn({matchPatterns:D8,defaultMatchWidth:"wide",parsePatterns:k8,defaultParseWidth:"any"}),day:hn({matchPatterns:M8,defaultMatchWidth:"wide",parsePatterns:q8,defaultParseWidth:"any"}),dayPeriod:hn({matchPatterns:P8,defaultMatchWidth:"any",parsePatterns:L8,defaultParseWidth:"any"})},ZR={code:"en-US",formatDistance:c8,formatLong:h8,formatRelative:p8,localize:S8,match:$8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function U8(t,e){const r=at(t,e?.in);return VB(r,o8(r))+1}function z8(t,e){const r=at(t,e?.in),a=+wd(r)-+KB(r);return Math.round(a/YR)+1}function eD(t,e){const r=at(t,e?.in),a=r.getFullYear(),i=Ji(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Fr(e?.in||t,0);c.setFullYear(a+1,0,l),c.setHours(0,0,0,0);const d=Aa(c,e),f=Fr(e?.in||t,0);f.setFullYear(a,0,l),f.setHours(0,0,0,0);const m=Aa(f,e);return+r>=+d?a+1:+r>=+m?a:a-1}function I8(t,e){const r=Ji(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=eD(t,e),l=Fr(e?.in||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),Aa(l,e)}function B8(t,e){const r=at(t,e?.in),a=+Aa(r,e)-+I8(r,e);return Math.round(a/YR)+1}function Ye(t,e){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return r+a}const ja={y(t,e){const r=t.getFullYear(),a=r>0?r:1-r;return Ye(e==="yy"?a%100:a,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ye(r+1,2)},d(t,e){return Ye(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ye(t.getHours()%12||12,e.length)},H(t,e){return Ye(t.getHours(),e.length)},m(t,e){return Ye(t.getMinutes(),e.length)},s(t,e){return Ye(t.getSeconds(),e.length)},S(t,e){const r=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return Ye(i,e.length)}},wi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},YO={G:function(t,e,r){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return ja.y(t,e)},Y:function(t,e,r,a){const i=eD(t,a),l=i>0?i:1-i;if(e==="YY"){const c=l%100;return Ye(c,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):Ye(l,e.length)},R:function(t,e){const r=WR(t);return Ye(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ye(r,e.length)},Q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ye(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ye(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){const a=t.getMonth();switch(e){case"M":case"MM":return ja.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return Ye(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){const i=B8(t,a);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Ye(i,e.length)},I:function(t,e,r){const a=z8(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Ye(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ja.d(t,e)},D:function(t,e,r){const a=U8(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ye(a,e.length)},E:function(t,e,r){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ye(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ye(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return Ye(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const a=t.getHours();let i;switch(a===12?i=wi.noon:a===0?i=wi.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const a=t.getHours();let i;switch(a>=17?i=wi.evening:a>=12?i=wi.afternoon:a>=4?i=wi.morning:i=wi.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return ja.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ja.H(t,e)},K:function(t,e,r){const a=t.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ye(a,e.length)},k:function(t,e,r){let a=t.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ye(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ja.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ja.s(t,e)},S:function(t,e){return ja.S(t,e)},X:function(t,e,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return VO(a);case"XXXX":case"XX":return ls(a);case"XXXXX":case"XXX":default:return ls(a,":")}},x:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"x":return VO(a);case"xxxx":case"xx":return ls(a);case"xxxxx":case"xxx":default:return ls(a,":")}},O:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+WO(a,":");case"OOOO":default:return"GMT"+ls(a,":")}},z:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+WO(a,":");case"zzzz":default:return"GMT"+ls(a,":")}},t:function(t,e,r){const a=Math.trunc(+t/1e3);return Ye(a,e.length)},T:function(t,e,r){return Ye(+t,e.length)}};function WO(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?r+String(i):r+String(i)+e+Ye(l,2)}function VO(t,e){return t%60===0?(t>0?"-":"+")+Ye(Math.abs(t)/60,2):ls(t,e)}function ls(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=Ye(Math.trunc(a/60),2),l=Ye(a%60,2);return r+i+e+l}const KO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},H8=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return KO(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",KO(a,e)).replace("{{time}}",tD(i,e))},F8={p:tD,P:H8},G8=/^D+$/,Y8=/^Y+$/,W8=["D","DD","YY","YYYY"];function V8(t){return G8.test(t)}function K8(t){return Y8.test(t)}function X8(t,e,r){const a=Q8(t,e,r);if(console.warn(a),W8.includes(t))throw new RangeError(a)}function Q8(t,e,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const J8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eH=/^'([^]*?)'?$/,tH=/''/g,rH=/[a-zA-Z]/;function Tt(t,e,r){const a=Ji(),i=r?.locale??a.locale??ZR,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d=at(t,r?.in);if(!JB(d))throw new RangeError("Invalid time value");let f=e.match(Z8).map(v=>{const y=v[0];if(y==="p"||y==="P"){const b=F8[y];return b(v,i.formatLong)}return v}).join("").match(J8).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:nH(v)};if(YO[y])return{isToken:!0,value:v};if(y.match(rH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(f=i.localize.preprocessor(d,f));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return f.map(v=>{if(!v.isToken)return v.value;const y=v.value;(!r?.useAdditionalWeekYearTokens&&K8(y)||!r?.useAdditionalDayOfYearTokens&&V8(y))&&X8(y,e,String(t));const b=YO[y[0]];return b(d,y,i.localize,m)}).join("")}function nH(t){const e=t.match(eH);return e?e[1].replace(tH,"'"):t}function aH(t,e,r){const a=Ji(),i=r?.locale??a.locale??ZR,l=2520,c=rd(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:c}),[f,m]=Zi(r?.in,...c>0?[e,t]:[t,e]),v=s8(m,f),y=(_d(m)-_d(f))/1e3,b=Math.round((v-y)/60);let x;if(b<2)return r?.includeSeconds?v<5?i.formatDistance("lessThanXSeconds",5,d):v<10?i.formatDistance("lessThanXSeconds",10,d):v<20?i.formatDistance("lessThanXSeconds",20,d):v<40?i.formatDistance("halfAMinute",0,d):v<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):b===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",b,d);if(b<45)return i.formatDistance("xMinutes",b,d);if(b<90)return i.formatDistance("aboutXHours",1,d);if(b<FO){const w=Math.round(b/60);return i.formatDistance("aboutXHours",w,d)}else{if(b<l)return i.formatDistance("xDays",1,d);if(b<Lu){const w=Math.round(b/FO);return i.formatDistance("xDays",w,d)}else if(b<Lu*2)return x=Math.round(b/Lu),i.formatDistance("aboutXMonths",x,d)}if(x=a8(m,f),x<12){const w=Math.round(b/Lu);return i.formatDistance("xMonths",w,d)}else{const w=x%12,_=Math.trunc(x/12);return w<3?i.formatDistance("aboutXYears",_,d):w<9?i.formatDistance("overXYears",_,d):i.formatDistance("almostXYears",_+1,d)}}function Sd(t,e){return aH(t,XB(t),e)}function sH(t,e){return at(t,e?.in).getDay()}function iH(t,e,r){const[a,i]=Zi(r?.in,t,e);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}function oH(t,e,r){return Os(t,-1,r)}function rD(t,e,r){const a=at(t,r?.in);return a.setHours(e),a}function nD(t,e,r){const a=at(t,r?.in);return a.setMinutes(e),a}function aD(t,e,r){return Fb(t,-e,r)}function lH(t,e,r){return VR(t,-1,r)}const cH={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},uH=(t,e,r)=>{let a;const i=cH[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"en "+a:"hace "+a:a},dH={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},fH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hH={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mH={date:Ti({formats:dH,defaultWidth:"full"}),time:Ti({formats:fH,defaultWidth:"full"}),dateTime:Ti({formats:hH,defaultWidth:"full"})},pH={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},vH={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},gH=(t,e,r,a)=>e.getHours()!==1?vH[t]:pH[t],yH={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},bH={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},xH={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},wH={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},_H={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},SH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},EH=(t,e)=>Number(t)+"",jH={ordinalNumber:EH,era:fn({values:yH,defaultWidth:"wide"}),quarter:fn({values:bH,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:fn({values:xH,defaultWidth:"wide"}),day:fn({values:wH,defaultWidth:"wide"}),dayPeriod:fn({values:_H,defaultWidth:"wide",formattingValues:SH,defaultFormattingWidth:"wide"})},NH=/^(\d+)()?/i,TH=/\d+/i,OH={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},CH={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},AH={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},RH={any:[/1/i,/2/i,/3/i,/4/i]},DH={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},kH={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},MH={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},qH={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},PH={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},LH={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},$H={ordinalNumber:JR({matchPattern:NH,parsePattern:TH,valueCallback:function(t){return parseInt(t,10)}}),era:hn({matchPatterns:OH,defaultMatchWidth:"wide",parsePatterns:CH,defaultParseWidth:"any"}),quarter:hn({matchPatterns:AH,defaultMatchWidth:"wide",parsePatterns:RH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:hn({matchPatterns:DH,defaultMatchWidth:"wide",parsePatterns:kH,defaultParseWidth:"any"}),day:hn({matchPatterns:MH,defaultMatchWidth:"wide",parsePatterns:qH,defaultParseWidth:"any"}),dayPeriod:hn({matchPatterns:PH,defaultMatchWidth:"any",parsePatterns:LH,defaultParseWidth:"any"})},Mt={code:"es",formatDistance:uH,formatLong:mH,formatRelative:gH,localize:jH,match:$H,options:{weekStartsOn:1,firstWeekContainsDate:1}},UH={es:Mt},zH=sB({format:Tt,startOfWeek:()=>Aa(new Date,{weekStartsOn:1}),getDay:sH,locales:UH}),IH={allDay:"Todo el da",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango.",showMore:t=>`+ ${t} ms`},BH={month:"Mes",week:"Semana",day:"Da",agenda:"Agenda"},ll={step:30,timeslots:2,minTime:new Date(0,0,0,7,0,0),maxTime:new Date(0,0,0,22,0,0),defaultView:"week"};function HH(t,e){switch(e){case"month":return Tt(t,"MMMM yyyy",{locale:Mt});case"week":{const r=Aa(t,{weekStartsOn:1}),a=QR(t,{weekStartsOn:1});return iH(r,a)?`${Tt(r,"d",{locale:Mt})} - ${Tt(a,"d MMMM yyyy",{locale:Mt})}`:`${Tt(r,"d MMM",{locale:Mt})} - ${Tt(a,"d MMM yyyy",{locale:Mt})}`}case"day":return Tt(t,"EEEE, d 'de' MMMM yyyy",{locale:Mt});case"agenda":return Tt(t,"MMMM yyyy",{locale:Mt});default:return Tt(t,"MMMM yyyy",{locale:Mt})}}function FH({currentDate:t,currentView:e,onNavigate:r,onViewChange:a,eventsToday:i=0,onNewAppointment:l,isRefreshing:c=!1}){const d=["month","week","day","agenda"],f=A.useMemo(()=>HH(t,e),[t,e]),m=A.useMemo(()=>{const v=new Date;return t.toDateString()===v.toDateString()},[t]);return h.jsx("div",{className:"flex flex-col gap-4 mb-6",children:h.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l&&h.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-xl transition-all shadow-sm hover:shadow-md active:scale-[0.98]",children:[h.jsx(Yn,{className:"h-4 w-4"}),h.jsx("span",{children:"Nueva Cita"})]}),h.jsxs("div",{className:"flex items-center bg-slate-100 rounded-xl p-1 shadow-inner",children:[h.jsx("button",{onClick:()=>r("PREV"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Anterior",children:h.jsx(Wy,{className:"h-5 w-5 text-slate-600"})}),h.jsx("button",{onClick:()=>r("TODAY"),disabled:m,className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all ${m?"text-slate-400 cursor-default":"text-indigo-600 hover:bg-white hover:shadow-sm active:scale-95"}`,children:"Hoy"}),h.jsx("button",{onClick:()=>r("NEXT"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Siguiente",children:h.jsx(Ai,{className:"h-5 w-5 text-slate-600"})})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-800 capitalize whitespace-nowrap",children:f}),c&&h.jsx(Et,{className:"h-4 w-4 text-slate-400 animate-spin"}),i>0&&h.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-semibold rounded-full border border-indigo-100",children:[h.jsx(tn,{className:"h-3.5 w-3.5"}),i," hoy"]})]})]}),h.jsx("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-xl shadow-inner",children:d.map(v=>h.jsx("button",{onClick:()=>a(v),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${e===v?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800 hover:bg-white/50"}`,children:BH[v]},v))})]})})}const ff="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/create-calendar-event",GH="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function YH(t){const{data:{session:e}}=await Ne.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),c=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],f=r.toTimeString().slice(0,5),m=await fetch(ff,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"create",calendarId:t.calendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:c,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:f,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id,htmlLink:v.event?.htmlLink}:{success:!1,error:v.error||"Failed to create appointment"}}async function WH(t){const{data:{session:e}}=await Ne.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(ff,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"delete",calendarId:t.calendarId,eventId:t.eventId})}),a=await r.json();return r.ok?{success:!0}:{success:!1,error:a.error||"Failed to delete appointment"}}async function VH(t){const{data:{session:e}}=await Ne.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),c=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],f=r.toTimeString().slice(0,5),m=await fetch(ff,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,oldCalendarId:t.oldCalendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:c,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:f,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id}:{success:!1,error:v.error||"Failed to update appointment"}}async function KH(t){const{data:{session:e}}=await Ne.auth.getSession();if(!e)throw new Error("No authenticated session");const r=t.newStart.toISOString(),a=t.newEnd.toISOString(),i=t.newStart.toISOString().split("T")[0],l=t.newStart.toTimeString().slice(0,5),c=await fetch(ff,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,summary:t.title,startTime:r,endTime:a,description:t.description,logData:{appointmentDate:i,appointmentTime:l}})}),d=await c.json();return c.ok?{success:!0}:{success:!1,error:d.error||"Failed to reschedule appointment"}}async function sD(t){const{data:e,error:r}=await Ne.from("clients").select("*").eq("salon_id",t).order("name");if(r)throw new Error("Failed to fetch clients");return e||[]}async function Ed(t){const{data:e,error:r}=await Ne.from("services").select("*").eq("salon_id",t).eq("active",!0).order("category").order("display_order");if(r)throw new Error("Failed to fetch services");return e||[]}async function XH(t,e,r,a){const{data:i,error:l}=await Ne.from("clients").insert({salon_id:t,name:e.trim(),phone:r.trim(),email:a?.trim()||null,source:"manual"}).select().single();if(l)throw l.code==="23505"?new Error("Ya existe un cliente con ese telfono"):new Error("Failed to create client");return i}async function iD(t){const{data:{session:e}}=await Ne.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t);r.setHours(0,0,0,0);const a=new Date(t);a.setHours(23,59,59,999);const i=await fetch(GH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({timeMin:r.toISOString(),timeMax:a.toISOString()})});if(!i.ok)throw new Error("Failed to fetch events");return((await i.json()).events||[]).map(c=>({...c,start:new Date(c.start),end:new Date(c.end)}))}function oD(t,e,r,a,i,l){const c=t.filter(d=>d.calendarId===e&&(!l||d.googleEventId!==l));return console.log("Staff events for calendar",e,":",c.map(d=>({title:d.title,start:d.start,end:d.end}))),a.map(d=>{const[f,m]=d.split(":").map(Number),v=new Date(i);v.setHours(f,m,0,0);const y=new Date(v.getTime()+r*60*1e3),b=c.some(x=>{const w=new Date(x.start),_=new Date(x.end),E=v<_&&y>w;return E&&console.log(`Slot ${d} conflicts with event:`,{eventTitle:x.title,eventStart:w.toISOString(),eventEnd:_.toISOString(),slotStart:v.toISOString(),slotEnd:y.toISOString()}),E});return{slot:d,available:!b}})}function QH({event:t,onClose:e,onDelete:r,onEdit:a,canDelete:i=!1,canEdit:l=!1}){const[c,d]=A.useState(!1),[f,m]=A.useState(!1),[v,y]=A.useState(null),b=A.useCallback(E=>{E.key==="Escape"&&e()},[e]),x=A.useCallback(E=>{E.target===E.currentTarget&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",b),document.body.style.overflow="hidden",m(!1),y(null),d(!1)),()=>{document.removeEventListener("keydown",b),document.body.style.overflow="unset"}),[t,b]);const w=async()=>{if(!(!t||!t.googleEventId||!t.calendarId))try{d(!0),y(null);const E=await WH({calendarId:t.calendarId,eventId:t.googleEventId});E.success?(r?.(),e()):y(E.error||"Error al eliminar la cita")}catch(E){y(E instanceof Error?E.message:"Error al eliminar la cita")}finally{d(!1)}};if(!t)return null;const _=t.color||"#4F46E5";return h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:x,role:"dialog","aria-modal":"true","aria-labelledby":"event-title",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-slideUp",children:[h.jsx("div",{className:"h-1.5",style:{backgroundColor:_}}),h.jsx("div",{className:"p-6 pb-4",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{id:"event-title",className:"text-xl font-semibold text-slate-800 leading-tight",children:t.title}),t.staffName&&h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:_}}),h.jsx("span",{className:"text-sm text-slate-500",children:t.staffName})]})]}),h.jsx("button",{onClick:e,className:"p-2 -m-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Cerrar",children:h.jsx(jr,{className:"h-5 w-5 text-slate-400"})})]})}),h.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(tn,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:Tt(t.start,"EEEE, d 'de' MMMM",{locale:Mt})}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(Da,{className:"h-4 w-4 text-slate-400"}),h.jsx("span",{className:"text-sm text-slate-500",children:t.allDay?"Todo el da":`${Tt(t.start,"HH:mm")} - ${Tt(t.end,"HH:mm")}`})]})]})]}),t.location&&h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(sP,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Ubicacin"}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.location})]})]}),t.staffName&&h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(gn,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Asignado a"}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.staffName})]})]}),t.description&&h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(Vq,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Descripcin"}),h.jsx("p",{className:"text-sm text-slate-500 mt-1 whitespace-pre-wrap break-words",children:t.description})]})]})]}),v&&h.jsx("div",{className:"px-6 pb-4",children:h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:v})}),h.jsx("div",{className:"px-6 pb-6",children:f?h.jsxs("div",{className:"space-y-3",children:[h.jsx("p",{className:"text-center text-sm text-slate-600",children:"Seguro que quieres eliminar esta cita?"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>m(!1),disabled:c,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors",children:"Cancelar"}),h.jsx("button",{onClick:w,disabled:c,className:"flex-1 py-3 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:c?h.jsxs(h.Fragment,{children:[h.jsx(Et,{className:"h-4 w-4 animate-spin"}),"Eliminando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(ys,{className:"h-4 w-4"}),"Eliminar"]})})]})]}):h.jsxs("div",{className:"flex gap-3",children:[l&&t.googleEventId&&h.jsxs("button",{onClick:()=>{a?.(t),e()},className:"px-4 py-3 bg-indigo-50 text-indigo-600 font-medium rounded-xl hover:bg-indigo-100 transition-colors flex items-center gap-2",children:[h.jsx(YC,{className:"h-4 w-4"}),"Editar"]}),i&&t.googleEventId&&h.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-3 bg-red-50 text-red-600 font-medium rounded-xl hover:bg-red-100 transition-colors flex items-center gap-2",children:[h.jsx(ys,{className:"h-4 w-4"}),"Eliminar"]}),h.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300",children:"Cerrar"})]})})]})})}function JH({staffCalendars:t,selectedStaff:e,onToggleStaff:r,onSelectAll:a,onDeselectAll:i}){const l=A.useMemo(()=>e.length===t.length,[e.length,t.length]),c=e.length===0;return t.length===0?null:h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[h.jsx(hs,{className:"h-4 w-4"}),h.jsx("span",{children:"Calendarios del equipo"}),h.jsxs("span",{className:"text-slate-400",children:["(",e.length,"/",t.length,")"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:a,disabled:l,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Todos"}),h.jsx("span",{className:"text-slate-300",children:"|"}),h.jsx("button",{onClick:i,disabled:c,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Ninguno"})]})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(d=>{const f=e.includes(d.staffId);return h.jsxs("button",{onClick:()=>r(d.staffId),className:`group flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition-all ${f?"text-white shadow-md hover:shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,style:{backgroundColor:f?d.color:void 0},children:[h.jsx("span",{className:`flex items-center justify-center w-5 h-5 rounded-full transition-all ${f?"bg-white/20":""}`,style:{backgroundColor:f?void 0:d.color+"20"},children:f?h.jsx(Gn,{className:"h-3 w-3"}):h.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:d.color}})}),d.staffName]},d.staffId)})})]})}const ZH=GB(ZI);function lD({events:t,staffCalendars:e=[],isLoading:r=!1,isRefreshing:a=!1,showStaffFilter:i=!1,onEventClick:l,onNewAppointment:c,onEventDelete:d,onEventEdit:f,onEventReschedule:m,canDeleteEvents:v=!1,canEditEvents:y=!1,canDragEvents:b=!1}){const[x,w]=A.useState(new Date),[_,E]=A.useState(ll.defaultView),[S,N]=A.useState(null),[T,O]=A.useState([]),M=A.useMemo(()=>e.map(V=>V.staffId).sort().join(","),[e]),[D,C]=A.useState("");M!==D&&e.length>0&&(O(e.map(V=>V.staffId)),C(M));const L=A.useMemo(()=>i?T.length===0?[]:t.filter(V=>V.staffId&&T.includes(V.staffId)):t,[t,T,i]),P=A.useMemo(()=>{const V=new Date;return L.filter($=>new Date($.start).toDateString()===V.toDateString()).length},[L]),R=A.useCallback(V=>{w($=>{switch(V){case"PREV":return _==="month"?aD($,1):_==="week"?lH($):oH($);case"NEXT":return _==="month"?Fb($,1):_==="week"?VR($,1):Os($,1);case"TODAY":default:return new Date}})},[_]),q=A.useCallback(V=>{E(V)},[]),z=A.useCallback(V=>{N(V),l?.(V)},[l]),U=A.useCallback(V=>{O($=>$.includes(V)?$.filter(Q=>Q!==V):[...$,V])},[]),W=A.useCallback(()=>{O(e.map(V=>V.staffId))},[e]),Z=A.useCallback(()=>{O([])},[]),H=A.useCallback(V=>({style:{backgroundColor:V.color||"#4F46E5",borderRadius:"8px",opacity:.95,color:"white",border:"none",display:"block",fontSize:"0.8rem",fontWeight:500,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}}),[]),B=A.useCallback(({event:V,start:$,end:Q})=>{if(!b||!m)return;const oe=new Date;new Date($)<oe||m(V,new Date($),new Date(Q))},[b,m]),te=A.useCallback(({event:V,start:$,end:Q})=>{if(!b||!m)return;const oe=new Date;new Date($)<oe||m(V,new Date($),new Date(Q))},[b,m]),le=A.useCallback(V=>!(!b||!V.googleEventId||new Date(V.start)<new Date),[b]);return h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[h.jsxs("div",{className:"p-6 pb-0",children:[h.jsx(FH,{currentDate:x,currentView:_,onNavigate:R,onViewChange:q,eventsToday:P,onNewAppointment:c,isRefreshing:a}),i&&e.length>0&&h.jsx(JH,{staffCalendars:e,selectedStaff:T,onToggleStaff:U,onSelectAll:W,onDeselectAll:Z})]}),h.jsxs("div",{className:"relative px-6 pb-6",children:[r&&h.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm flex items-center justify-center z-10 rounded-xl",children:h.jsxs("div",{className:"flex items-center gap-3 bg-white px-6 py-4 rounded-xl shadow-lg border border-slate-100",children:[h.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"text-slate-600 font-medium",children:"Cargando calendario..."})]})}),h.jsx("div",{className:"calendar-container",style:{height:650},children:h.jsx(ZH,{localizer:zH,events:L,startAccessor:"start",endAccessor:"end",date:x,view:_,onNavigate:w,onView:V=>q(V),onSelectEvent:z,eventPropGetter:H,messages:IH,culture:"es",views:[Ot.MONTH,Ot.WEEK,Ot.DAY,Ot.AGENDA],toolbar:!1,popup:!0,selectable:!1,step:ll.step,timeslots:ll.timeslots,min:ll.minTime,max:ll.maxTime,dayLayoutAlgorithm:"no-overlap",draggableAccessor:le,resizable:b,onEventDrop:B,onEventResize:te})})]}),h.jsx(QH,{event:S,onClose:()=>N(null),onDelete:()=>{N(null),d?.()},onEdit:V=>{N(null),f?.(V)},canDelete:v,canEdit:y})]})}async function XO(t){const{data:e,error:r}=await Ne.from("staff_services").select("service_id").eq("staff_id",t);if(r)throw new Error(r.message);return(e||[]).map(a=>a.service_id)}async function cD(t){const{data:e,error:r}=await Ne.from("staff_services").select(`
      staff_id,
      service_id,
      profiles!inner (salon_id)
    `).eq("profiles.salon_id",t);if(r)throw new Error(r.message);const a={};for(const i of e||[])a[i.staff_id]||(a[i.staff_id]=[]),a[i.staff_id].push(i.service_id);return a}async function e7(t,e){const{error:r}=await Ne.from("staff_services").delete().eq("staff_id",t);if(r)throw new Error(r.message);if(e.length>0){const a=e.map(l=>({staff_id:t,service_id:l})),{error:i}=await Ne.from("staff_services").insert(a);if(i)throw new Error(i.message)}}const QO=[{number:1,title:"Cliente",icon:gn},{number:2,title:"Servicio",icon:Hl},{number:3,title:"Profesional",icon:kd},{number:4,title:"Fecha",icon:tn},{number:5,title:"Confirmar",icon:Gn}];function t7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&t.push(`${e.toString().padStart(2,"0")}:30`);return t}const V0=t7();function r7({isOpen:t,onClose:e,onSuccess:r,salonId:a,staffList:i}){const[l,c]=A.useState(1),[d,f]=A.useState([]),[m,v]=A.useState([]),[y,b]=A.useState(!0),[x,w]=A.useState(null),[_,E]=A.useState(null),[S,N]=A.useState(null),[T,O]=A.useState(zr(new Date)),[M,D]=A.useState(null),[C,L]=A.useState(""),[P,R]=A.useState(""),[q,z]=A.useState(""),[U,W]=A.useState(!1),[Z,H]=A.useState(""),[B,te]=A.useState(""),[le,V]=A.useState(""),[$,Q]=A.useState(!1),[oe,de]=A.useState(!1),[he,fe]=A.useState(null),[,Ee]=A.useState([]),[De,Me]=A.useState(!1),[jt,Rt]=A.useState([]),[mr,Gt]=A.useState({});A.useEffect(()=>{t&&a&&(b(!0),Promise.all([sD(a),Ed(a),cD(a)]).then(([ne,be,Re])=>{f(ne),v(be),Gt(Re)}).catch(ne=>{console.error("Error loading data:",ne),fe("Error al cargar datos")}).finally(()=>b(!1)))},[t,a]),A.useEffect(()=>{t||(c(1),w(null),E(null),N(null),O(zr(new Date)),D(null),L(""),R(""),z(""),W(!1),H(""),te(""),V(""),fe(null),Ee([]),Rt([]),Gt({}))},[t]),A.useEffect(()=>{l===4&&S&&_&&(Me(!0),D(null),iD(T).then(ne=>{Ee(ne);const be=oD(ne,S.calendarId,_.duration_minutes,V0,T),Re=new Date,He=KR(T,Re),tr=be.map(Zt=>{if(He){const[nn,Or]=Zt.slot.split(":").map(Number),et=new Date;if(et.setHours(nn,Or,0,0),et<=Re)return{...Zt,available:!1}}return Zt});Rt(tr)}).catch(ne=>{console.error("Error loading availability:",ne),Rt(V0.map(be=>({slot:be,available:!0})))}).finally(()=>Me(!1)))},[l,T,S,_]);const gt=A.useCallback(ne=>{ne.key==="Escape"&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",gt),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",gt),document.body.style.overflow="unset"}),[t,gt]);const ke=d.filter(ne=>ne.name.toLowerCase().includes(P.toLowerCase())||ne.phone.includes(P)),Ce=m.filter(ne=>ne.name.toLowerCase().includes(q.toLowerCase())||(ne.category?.toLowerCase().includes(q.toLowerCase())??!1)).reduce((ne,be)=>{const Re=be.category||"Otros";return ne[Re]||(ne[Re]=[]),ne[Re].push(be),ne},{}),ae=()=>{const ne=Os(T,-1);ne>=zr(new Date)&&O(ne)},ye=()=>{O(Os(T,1))},we=async()=>{if(!(!Z.trim()||!B.trim()))try{Q(!0),fe(null);const ne=await XH(a,Z,B,le||void 0);f(be=>[...be,ne].sort((Re,He)=>Re.name.localeCompare(He.name))),w(ne),W(!1),H(""),te(""),V(""),c(2)}catch(ne){fe(ne instanceof Error?ne.message:"Error al crear cliente")}finally{Q(!1)}},We=async()=>{if(!x||!_||!S||!M){fe("Faltan datos para crear la cita");return}try{de(!0),fe(null);const[ne,be]=M.split(":").map(Number),Re=nD(rD(T,ne),be),He=await YH({calendarId:S.calendarId,client:x,service:_,staffId:S.staffId,staffName:S.staffName,appointmentDate:Re,notes:C.trim()||void 0,salonId:a});He.success?(r(),e()):fe(He.error||"Error al crear la cita")}catch(ne){fe(ne instanceof Error?ne.message:"Error al crear la cita")}finally{de(!1)}},st=()=>{switch(l){case 1:return!!x;case 2:return!!_;case 3:return!!S;case 4:return!!M;case 5:return!0;default:return!1}},ut=()=>{l<5&&st()&&c(ne=>ne+1)},ce=()=>{l>1&&c(ne=>ne-1)};return t?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ne=>ne.target===ne.currentTarget&&e(),children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h2",{className:"text-lg font-bold text-white",children:"Nueva Cita"}),h.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:QO.map((ne,be)=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${l>=ne.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:l>ne.number?h.jsx(Gn,{className:"h-4 w-4"}):ne.number}),be<QO.length-1&&h.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${l>ne.number?"bg-indigo-600":"bg-slate-600"}`})]},ne.number))}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[y?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(Et,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):h.jsxs(h.Fragment,{children:[l===1&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),U?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),h.jsx("input",{type:"text",value:Z,onChange:ne=>H(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),h.jsx("input",{type:"tel",value:B,onChange:ne=>te(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email (opcional)"}),h.jsx("input",{type:"email",value:le,onChange:ne=>V(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>W(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{onClick:we,disabled:!Z.trim()||!B.trim()||$,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:$?"Creando...":"Crear cliente"})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:P,onChange:ne=>R(ne.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsxs("button",{onClick:()=>W(!0),className:"flex items-center gap-2 text-sm text-indigo-400 hover:text-indigo-300",children:[h.jsx(Yn,{className:"h-4 w-4"}),"Crear nuevo cliente"]}),h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:ke.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):ke.map(ne=>h.jsxs("button",{onClick:()=>{w(ne),c(2)},className:`w-full text-left p-3 rounded-lg border transition-colors ${x?.id===ne.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsx("div",{className:"font-medium text-white",children:ne.name}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bl,{className:"h-3 w-3"}),ne.phone]}),ne.email&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Rd,{className:"h-3 w-3"}),ne.email]})]})]},ne.id))})]})]}),l===2&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),h.jsxs("div",{className:"relative",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:q,onChange:ne=>z(ne.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(Ce).length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(Ce).map(([ne,be])=>h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:ne}),h.jsx("div",{className:"space-y-2",children:be.map(Re=>h.jsxs("button",{onClick:()=>{E(Re),c(3)},className:`w-full text-left p-3 rounded-lg border transition-colors ${_?.id===Re.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-medium text-white",children:Re.name}),h.jsxs("span",{className:"text-indigo-400 font-semibold",children:[Re.price,""]})]}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[h.jsx(Da,{className:"h-3 w-3"}),Re.duration_minutes," min"]})]},Re.id))})]},ne))})]}),l===3&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("p",{className:"text-sm text-slate-400",children:['Selecciona el profesional para "',_?.name,'"']}),(()=>{const ne=i.filter(be=>{const Re=mr[be.staffId]||[];return _?Re.includes(_.id):!0});return i.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):ne.length===0?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[h.jsx(vs,{className:"h-5 w-5 text-amber-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-amber-300 font-medium",children:"No hay profesionales asignados a este servicio"}),h.jsxs("p",{className:"text-sm text-amber-300/70 mt-1",children:['Contacta al administrador para asignar profesionales a "',_?.name,'".']})]})]}),h.jsx("button",{onClick:()=>c(2),className:"w-full py-2 text-sm text-indigo-400 hover:text-indigo-300",children:"Seleccionar otro servicio"})]}):h.jsxs("div",{className:"space-y-2",children:[ne.map(be=>h.jsxs("button",{onClick:()=>{N(be),c(4)},className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${S?.staffId===be.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:be.color},children:be.staffName.charAt(0).toUpperCase()}),h.jsx("span",{className:"font-medium text-white",children:be.staffName})]},be.staffId)),ne.length<i.length&&h.jsxs("p",{className:"text-xs text-slate-500 text-center pt-2",children:["Mostrando ",ne.length," de ",i.length," profesionales"]})]})})()]}),l===4&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),h.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[h.jsx("button",{onClick:ae,disabled:T<=zr(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:h.jsx(Wy,{className:"h-5 w-5"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"font-medium text-white",children:Tt(T,"EEEE, d 'de' MMMM",{locale:Mt})}),h.jsx("div",{className:"text-sm text-slate-400",children:Tt(T,"yyyy")})]}),h.jsx("button",{onClick:ye,className:"p-2 text-slate-400 hover:text-white transition-colors",children:h.jsx(Ai,{className:"h-5 w-5"})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),De&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[h.jsx(Et,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),h.jsx("span",{children:"Disponible"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),h.jsx("span",{children:"Ocupado"})]})]}),h.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:(jt.length>0?jt:V0.map(ne=>({slot:ne,available:!0}))).map(({slot:ne,available:be})=>h.jsx("button",{onClick:()=>be&&D(ne),disabled:!be,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${M===ne?"bg-indigo-600 text-white":be?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:ne},ne))}),!De&&jt.length>0&&!jt.some(ne=>ne.available)&&h.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[h.jsx(vs,{className:"h-4 w-4 text-amber-400 mt-0.5"}),h.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),l===5&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los detalles de la cita"}),h.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(gn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),h.jsx("div",{className:"text-white font-medium",children:x?.name}),h.jsx("div",{className:"text-sm text-slate-400",children:x?.phone})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Hl,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),h.jsx("div",{className:"text-white font-medium",children:_?.name}),h.jsxs("div",{className:"text-sm text-slate-400",children:[_?.duration_minutes," min"]})]}),h.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[_?.price,""]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(kd,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),h.jsx("div",{className:"text-white font-medium",children:S?.staffName})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(tn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),h.jsx("div",{className:"text-white font-medium",children:Tt(T,"EEEE, d 'de' MMMM",{locale:Mt})}),h.jsx("div",{className:"text-sm text-slate-400",children:M})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),h.jsx("textarea",{value:C,onChange:ne=>L(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]})]})]}),he&&h.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:he})]}),h.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[h.jsx("button",{onClick:l===1?e:ce,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:l===1?"Cancelar":"Atrs"}),l<5?h.jsxs("button",{onClick:ut,disabled:!st(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",h.jsx(Ai,{className:"h-4 w-4"})]}):h.jsx("button",{onClick:We,disabled:oe,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:oe?h.jsxs(h.Fragment,{children:[h.jsx(Et,{className:"h-4 w-4 animate-spin"}),"Creando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Gn,{className:"h-4 w-4"}),"Crear Cita"]})})]})]})}):null}const JO=[{number:1,title:"Cliente",icon:gn},{number:2,title:"Servicio",icon:Hl},{number:3,title:"Profesional",icon:kd},{number:4,title:"Fecha",icon:tn},{number:5,title:"Confirmar",icon:Gn}];function n7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&t.push(`${e.toString().padStart(2,"0")}:30`);return t}const K0=n7();function a7(t){if(!t)return{};const e={},r=t.split(`
`);for(const a of r)a.startsWith("Cliente: ")?e.clientName=a.replace("Cliente: ","").trim():a.startsWith("Telfono: ")?e.clientPhone=a.replace("Telfono: ","").trim():a.startsWith("Email: ")?e.clientEmail=a.replace("Email: ","").trim():a.startsWith("Servicio: ")?e.serviceName=a.replace("Servicio: ","").trim():a.startsWith("Notas: ")&&(e.notes=a.replace("Notas: ","").trim());return e}function s7({event:t,onClose:e,onSuccess:r,salonId:a,staffList:i}){const[l,c]=A.useState(1),[d,f]=A.useState([]),[m,v]=A.useState([]),[y,b]=A.useState(!0),[x,w]=A.useState(null),[_,E]=A.useState(null),[S,N]=A.useState(null),[T,O]=A.useState(new Date),[M,D]=A.useState(""),[C,L]=A.useState(null),[P,R]=A.useState(null),[q,z]=A.useState(null),[U,W]=A.useState(zr(new Date)),[Z,H]=A.useState(null),[B,te]=A.useState(""),[le,V]=A.useState(""),[$,Q]=A.useState(""),[oe,de]=A.useState(!1),[he,fe]=A.useState(null),[Ee,De]=A.useState(!1),[Me,jt]=A.useState([]),[Rt,mr]=A.useState({});A.useEffect(()=>{t&&a&&(b(!0),c(1),fe(null),Promise.all([sD(a),Ed(a),cD(a)]).then(([ce,ne,be])=>{f(ce),v(ne),mr(be);const Re=a7(t.description),He=ce.find(et=>et.phone===Re.clientPhone||et.name===Re.clientName);He&&(L(He),w(He));const tr=ne.find(et=>et.name===Re.serviceName);tr&&(R(tr),E(tr));const Zt=i.find(et=>et.staffId===t.staffId||et.calendarId===t.calendarId);Zt&&(z(Zt),N(Zt));const nn=zr(new Date(t.start)),Or=Tt(new Date(t.start),"HH:mm");W(nn),O(nn),H(Or),D(Or),Re.notes&&te(Re.notes)}).catch(ce=>{console.error("Error loading data:",ce),fe("Error al cargar datos")}).finally(()=>b(!1)))},[t,a,i]),A.useEffect(()=>{l===4&&q&&P&&t&&(De(!0),iD(U).then(ce=>{const ne=oD(ce,q.calendarId,P.duration_minutes,K0,U,t.googleEventId),be=new Date,Re=KR(U,be),He=ne.map(tr=>{if(Re){const[Zt,nn]=tr.slot.split(":").map(Number),Or=new Date;if(Or.setHours(Zt,nn,0,0),Or<=be)return{...tr,available:!1}}return tr});jt(He)}).catch(ce=>{console.error("Error loading availability:",ce),jt(K0.map(ne=>({slot:ne,available:!0})))}).finally(()=>De(!1)))},[l,U,q,P,t]);const Gt=A.useCallback(ce=>{ce.key==="Escape"&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",Gt),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",Gt),document.body.style.overflow="unset"}),[t,Gt]);const gt=d.filter(ce=>ce.name.toLowerCase().includes(le.toLowerCase())||ce.phone.includes(le)),qt=m.filter(ce=>ce.name.toLowerCase().includes($.toLowerCase())||(ce.category?.toLowerCase().includes($.toLowerCase())??!1)).reduce((ce,ne)=>{const be=ne.category||"Otros";return ce[be]||(ce[be]=[]),ce[be].push(ne),ce},{}),Ce=()=>{const ce=Os(U,-1);ce>=zr(new Date)&&(W(ce),H(null))},ae=()=>{W(Os(U,1)),H(null)},ye=()=>C?.id!==x?.id||P?.id!==_?.id||q?.staffId!==S?.staffId||U.getTime()!==T.getTime()||Z!==M,we=async()=>{if(!t||!C||!P||!q||!Z){fe("Faltan datos para actualizar la cita");return}if(!t.googleEventId){fe("No se puede editar esta cita (falta ID de Google Calendar)");return}try{de(!0),fe(null);const[ce,ne]=Z.split(":").map(Number),be=nD(rD(U,ce),ne),Re=q.calendarId!==S?.calendarId,He=await VH({eventId:t.googleEventId,calendarId:q.calendarId,oldCalendarId:Re?S?.calendarId:void 0,client:C,service:P,staffId:q.staffId,staffName:q.staffName,appointmentDate:be,notes:B.trim()||void 0,salonId:a});He.success?(r(),e()):fe(He.error||"Error al actualizar la cita")}catch(ce){fe(ce instanceof Error?ce.message:"Error al actualizar la cita")}finally{de(!1)}},We=()=>{switch(l){case 1:return!!C;case 2:return!!P;case 3:return!!q;case 4:return!!Z;case 5:return!0;default:return!1}},st=()=>{l<5&&We()&&c(ce=>ce+1)},ut=()=>{l>1&&c(ce=>ce-1)};return t?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ce=>ce.target===ce.currentTarget&&e(),children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(YC,{className:"h-5 w-5 text-indigo-400"}),h.jsx("h2",{className:"text-lg font-bold text-white",children:"Editar Cita"})]}),h.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:JO.map((ce,ne)=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${l>=ce.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:l>ce.number?h.jsx(Gn,{className:"h-4 w-4"}):ce.number}),ne<JO.length-1&&h.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${l>ce.number?"bg-indigo-600":"bg-slate-600"}`})]},ce.number))}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[y?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(Et,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):h.jsxs(h.Fragment,{children:[l===1&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),h.jsxs("div",{className:"relative",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:le,onChange:ce=>V(ce.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:gt.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):gt.map(ce=>h.jsxs("button",{onClick:()=>L(ce),className:`w-full text-left p-3 rounded-lg border transition-colors ${C?.id===ce.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"font-medium text-white",children:ce.name}),x?.id===ce.id&&h.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bl,{className:"h-3 w-3"}),ce.phone]}),ce.email&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Rd,{className:"h-3 w-3"}),ce.email]})]})]},ce.id))})]}),l===2&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),h.jsxs("div",{className:"relative",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:$,onChange:ce=>Q(ce.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(qt).length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(qt).map(([ce,ne])=>h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:ce}),h.jsx("div",{className:"space-y-2",children:ne.map(be=>h.jsxs("button",{onClick:()=>R(be),className:`w-full text-left p-3 rounded-lg border transition-colors ${P?.id===be.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-medium text-white",children:be.name}),_?.id===be.id&&h.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),h.jsxs("span",{className:"text-indigo-400 font-semibold",children:[be.price,""]})]}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[h.jsx(Da,{className:"h-3 w-3"}),be.duration_minutes," min"]})]},be.id))})]},ce))})]}),l===3&&h.jsxs("div",{className:"space-y-4",children:[h.jsxs("p",{className:"text-sm text-slate-400",children:['Selecciona el profesional para "',P?.name,'"']}),(()=>{const ce=i.filter(ne=>{const be=Rt[ne.staffId]||[];return P?be.includes(P.id):!0});return i.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):ce.length===0?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[h.jsx(vs,{className:"h-5 w-5 text-amber-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-amber-300 font-medium",children:"No hay profesionales asignados a este servicio"}),h.jsxs("p",{className:"text-sm text-amber-300/70 mt-1",children:['Contacta al administrador para asignar profesionales a "',P?.name,'".']})]})]}),h.jsx("button",{onClick:()=>c(2),className:"w-full py-2 text-sm text-indigo-400 hover:text-indigo-300",children:"Seleccionar otro servicio"})]}):h.jsxs("div",{className:"space-y-2",children:[ce.map(ne=>h.jsxs("button",{onClick:()=>z(ne),className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${q?.staffId===ne.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:ne.color},children:ne.staffName.charAt(0).toUpperCase()}),h.jsx("span",{className:"font-medium text-white flex-1",children:ne.staffName}),S?.staffId===ne.staffId&&h.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]},ne.staffId)),ce.length<i.length&&h.jsxs("p",{className:"text-xs text-slate-500 text-center pt-2",children:["Mostrando ",ce.length," de ",i.length," profesionales"]})]})})()]}),l===4&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),h.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[h.jsx("button",{onClick:Ce,disabled:U<=zr(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:h.jsx(Wy,{className:"h-5 w-5"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"font-medium text-white",children:Tt(U,"EEEE, d 'de' MMMM",{locale:Mt})}),h.jsx("div",{className:"text-sm text-slate-400",children:Tt(U,"yyyy")})]}),h.jsx("button",{onClick:ae,className:"p-2 text-slate-400 hover:text-white transition-colors",children:h.jsx(Ai,{className:"h-5 w-5"})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),Ee&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[h.jsx(Et,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),h.jsx("span",{children:"Disponible"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),h.jsx("span",{children:"Ocupado"})]})]}),h.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:(Me.length>0?Me:K0.map(ce=>({slot:ce,available:!0}))).map(({slot:ce,available:ne})=>h.jsx("button",{onClick:()=>ne&&H(ce),disabled:!ne,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${Z===ce?"bg-indigo-600 text-white":ne?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:ce},ce))}),!Ee&&Me.length>0&&!Me.some(ce=>ce.available)&&h.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[h.jsx(vs,{className:"h-4 w-4 text-amber-400 mt-0.5"}),h.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),l===5&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los cambios de la cita"}),h.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(gn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[C?.name,C?.id!==x?.id&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),h.jsx("div",{className:"text-sm text-slate-400",children:C?.phone})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Hl,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[P?.name,P?.id!==_?.id&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),h.jsxs("div",{className:"text-sm text-slate-400",children:[P?.duration_minutes," min"]})]}),h.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[P?.price,""]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(kd,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[q?.staffName,q?.staffId!==S?.staffId&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(tn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[Tt(U,"EEEE, d 'de' MMMM",{locale:Mt}),(U.getTime()!==T.getTime()||Z!==M)&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),h.jsx("div",{className:"text-sm text-slate-400",children:Z})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),h.jsx("textarea",{value:B,onChange:ce=>te(ce.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]}),!ye()&&h.jsx("div",{className:"p-3 bg-slate-700/50 border border-slate-600 rounded-lg text-slate-400 text-sm text-center",children:"No se han realizado cambios"})]})]}),he&&h.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:he})]}),h.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[h.jsx("button",{onClick:l===1?e:ut,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:l===1?"Cancelar":"Atrs"}),l<5?h.jsxs("button",{onClick:st,disabled:!We(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",h.jsx(Ai,{className:"h-4 w-4"})]}):h.jsx("button",{onClick:we,disabled:oe||!ye(),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:oe?h.jsxs(h.Fragment,{children:[h.jsx(Et,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Gn,{className:"h-4 w-4"}),"Guardar Cambios"]})})]})]})}):null}const i7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function o7(t,e){const{data:{session:r}}=await Ne.auth.getSession();if(!r)throw new Error("No authenticated session");const a=await fetch(i7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({timeMin:t.toISOString(),timeMax:e.toISOString()})});if(!a.ok){const c=await a.json();throw new Error(c.error||"Failed to fetch calendar events")}const i=await a.json();if(i.error)throw new Error(i.error);return{events:i.events.map(c=>({...c,start:new Date(c.start),end:new Date(c.end)})),staffList:i.staffList||[],role:i.role,salon:i.salon}}const ZO=3,l7=300*1e3;function c7(){const t=new Date,e=aD(t,ZO),r=Fb(t,ZO),a=Aa(i8(e),{weekStartsOn:1}),i=QR(XR(r),{weekStartsOn:1});return{start:a,end:i}}function uD(){const[t,e]=A.useState([]),[r,a]=A.useState([]),[i,l]=A.useState(null),[c,d]=A.useState(!0),[f,m]=A.useState(!1),[v,y]=A.useState(null),[b,x]=A.useState(null),w=A.useRef(!0),_=A.useRef(null),E=A.useRef(!1),S=A.useCallback(async(T=!1)=>{T?m(!0):d(!0);try{const{start:O,end:M}=c7(),D=await o7(O,M);if(!w.current)return;e(D.events),a(D.staffList),l(D.salon),y(null),x(new Date),_.current={start:O,end:M}}catch(O){if(!w.current)return;const M=O instanceof Error?O.message:"Error al cargar eventos";y(M),console.error("Calendar error:",O)}finally{w.current&&(d(!1),m(!1))}},[]),N=A.useCallback(async()=>{const T=t.length>0||r.length>0;await S(T)},[S,t.length,r.length]);return A.useEffect(()=>(w.current=!0,E.current||(E.current=!0,S(!1)),()=>{w.current=!1}),[S]),A.useEffect(()=>{const T=setInterval(()=>{w.current&&!c&&!f&&S(!0)},l7);return()=>clearInterval(T)},[S,c,f]),{events:t,staffList:r,salon:i,isInitialLoading:c,isRefreshing:f,error:v,lastUpdated:b,refresh:N}}const u7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/manage-users";async function dD(){const{data:t,error:e}=await Ne.from("salons").select("*").order("name");if(e)throw new Error(e.message);return t||[]}async function d7(t){const{data:e,error:r}=await Ne.from("salons").insert([{...t,slug:t.slug||t.name.toLowerCase().replace(/\s+/g,"-")}]).select().single();if(r)throw new Error(r.message);return e}async function f7(t,e){const{data:r,error:a}=await Ne.from("salons").update(e).eq("id",t).select().single();if(a)throw new Error(a.message);return r}async function h7(t){const{error:e}=await Ne.from("salons").delete().eq("id",t);if(e)throw new Error(e.message)}async function m7(){const{data:t,error:e}=await Ne.from("profiles").select("*").order("full_name");if(e)throw new Error(e.message);return t||[]}async function hf(t){const{data:{session:e}}=await Ne.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(u7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Error en la operacin");return a}async function p7(t){return(await hf({action:"create",...t})).user}async function v7(t,e){return(await hf({action:"update",user_id:t,...e})).user}async function g7(t,e){await hf({action:"update_password",user_id:t,password:e})}async function y7(t){await hf({action:"delete",user_id:t})}async function b7(){const[t,e]=await Promise.all([Ne.from("salons").select("id",{count:"exact",head:!0}),Ne.from("profiles").select("role")]);if(t.error)throw new Error(t.error.message);if(e.error)throw new Error(e.error.message);const r=e.data||[];return{totalSalons:t.count||0,totalUsers:r.length,totalAdmins:r.filter(a=>a.role==="admin").length,totalStaff:r.filter(a=>a.role==="staff").length}}const e2={username:"",password:"",full_name:"",role:"staff",salon_id:"",google_calendar_id:"",selectedServiceIds:[]};function fD({onUpdate:t,salonFilter:e}){const[r,a]=A.useState([]),[i,l]=A.useState([]),[c,d]=A.useState(!0),[f,m]=A.useState(null),[v,y]=A.useState(""),[b,x]=A.useState(e||""),[w,_]=A.useState(!1),[E,S]=A.useState(null),[N,T]=A.useState(e2),[O,M]=A.useState(!1),[D,C]=A.useState(!1),[L,P]=A.useState(null),[R,q]=A.useState(null),[z,U]=A.useState(""),[W,Z]=A.useState(!1),[H,B]=A.useState([]),[te,le]=A.useState(!1),[V,$]=A.useState(new Set),[Q,oe]=A.useState({}),de=async()=>{try{d(!0),m(null);const[ae,ye]=await Promise.all([m7(),dD()]);a(ae),l(ye);const we={};for(const We of ae)if(We.role==="staff"||We.role==="admin")try{const st=await XO(We.id);we[We.id]=st.length}catch{we[We.id]=0}oe(we)}catch(ae){m(ae instanceof Error?ae.message:"Error al cargar datos")}finally{d(!1)}};A.useEffect(()=>{de()},[]);const he=r.filter(ae=>{if(e&&ae.salon_id!==e||b&&ae.salon_id!==b)return!1;const ye=v.toLowerCase();return ae.full_name.toLowerCase().includes(ye)||ae.username?.toLowerCase().includes(ye)||ae.email?.toLowerCase().includes(ye)}),fe=ae=>ae?i.find(we=>we.id===ae)?.name||"Desconocido":"Sin saln",Ee=ae=>{switch(ae){case"superadmin":return"bg-purple-500/20 text-purple-400";case"admin":return"bg-indigo-500/20 text-indigo-400";default:return"bg-slate-500/20 text-slate-400"}},De=async()=>{S(null);const ae=e||i[0]?.id||"";if(T({...e2,salon_id:ae}),M(!1),B([]),$(new Set),_(!0),ae){le(!0);try{const ye=await Ed(ae);B(ye);const we=new Set(ye.map(We=>We.category||"Otros"));$(we)}catch(ye){console.error("Error loading services:",ye)}finally{le(!1)}}},Me=async ae=>{if(S(ae),B([]),$(new Set),T({username:ae.username||"",password:"",full_name:ae.full_name,role:ae.role==="superadmin"?"admin":ae.role,salon_id:ae.salon_id||"",google_calendar_id:ae.google_calendar_id||"",selectedServiceIds:[]}),_(!0),ae.salon_id){le(!0);try{const[ye,we]=await Promise.all([Ed(ae.salon_id),XO(ae.id)]);B(ye),T(st=>({...st,selectedServiceIds:we}));const We=new Set(ye.map(st=>st.category||"Otros"));$(We)}catch(ye){console.error("Error loading services:",ye)}finally{le(!1)}}},jt=async ae=>{ae.preventDefault(),C(!0),m(null);try{let ye;if(E)await v7(E.id,{full_name:N.full_name,role:N.role,salon_id:N.salon_id,google_calendar_id:N.google_calendar_id||void 0}),ye=E.id;else{if(!N.password){m("La contrasea es requerida"),C(!1);return}ye=(await p7({username:N.username,password:N.password,full_name:N.full_name,role:N.role,salon_id:N.salon_id,google_calendar_id:N.google_calendar_id||void 0})).id}(N.role==="staff"||N.role==="admin")&&await e7(ye,N.selectedServiceIds),_(!1),de(),t?.()}catch(ye){m(ye instanceof Error?ye.message:"Error al guardar")}finally{C(!1)}},Rt=ae=>{$(ye=>{const we=new Set(ye);return we.has(ae)?we.delete(ae):we.add(ae),we})},mr=ae=>{T(ye=>{const we=new Set(ye.selectedServiceIds);return we.has(ae)?we.delete(ae):we.add(ae),{...ye,selectedServiceIds:Array.from(we)}})},Gt=()=>{T(ae=>({...ae,selectedServiceIds:H.map(ye=>ye.id)}))},gt=()=>{T(ae=>({...ae,selectedServiceIds:[]}))},ke=H.reduce((ae,ye)=>{const we=ye.category||"Otros";return ae[we]||(ae[we]=[]),ae[we].push(ye),ae},{}),qt=async()=>{if(!(!R||!z)){Z(!0);try{await g7(R,z),q(null),U("")}catch(ae){m(ae instanceof Error?ae.message:"Error al cambiar contrasea")}finally{Z(!1)}}},Ce=async ae=>{try{await y7(ae),P(null),de(),t?.()}catch(ye){m(ye instanceof Error?ye.message:"Error al eliminar")}};return c?h.jsx("div",{className:"p-12 flex justify-center",children:h.jsx(Et,{className:"h-8 w-8 animate-spin text-indigo-400"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:v,onChange:ae=>y(ae.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),!e&&h.jsxs("select",{value:b,onChange:ae=>x(ae.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:[h.jsx("option",{value:"",children:"Todos los salones"}),i.map(ae=>h.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]}),h.jsxs("button",{onClick:De,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[h.jsx(Yn,{className:"h-4 w-4"}),"Nuevo Usuario"]})]}),f&&h.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:f}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Usuario"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Saln"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"Calendar ID"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden sm:table-cell",children:"Servicios"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),h.jsx("tbody",{children:he.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-slate-400",children:v||b?"No se encontraron usuarios":"No hay usuarios registrados"})}):he.map(ae=>h.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[h.jsx("td",{className:"px-4 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-lg flex items-center justify-center",children:h.jsx(gn,{className:"h-5 w-5 text-slate-300"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-white",children:ae.full_name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("p",{className:"text-xs text-slate-400",children:["@",ae.username]}),h.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${Ee(ae.role)}`,children:ae.role})]})]})]})}),h.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:h.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-300",children:[h.jsx(hd,{className:"h-3.5 w-3.5 text-slate-400"}),fe(ae.salon_id)]})}),h.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(tn,{className:"h-3.5 w-3.5 text-slate-400"}),h.jsx("span",{className:"text-sm text-slate-300 font-mono truncate max-w-[200px]",children:ae.google_calendar_id||"-"})]})}),h.jsx("td",{className:"px-4 py-4 hidden sm:table-cell",children:(ae.role==="staff"||ae.role==="admin")&&ae.salon_id?h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(Hl,{className:"h-3.5 w-3.5 text-slate-400"}),h.jsxs("span",{className:`px-2 py-1 text-xs rounded-full ${Q[ae.id]>0?"bg-indigo-500/20 text-indigo-400":"bg-slate-500/20 text-slate-400"}`,children:[Q[ae.id]||0," servicios"]})]}):h.jsx("span",{className:"text-sm text-slate-500",children:"-"})}),h.jsx("td",{className:"px-4 py-4 text-right",children:L===ae.id?h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),h.jsx("button",{onClick:()=>Ce(ae.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:h.jsx(Gn,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>P(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:h.jsx(jr,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("button",{onClick:()=>{q(ae.id),U("")},className:"p-1.5 text-slate-400 hover:text-amber-400 hover:bg-amber-900/30 rounded-lg transition-colors",title:"Cambiar contrasea",children:h.jsx(Jq,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>Me(ae),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:h.jsx(WC,{className:"h-4 w-4"})}),ae.role!=="superadmin"&&h.jsx("button",{onClick:()=>P(ae.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Eliminar",children:h.jsx(ys,{className:"h-4 w-4"})})]})})]},ae.id))})]})}),w&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold",children:E?"Editar Usuario":"Nuevo Usuario"}),h.jsx("button",{onClick:()=>_(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:jt,className:"p-4 space-y-4",children:[!E&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre de usuario *"}),h.jsx("input",{type:"text",value:N.username,onChange:ae=>T({...N,username:ae.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")}),placeholder:"usuario123",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Solo letras minsculas, nmeros y guiones bajos"})]}),!E&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Contrasea *"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:O?"text":"password",value:N.password,onChange:ae=>T({...N,password:ae.target.value}),className:"w-full px-3 py-2 pr-10 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),h.jsx("button",{type:"button",onClick:()=>M(!O),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:O?h.jsx(HC,{className:"h-4 w-4"}):h.jsx(FC,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre completo *"}),h.jsx("input",{type:"text",value:N.full_name,onChange:ae=>T({...N,full_name:ae.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Rol *"}),h.jsxs("select",{value:N.role,onChange:ae=>T({...N,role:ae.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",disabled:!!e,children:[!e&&h.jsx("option",{value:"admin",children:"Admin"}),h.jsx("option",{value:"staff",children:"Staff"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Saln *"}),h.jsxs("select",{value:N.salon_id,onChange:ae=>T({...N,salon_id:ae.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0,disabled:!!e,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),i.map(ae=>h.jsx("option",{value:ae.id,children:ae.name},ae.id))]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Google Calendar ID"}),h.jsx("input",{type:"text",value:N.google_calendar_id,onChange:ae=>T({...N,google_calendar_id:ae.target.value}),placeholder:"ejemplo@group.calendar.google.com",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),(N.role==="staff"||N.role==="admin")&&N.salon_id&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Servicios que puede realizar"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"button",onClick:Gt,className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded transition-colors",children:"Todos"}),h.jsx("button",{type:"button",onClick:gt,className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded transition-colors",children:"Ninguno"})]})]}),te?h.jsx("div",{className:"flex items-center justify-center py-4",children:h.jsx(Et,{className:"h-5 w-5 animate-spin text-indigo-400"})}):H.length===0?h.jsx("p",{className:"text-sm text-slate-500 py-2",children:"No hay servicios configurados para este saln"}):h.jsx("div",{className:"bg-slate-700/50 rounded-lg border border-slate-600 max-h-48 overflow-y-auto",children:Object.entries(ke).map(([ae,ye])=>h.jsxs("div",{className:"border-b border-slate-600 last:border-b-0",children:[h.jsxs("button",{type:"button",onClick:()=>Rt(ae),className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-slate-600/50 transition-colors",children:[V.has(ae)?h.jsx(IC,{className:"h-4 w-4 text-slate-400"}):h.jsx(Ai,{className:"h-4 w-4 text-slate-400"}),h.jsx("span",{className:"text-sm font-medium text-slate-300",children:ae}),h.jsxs("span",{className:"text-xs text-slate-500",children:["(",ye.filter(we=>N.selectedServiceIds.includes(we.id)).length,"/",ye.length,")"]})]}),V.has(ae)&&h.jsx("div",{className:"pl-6 pr-3 pb-2 space-y-1",children:ye.map(we=>h.jsxs("label",{className:"flex items-center gap-2 py-1 px-2 rounded hover:bg-slate-600/30 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:N.selectedServiceIds.includes(we.id),onChange:()=>mr(we.id),className:"w-4 h-4 rounded border-slate-500 bg-slate-600 text-indigo-500 focus:ring-indigo-500 focus:ring-offset-0"}),h.jsx("span",{className:"text-sm text-slate-300",children:we.name}),h.jsxs("span",{className:"text-xs text-slate-500",children:["(",we.duration_minutes," min - ",we.price,")"]})]},we.id))})]},ae))}),h.jsxs("p",{className:"text-xs text-slate-400 mt-1.5",children:[N.selectedServiceIds.length," de ",H.length," servicios seleccionados"]})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:D,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&h.jsx(Et,{className:"h-4 w-4 animate-spin"}),E?"Guardar":"Crear"]})]})]})]})}),R&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-sm",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Cambiar Contrasea"}),h.jsx("button",{onClick:()=>q(null),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nueva contrasea"}),h.jsx("input",{type:"password",value:z,onChange:ae=>U(ae.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",autoFocus:!0})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>q(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsxs("button",{onClick:qt,disabled:W||!z,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[W&&h.jsx(Et,{className:"h-4 w-4 animate-spin"}),"Cambiar"]})]})]})]})})]})}const t2=[{value:"tariff_change",label:"Cambio de tarifas"},{value:"time_change",label:"Cambio de horarios"},{value:"bug",label:"Reportar error"},{value:"feature",label:"Sugerencia"},{value:"other",label:"Otro"}],r2=[{value:"open",label:"Abierto",color:"bg-blue-500/20 text-blue-400"},{value:"in_progress",label:"En progreso",color:"bg-yellow-500/20 text-yellow-400"},{value:"resolved",label:"Resuelto",color:"bg-green-500/20 text-green-400"},{value:"closed",label:"Cerrado",color:"bg-slate-500/20 text-slate-400"}],n2=[{value:"low",label:"Baja",color:"text-slate-400"},{value:"normal",label:"Normal",color:"text-blue-400"},{value:"high",label:"Alta",color:"text-orange-400"},{value:"urgent",label:"Urgente",color:"text-red-400"}];function hD({salonId:t,showAllSalons:e=!1}){const{profile:r,isSuperAdmin:a}=Il(),[i,l]=A.useState([]),[c,d]=A.useState(!0),[f,m]=A.useState(null),[v,y]=A.useState(!1),[b,x]=A.useState(!1),[w,_]=A.useState(null),[E,S]=A.useState("other"),[N,T]=A.useState(""),[O,M]=A.useState(""),[D,C]=A.useState("normal"),[L,P]=A.useState(null),[R,q]=A.useState(""),z=async()=>{try{d(!0),m(null);let V=Ne.from("tickets").select("*").order("created_at",{ascending:!1});t&&!e&&(V=V.eq("salon_id",t));const{data:$,error:Q}=await V;if(Q){console.error("Error fetching tickets:",Q),m("No se pudieron cargar los tickets");return}if(e&&$&&$.length>0){const oe=[...new Set($.map(fe=>fe.salon_id))],{data:de}=await Ne.from("salons").select("id, name").in("id",oe),he=new Map(de?.map(fe=>[fe.id,fe.name])||[]);$.forEach(fe=>{fe.salon_name=he.get(fe.salon_id)||"Desconocido"})}l($||[])}catch(V){console.error("Unexpected error:",V),m("Error inesperado al cargar tickets")}finally{d(!1)}};A.useEffect(()=>{z()},[t,e]);const U=async V=>{if(V.preventDefault(),!r?.salon_id&&!t){m("No se pudo determinar el saln");return}x(!0),m(null);try{const{error:$}=await Ne.from("tickets").insert({salon_id:t||r?.salon_id,created_by:r?.id,type:E,subject:N.trim(),description:O.trim(),priority:D,status:"open"});if($){console.error("Error creating ticket:",$),m("No se pudo crear el ticket");return}S("other"),T(""),M(""),C("normal"),y(!1),z()}catch($){console.error("Unexpected error:",$),m("Error inesperado")}finally{x(!1)}},W=async(V,$)=>{P(V);try{const Q={status:$};$==="resolved"&&(Q.resolved_at=new Date().toISOString());const{error:oe}=await Ne.from("tickets").update(Q).eq("id",V);if(oe){console.error("Error updating ticket:",oe),m("No se pudo actualizar el ticket");return}z()}finally{P(null)}},Z=async V=>{if(R.trim())try{const{error:$}=await Ne.from("tickets").update({admin_notes:R.trim()}).eq("id",V);if($){console.error("Error updating notes:",$);return}q(""),_(null),z()}catch($){console.error("Error:",$)}},H=V=>{const $=r2.find(Q=>Q.value===V);return h.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${$?.color}`,children:$?.label})},B=V=>{const $=n2.find(Q=>Q.value===V);return h.jsx("span",{className:`text-xs ${$?.color}`,children:$?.label})},te=V=>t2.find($=>$.value===V)?.label||V,le=V=>new Date(V).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:e?"Todos los Tickets":"Mis Tickets"}),h.jsx("p",{className:"text-sm text-slate-400",children:e?"Gestiona las solicitudes de todos los salones":"Enva solicitudes al equipo de Galia"})]}),!e&&h.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Yn,{className:"h-4 w-4"}),"Nuevo Ticket"]})]}),f&&h.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:f}),v&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-white",children:"Nuevo Ticket"}),h.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-white",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:U,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Tipo de solicitud"}),h.jsx("select",{value:E,onChange:V=>S(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:t2.map(V=>h.jsx("option",{value:V.value,children:V.label},V.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Prioridad"}),h.jsx("select",{value:D,onChange:V=>C(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:n2.map(V=>h.jsx("option",{value:V.value,children:V.label},V.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Asunto"}),h.jsx("input",{type:"text",value:N,onChange:V=>T(V.target.value),placeholder:"Resumen breve del problema",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),h.jsx("textarea",{value:O,onChange:V=>M(V.target.value),placeholder:"Describe con detalle tu solicitud...",rows:4,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none",required:!0})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:b,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[b?h.jsx(Et,{className:"h-4 w-4 animate-spin"}):h.jsx(yP,{className:"h-4 w-4"}),"Enviar Ticket"]})]})]})]})}),w&&a&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-white",children:"Detalle del Ticket"}),h.jsx("button",{onClick:()=>_(null),className:"text-slate-400 hover:text-white",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Saln"}),h.jsx("p",{className:"text-white",children:w.salon_name})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Asunto"}),h.jsx("p",{className:"text-white",children:w.subject})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Descripcin"}),h.jsx("p",{className:"text-white whitespace-pre-wrap",children:w.description})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Tipo"}),h.jsx("p",{className:"text-white",children:te(w.type)})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Prioridad"}),B(w.priority)]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Estado"}),H(w.status)]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas internas"}),h.jsx("textarea",{value:R||w.admin_notes||"",onChange:V=>q(V.target.value),placeholder:"Aade notas sobre este ticket...",rows:3,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Cambiar estado"}),h.jsx("div",{className:"flex gap-2 flex-wrap",children:r2.map(V=>h.jsx("button",{onClick:()=>W(w.id,V.value),disabled:L===w.id,className:`px-3 py-1 rounded text-sm ${w.status===V.value?V.color+" ring-2 ring-offset-2 ring-offset-slate-800 ring-current":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:V.label},V.value))})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cerrar"}),h.jsx("button",{onClick:()=>Z(w.id),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:"Guardar Notas"})]})]})]})}),c?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsx(Et,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):i.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(GC,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),h.jsx("p",{className:"text-slate-400",children:"No hay tickets"}),!e&&h.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Crea uno para enviar una solicitud al equipo de Galia"})]}):h.jsx("div",{className:"space-y-3",children:i.map(V=>h.jsxs("div",{onClick:()=>a&&_(V),className:`bg-slate-900 border border-slate-700 rounded-lg p-4 ${a?"cursor-pointer hover:border-slate-600":""}`,children:[h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[H(V.status),B(V.priority),h.jsx("span",{className:"text-xs text-slate-500",children:te(V.type)})]}),h.jsx("h4",{className:"text-white font-medium truncate",children:V.subject}),h.jsx("p",{className:"text-sm text-slate-400 line-clamp-2 mt-1",children:V.description}),e&&V.salon_name&&h.jsx("p",{className:"text-xs text-indigo-400 mt-2",children:V.salon_name})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[h.jsx(Da,{className:"h-3 w-3"}),le(V.created_at)]}),V.status==="resolved"&&V.resolved_at&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-500 mt-1",children:[h.jsx(gy,{className:"h-3 w-3"}),"Resuelto"]}),a&&h.jsx(IC,{className:"h-4 w-4 text-slate-500 mt-2 ml-auto"})]})]}),V.admin_notes&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[h.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Notas del equipo:"}),h.jsx("p",{className:"text-sm text-slate-300",children:V.admin_notes})]})]},V.id))})]})}const X0=[{value:"waiting",label:"Esperando",color:"bg-blue-500/20 text-blue-400",icon:h.jsx(Da,{className:"h-3 w-3"})},{value:"contacted",label:"Contactado",color:"bg-yellow-500/20 text-yellow-400",icon:h.jsx(KC,{className:"h-3 w-3"})},{value:"booked",label:"Agendado",color:"bg-green-500/20 text-green-400",icon:h.jsx(Dq,{className:"h-3 w-3"})},{value:"cancelled",label:"Cancelado",color:"bg-red-500/20 text-red-400",icon:h.jsx(yy,{className:"h-3 w-3"})},{value:"expired",label:"Expirado",color:"bg-slate-500/20 text-slate-400",icon:h.jsx(yy,{className:"h-3 w-3"})}];function x7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState(!1),[m,v]=A.useState(!1),[y,b]=A.useState("waiting"),[x,w]=A.useState(""),[_,E]=A.useState(""),[S,N]=A.useState(""),[T,O]=A.useState(""),[M,D]=A.useState(""),[C,L]=A.useState(""),P=async()=>{if(t)try{i(!0),c(null);let B=Ne.from("waitlist").select("*").eq("salon_id",t).order("created_at",{ascending:!1});y!=="all"&&(B=B.eq("status",y));const{data:te,error:le}=await B;if(le){console.error("Error fetching waitlist:",le),c("No se pudo cargar la lista de espera");return}r(te||[])}catch(B){console.error("Unexpected error:",B),c("Error inesperado")}finally{i(!1)}};A.useEffect(()=>{P()},[t,y]);const R=async B=>{if(B.preventDefault(),!!t){v(!0),c(null);try{const{error:te}=await Ne.from("waitlist").insert({salon_id:t,customer_name:x.trim(),customer_phone:_.trim(),preferred_date:S||null,preferred_time:T||null,service_type:M.trim()||null,notes:C.trim()||null,status:"waiting",source:"manual"});if(te){console.error("Error creating entry:",te),c("No se pudo aadir a la lista");return}w(""),E(""),N(""),O(""),D(""),L(""),f(!1),P()}catch(te){console.error("Unexpected error:",te),c("Error inesperado")}finally{v(!1)}}},q=async(B,te)=>{try{const le={status:te};te==="contacted"&&(le.contacted_at=new Date().toISOString());const{error:V}=await Ne.from("waitlist").update(le).eq("id",B);if(V){console.error("Error updating entry:",V),c("No se pudo actualizar");return}P()}catch(le){console.error("Error:",le)}},z=async B=>{if(confirm("Eliminar esta entrada de la lista de espera?"))try{const{error:te}=await Ne.from("waitlist").delete().eq("id",B);if(te){console.error("Error deleting entry:",te),c("No se pudo eliminar");return}P()}catch(te){console.error("Error:",te)}},U=B=>{const te=X0.find(le=>le.value===B);return h.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${te?.color}`,children:[te?.icon,te?.label]})},W=B=>new Date(B).toLocaleDateString("es-ES",{day:"2-digit",month:"short"}),Z=B=>new Date(B).toLocaleDateString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),H=e.filter(B=>B.status==="waiting").length;return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Lista de Espera"}),h.jsxs("p",{className:"text-sm text-slate-400",children:[H," cliente",H!==1?"s":""," esperando"]})]}),h.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Yn,{className:"h-4 w-4"}),"Aadir"]})]}),l&&h.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:l}),h.jsxs("div",{className:"flex gap-2 mb-6 flex-wrap",children:[h.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${y==="all"?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Todos"}),X0.map(B=>h.jsxs("button",{onClick:()=>b(B.value),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${y===B.value?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[B.icon,B.label]},B.value))]}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-white",children:"Aadir a Lista de Espera"}),h.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-white",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:R,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre del cliente *"}),h.jsx("input",{type:"text",value:x,onChange:B=>w(B.target.value),placeholder:"Nombre completo",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),h.jsx("input",{type:"tel",value:_,onChange:B=>E(B.target.value),placeholder:"+34 600 000 000",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Fecha preferida"}),h.jsx("input",{type:"date",value:S,onChange:B=>N(B.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Hora preferida"}),h.jsx("input",{type:"time",value:T,onChange:B=>O(B.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Servicio solicitado"}),h.jsx("input",{type:"text",value:M,onChange:B=>D(B.target.value),placeholder:"Ej: Corte y color",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),h.jsx("textarea",{value:C,onChange:B=>L(B.target.value),placeholder:"Informacin adicional...",rows:2,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[m?h.jsx(Et,{className:"h-4 w-4 animate-spin"}):h.jsx(Yn,{className:"h-4 w-4"}),"Aadir"]})]})]})]})}),a?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsx(Et,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):e.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Da,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),h.jsx("p",{className:"text-slate-400",children:y==="all"?"No hay nadie en la lista de espera":`No hay entradas con estado "${X0.find(B=>B.value===y)?.label}"`}),h.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Aade clientes que quieran una cita cuando haya hueco"})]}):h.jsx("div",{className:"space-y-3",children:e.map(B=>h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4",children:[h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[U(B.status),B.source==="chatbot"&&h.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-purple-500/20 text-purple-400",children:"Chatbot"})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(gn,{className:"h-4 w-4 text-slate-500"}),h.jsx("span",{className:"text-white font-medium",children:B.customer_name})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Bl,{className:"h-4 w-4 text-slate-500"}),h.jsx("a",{href:`tel:${B.customer_phone}`,className:"text-indigo-400 hover:text-indigo-300 text-sm",children:B.customer_phone})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-400",children:[B.preferred_date&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(tn,{className:"h-3.5 w-3.5"}),W(B.preferred_date),B.preferred_time&&` a las ${B.preferred_time}`]}),B.service_type&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-slate-500",children:"Servicio:"}),B.service_type]})]}),B.notes&&h.jsxs("div",{className:"mt-2 flex items-start gap-1 text-sm text-slate-400",children:[h.jsx(GC,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),h.jsx("span",{children:B.notes})]})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsx("p",{className:"text-xs text-slate-500 mb-2",children:Z(B.created_at)}),h.jsxs("div",{className:"flex gap-1",children:[B.status==="waiting"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>q(B.id,"contacted"),title:"Marcar como contactado",className:"p-1.5 bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30 rounded transition-colors",children:h.jsx(KC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>q(B.id,"booked"),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:h.jsx(gy,{className:"h-4 w-4"})})]}),B.status==="contacted"&&h.jsx("button",{onClick:()=>q(B.id,"booked"),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:h.jsx(gy,{className:"h-4 w-4"})}),(B.status==="waiting"||B.status==="contacted")&&h.jsx("button",{onClick:()=>q(B.id,"cancelled"),title:"Cancelar",className:"p-1.5 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded transition-colors",children:h.jsx(yy,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>z(B.id),title:"Eliminar",className:"p-1.5 bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white rounded transition-colors",children:h.jsx(ys,{className:"h-4 w-4"})})]})]})]}),B.contacted_at&&h.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 text-xs text-slate-500",children:["Contactado el ",Z(B.contacted_at)]})]},B.id))})]})}const w7=["Corte","Color","Peinado","Tratamiento","Barba","Manicura","Pedicura","Otro"];function _7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState(!1),[m,v]=A.useState(null),[y,b]=A.useState(!1),[x,w]=A.useState("all"),[_,E]=A.useState(!1),[S,N]=A.useState({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),T=async()=>{if(t)try{i(!0),c(null);let U=Ne.from("services").select("*").eq("salon_id",t).order("display_order",{ascending:!0}).order("name",{ascending:!0});_||(U=U.eq("active",!0));const{data:W,error:Z}=await U;if(Z)throw Z;r(W||[])}catch(U){console.error("Error fetching services:",U),c("No se pudieron cargar los servicios.")}finally{i(!1)}};A.useEffect(()=>{T()},[t,_]);const O=()=>{v(null),N({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),f(!0)},M=U=>{v(U),N({name:U.name,description:U.description||"",duration_minutes:U.duration_minutes,price:U.price,category:U.category||"",active:U.active}),f(!0)},D=async U=>{if(U.preventDefault(),!!t)try{b(!0),c(null);const W={salon_id:t,name:S.name.trim(),description:S.description.trim()||null,duration_minutes:S.duration_minutes,price:S.price,category:S.category||null,active:S.active};if(m){const{error:Z}=await Ne.from("services").update(W).eq("id",m.id);if(Z)throw Z}else{const Z=e.reduce((B,te)=>Math.max(B,te.display_order),0),{error:H}=await Ne.from("services").insert({...W,display_order:Z+1});if(H)throw H}f(!1),T()}catch(W){console.error("Error saving service:",W),c("No se pudo guardar el servicio.")}finally{b(!1)}},C=async U=>{try{const{error:W}=await Ne.from("services").update({active:!U.active}).eq("id",U.id);if(W)throw W;T()}catch(W){console.error("Error toggling service:",W),c("No se pudo actualizar el servicio.")}},L=async U=>{if(confirm(`Eliminar "${U.name}"? Esta accin no se puede deshacer.`))try{const{error:W}=await Ne.from("services").delete().eq("id",U.id);if(W)throw W;T()}catch(W){console.error("Error deleting service:",W),c("No se pudo eliminar el servicio.")}},P=U=>{if(U<60)return`${U} min`;const W=Math.floor(U/60),Z=U%60;return Z>0?`${W}h ${Z}min`:`${W}h`},R=U=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(U),q=[...new Set(e.map(U=>U.category).filter(Boolean))],z=e.filter(U=>x==="all"?!0:x==="uncategorized"?!U.category:U.category===x);return a&&e.length===0?h.jsx("div",{className:"p-6",children:h.jsx(wl,{text:"Cargando servicios..."})}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Catlogo de Servicios"}),h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Define los servicios que ofrece tu saln. El chatbot usar esta informacin."})]}),h.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Yn,{className:"h-4 w-4"}),"Nuevo Servicio"]})]}),l&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error",message:l,onRetry:T})}),h.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm text-slate-400",children:"Categora:"}),h.jsxs("select",{value:x,onChange:U=>w(U.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-1.5 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"all",children:"Todas"}),q.map(U=>h.jsx("option",{value:U,children:U},U)),h.jsx("option",{value:"uncategorized",children:"Sin categora"})]})]}),h.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-400 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:_,onChange:U=>E(U.target.checked),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Mostrar inactivos"]})]}),z.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(XC,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-400",children:"No hay servicios configurados."}),h.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Crear primer servicio"})]}):h.jsx("div",{className:"grid gap-3",children:z.map(U=>h.jsx("div",{className:`bg-slate-700/50 rounded-lg p-4 border ${U.active?"border-slate-600":"border-slate-700 opacity-60"}`,children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-1 text-slate-500 cursor-move",children:h.jsx(Xq,{className:"h-5 w-5"})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h4",{className:"font-medium text-white",children:U.name}),U.category&&h.jsx("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:U.category}),!U.active&&h.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-xs rounded",children:"Inactivo"})]}),U.description&&h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:U.description}),h.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[h.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[h.jsx(Da,{className:"h-4 w-4"}),P(U.duration_minutes)]}),h.jsxs("span",{className:"flex items-center gap-1 text-green-400 font-medium",children:[h.jsx(BC,{className:"h-4 w-4"}),R(U.price)]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>C(U),className:`p-2 rounded-lg transition-colors ${U.active?"text-green-400 hover:bg-green-500/20":"text-slate-500 hover:bg-slate-600"}`,title:U.active?"Desactivar":"Activar",children:U.active?h.jsx(EP,{className:"h-5 w-5"}):h.jsx(_P,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>M(U),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:h.jsx(VC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>L(U),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:h.jsx(ys,{className:"h-4 w-4"})})]})]})},U.id))}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Servicio":"Nuevo Servicio"}),h.jsx("button",{onClick:()=>f(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),h.jsx("input",{type:"text",value:S.name,onChange:U=>N(W=>({...W,name:U.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ej: Corte de pelo",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),h.jsx("textarea",{value:S.description,onChange:U=>N(W=>({...W,description:U.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Descripcin opcional del servicio"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Duracin (min) *"}),h.jsx("input",{type:"number",value:S.duration_minutes,onChange:U=>N(W=>({...W,duration_minutes:parseInt(U.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"5",step:"5",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Precio () *"}),h.jsx("input",{type:"number",value:S.price,onChange:U=>N(W=>({...W,price:parseFloat(U.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"0",step:"0.50",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Categora"}),h.jsxs("select",{value:S.category,onChange:U=>N(W=>({...W,category:U.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Sin categora"}),w7.map(U=>h.jsx("option",{value:U,children:U},U))]})]}),h.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:S.active,onChange:U=>N(W=>({...W,active:U.target.checked})),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Servicio activo (visible para clientes)"]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:y||!S.name.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function S7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState(!1),[m,v]=A.useState(null),[y,b]=A.useState(!1),[x,w]=A.useState(""),[_,E]=A.useState("all"),[S,N]=A.useState({name:"",phone:"",email:"",notes:"",source:"manual"}),T=async()=>{if(t)try{i(!0),c(null);const{data:R,error:q}=await Ne.from("clients").select("*").eq("salon_id",t).order("last_contact_at",{ascending:!1});if(q)throw q;r(R||[])}catch(R){console.error("Error fetching clients:",R),c("No se pudieron cargar los clientes.")}finally{i(!1)}};A.useEffect(()=>{T()},[t]);const O=()=>{v(null),N({name:"",phone:"",email:"",notes:"",source:"manual"}),f(!0)},M=R=>{v(R),N({name:R.name,phone:R.phone,email:R.email||"",notes:R.notes||"",source:R.source}),f(!0)},D=async R=>{if(R.preventDefault(),!!t)try{b(!0),c(null);const q={salon_id:t,name:S.name.trim(),phone:S.phone.trim(),email:S.email.trim()||null,notes:S.notes.trim()||null,source:S.source};if(m){const{error:z}=await Ne.from("clients").update(q).eq("id",m.id);if(z)throw z}else{const{error:z}=await Ne.from("clients").insert(q);if(z)throw z.code==="23505"?new Error("Ya existe un cliente con ese telfono."):z}f(!1),T()}catch(q){console.error("Error saving client:",q),c(q instanceof Error?q.message:"No se pudo guardar el cliente.")}finally{b(!1)}},C=async R=>{if(confirm(`Eliminar a "${R.name}"? Esta accin no se puede deshacer.`))try{const{error:q}=await Ne.from("clients").delete().eq("id",R.id);if(q)throw q;T()}catch(q){console.error("Error deleting client:",q),c("No se pudo eliminar el cliente.")}},L=R=>{const q={whatsapp:{color:"bg-green-500/20 text-green-400",icon:h.jsx(Ky,{className:"h-3 w-3"}),label:"WhatsApp"},manual:{color:"bg-slate-600 text-slate-300",icon:h.jsx(gn,{className:"h-3 w-3"}),label:"Manual"},web:{color:"bg-blue-500/20 text-blue-400",icon:h.jsx(tn,{className:"h-3 w-3"}),label:"Web"}},z=q[R]||q.manual;return h.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${z.color}`,children:[z.icon,z.label]})},P=e.filter(R=>{const q=R.name.toLowerCase().includes(x.toLowerCase())||R.phone.includes(x)||R.email&&R.email.toLowerCase().includes(x.toLowerCase()),z=_==="all"||R.source===_;return q&&z});return a&&e.length===0?h.jsx("div",{className:"p-6",children:h.jsx(wl,{text:"Cargando clientes..."})}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Base de Clientes"}),h.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[e.length," clientes registrados"]})]}),h.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Yn,{className:"h-4 w-4"}),"Nuevo Cliente"]})]}),l&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error",message:l,onRetry:T})}),h.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[h.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:x,onChange:R=>w(R.target.value),placeholder:"Buscar por nombre, telfono o email...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),h.jsxs("select",{value:_,onChange:R=>E(R.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"all",children:"Todas las fuentes"}),h.jsx("option",{value:"whatsapp",children:"WhatsApp"}),h.jsx("option",{value:"manual",children:"Manual"}),h.jsx("option",{value:"web",children:"Web"})]})]}),P.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(gn,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-400",children:x||_!=="all"?"No se encontraron clientes con esos criterios.":"No hay clientes registrados."}),!x&&_==="all"&&h.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Agregar primer cliente"})]}):h.jsx("div",{className:"grid gap-3",children:P.map(R=>h.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h.jsx("h4",{className:"font-medium text-white",children:R.name}),L(R.source),R.total_appointments>0&&h.jsxs("span",{className:"px-2 py-0.5 bg-indigo-500/20 text-indigo-400 text-xs rounded",children:[R.total_appointments," cita",R.total_appointments!==1?"s":""]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-sm text-slate-400",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bl,{className:"h-4 w-4"}),R.phone]}),R.email&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Rd,{className:"h-4 w-4"}),R.email]})]}),R.notes&&h.jsx("p",{className:"mt-2 text-sm text-slate-400 italic",children:R.notes}),h.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["ltimo contacto: ",Sd(new Date(R.last_contact_at),{addSuffix:!0,locale:Mt})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>M(R),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:h.jsx(VC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>C(R),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:h.jsx(ys,{className:"h-4 w-4"})})]})]})},R.id))}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Cliente":"Nuevo Cliente"}),h.jsx("button",{onClick:()=>f(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),h.jsx("input",{type:"text",value:S.name,onChange:R=>N(q=>({...q,name:R.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),h.jsx("input",{type:"tel",value:S.phone,onChange:R=>N(q=>({...q,phone:R.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:S.email,onChange:R=>N(q=>({...q,email:R.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),h.jsx("textarea",{value:S.notes,onChange:R=>N(q=>({...q,notes:R.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Preferencias, alergias, etc."})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:y||!S.name.trim()||!S.phone.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function E7(){const{signOut:t}=Il(),[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState("calendar"),[,m]=A.useState(0),[v,y]=A.useState(!1),[b,x]=A.useState(null);A.useEffect(()=>{const q=setInterval(()=>m(z=>z+1),3e4);return()=>clearInterval(q)},[]);const{events:w,staffList:_,salon:E,isInitialLoading:S,isRefreshing:N,error:T,refresh:O}=uD(),M=async()=>{try{i(!0),c(null);const{data:q,error:z}=await Ne.from("logs").select("*").order("created_at",{ascending:!1}).limit(10);if(z){console.error("Error fetching logs:",z),c("No se pudieron cargar los logs.");return}r(q||[])}catch(q){console.error("Unexpected error fetching logs:",q),c("Error inesperado al cargar los logs.")}finally{i(!1)}};A.useEffect(()=>{M()},[]);const D=()=>{O(),M()},C=async(q,z,U)=>{if(!q.googleEventId||!q.calendarId){console.error("Cannot reschedule: missing event ID or calendar ID");return}try{const W=await KH({eventId:q.googleEventId,calendarId:q.calendarId,newStart:z,newEnd:U,title:q.title,description:q.description});W.success?(O(),M()):console.error("Reschedule failed:",W.error)}catch(W){console.error("Error rescheduling appointment:",W)}},L=()=>{O(),M()},P=w.filter(q=>{const z=new Date;return q.start.toDateString()===z.toDateString()||q.end.toDateString()===z.toDateString()}).length,R=e.reduce((q,z)=>q+(z.revenue||0),0);return h.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[h.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold",children:"G"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold",children:E?.name||"Dashboard"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Administracion"}),E&&h.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${E.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[h.jsx(Ky,{className:"h-3 w-3"}),E.whatsapp_connected?`Hace ${E.whatsapp_last_ping?Sd(new Date(E.whatsapp_last_ping),{locale:Mt}):"poco"}`:"Desconectado"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:L,disabled:N,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[h.jsx(Dd,{className:`h-4 w-4 ${N?"animate-spin":""}`}),"Actualizar"]}),h.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[h.jsx(Vy,{size:18})," Salir"]})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:h.jsx(BC,{className:"h-5 w-5 text-green-400"})}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-2xl font-bold",children:["$",R.toLocaleString()]}),h.jsx("p",{className:"text-xs text-slate-400",children:"Ingresos"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-blue-500/20 rounded-lg",children:h.jsx(tn,{className:"h-5 w-5 text-blue-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:P}),h.jsx("p",{className:"text-xs text-slate-400",children:"Citas Hoy"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:h.jsx(hs,{className:"h-5 w-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:_.length}),h.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:h.jsx(M1,{className:"h-5 w-5 text-purple-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:w.length}),h.jsx("p",{className:"text-xs text-slate-400",children:"Eventos"})]})]})})]}),h.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700 overflow-x-auto",children:[h.jsxs("button",{onClick:()=>f("calendar"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="calendar"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(tn,{className:"h-4 w-4"}),"Calendario"]}),h.jsxs("button",{onClick:()=>f("clients"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="clients"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(Iq,{className:"h-4 w-4"}),"Clientes"]}),h.jsxs("button",{onClick:()=>f("staff"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="staff"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(hs,{className:"h-4 w-4"}),"Staff"]}),h.jsxs("button",{onClick:()=>f("services"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="services"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(XC,{className:"h-4 w-4"}),"Servicios"]}),h.jsxs("button",{onClick:()=>f("waitlist"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="waitlist"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(Da,{className:"h-4 w-4"}),"Espera"]}),h.jsxs("button",{onClick:()=>f("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(QC,{className:"h-4 w-4"}),"Soporte"]}),h.jsxs("button",{onClick:()=>f("logs"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="logs"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(M1,{className:"h-4 w-4"}),"Actividad"]})]}),h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="calendar"&&h.jsxs("div",{className:"p-6",children:[T&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error del calendario",message:T,onRetry:O})}),S?h.jsx("div",{className:"py-12",children:h.jsx(wl,{text:"Cargando calendarios..."})}):_.length===0?h.jsx("div",{className:"py-12 flex justify-center items-center",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-700",children:h.jsx(hs,{className:"h-8 w-8 text-slate-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sin calendarios configurados"}),h.jsx("p",{className:"text-slate-400",children:'No hay miembros del staff con calendarios de Google configurados. Ve a la pestana "Staff" para asignar Calendar IDs.'})]})}):h.jsx("div",{className:"calendar-dark",children:h.jsx(lD,{events:w,staffCalendars:_,isLoading:!1,isRefreshing:N,showStaffFilter:!0,onNewAppointment:()=>y(!0),onEventDelete:D,onEventEdit:q=>x(q),onEventReschedule:C,canDeleteEvents:!0,canEditEvents:!0,canDragEvents:!0})})]}),d==="clients"&&h.jsx(S7,{salonId:E?.id}),d==="staff"&&h.jsx(fD,{salonFilter:E?.id,onUpdate:O}),d==="services"&&h.jsx(_7,{salonId:E?.id}),d==="waitlist"&&h.jsx(x7,{salonId:E?.id}),d==="tickets"&&h.jsx(hD,{salonId:E?.id}),d==="logs"&&h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Actividad Reciente"}),a?h.jsx("div",{className:"py-12",children:h.jsx(wl,{text:"Cargando actividad..."})}):l?h.jsx(bs,{title:"Error al cargar actividad",message:l,onRetry:M}):e.length===0?h.jsx("div",{className:"py-12 text-center text-slate-400",children:h.jsx("p",{children:"No hay actividad registrada"})}):h.jsx("div",{className:"grid gap-3",children:e.map(q=>h.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:h.jsx("div",{className:"flex items-start justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h.jsx("span",{className:"font-medium text-white",children:q.action}),q.source&&h.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${q.source==="whatsapp"?"bg-green-500/20 text-green-400":q.source==="web"?"bg-blue-500/20 text-blue-400":"bg-slate-600 text-slate-300"}`,children:q.source==="whatsapp"?"WhatsApp":q.source==="web"?"Web":"Manual"}),q.revenue>0&&h.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded font-medium",children:["+",q.revenue,""]})]}),q.service_name&&h.jsxs("div",{className:"mt-2 text-sm",children:[h.jsx("span",{className:"text-indigo-400 font-medium",children:q.service_name}),q.appointment_date&&q.appointment_time&&h.jsxs("span",{className:"text-slate-400",children:[" "," ",new Date(q.appointment_date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})," a las ",q.appointment_time]}),q.duration_minutes&&h.jsxs("span",{className:"text-slate-500",children:[" (",q.duration_minutes," min)"]})]}),q.client_name&&h.jsxs("div",{className:"mt-1 text-sm text-slate-400",children:["Cliente: ",h.jsx("span",{className:"text-white",children:q.client_name}),q.client_phone&&h.jsxs("span",{className:"text-slate-500",children:["  ",q.client_phone]})]}),q.details&&!q.service_name&&h.jsx("p",{className:"mt-1 text-sm text-slate-400",children:q.details}),h.jsx("p",{className:"mt-2 text-xs text-slate-500",children:Sd(new Date(q.created_at),{addSuffix:!0,locale:Mt})})]})})},q.id))})]})]})]}),E?.id&&h.jsx(r7,{isOpen:v,onClose:()=>y(!1),onSuccess:D,salonId:E.id,staffList:_}),E?.id&&h.jsx(s7,{event:b,onClose:()=>x(null),onSuccess:D,salonId:E.id,staffList:_})]})}function j7(){const{profile:t,error:e,signOut:r}=Il(),[,a]=A.useState(0);A.useEffect(()=>{const y=setInterval(()=>a(b=>b+1),3e4);return()=>clearInterval(y)},[]);const{events:i,salon:l,isInitialLoading:c,isRefreshing:d,error:f,refresh:m}=uD(),v=!!t?.google_calendar_id;return h.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[h.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold",children:"G"})}),h.jsxs("div",{children:[h.jsxs("h1",{className:"text-xl font-bold",children:["Hola, ",t?.full_name||"Usuario"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-xs text-slate-400",children:l?.name||"Tu agenda personal"}),l&&h.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${l.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[h.jsx(Ky,{className:"h-3 w-3"}),l.whatsapp_connected?`Hace ${l.whatsapp_last_ping?Sd(new Date(l.whatsapp_last_ping),{locale:Mt}):"poco"}`:"Desconectado"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:m,disabled:d,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[h.jsx(Dd,{className:`h-4 w-4 ${d?"animate-spin":""}`}),"Actualizar"]}),h.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[h.jsx(Vy,{size:18})," Salir"]})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error de autenticacion",message:e})}),f&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error del calendario",message:f,onRetry:m})}),h.jsx("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:v?c?h.jsx("div",{className:"p-12",children:h.jsx(wl,{text:"Cargando tu calendario..."})}):h.jsx("div",{className:"p-6 calendar-dark",children:h.jsx(lD,{events:i,isLoading:!1,isRefreshing:d,showStaffFilter:!1})}):h.jsx("div",{className:"p-8 flex justify-center items-center min-h-[400px]",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-amber-500/20",children:h.jsx(vs,{className:"h-8 w-8 text-amber-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Calendario no configurado"}),h.jsx("p",{className:"text-slate-400",children:"No tienes un calendario de Google asignado. Contacta al administrador para configurar tu calendario."})]})})})]})]})}const a2={name:"",slug:"",phone:"",email:"",address:"",whatsapp_number:""};function N7({onUpdate:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState(""),[m,v]=A.useState(!1),[y,b]=A.useState(null),[x,w]=A.useState(a2),[_,E]=A.useState(!1),[S,N]=A.useState(null),T=async()=>{try{i(!0),c(null);const R=await dD();r(R)}catch(R){c(R instanceof Error?R.message:"Error al cargar salones")}finally{i(!1)}};A.useEffect(()=>{T()},[]);const O=e.filter(R=>R.name.toLowerCase().includes(d.toLowerCase())||R.slug?.toLowerCase().includes(d.toLowerCase())),M=()=>{b(null),w(a2),v(!0)},D=R=>{b(R),w({name:R.name,slug:R.slug||"",phone:R.phone||"",email:R.email||"",address:R.address||"",whatsapp_number:R.whatsapp_number||""}),v(!0)},C=async R=>{R.preventDefault(),E(!0),c(null);try{y?await f7(y.id,x):await d7(x),v(!1),T(),t?.()}catch(q){c(q instanceof Error?q.message:"Error al guardar")}finally{E(!1)}},L=async R=>{try{await h7(R),N(null),T(),t?.()}catch(q){c(q instanceof Error?q.message:"Error al eliminar")}},P=R=>R.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return a?h.jsx("div",{className:"p-12 flex justify-center",children:h.jsx(Et,{className:"h-8 w-8 animate-spin text-indigo-400"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Buscar salones...",value:d,onChange:R=>f(R.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[h.jsx(Yn,{className:"h-4 w-4"}),"Nuevo Saln"]})]}),l&&h.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:l}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Saln"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Contacto"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"WhatsApp"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),h.jsx("tbody",{children:O.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:4,className:"px-4 py-12 text-center text-slate-400",children:d?"No se encontraron salones":"No hay salones registrados"})}):O.map(R=>h.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[h.jsx("td",{className:"px-4 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-indigo-500/20 rounded-lg flex items-center justify-center",children:h.jsx(hd,{className:"h-5 w-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-white",children:R.name}),h.jsxs("p",{className:"text-xs text-slate-400",children:["/",R.slug]})]})]})}),h.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:h.jsxs("div",{className:"space-y-1",children:[R.phone&&h.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[h.jsx(Bl,{className:"h-3.5 w-3.5 text-slate-400"}),R.phone]}),R.email&&h.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[h.jsx(Rd,{className:"h-3.5 w-3.5 text-slate-400"}),R.email]})]})}),h.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${R.whatsapp_connected?"bg-green-400":"bg-slate-500"}`}),h.jsx("span",{className:"text-sm text-slate-300",children:R.whatsapp_number||"No configurado"})]})}),h.jsx("td",{className:"px-4 py-4 text-right",children:S===R.id?h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),h.jsx("button",{onClick:()=>L(R.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:h.jsx(Gn,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>N(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:h.jsx(jr,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("button",{onClick:()=>D(R),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",children:h.jsx(WC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>N(R.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",children:h.jsx(ys,{className:"h-4 w-4"})})]})})]},R.id))})]})}),m&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold",children:y?"Editar Saln":"Nuevo Saln"}),h.jsx("button",{onClick:()=>v(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:h.jsx(jr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:C,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre del saln *"}),h.jsx("input",{type:"text",value:x.name,onChange:R=>{w({...x,name:R.target.value,slug:y?x.slug:P(R.target.value)})},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Slug (URL)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-slate-400",children:"/"}),h.jsx("input",{type:"text",value:x.slug,onChange:R=>w({...x,slug:P(R.target.value)}),className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Telfono"}),h.jsx("input",{type:"tel",value:x.phone,onChange:R=>w({...x,phone:R.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Email"}),h.jsx("input",{type:"email",value:x.email,onChange:R=>w({...x,email:R.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Direccin"}),h.jsx("input",{type:"text",value:x.address,onChange:R=>w({...x,address:R.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"WhatsApp"}),h.jsx("input",{type:"tel",value:x.whatsapp_number,onChange:R=>w({...x,whatsapp_number:R.target.value}),placeholder:"+34612345678",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:_,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[_&&h.jsx(Et,{className:"h-4 w-4 animate-spin"}),y?"Guardar":"Crear"]})]})]})]})})]})}function T7(){const{signOut:t}=Il(),[e,r]=A.useState(null),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,f]=A.useState("salons"),m=async()=>{try{i(!0),c(null);const v=await b7();r(v)}catch(v){c(v instanceof Error?v.message:"Error al cargar estadsticas")}finally{i(!1)}};return A.useEffect(()=>{m()},[]),h.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[h.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold",children:"G"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold",children:"Galia Admin"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Control"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[h.jsx(Dd,{className:`h-4 w-4 ${a?"animate-spin":""}`}),"Actualizar"]}),h.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[h.jsx(Vy,{size:18})," Salir"]})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l&&h.jsx("div",{className:"mb-6",children:h.jsx(bs,{title:"Error",message:l,onRetry:m})}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:h.jsx(hd,{className:"h-5 w-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalSalons||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Salones"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:h.jsx(hs,{className:"h-5 w-5 text-green-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalUsers||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Usuarios"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:h.jsx(CP,{className:"h-5 w-5 text-purple-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalAdmins||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Admins"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-amber-500/20 rounded-lg",children:h.jsx(hs,{className:"h-5 w-5 text-amber-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalStaff||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})})]}),h.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700",children:[h.jsxs("button",{onClick:()=>f("salons"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="salons"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(hd,{className:"h-4 w-4"}),"Salones"]}),h.jsxs("button",{onClick:()=>f("users"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="users"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(hs,{className:"h-4 w-4"}),"Usuarios"]}),h.jsxs("button",{onClick:()=>f("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(QC,{className:"h-4 w-4"}),"Tickets"]})]}),h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="salons"&&h.jsx(N7,{onUpdate:m}),d==="users"&&h.jsx(fD,{onUpdate:m}),d==="tickets"&&h.jsx(hD,{showAllSalons:!0})]})]})]})}const Q0=({children:t,requiredRole:e})=>{const{session:r,profile:a,loading:i}=Il();if(i)return h.jsx("div",{className:"h-screen flex items-center justify-center text-indigo-600",children:"Cargando Galia..."});if(!r)return h.jsx(cl,{to:"/login",replace:!0});if(e&&a?.role!==e){if(e==="admin"&&a?.role==="superadmin")return t;switch(a?.role){case"superadmin":return h.jsx(cl,{to:"/superadmin",replace:!0});case"admin":return h.jsx(cl,{to:"/admin",replace:!0});default:return h.jsx(cl,{to:"/staff",replace:!0})}}return t};function O7(){return h.jsx(MP,{children:h.jsx(Sq,{children:h.jsx(e3,{children:h.jsxs(R4,{children:[h.jsx(_i,{path:"/login",element:h.jsx(PP,{})}),h.jsx(_i,{path:"/superadmin",element:h.jsx(Q0,{requiredRole:"superadmin",children:h.jsx(T7,{})})}),h.jsx(_i,{path:"/admin",element:h.jsx(Q0,{requiredRole:"admin",children:h.jsx(E7,{})})}),h.jsx(_i,{path:"/staff",element:h.jsx(Q0,{requiredRole:"staff",children:h.jsx(j7,{})})}),h.jsx(_i,{path:"*",element:h.jsx(cl,{to:"/login",replace:!0})})]})})})})}console.log(" Starting Galia Digital app...");const s2=document.getElementById("root");s2?(console.log(" Root element found, mounting React app..."),UM.createRoot(s2).render(h.jsx(A.StrictMode,{children:h.jsx(O7,{})})),console.log(" React app mounted successfully")):console.error(" Root element not found!");
