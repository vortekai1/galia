function TM(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function gn(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),r}var jm={exports:{}},Ho={};var zS;function OM(){if(zS)return Ho;zS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,i,l){var u=null;if(l!==void 0&&(u=""+l),i.key!==void 0&&(u=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:u,ref:i!==void 0?i:null,props:l}}return Ho.Fragment=e,Ho.jsx=r,Ho.jsxs=r,Ho}var BS;function CM(){return BS||(BS=1,jm.exports=OM()),jm.exports}var h=CM(),Nm={exports:{}},Se={};var IS;function AM(){if(IS)return Se;IS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function S($,Q,oe){this.props=$,this.context=Q,this.refs=E,this.updater=oe||w}S.prototype.isReactComponent={},S.prototype.setState=function($,Q){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,Q,"setState")},S.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=S.prototype;function T($,Q,oe){this.props=$,this.context=Q,this.refs=E,this.updater=oe||w}var O=T.prototype=new N;O.constructor=T,_(O,S.prototype),O.isPureReactComponent=!0;var M=Array.isArray;function D(){}var C={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function P($,Q,oe){var fe=oe.ref;return{$$typeof:t,type:$,key:Q,ref:fe!==void 0?fe:null,props:oe}}function A($,Q){return P($.type,Q,$.props)}function q($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function z($){var Q={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(oe){return Q[oe]})}var U=/\/+/g;function W($,Q){return typeof $=="object"&&$!==null&&$.key!=null?z(""+$.key):Q.toString(36)}function ee($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(D,D):($.status="pending",$.then(function(Q){$.status==="pending"&&($.status="fulfilled",$.value=Q)},function(Q){$.status==="pending"&&($.status="rejected",$.reason=Q)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function H($,Q,oe,fe,Z){var de=typeof $;(de==="undefined"||de==="boolean")&&($=null);var we=!1;if($===null)we=!0;else switch(de){case"bigint":case"string":case"number":we=!0;break;case"object":switch($.$$typeof){case t:case e:we=!0;break;case v:return we=$._init,H(we($._payload),Q,oe,fe,Z)}}if(we)return Z=Z($),we=fe===""?"."+W($,0):fe,M(Z)?(oe="",we!=null&&(oe=we.replace(U,"$&/")+"/"),H(Z,Q,oe,"",function(At){return At})):Z!=null&&(q(Z)&&(Z=A(Z,oe+(Z.key==null||$&&$.key===Z.key?"":(""+Z.key).replace(U,"$&/")+"/")+we)),Q.push(Z)),1;we=0;var Oe=fe===""?".":fe+":";if(M($))for(var Me=0;Me<$.length;Me++)fe=$[Me],de=Oe+W(fe,Me),we+=H(fe,Q,oe,de,Z);else if(Me=x($),typeof Me=="function")for($=Me.call($),Me=0;!(fe=$.next()).done;)fe=fe.value,de=Oe+W(fe,Me++),we+=H(fe,Q,oe,de,Z);else if(de==="object"){if(typeof $.then=="function")return H(ee($),Q,oe,fe,Z);throw Q=String($),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return we}function I($,Q,oe){if($==null)return $;var fe=[],Z=0;return H($,fe,"","",function(de){return Q.call(oe,de,Z++)}),fe}function re($){if($._status===-1){var Q=$._result;Q=Q(),Q.then(function(oe){($._status===0||$._status===-1)&&($._status=1,$._result=oe)},function(oe){($._status===0||$._status===-1)&&($._status=2,$._result=oe)}),$._status===-1&&($._status=0,$._result=Q)}if($._status===1)return $._result.default;throw $._result}var le=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},V={map:I,forEach:function($,Q,oe){I($,function(){Q.apply(this,arguments)},oe)},count:function($){var Q=0;return I($,function(){Q++}),Q},toArray:function($){return I($,function(Q){return Q})||[]},only:function($){if(!q($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Se.Activity=y,Se.Children=V,Se.Component=S,Se.Fragment=r,Se.Profiler=i,Se.PureComponent=T,Se.StrictMode=a,Se.Suspense=f,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Se.__COMPILER_RUNTIME={__proto__:null,c:function($){return C.H.useMemoCache($)}},Se.cache=function($){return function(){return $.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function($,Q,oe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var fe=_({},$.props),Z=$.key;if(Q!=null)for(de in Q.key!==void 0&&(Z=""+Q.key),Q)!L.call(Q,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Q.ref===void 0||(fe[de]=Q[de]);var de=arguments.length-2;if(de===1)fe.children=oe;else if(1<de){for(var we=Array(de),Oe=0;Oe<de;Oe++)we[Oe]=arguments[Oe+2];fe.children=we}return P($.type,Z,fe)},Se.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Se.createElement=function($,Q,oe){var fe,Z={},de=null;if(Q!=null)for(fe in Q.key!==void 0&&(de=""+Q.key),Q)L.call(Q,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Z[fe]=Q[fe]);var we=arguments.length-2;if(we===1)Z.children=oe;else if(1<we){for(var Oe=Array(we),Me=0;Me<we;Me++)Oe[Me]=arguments[Me+2];Z.children=Oe}if($&&$.defaultProps)for(fe in we=$.defaultProps,we)Z[fe]===void 0&&(Z[fe]=we[fe]);return P($,de,Z)},Se.createRef=function(){return{current:null}},Se.forwardRef=function($){return{$$typeof:d,render:$}},Se.isValidElement=q,Se.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:re}},Se.memo=function($,Q){return{$$typeof:m,type:$,compare:Q===void 0?null:Q}},Se.startTransition=function($){var Q=C.T,oe={};C.T=oe;try{var fe=$(),Z=C.S;Z!==null&&Z(oe,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(D,le)}catch(de){le(de)}finally{Q!==null&&oe.types!==null&&(Q.types=oe.types),C.T=Q}},Se.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Se.use=function($){return C.H.use($)},Se.useActionState=function($,Q,oe){return C.H.useActionState($,Q,oe)},Se.useCallback=function($,Q){return C.H.useCallback($,Q)},Se.useContext=function($){return C.H.useContext($)},Se.useDebugValue=function(){},Se.useDeferredValue=function($,Q){return C.H.useDeferredValue($,Q)},Se.useEffect=function($,Q){return C.H.useEffect($,Q)},Se.useEffectEvent=function($){return C.H.useEffectEvent($)},Se.useId=function(){return C.H.useId()},Se.useImperativeHandle=function($,Q,oe){return C.H.useImperativeHandle($,Q,oe)},Se.useInsertionEffect=function($,Q){return C.H.useInsertionEffect($,Q)},Se.useLayoutEffect=function($,Q){return C.H.useLayoutEffect($,Q)},Se.useMemo=function($,Q){return C.H.useMemo($,Q)},Se.useOptimistic=function($,Q){return C.H.useOptimistic($,Q)},Se.useReducer=function($,Q,oe){return C.H.useReducer($,Q,oe)},Se.useRef=function($){return C.H.useRef($)},Se.useState=function($){return C.H.useState($)},Se.useSyncExternalStore=function($,Q,oe){return C.H.useSyncExternalStore($,Q,oe)},Se.useTransition=function(){return C.H.useTransition()},Se.version="19.2.1",Se}var HS;function jr(){return HS||(HS=1,Nm.exports=AM()),Nm.exports}var R=jr();const Y=Gt(R);var Tm={exports:{}},Fo={},Om={exports:{}},Cm={};var FS;function RM(){return FS||(FS=1,(function(t){function e(H,I){var re=H.length;H.push(I);e:for(;0<re;){var le=re-1>>>1,V=H[le];if(0<i(V,I))H[le]=I,H[re]=V,re=le;else break e}}function r(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var I=H[0],re=H.pop();if(re!==I){H[0]=re;e:for(var le=0,V=H.length,$=V>>>1;le<$;){var Q=2*(le+1)-1,oe=H[Q],fe=Q+1,Z=H[fe];if(0>i(oe,re))fe<V&&0>i(Z,oe)?(H[le]=Z,H[fe]=re,le=fe):(H[le]=oe,H[Q]=re,le=Q);else if(fe<V&&0>i(Z,re))H[le]=Z,H[fe]=re,le=fe;else break e}}return I}function i(H,I){var re=H.sortIndex-I.sortIndex;return re!==0?re:H.id-I.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],m=[],v=1,y=null,b=3,x=!1,w=!1,_=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var I=r(m);I!==null;){if(I.callback===null)a(m);else if(I.startTime<=H)a(m),I.sortIndex=I.expirationTime,e(f,I);else break;I=r(m)}}function M(H){if(_=!1,O(H),!w)if(r(f)!==null)w=!0,D||(D=!0,z());else{var I=r(m);I!==null&&ee(M,I.startTime-H)}}var D=!1,C=-1,L=5,P=-1;function A(){return E?!0:!(t.unstable_now()-P<L)}function q(){if(E=!1,D){var H=t.unstable_now();P=H;var I=!0;try{e:{w=!1,_&&(_=!1,N(C),C=-1),x=!0;var re=b;try{t:{for(O(H),y=r(f);y!==null&&!(y.expirationTime>H&&A());){var le=y.callback;if(typeof le=="function"){y.callback=null,b=y.priorityLevel;var V=le(y.expirationTime<=H);if(H=t.unstable_now(),typeof V=="function"){y.callback=V,O(H),I=!0;break t}y===r(f)&&a(f),O(H)}else a(f);y=r(f)}if(y!==null)I=!0;else{var $=r(m);$!==null&&ee(M,$.startTime-H),I=!1}}break e}finally{y=null,b=re,x=!1}I=void 0}}finally{I?z():D=!1}}}var z;if(typeof T=="function")z=function(){T(q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=q,z=function(){W.postMessage(null)}}else z=function(){S(q,0)};function ee(H,I){C=S(function(){H(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(H){switch(b){case 1:case 2:case 3:var I=3;break;default:I=b}var re=b;b=I;try{return H()}finally{b=re}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(H,I){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=b;b=H;try{return I()}finally{b=re}},t.unstable_scheduleCallback=function(H,I,re){var le=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?le+re:le):re=le,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=re+V,H={id:v++,callback:I,priorityLevel:H,startTime:re,expirationTime:V,sortIndex:-1},re>le?(H.sortIndex=re,e(m,H),r(f)===null&&H===r(m)&&(_?(N(C),C=-1):_=!0,ee(M,re-le))):(H.sortIndex=V,e(f,H),w||x||(w=!0,D||(D=!0,z()))),H},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(H){var I=b;return function(){var re=b;b=I;try{return H.apply(this,arguments)}finally{b=re}}}})(Cm)),Cm}var GS;function DM(){return GS||(GS=1,Om.exports=RM()),Om.exports}var Am={exports:{}},It={};var YS;function kM(){if(YS)return It;YS=1;var t=jr();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(f,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:f,containerInfo:m,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,It.createPortal=function(f,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(f,m,null,v)},It.flushSync=function(f){var m=u.T,v=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=m,a.p=v,a.d.f()}},It.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(f,m))},It.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},It.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):v==="script"&&a.d.X(f,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},It.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(f,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(f)},It.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin);a.d.L(f,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},It.preloadModule=function(f,m){if(typeof f=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(f)},It.requestFormReset=function(f){a.d.r(f)},It.unstable_batchedUpdates=function(f,m){return f(m)},It.useFormState=function(f,m,v){return u.H.useFormState(f,m,v)},It.useFormStatus=function(){return u.H.useHostTransitionStatus()},It.version="19.2.1",It}var WS;function a2(){if(WS)return Am.exports;WS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Am.exports=kM(),Am.exports}var VS;function MM(){if(VS)return Fo;VS=1;var t=DM(),e=jr(),r=a2();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function u(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(a(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(a(188));return s!==n?null:n}for(var o=n,c=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return f(p),n;if(g===c)return f(p),s;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=p,c=g;else{for(var j=!1,k=p.child;k;){if(k===o){j=!0,o=p,c=g;break}if(k===c){j=!0,c=p,o=g;break}k=k.sibling}if(!j){for(k=g.child;k;){if(k===o){j=!0,o=g,c=p;break}if(k===c){j=!0,c=g,o=p;break}k=k.sibling}if(!j)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function W(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case S:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case P:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case T:return n.displayName||"Context";case N:return(n._context.displayName||"Context")+".Consumer";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return s=n.displayName||null,s!==null?s:W(n.type)||"Memo";case L:s=n._payload,n=n._init;try{return W(n(s))}catch{}}return null}var ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},le=[],V=-1;function $(n){return{current:n}}function Q(n){0>V||(n.current=le[V],le[V]=null,V--)}function oe(n,s){V++,le[V]=n.current,n.current=s}var fe=$(null),Z=$(null),de=$(null),we=$(null);function Oe(n,s){switch(oe(de,s),oe(Z,n),oe(fe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?uS(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=uS(s),n=cS(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Q(fe),oe(fe,n)}function Me(){Q(fe),Q(Z),Q(de)}function At(n){n.memoizedState!==null&&oe(we,n);var s=fe.current,o=cS(s,n.type);s!==o&&(oe(Z,n),oe(fe,o))}function St(n){Z.current===n&&(Q(fe),Q(Z)),we.current===n&&(Q(we),Uo._currentValue=re)}var Zt,Fr;function Kt(n){if(Zt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Zt=s&&s[1]||"",Fr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+n+Fr}var Ce=!1;function Xt(n,s){if(!n||Ce)return"";Ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(te){var J=te}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(te){J=te}n.call(ie.prototype)}}else{try{throw Error()}catch(te){J=te}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(te){if(te&&J&&typeof te.stack=="string")return[te.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),j=g[0],k=g[1];if(j&&k){var B=j.split(`
`),X=k.split(`
`);for(p=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(c===B.length||p===X.length)for(c=B.length-1,p=X.length-1;1<=c&&0<=p&&B[c]!==X[p];)p--;for(;1<=c&&0<=p;c--,p--)if(B[c]!==X[p]){if(c!==1||p!==1)do if(c--,p--,0>p||B[c]!==X[p]){var ae=`
`+B[c].replace(" at new "," at ");return n.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",n.displayName)),ae}while(1<=c&&0<=p);break}}}finally{Ce=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Kt(o):""}function Te(n,s){switch(n.tag){case 26:case 27:case 5:return Kt(n.type);case 16:return Kt("Lazy");case 13:return n.child!==s&&s!==null?Kt("Suspense Fallback"):Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return Xt(n.type,!1);case 11:return Xt(n.type.render,!1);case 1:return Xt(n.type,!0);case 31:return Kt("Activity");default:return""}}function Qt(n){try{var s="",o=null;do s+=Te(n,o),o=n,n=n.return;while(n);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Rt=Object.prototype.hasOwnProperty,Et=t.unstable_scheduleCallback,Dt=t.unstable_cancelCallback,ue=t.unstable_shouldYield,ne=t.unstable_requestPaint,he=t.unstable_now,qe=t.unstable_getCurrentPriorityLevel,nt=t.unstable_ImmediatePriority,jt=t.unstable_UserBlockingPriority,at=t.unstable_NormalPriority,Gr=t.unstable_LowPriority,Nt=t.unstable_IdlePriority,Cs=t.log,ru=t.unstable_setDisableYieldValue,er=null,lt=null;function Xn(n){if(typeof Cs=="function"&&ru(n),lt&&typeof lt.setStrictMode=="function")try{lt.setStrictMode(er,n)}catch{}}var hr=Math.clz32?Math.clz32:hD,dD=Math.log,fD=Math.LN2;function hD(n){return n>>>=0,n===0?32:31-(dD(n)/fD|0)|0}var nu=256,au=262144,su=4194304;function Pa(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function iu(n,s,o){var c=n.pendingLanes;if(c===0)return 0;var p=0,g=n.suspendedLanes,j=n.pingedLanes;n=n.warmLanes;var k=c&134217727;return k!==0?(c=k&~g,c!==0?p=Pa(c):(j&=k,j!==0?p=Pa(j):o||(o=k&~n,o!==0&&(p=Pa(o))))):(k=c&~g,k!==0?p=Pa(k):j!==0?p=Pa(j):o||(o=c&~n,o!==0&&(p=Pa(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function Qi(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function mD(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fb(){var n=su;return su<<=1,(su&62914560)===0&&(su=4194304),n}function hf(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Ji(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function pD(n,s,o,c,p,g){var j=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var k=n.entanglements,B=n.expirationTimes,X=n.hiddenUpdates;for(o=j&~o;0<o;){var ae=31-hr(o),ie=1<<ae;k[ae]=0,B[ae]=-1;var J=X[ae];if(J!==null)for(X[ae]=null,ae=0;ae<J.length;ae++){var te=J[ae];te!==null&&(te.lane&=-536870913)}o&=~ie}c!==0&&Gb(n,c,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(j&~s))}function Gb(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-hr(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|o&261930}function Yb(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var c=31-hr(o),p=1<<c;p&s|n[c]&s&&(n[c]|=s),o&=~p}}function Wb(n,s){var o=s&-s;return o=(o&42)!==0?1:mf(o),(o&(n.suspendedLanes|s))!==0?0:o}function mf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function pf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Vb(){var n=I.p;return n!==0?n:(n=window.event,n===void 0?32:kS(n.type))}function Kb(n,s){var o=I.p;try{return I.p=n,s()}finally{I.p=o}}var Qn=Math.random().toString(36).slice(2),kt="__reactFiber$"+Qn,tr="__reactProps$"+Qn,As="__reactContainer$"+Qn,vf="__reactEvents$"+Qn,vD="__reactListeners$"+Qn,gD="__reactHandles$"+Qn,Xb="__reactResources$"+Qn,Zi="__reactMarker$"+Qn;function gf(n){delete n[kt],delete n[tr],delete n[vf],delete n[vD],delete n[gD]}function Rs(n){var s=n[kt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[As]||o[kt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=gS(n);n!==null;){if(o=n[kt])return o;n=gS(n)}return s}n=o,o=n.parentNode}return null}function Ds(n){if(n=n[kt]||n[As]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function eo(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function ks(n){var s=n[Xb];return s||(s=n[Xb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(n){n[Zi]=!0}var Qb=new Set,Jb={};function La(n,s){Ms(n,s),Ms(n+"Capture",s)}function Ms(n,s){for(Jb[n]=s,n=0;n<s.length;n++)Qb.add(s[n])}var yD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zb={},ex={};function bD(n){return Rt.call(ex,n)?!0:Rt.call(Zb,n)?!1:yD.test(n)?ex[n]=!0:(Zb[n]=!0,!1)}function ou(n,s,o){if(bD(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function lu(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function xn(n,s,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+c)}}function Nr(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tx(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xD(n,s,o){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(j){o=""+j,g.call(this,j)}}),Object.defineProperty(n,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(j){o=""+j},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function yf(n){if(!n._valueTracker){var s=tx(n)?"checked":"value";n._valueTracker=xD(n,s,""+n[s])}}function rx(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return n&&(c=tx(n)?n.checked?"true":"false":n.value),n=c,n!==o?(s.setValue(n),!0):!1}function uu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var wD=/[\n"\\]/g;function Tr(n){return n.replace(wD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bf(n,s,o,c,p,g,j,k){n.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?n.type=j:n.removeAttribute("type"),s!=null?j==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Nr(s)):n.value!==""+Nr(s)&&(n.value=""+Nr(s)):j!=="submit"&&j!=="reset"||n.removeAttribute("value"),s!=null?xf(n,j,Nr(s)):o!=null?xf(n,j,Nr(o)):c!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+Nr(k):n.removeAttribute("name")}function nx(n,s,o,c,p,g,j,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){yf(n);return}o=o!=null?""+Nr(o):"",s=s!=null?""+Nr(s):o,k||s===n.value||(n.value=s),n.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=k?n.checked:!!c,n.defaultChecked=!!c,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(n.name=j),yf(n)}function xf(n,s,o){s==="number"&&uu(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function qs(n,s,o,c){if(n=n.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=s.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Nr(o),s=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function ax(n,s,o){if(s!=null&&(s=""+Nr(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Nr(o):""}function sx(n,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(ee(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Nr(s),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c),yf(n)}function Ps(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var _D=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ix(n,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,o):typeof o!="number"||o===0||_D.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function ox(n,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&o[p]!==c&&ix(n,p,c)}else for(var g in s)s.hasOwnProperty(g)&&ix(n,g,s[g])}function wf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var SD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ED=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cu(n){return ED.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function wn(){}var _f=null;function Sf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ls=null,$s=null;function lx(n){var s=Ds(n);if(s&&(n=s.stateNode)){var o=n[tr]||null;e:switch(n=s.stateNode,s.type){case"input":if(bf(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Tr(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==n&&c.form===n.form){var p=c[tr]||null;if(!p)throw Error(a(90));bf(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===n.form&&rx(c)}break e;case"textarea":ax(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&qs(n,!!o.multiple,s,!1)}}}var Ef=!1;function ux(n,s,o){if(Ef)return n(s,o);Ef=!0;try{var c=n(s);return c}finally{if(Ef=!1,(Ls!==null||$s!==null)&&(Qu(),Ls&&(s=Ls,n=$s,$s=Ls=null,lx(s),n)))for(s=0;s<n.length;s++)lx(n[s])}}function to(n,s){var o=n.stateNode;if(o===null)return null;var c=o[tr]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var _n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=!1;if(_n)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){jf=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{jf=!1}var Jn=null,Nf=null,du=null;function cx(){if(du)return du;var n,s=Nf,o=s.length,c,p="value"in Jn?Jn.value:Jn.textContent,g=p.length;for(n=0;n<o&&s[n]===p[n];n++);var j=o-n;for(c=1;c<=j&&s[o-c]===p[g-c];c++);return du=p.slice(n,1<c?1-c:void 0)}function fu(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function hu(){return!0}function dx(){return!1}function rr(n){function s(o,c,p,g,j){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=j,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(o=n[k],this[k]=o?o(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?hu:dx,this.isPropagationStopped=dx,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=hu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=hu)},persist:function(){},isPersistent:hu}),s}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mu=rr($a),no=y({},$a,{view:0,detail:0}),jD=rr(no),Tf,Of,ao,pu=y({},no,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Af,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ao&&(ao&&n.type==="mousemove"?(Tf=n.screenX-ao.screenX,Of=n.screenY-ao.screenY):Of=Tf=0,ao=n),Tf)},movementY:function(n){return"movementY"in n?n.movementY:Of}}),fx=rr(pu),ND=y({},pu,{dataTransfer:0}),TD=rr(ND),OD=y({},no,{relatedTarget:0}),Cf=rr(OD),CD=y({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),AD=rr(CD),RD=y({},$a,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),DD=rr(RD),kD=y({},$a,{data:0}),hx=rr(kD),MD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LD(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=PD[n])?!!s[n]:!1}function Af(){return LD}var $D=y({},no,{key:function(n){if(n.key){var s=MD[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=fu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Af,charCode:function(n){return n.type==="keypress"?fu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),UD=rr($D),zD=y({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mx=rr(zD),BD=y({},no,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Af}),ID=rr(BD),HD=y({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),FD=rr(HD),GD=y({},pu,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),YD=rr(GD),WD=y({},$a,{newState:0,oldState:0}),VD=rr(WD),KD=[9,13,27,32],Rf=_n&&"CompositionEvent"in window,so=null;_n&&"documentMode"in document&&(so=document.documentMode);var XD=_n&&"TextEvent"in window&&!so,px=_n&&(!Rf||so&&8<so&&11>=so),vx=" ",gx=!1;function yx(n,s){switch(n){case"keyup":return KD.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Us=!1;function QD(n,s){switch(n){case"compositionend":return bx(s);case"keypress":return s.which!==32?null:(gx=!0,vx);case"textInput":return n=s.data,n===vx&&gx?null:n;default:return null}}function JD(n,s){if(Us)return n==="compositionend"||!Rf&&yx(n,s)?(n=cx(),du=Nf=Jn=null,Us=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return px&&s.locale!=="ko"?null:s.data;default:return null}}var ZD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xx(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ZD[n.type]:s==="textarea"}function wx(n,s,o,c){Ls?$s?$s.push(c):$s=[c]:Ls=c,s=ac(s,"onChange"),0<s.length&&(o=new mu("onChange","change",null,o,c),n.push({event:o,listeners:s}))}var io=null,oo=null;function ek(n){nS(n,0)}function vu(n){var s=eo(n);if(rx(s))return n}function _x(n,s){if(n==="change")return s}var Sx=!1;if(_n){var Df;if(_n){var kf="oninput"in document;if(!kf){var Ex=document.createElement("div");Ex.setAttribute("oninput","return;"),kf=typeof Ex.oninput=="function"}Df=kf}else Df=!1;Sx=Df&&(!document.documentMode||9<document.documentMode)}function jx(){io&&(io.detachEvent("onpropertychange",Nx),oo=io=null)}function Nx(n){if(n.propertyName==="value"&&vu(oo)){var s=[];wx(s,oo,n,Sf(n)),ux(ek,s)}}function tk(n,s,o){n==="focusin"?(jx(),io=s,oo=o,io.attachEvent("onpropertychange",Nx)):n==="focusout"&&jx()}function rk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vu(oo)}function nk(n,s){if(n==="click")return vu(s)}function ak(n,s){if(n==="input"||n==="change")return vu(s)}function sk(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var mr=typeof Object.is=="function"?Object.is:sk;function lo(n,s){if(mr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Rt.call(s,p)||!mr(n[p],s[p]))return!1}return!0}function Tx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ox(n,s){var o=Tx(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=s&&c>=s)return{node:o,offset:s-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Tx(o)}}function Cx(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Cx(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Ax(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=uu(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=uu(n.document)}return s}function Mf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var ik=_n&&"documentMode"in document&&11>=document.documentMode,zs=null,qf=null,uo=null,Pf=!1;function Rx(n,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Pf||zs==null||zs!==uu(c)||(c=zs,"selectionStart"in c&&Mf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),uo&&lo(uo,c)||(uo=c,c=ac(qf,"onSelect"),0<c.length&&(s=new mu("onSelect","select",null,s,o),n.push({event:s,listeners:c}),s.target=zs)))}function Ua(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Bs={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},Lf={},Dx={};_n&&(Dx=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function za(n){if(Lf[n])return Lf[n];if(!Bs[n])return n;var s=Bs[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Dx)return Lf[n]=s[o];return n}var kx=za("animationend"),Mx=za("animationiteration"),qx=za("animationstart"),ok=za("transitionrun"),lk=za("transitionstart"),uk=za("transitioncancel"),Px=za("transitionend"),Lx=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function Yr(n,s){Lx.set(n,s),La(s,[n])}var gu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Or=[],Is=0,Uf=0;function yu(){for(var n=Is,s=Uf=Is=0;s<n;){var o=Or[s];Or[s++]=null;var c=Or[s];Or[s++]=null;var p=Or[s];Or[s++]=null;var g=Or[s];if(Or[s++]=null,c!==null&&p!==null){var j=c.pending;j===null?p.next=p:(p.next=j.next,j.next=p),c.pending=p}g!==0&&$x(o,p,g)}}function bu(n,s,o,c){Or[Is++]=n,Or[Is++]=s,Or[Is++]=o,Or[Is++]=c,Uf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function zf(n,s,o,c){return bu(n,s,o,c),xu(n)}function Ba(n,s){return bu(n,null,null,s),xu(n)}function $x(n,s,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&s!==null&&(p=31-hr(o),n=g.hiddenUpdates,c=n[p],c===null?n[p]=[s]:c.push(s),s.lane=o|536870912),g):null}function xu(n){if(50<Do)throw Do=0,Kh=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Hs={};function ck(n,s,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(n,s,o,c){return new ck(n,s,o,c)}function Bf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sn(n,s){var o=n.alternate;return o===null?(o=pr(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Ux(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function wu(n,s,o,c,p,g){var j=0;if(c=n,typeof n=="function")Bf(n)&&(j=1);else if(typeof n=="string")j=pM(n,o,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case P:return n=pr(31,o,s,p),n.elementType=P,n.lanes=g,n;case _:return Ia(o.children,p,g,s);case E:j=8,p|=24;break;case S:return n=pr(12,o,s,p|2),n.elementType=S,n.lanes=g,n;case M:return n=pr(13,o,s,p),n.elementType=M,n.lanes=g,n;case D:return n=pr(19,o,s,p),n.elementType=D,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:j=10;break e;case N:j=9;break e;case O:j=11;break e;case C:j=14;break e;case L:j=16,c=null;break e}j=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return s=pr(j,o,s,p),s.elementType=n,s.type=c,s.lanes=g,s}function Ia(n,s,o,c){return n=pr(7,n,c,s),n.lanes=o,n}function If(n,s,o){return n=pr(6,n,null,s),n.lanes=o,n}function zx(n){var s=pr(18,null,null,0);return s.stateNode=n,s}function Hf(n,s,o){return s=pr(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Bx=new WeakMap;function Cr(n,s){if(typeof n=="object"&&n!==null){var o=Bx.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Qt(s)},Bx.set(n,s),s)}return{value:n,source:s,stack:Qt(s)}}var Fs=[],Gs=0,_u=null,co=0,Ar=[],Rr=0,Zn=null,rn=1,nn="";function En(n,s){Fs[Gs++]=co,Fs[Gs++]=_u,_u=n,co=s}function Ix(n,s,o){Ar[Rr++]=rn,Ar[Rr++]=nn,Ar[Rr++]=Zn,Zn=n;var c=rn;n=nn;var p=32-hr(c)-1;c&=~(1<<p),o+=1;var g=32-hr(s)+p;if(30<g){var j=p-p%5;g=(c&(1<<j)-1).toString(32),c>>=j,p-=j,rn=1<<32-hr(s)+p|o<<p|c,nn=g+n}else rn=1<<g|o<<p|c,nn=n}function Ff(n){n.return!==null&&(En(n,1),Ix(n,1,0))}function Gf(n){for(;n===_u;)_u=Fs[--Gs],Fs[Gs]=null,co=Fs[--Gs],Fs[Gs]=null;for(;n===Zn;)Zn=Ar[--Rr],Ar[Rr]=null,nn=Ar[--Rr],Ar[Rr]=null,rn=Ar[--Rr],Ar[Rr]=null}function Hx(n,s){Ar[Rr++]=rn,Ar[Rr++]=nn,Ar[Rr++]=Zn,rn=s.id,nn=s.overflow,Zn=n}var Mt=null,Ke=null,Pe=!1,ea=null,Dr=!1,Yf=Error(a(519));function ta(n){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fo(Cr(s,n)),Yf}function Fx(n){var s=n.stateNode,o=n.type,c=n.memoizedProps;switch(s[kt]=n,s[tr]=c,o){case"dialog":Re("cancel",s),Re("close",s);break;case"iframe":case"object":case"embed":Re("load",s);break;case"video":case"audio":for(o=0;o<Mo.length;o++)Re(Mo[o],s);break;case"source":Re("error",s);break;case"img":case"image":case"link":Re("error",s),Re("load",s);break;case"details":Re("toggle",s);break;case"input":Re("invalid",s),nx(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Re("invalid",s);break;case"textarea":Re("invalid",s),sx(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||oS(s.textContent,o)?(c.popover!=null&&(Re("beforetoggle",s),Re("toggle",s)),c.onScroll!=null&&Re("scroll",s),c.onScrollEnd!=null&&Re("scrollend",s),c.onClick!=null&&(s.onclick=wn),s=!0):s=!1,s||ta(n,!0)}function Gx(n){for(Mt=n.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:Dr=!1;return;case 27:case 3:Dr=!0;return;default:Mt=Mt.return}}function Ys(n){if(n!==Mt)return!1;if(!Pe)return Gx(n),Pe=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||cm(n.type,n.memoizedProps)),o=!o),o&&Ke&&ta(n),Gx(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Ke=vS(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));Ke=vS(n)}else s===27?(s=Ke,pa(n.type)?(n=pm,pm=null,Ke=n):Ke=s):Ke=Mt?Mr(n.stateNode.nextSibling):null;return!0}function Ha(){Ke=Mt=null,Pe=!1}function Wf(){var n=ea;return n!==null&&(ir===null?ir=n:ir.push.apply(ir,n),ea=null),n}function fo(n){ea===null?ea=[n]:ea.push(n)}var Vf=$(null),Fa=null,jn=null;function ra(n,s,o){oe(Vf,s._currentValue),s._currentValue=o}function Nn(n){n._currentValue=Vf.current,Q(Vf)}function Kf(n,s,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===o)break;n=n.return}}function Xf(n,s,o,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var j=p.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=p;for(var B=0;B<s.length;B++)if(k.context===s[B]){g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),Kf(g.return,o,n),c||(j=null);break e}g=k.next}}else if(p.tag===18){if(j=p.return,j===null)throw Error(a(341));j.lanes|=o,g=j.alternate,g!==null&&(g.lanes|=o),Kf(j,o,n),j=null}else j=p.child;if(j!==null)j.return=p;else for(j=p;j!==null;){if(j===n){j=null;break}if(p=j.sibling,p!==null){p.return=j.return,j=p;break}j=j.return}p=j}}function Ws(n,s,o,c){n=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var j=p.alternate;if(j===null)throw Error(a(387));if(j=j.memoizedProps,j!==null){var k=p.type;mr(p.pendingProps.value,j.value)||(n!==null?n.push(k):n=[k])}}else if(p===we.current){if(j=p.alternate,j===null)throw Error(a(387));j.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Uo):n=[Uo])}p=p.return}n!==null&&Xf(s,n,o,c),s.flags|=262144}function Su(n){for(n=n.firstContext;n!==null;){if(!mr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ga(n){Fa=n,jn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function qt(n){return Yx(Fa,n)}function Eu(n,s){return Fa===null&&Ga(n),Yx(n,s)}function Yx(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},jn===null){if(n===null)throw Error(a(308));jn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else jn=jn.next=s;return o}var dk=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},fk=t.unstable_scheduleCallback,hk=t.unstable_NormalPriority,dt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new dk,data:new Map,refCount:0}}function ho(n){n.refCount--,n.refCount===0&&fk(hk,function(){n.controller.abort()})}var mo=null,Jf=0,Vs=0,Ks=null;function mk(n,s){if(mo===null){var o=mo=[];Jf=0,Vs=tm(),Ks={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Jf++,s.then(Wx,Wx),s}function Wx(){if(--Jf===0&&mo!==null){Ks!==null&&(Ks.status="fulfilled");var n=mo;mo=null,Vs=0,Ks=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function pk(n,s){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var Vx=H.S;H.S=function(n,s){R_=he(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&mk(n,s),Vx!==null&&Vx(n,s)};var Ya=$(null);function Zf(){var n=Ya.current;return n!==null?n:Ye.pooledCache}function ju(n,s){s===null?oe(Ya,Ya.current):oe(Ya,s.pool)}function Kx(){var n=Zf();return n===null?null:{parent:dt._currentValue,pool:n}}var Xs=Error(a(460)),eh=Error(a(474)),Nu=Error(a(542)),Tu={then:function(){}};function Xx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Qx(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(wn,wn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Zx(n),n;default:if(typeof s.status=="string")s.then(wn,wn);else{if(n=Ye,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Zx(n),n}throw Va=s,Xs}}function Wa(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Va=o,Xs):o}}var Va=null;function Jx(){if(Va===null)throw Error(a(459));var n=Va;return Va=null,n}function Zx(n){if(n===Xs||n===Nu)throw Error(a(483))}var Qs=null,po=0;function Ou(n){var s=po;return po+=1,Qs===null&&(Qs=[]),Qx(Qs,n,s)}function vo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Cu(n,s){throw s.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function ew(n){function s(G,F){if(n){var K=G.deletions;K===null?(G.deletions=[F],G.flags|=16):K.push(F)}}function o(G,F){if(!n)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function c(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function p(G,F){return G=Sn(G,F),G.index=0,G.sibling=null,G}function g(G,F,K){return G.index=K,n?(K=G.alternate,K!==null?(K=K.index,K<F?(G.flags|=67108866,F):K):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function j(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function k(G,F,K,se){return F===null||F.tag!==6?(F=If(K,G.mode,se),F.return=G,F):(F=p(F,K),F.return=G,F)}function B(G,F,K,se){var ye=K.type;return ye===_?ae(G,F,K.props.children,se,K.key):F!==null&&(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===L&&Wa(ye)===F.type)?(F=p(F,K.props),vo(F,K),F.return=G,F):(F=wu(K.type,K.key,K.props,null,G.mode,se),vo(F,K),F.return=G,F)}function X(G,F,K,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=Hf(K,G.mode,se),F.return=G,F):(F=p(F,K.children||[]),F.return=G,F)}function ae(G,F,K,se,ye){return F===null||F.tag!==7?(F=Ia(K,G.mode,se,ye),F.return=G,F):(F=p(F,K),F.return=G,F)}function ie(G,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=If(""+F,G.mode,K),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return K=wu(F.type,F.key,F.props,null,G.mode,K),vo(K,F),K.return=G,K;case w:return F=Hf(F,G.mode,K),F.return=G,F;case L:return F=Wa(F),ie(G,F,K)}if(ee(F)||z(F))return F=Ia(F,G.mode,K,null),F.return=G,F;if(typeof F.then=="function")return ie(G,Ou(F),K);if(F.$$typeof===T)return ie(G,Eu(G,F),K);Cu(G,F)}return null}function J(G,F,K,se){var ye=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ye!==null?null:k(G,F,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===ye?B(G,F,K,se):null;case w:return K.key===ye?X(G,F,K,se):null;case L:return K=Wa(K),J(G,F,K,se)}if(ee(K)||z(K))return ye!==null?null:ae(G,F,K,se,null);if(typeof K.then=="function")return J(G,F,Ou(K),se);if(K.$$typeof===T)return J(G,F,Eu(G,K),se);Cu(G,K)}return null}function te(G,F,K,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(K)||null,k(F,G,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return G=G.get(se.key===null?K:se.key)||null,B(F,G,se,ye);case w:return G=G.get(se.key===null?K:se.key)||null,X(F,G,se,ye);case L:return se=Wa(se),te(G,F,K,se,ye)}if(ee(se)||z(se))return G=G.get(K)||null,ae(F,G,se,ye,null);if(typeof se.then=="function")return te(G,F,K,Ou(se),ye);if(se.$$typeof===T)return te(G,F,K,Eu(F,se),ye);Cu(F,se)}return null}function pe(G,F,K,se){for(var ye=null,Le=null,ve=F,Ne=F=0,ke=null;ve!==null&&Ne<K.length;Ne++){ve.index>Ne?(ke=ve,ve=null):ke=ve.sibling;var $e=J(G,ve,K[Ne],se);if($e===null){ve===null&&(ve=ke);break}n&&ve&&$e.alternate===null&&s(G,ve),F=g($e,F,Ne),Le===null?ye=$e:Le.sibling=$e,Le=$e,ve=ke}if(Ne===K.length)return o(G,ve),Pe&&En(G,Ne),ye;if(ve===null){for(;Ne<K.length;Ne++)ve=ie(G,K[Ne],se),ve!==null&&(F=g(ve,F,Ne),Le===null?ye=ve:Le.sibling=ve,Le=ve);return Pe&&En(G,Ne),ye}for(ve=c(ve);Ne<K.length;Ne++)ke=te(ve,G,Ne,K[Ne],se),ke!==null&&(n&&ke.alternate!==null&&ve.delete(ke.key===null?Ne:ke.key),F=g(ke,F,Ne),Le===null?ye=ke:Le.sibling=ke,Le=ke);return n&&ve.forEach(function(xa){return s(G,xa)}),Pe&&En(G,Ne),ye}function be(G,F,K,se){if(K==null)throw Error(a(151));for(var ye=null,Le=null,ve=F,Ne=F=0,ke=null,$e=K.next();ve!==null&&!$e.done;Ne++,$e=K.next()){ve.index>Ne?(ke=ve,ve=null):ke=ve.sibling;var xa=J(G,ve,$e.value,se);if(xa===null){ve===null&&(ve=ke);break}n&&ve&&xa.alternate===null&&s(G,ve),F=g(xa,F,Ne),Le===null?ye=xa:Le.sibling=xa,Le=xa,ve=ke}if($e.done)return o(G,ve),Pe&&En(G,Ne),ye;if(ve===null){for(;!$e.done;Ne++,$e=K.next())$e=ie(G,$e.value,se),$e!==null&&(F=g($e,F,Ne),Le===null?ye=$e:Le.sibling=$e,Le=$e);return Pe&&En(G,Ne),ye}for(ve=c(ve);!$e.done;Ne++,$e=K.next())$e=te(ve,G,Ne,$e.value,se),$e!==null&&(n&&$e.alternate!==null&&ve.delete($e.key===null?Ne:$e.key),F=g($e,F,Ne),Le===null?ye=$e:Le.sibling=$e,Le=$e);return n&&ve.forEach(function(NM){return s(G,NM)}),Pe&&En(G,Ne),ye}function Ge(G,F,K,se){if(typeof K=="object"&&K!==null&&K.type===_&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var ye=K.key;F!==null;){if(F.key===ye){if(ye=K.type,ye===_){if(F.tag===7){o(G,F.sibling),se=p(F,K.props.children),se.return=G,G=se;break e}}else if(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===L&&Wa(ye)===F.type){o(G,F.sibling),se=p(F,K.props),vo(se,K),se.return=G,G=se;break e}o(G,F);break}else s(G,F);F=F.sibling}K.type===_?(se=Ia(K.props.children,G.mode,se,K.key),se.return=G,G=se):(se=wu(K.type,K.key,K.props,null,G.mode,se),vo(se,K),se.return=G,G=se)}return j(G);case w:e:{for(ye=K.key;F!==null;){if(F.key===ye)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){o(G,F.sibling),se=p(F,K.children||[]),se.return=G,G=se;break e}else{o(G,F);break}else s(G,F);F=F.sibling}se=Hf(K,G.mode,se),se.return=G,G=se}return j(G);case L:return K=Wa(K),Ge(G,F,K,se)}if(ee(K))return pe(G,F,K,se);if(z(K)){if(ye=z(K),typeof ye!="function")throw Error(a(150));return K=ye.call(K),be(G,F,K,se)}if(typeof K.then=="function")return Ge(G,F,Ou(K),se);if(K.$$typeof===T)return Ge(G,F,Eu(G,K),se);Cu(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(o(G,F.sibling),se=p(F,K),se.return=G,G=se):(o(G,F),se=If(K,G.mode,se),se.return=G,G=se),j(G)):o(G,F)}return function(G,F,K,se){try{po=0;var ye=Ge(G,F,K,se);return Qs=null,ye}catch(ve){if(ve===Xs||ve===Nu)throw ve;var Le=pr(29,ve,null,G.mode);return Le.lanes=se,Le.return=G,Le}finally{}}}var Ka=ew(!0),tw=ew(!1),na=!1;function th(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function aa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function sa(n,s,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ue&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=xu(n),$x(n,null,o),s}return bu(n,c,s,o),xu(n)}function go(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,o|=c,s.lanes=o,Yb(n,o)}}function nh(n,s){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var j={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=j:g=g.next=j,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var ah=!1;function yo(){if(ah){var n=Ks;if(n!==null)throw n}}function bo(n,s,o,c){ah=!1;var p=n.updateQueue;na=!1;var g=p.firstBaseUpdate,j=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var B=k,X=B.next;B.next=null,j===null?g=X:j.next=X,j=B;var ae=n.alternate;ae!==null&&(ae=ae.updateQueue,k=ae.lastBaseUpdate,k!==j&&(k===null?ae.firstBaseUpdate=X:k.next=X,ae.lastBaseUpdate=B))}if(g!==null){var ie=p.baseState;j=0,ae=X=B=null,k=g;do{var J=k.lane&-536870913,te=J!==k.lane;if(te?(De&J)===J:(c&J)===J){J!==0&&J===Vs&&(ah=!0),ae!==null&&(ae=ae.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var pe=n,be=k;J=s;var Ge=o;switch(be.tag){case 1:if(pe=be.payload,typeof pe=="function"){ie=pe.call(Ge,ie,J);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,J=typeof pe=="function"?pe.call(Ge,ie,J):pe,J==null)break e;ie=y({},ie,J);break e;case 2:na=!0}}J=k.callback,J!==null&&(n.flags|=64,te&&(n.flags|=8192),te=p.callbacks,te===null?p.callbacks=[J]:te.push(J))}else te={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ae===null?(X=ae=te,B=ie):ae=ae.next=te,j|=J;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;te=k,k=te.next,te.next=null,p.lastBaseUpdate=te,p.shared.pending=null}}while(!0);ae===null&&(B=ie),p.baseState=B,p.firstBaseUpdate=X,p.lastBaseUpdate=ae,g===null&&(p.shared.lanes=0),ca|=j,n.lanes=j,n.memoizedState=ie}}function rw(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function nw(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)rw(o[n],s)}var Js=$(null),Au=$(0);function aw(n,s){n=qn,oe(Au,n),oe(Js,s),qn=n|s.baseLanes}function sh(){oe(Au,qn),oe(Js,Js.current)}function ih(){qn=Au.current,Q(Js),Q(Au)}var vr=$(null),kr=null;function ia(n){var s=n.alternate;oe(ut,ut.current&1),oe(vr,n),kr===null&&(s===null||Js.current!==null||s.memoizedState!==null)&&(kr=n)}function oh(n){oe(ut,ut.current),oe(vr,n),kr===null&&(kr=n)}function sw(n){n.tag===22?(oe(ut,ut.current),oe(vr,n),kr===null&&(kr=n)):oa()}function oa(){oe(ut,ut.current),oe(vr,vr.current)}function gr(n){Q(vr),kr===n&&(kr=null),Q(ut)}var ut=$(0);function Ru(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||hm(o)||mm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Tn=0,Ee=null,He=null,ft=null,Du=!1,Zs=!1,Xa=!1,ku=0,xo=0,ei=null,vk=0;function st(){throw Error(a(321))}function lh(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!mr(n[o],s[o]))return!1;return!0}function uh(n,s,o,c,p,g){return Tn=g,Ee=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=n===null||n.memoizedState===null?Iw:Eh,Xa=!1,g=o(c,p),Xa=!1,Zs&&(g=ow(s,o,c,p)),iw(n),g}function iw(n){H.H=So;var s=He!==null&&He.next!==null;if(Tn=0,ft=He=Ee=null,Du=!1,xo=0,ei=null,s)throw Error(a(300));n===null||ht||(n=n.dependencies,n!==null&&Su(n)&&(ht=!0))}function ow(n,s,o,c){Ee=n;var p=0;do{if(Zs&&(ei=null),xo=0,Zs=!1,25<=p)throw Error(a(301));if(p+=1,ft=He=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}H.H=Hw,g=s(o,c)}while(Zs);return g}function gk(){var n=H.H,s=n.useState()[0];return s=typeof s.then=="function"?wo(s):s,n=n.useState()[0],(He!==null?He.memoizedState:null)!==n&&(Ee.flags|=1024),s}function ch(){var n=ku!==0;return ku=0,n}function dh(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function fh(n){if(Du){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Du=!1}Tn=0,ft=He=Ee=null,Zs=!1,xo=ku=0,ei=null}function Jt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ee.memoizedState=ft=n:ft=ft.next=n,ft}function ct(){if(He===null){var n=Ee.alternate;n=n!==null?n.memoizedState:null}else n=He.next;var s=ft===null?Ee.memoizedState:ft.next;if(s!==null)ft=s,He=n;else{if(n===null)throw Ee.alternate===null?Error(a(467)):Error(a(310));He=n,n={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},ft===null?Ee.memoizedState=ft=n:ft=ft.next=n}return ft}function Mu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wo(n){var s=xo;return xo+=1,ei===null&&(ei=[]),n=Qx(ei,n,s),s=Ee,(ft===null?s.memoizedState:ft.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?Iw:Eh),n}function qu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return wo(n);if(n.$$typeof===T)return qt(n)}throw Error(a(438,String(n)))}function hh(n){var s=null,o=Ee.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ee.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Mu(),Ee.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),c=0;c<n;c++)o[c]=A;return s.index++,o}function On(n,s){return typeof s=="function"?s(n):s}function Pu(n){var s=ct();return mh(s,He,n)}function mh(n,s,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var p=n.baseQueue,g=c.pending;if(g!==null){if(p!==null){var j=p.next;p.next=g.next,g.next=j}s.baseQueue=p=g,c.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{s=p.next;var k=j=null,B=null,X=s,ae=!1;do{var ie=X.lane&-536870913;if(ie!==X.lane?(De&ie)===ie:(Tn&ie)===ie){var J=X.revertLane;if(J===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ie===Vs&&(ae=!0);else if((Tn&J)===J){X=X.next,J===Vs&&(ae=!0);continue}else ie={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(k=B=ie,j=g):B=B.next=ie,Ee.lanes|=J,ca|=J;ie=X.action,Xa&&o(g,ie),g=X.hasEagerState?X.eagerState:o(g,ie)}else J={lane:ie,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},B===null?(k=B=J,j=g):B=B.next=J,Ee.lanes|=ie,ca|=ie;X=X.next}while(X!==null&&X!==s);if(B===null?j=g:B.next=k,!mr(g,n.memoizedState)&&(ht=!0,ae&&(o=Ks,o!==null)))throw o;n.memoizedState=g,n.baseState=j,n.baseQueue=B,c.lastRenderedState=g}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function ph(n){var s=ct(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var j=p=p.next;do g=n(g,j.action),j=j.next;while(j!==p);mr(g,s.memoizedState)||(ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function lw(n,s,o){var c=Ee,p=ct(),g=Pe;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=s();var j=!mr((He||p).memoizedState,o);if(j&&(p.memoizedState=o,ht=!0),p=p.queue,yh(dw.bind(null,c,p,n),[n]),p.getSnapshot!==s||j||ft!==null&&ft.memoizedState.tag&1){if(c.flags|=2048,ti(9,{destroy:void 0},cw.bind(null,c,p,o,s),null),Ye===null)throw Error(a(349));g||(Tn&127)!==0||uw(c,s,o)}return o}function uw(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ee.updateQueue,s===null?(s=Mu(),Ee.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function cw(n,s,o,c){s.value=o,s.getSnapshot=c,fw(s)&&hw(n)}function dw(n,s,o){return o(function(){fw(s)&&hw(n)})}function fw(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!mr(n,o)}catch{return!0}}function hw(n){var s=Ba(n,2);s!==null&&or(s,n,2)}function vh(n){var s=Jt();if(typeof n=="function"){var o=n;if(n=o(),Xa){Xn(!0);try{o()}finally{Xn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:n},s}function mw(n,s,o,c){return n.baseState=o,mh(n,He,typeof c=="function"?c:On)}function yk(n,s,o,c,p){if(Uu(n))throw Error(a(485));if(n=s.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){g.listeners.push(j)}};H.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,pw(s,g)):(g.next=o.next,s.pending=o.next=g)}}function pw(n,s){var o=s.action,c=s.payload,p=n.state;if(s.isTransition){var g=H.T,j={};H.T=j;try{var k=o(p,c),B=H.S;B!==null&&B(j,k),vw(n,s,k)}catch(X){gh(n,s,X)}finally{g!==null&&j.types!==null&&(g.types=j.types),H.T=g}}else try{g=o(p,c),vw(n,s,g)}catch(X){gh(n,s,X)}}function vw(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){gw(n,s,c)},function(c){return gh(n,s,c)}):gw(n,s,o)}function gw(n,s,o){s.status="fulfilled",s.value=o,yw(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,pw(n,o)))}function gh(n,s,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,yw(s),s=s.next;while(s!==c)}n.action=null}function yw(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function bw(n,s){return s}function xw(n,s){if(Pe){var o=Ye.formState;if(o!==null){e:{var c=Ee;if(Pe){if(Ke){t:{for(var p=Ke,g=Dr;p.nodeType!==8;){if(!g){p=null;break t}if(p=Mr(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ke=Mr(p.nextSibling),c=p.data==="F!";break e}}ta(c)}c=!1}c&&(s=o[0])}}return o=Jt(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bw,lastRenderedState:s},o.queue=c,o=Uw.bind(null,Ee,c),c.dispatch=o,c=vh(!1),g=Sh.bind(null,Ee,!1,c.queue),c=Jt(),p={state:s,dispatch:null,action:n,pending:null},c.queue=p,o=yk.bind(null,Ee,p,g,o),p.dispatch=o,c.memoizedState=n,[s,o,!1]}function ww(n){var s=ct();return _w(s,He,n)}function _w(n,s,o){if(s=mh(n,s,bw)[0],n=Pu(On)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=wo(s)}catch(j){throw j===Xs?Nu:j}else c=s;s=ct();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(Ee.flags|=2048,ti(9,{destroy:void 0},bk.bind(null,p,o),null)),[c,g,n]}function bk(n,s){n.action=s}function Sw(n){var s=ct(),o=He;if(o!==null)return _w(s,o,n);ct(),s=s.memoizedState,o=ct();var c=o.queue.dispatch;return o.memoizedState=n,[s,c,!1]}function ti(n,s,o,c){return n={tag:n,create:o,deps:c,inst:s,next:null},s=Ee.updateQueue,s===null&&(s=Mu(),Ee.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,s.lastEffect=n),n}function Ew(){return ct().memoizedState}function Lu(n,s,o,c){var p=Jt();Ee.flags|=n,p.memoizedState=ti(1|s,{destroy:void 0},o,c===void 0?null:c)}function $u(n,s,o,c){var p=ct();c=c===void 0?null:c;var g=p.memoizedState.inst;He!==null&&c!==null&&lh(c,He.memoizedState.deps)?p.memoizedState=ti(s,g,o,c):(Ee.flags|=n,p.memoizedState=ti(1|s,g,o,c))}function jw(n,s){Lu(8390656,8,n,s)}function yh(n,s){$u(2048,8,n,s)}function xk(n){Ee.flags|=4;var s=Ee.updateQueue;if(s===null)s=Mu(),Ee.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Nw(n){var s=ct().memoizedState;return xk({ref:s,nextImpl:n}),function(){if((Ue&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Tw(n,s){return $u(4,2,n,s)}function Ow(n,s){return $u(4,4,n,s)}function Cw(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Aw(n,s,o){o=o!=null?o.concat([n]):null,$u(4,4,Cw.bind(null,s,n),o)}function bh(){}function Rw(n,s){var o=ct();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&lh(s,c[1])?c[0]:(o.memoizedState=[n,s],n)}function Dw(n,s){var o=ct();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&lh(s,c[1]))return c[0];if(c=n(),Xa){Xn(!0);try{n()}finally{Xn(!1)}}return o.memoizedState=[c,s],c}function xh(n,s,o){return o===void 0||(Tn&1073741824)!==0&&(De&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=k_(),Ee.lanes|=n,ca|=n,o)}function kw(n,s,o,c){return mr(o,s)?o:Js.current!==null?(n=xh(n,o,c),mr(n,s)||(ht=!0),n):(Tn&42)===0||(Tn&1073741824)!==0&&(De&261930)===0?(ht=!0,n.memoizedState=o):(n=k_(),Ee.lanes|=n,ca|=n,s)}function Mw(n,s,o,c,p){var g=I.p;I.p=g!==0&&8>g?g:8;var j=H.T,k={};H.T=k,Sh(n,!1,s,o);try{var B=p(),X=H.S;if(X!==null&&X(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ae=pk(B,c);_o(n,s,ae,xr(n))}else _o(n,s,c,xr(n))}catch(ie){_o(n,s,{then:function(){},status:"rejected",reason:ie},xr())}finally{I.p=g,j!==null&&k.types!==null&&(j.types=k.types),H.T=j}}function wk(){}function wh(n,s,o,c){if(n.tag!==5)throw Error(a(476));var p=qw(n).queue;Mw(n,p,s,re,o===null?wk:function(){return Pw(n),o(c)})}function qw(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:re},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Pw(n){var s=qw(n);s.next===null&&(s=n.alternate.memoizedState),_o(n,s.next.queue,{},xr())}function _h(){return qt(Uo)}function Lw(){return ct().memoizedState}function $w(){return ct().memoizedState}function _k(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=xr();n=aa(o);var c=sa(s,n,o);c!==null&&(or(c,s,o),go(c,s,o)),s={cache:Qf()},n.payload=s;return}s=s.return}}function Sk(n,s,o){var c=xr();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Uu(n)?zw(s,o):(o=zf(n,s,o,c),o!==null&&(or(o,n,c),Bw(o,s,c)))}function Uw(n,s,o){var c=xr();_o(n,s,o,c)}function _o(n,s,o,c){var p={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Uu(n))zw(s,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var j=s.lastRenderedState,k=g(j,o);if(p.hasEagerState=!0,p.eagerState=k,mr(k,j))return bu(n,s,p,0),Ye===null&&yu(),!1}catch{}finally{}if(o=zf(n,s,p,c),o!==null)return or(o,n,c),Bw(o,s,c),!0}return!1}function Sh(n,s,o,c){if(c={lane:2,revertLane:tm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Uu(n)){if(s)throw Error(a(479))}else s=zf(n,o,c,2),s!==null&&or(s,n,2)}function Uu(n){var s=n.alternate;return n===Ee||s!==null&&s===Ee}function zw(n,s){Zs=Du=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Bw(n,s,o){if((o&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,o|=c,s.lanes=o,Yb(n,o)}}var So={readContext:qt,use:qu,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};So.useEffectEvent=st;var Iw={readContext:qt,use:qu,useCallback:function(n,s){return Jt().memoizedState=[n,s===void 0?null:s],n},useContext:qt,useEffect:jw,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Lu(4194308,4,Cw.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Lu(4194308,4,n,s)},useInsertionEffect:function(n,s){Lu(4,2,n,s)},useMemo:function(n,s){var o=Jt();s=s===void 0?null:s;var c=n();if(Xa){Xn(!0);try{n()}finally{Xn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(n,s,o){var c=Jt();if(o!==void 0){var p=o(s);if(Xa){Xn(!0);try{o(s)}finally{Xn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=Sk.bind(null,Ee,n),[c.memoizedState,n]},useRef:function(n){var s=Jt();return n={current:n},s.memoizedState=n},useState:function(n){n=vh(n);var s=n.queue,o=Uw.bind(null,Ee,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:bh,useDeferredValue:function(n,s){var o=Jt();return xh(o,n,s)},useTransition:function(){var n=vh(!1);return n=Mw.bind(null,Ee,n.queue,!0,!1),Jt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var c=Ee,p=Jt();if(Pe){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Ye===null)throw Error(a(349));(De&127)!==0||uw(c,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,jw(dw.bind(null,c,g,n),[n]),c.flags|=2048,ti(9,{destroy:void 0},cw.bind(null,c,g,o,s),null),o},useId:function(){var n=Jt(),s=Ye.identifierPrefix;if(Pe){var o=nn,c=rn;o=(c&~(1<<32-hr(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=ku++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=vk++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:_h,useFormState:xw,useActionState:xw,useOptimistic:function(n){var s=Jt();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Sh.bind(null,Ee,!0,o),o.dispatch=s,[n,s]},useMemoCache:hh,useCacheRefresh:function(){return Jt().memoizedState=_k.bind(null,Ee)},useEffectEvent:function(n){var s=Jt(),o={impl:n};return s.memoizedState=o,function(){if((Ue&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Eh={readContext:qt,use:qu,useCallback:Rw,useContext:qt,useEffect:yh,useImperativeHandle:Aw,useInsertionEffect:Tw,useLayoutEffect:Ow,useMemo:Dw,useReducer:Pu,useRef:Ew,useState:function(){return Pu(On)},useDebugValue:bh,useDeferredValue:function(n,s){var o=ct();return kw(o,He.memoizedState,n,s)},useTransition:function(){var n=Pu(On)[0],s=ct().memoizedState;return[typeof n=="boolean"?n:wo(n),s]},useSyncExternalStore:lw,useId:Lw,useHostTransitionStatus:_h,useFormState:ww,useActionState:ww,useOptimistic:function(n,s){var o=ct();return mw(o,He,n,s)},useMemoCache:hh,useCacheRefresh:$w};Eh.useEffectEvent=Nw;var Hw={readContext:qt,use:qu,useCallback:Rw,useContext:qt,useEffect:yh,useImperativeHandle:Aw,useInsertionEffect:Tw,useLayoutEffect:Ow,useMemo:Dw,useReducer:ph,useRef:Ew,useState:function(){return ph(On)},useDebugValue:bh,useDeferredValue:function(n,s){var o=ct();return He===null?xh(o,n,s):kw(o,He.memoizedState,n,s)},useTransition:function(){var n=ph(On)[0],s=ct().memoizedState;return[typeof n=="boolean"?n:wo(n),s]},useSyncExternalStore:lw,useId:Lw,useHostTransitionStatus:_h,useFormState:Sw,useActionState:Sw,useOptimistic:function(n,s){var o=ct();return He!==null?mw(o,He,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:hh,useCacheRefresh:$w};Hw.useEffectEvent=Nw;function jh(n,s,o,c){s=n.memoizedState,o=o(c,s),o=o==null?s:y({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Nh={enqueueSetState:function(n,s,o){n=n._reactInternals;var c=xr(),p=aa(c);p.payload=s,o!=null&&(p.callback=o),s=sa(n,p,c),s!==null&&(or(s,n,c),go(s,n,c))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var c=xr(),p=aa(c);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=sa(n,p,c),s!==null&&(or(s,n,c),go(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=xr(),c=aa(o);c.tag=2,s!=null&&(c.callback=s),s=sa(n,c,o),s!==null&&(or(s,n,o),go(s,n,o))}};function Fw(n,s,o,c,p,g,j){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,j):s.prototype&&s.prototype.isPureReactComponent?!lo(o,c)||!lo(p,g):!0}function Gw(n,s,o,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==n&&Nh.enqueueReplaceState(s,s.state,null)}function Qa(n,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(n=n.defaultProps){o===s&&(o=y({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function Yw(n){gu(n)}function Ww(n){console.error(n)}function Vw(n){gu(n)}function zu(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Kw(n,s,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Th(n,s,o){return o=aa(o),o.tag=3,o.payload={element:null},o.callback=function(){zu(n,s)},o}function Xw(n){return n=aa(n),n.tag=3,n}function Qw(n,s,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;n.payload=function(){return p(g)},n.callback=function(){Kw(s,o,c)}}var j=o.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(n.callback=function(){Kw(s,o,c),typeof p!="function"&&(da===null?da=new Set([this]):da.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function Ek(n,s,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Ws(s,o,p,!0),o=vr.current,o!==null){switch(o.tag){case 31:case 13:return kr===null?Ju():o.alternate===null&&it===0&&(it=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Tu?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Jh(n,c,p)),!1;case 22:return o.flags|=65536,c===Tu?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Jh(n,c,p)),!1}throw Error(a(435,o.tag))}return Jh(n,c,p),Ju(),!1}if(Pe)return s=vr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Yf&&(n=Error(a(422),{cause:c}),fo(Cr(n,o)))):(c!==Yf&&(s=Error(a(423),{cause:c}),fo(Cr(s,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=Cr(c,o),p=Th(n.stateNode,c,p),nh(n,p),it!==4&&(it=2)),!1;var g=Error(a(520),{cause:c});if(g=Cr(g,o),Ro===null?Ro=[g]:Ro.push(g),it!==4&&(it=2),s===null)return!0;c=Cr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Th(o.stateNode,c,n),nh(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(da===null||!da.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Xw(p),Qw(p,n,o,c),nh(o,p),!1}o=o.return}while(o!==null);return!1}var Oh=Error(a(461)),ht=!1;function Pt(n,s,o,c){s.child=n===null?tw(s,null,o,c):Ka(s,n.child,o,c)}function Jw(n,s,o,c,p){o=o.render;var g=s.ref;if("ref"in c){var j={};for(var k in c)k!=="ref"&&(j[k]=c[k])}else j=c;return Ga(s),c=uh(n,s,o,j,g,p),k=ch(),n!==null&&!ht?(dh(n,s,p),Cn(n,s,p)):(Pe&&k&&Ff(s),s.flags|=1,Pt(n,s,c,p),s.child)}function Zw(n,s,o,c,p){if(n===null){var g=o.type;return typeof g=="function"&&!Bf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,e_(n,s,g,c,p)):(n=wu(o.type,null,c,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Ph(n,p)){var j=g.memoizedProps;if(o=o.compare,o=o!==null?o:lo,o(j,c)&&n.ref===s.ref)return Cn(n,s,p)}return s.flags|=1,n=Sn(g,c),n.ref=s.ref,n.return=s,s.child=n}function e_(n,s,o,c,p){if(n!==null){var g=n.memoizedProps;if(lo(g,c)&&n.ref===s.ref)if(ht=!1,s.pendingProps=c=g,Ph(n,p))(n.flags&131072)!==0&&(ht=!0);else return s.lanes=n.lanes,Cn(n,s,p)}return Ch(n,s,o,c,p)}function t_(n,s,o,c){var p=c.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(c=s.child=n.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,s.child=null;return r_(n,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&ju(s,g!==null?g.cachePool:null),g!==null?aw(s,g):sh(),sw(s);else return c=s.lanes=536870912,r_(n,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(ju(s,g.cachePool),aw(s,g),oa(),s.memoizedState=null):(n!==null&&ju(s,null),sh(),oa());return Pt(n,s,p,o),s.child}function Eo(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function r_(n,s,o,c,p){var g=Zf();return g=g===null?null:{parent:dt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&ju(s,null),sh(),sw(s),n!==null&&Ws(n,s,c,!0),s.childLanes=p,null}function Bu(n,s){return s=Hu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function n_(n,s,o){return Ka(s,n.child,null,o),n=Bu(s,s.pendingProps),n.flags|=2,gr(s),s.memoizedState=null,n}function jk(n,s,o){var c=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Pe){if(c.mode==="hidden")return n=Bu(s,c),s.lanes=536870912,Eo(null,n);if(oh(s),(n=Ke)?(n=pS(n,Dr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Zn!==null?{id:rn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},o=zx(n),o.return=s,s.child=o,Mt=s,Ke=null)):n=null,n===null)throw ta(s);return s.lanes=536870912,null}return Bu(s,c)}var g=n.memoizedState;if(g!==null){var j=g.dehydrated;if(oh(s),p)if(s.flags&256)s.flags&=-257,s=n_(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(a(558));else if(ht||Ws(n,s,o,!1),p=(o&n.childLanes)!==0,ht||p){if(c=Ye,c!==null&&(j=Wb(c,o),j!==0&&j!==g.retryLane))throw g.retryLane=j,Ba(n,j),or(c,n,j),Oh;Ju(),s=n_(n,s,o)}else n=g.treeContext,Ke=Mr(j.nextSibling),Mt=s,Pe=!0,ea=null,Dr=!1,n!==null&&Hx(s,n),s=Bu(s,c),s.flags|=4096;return s}return n=Sn(n.child,{mode:c.mode,children:c.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Iu(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Ch(n,s,o,c,p){return Ga(s),o=uh(n,s,o,c,void 0,p),c=ch(),n!==null&&!ht?(dh(n,s,p),Cn(n,s,p)):(Pe&&c&&Ff(s),s.flags|=1,Pt(n,s,o,p),s.child)}function a_(n,s,o,c,p,g){return Ga(s),s.updateQueue=null,o=ow(s,c,o,p),iw(n),c=ch(),n!==null&&!ht?(dh(n,s,g),Cn(n,s,g)):(Pe&&c&&Ff(s),s.flags|=1,Pt(n,s,o,g),s.child)}function s_(n,s,o,c,p){if(Ga(s),s.stateNode===null){var g=Hs,j=o.contextType;typeof j=="object"&&j!==null&&(g=qt(j)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Nh,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},th(s),j=o.contextType,g.context=typeof j=="object"&&j!==null?qt(j):Hs,g.state=s.memoizedState,j=o.getDerivedStateFromProps,typeof j=="function"&&(jh(s,o,j,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(j=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),j!==g.state&&Nh.enqueueReplaceState(g,g.state,null),bo(s,c,g,p),yo(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){g=s.stateNode;var k=s.memoizedProps,B=Qa(o,k);g.props=B;var X=g.context,ae=o.contextType;j=Hs,typeof ae=="object"&&ae!==null&&(j=qt(ae));var ie=o.getDerivedStateFromProps;ae=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,ae||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||X!==j)&&Gw(s,g,c,j),na=!1;var J=s.memoizedState;g.state=J,bo(s,c,g,p),yo(),X=s.memoizedState,k||J!==X||na?(typeof ie=="function"&&(jh(s,o,ie,c),X=s.memoizedState),(B=na||Fw(s,o,B,c,J,X,j))?(ae||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=X),g.props=c,g.state=X,g.context=j,c=B):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,rh(n,s),j=s.memoizedProps,ae=Qa(o,j),g.props=ae,ie=s.pendingProps,J=g.context,X=o.contextType,B=Hs,typeof X=="object"&&X!==null&&(B=qt(X)),k=o.getDerivedStateFromProps,(X=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(j!==ie||J!==B)&&Gw(s,g,c,B),na=!1,J=s.memoizedState,g.state=J,bo(s,c,g,p),yo();var te=s.memoizedState;j!==ie||J!==te||na||n!==null&&n.dependencies!==null&&Su(n.dependencies)?(typeof k=="function"&&(jh(s,o,k,c),te=s.memoizedState),(ae=na||Fw(s,o,ae,c,J,te,B)||n!==null&&n.dependencies!==null&&Su(n.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,te,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,te,B)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||j===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=te),g.props=c,g.state=te,g.context=B,c=ae):(typeof g.componentDidUpdate!="function"||j===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||j===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),c=!1)}return g=c,Iu(n,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&c?(s.child=Ka(s,n.child,null,p),s.child=Ka(s,null,o,p)):Pt(n,s,o,p),s.memoizedState=g.state,n=s.child):n=Cn(n,s,p),n}function i_(n,s,o,c){return Ha(),s.flags|=256,Pt(n,s,o,c),s.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rh(n){return{baseLanes:n,cachePool:Kx()}}function Dh(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=br),n}function o_(n,s,o){var c=s.pendingProps,p=!1,g=(s.flags&128)!==0,j;if((j=g)||(j=n!==null&&n.memoizedState===null?!1:(ut.current&2)!==0),j&&(p=!0,s.flags&=-129),j=(s.flags&32)!==0,s.flags&=-33,n===null){if(Pe){if(p?ia(s):oa(),(n=Ke)?(n=pS(n,Dr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Zn!==null?{id:rn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},o=zx(n),o.return=s,s.child=o,Mt=s,Ke=null)):n=null,n===null)throw ta(s);return mm(n)?s.lanes=32:s.lanes=536870912,null}var k=c.children;return c=c.fallback,p?(oa(),p=s.mode,k=Hu({mode:"hidden",children:k},p),c=Ia(c,p,o,null),k.return=s,c.return=s,k.sibling=c,s.child=k,c=s.child,c.memoizedState=Rh(o),c.childLanes=Dh(n,j,o),s.memoizedState=Ah,Eo(null,c)):(ia(s),kh(s,k))}var B=n.memoizedState;if(B!==null&&(k=B.dehydrated,k!==null)){if(g)s.flags&256?(ia(s),s.flags&=-257,s=Mh(n,s,o)):s.memoizedState!==null?(oa(),s.child=n.child,s.flags|=128,s=null):(oa(),k=c.fallback,p=s.mode,c=Hu({mode:"visible",children:c.children},p),k=Ia(k,p,o,null),k.flags|=2,c.return=s,k.return=s,c.sibling=k,s.child=c,Ka(s,n.child,null,o),c=s.child,c.memoizedState=Rh(o),c.childLanes=Dh(n,j,o),s.memoizedState=Ah,s=Eo(null,c));else if(ia(s),mm(k)){if(j=k.nextSibling&&k.nextSibling.dataset,j)var X=j.dgst;j=X,c=Error(a(419)),c.stack="",c.digest=j,fo({value:c,source:null,stack:null}),s=Mh(n,s,o)}else if(ht||Ws(n,s,o,!1),j=(o&n.childLanes)!==0,ht||j){if(j=Ye,j!==null&&(c=Wb(j,o),c!==0&&c!==B.retryLane))throw B.retryLane=c,Ba(n,c),or(j,n,c),Oh;hm(k)||Ju(),s=Mh(n,s,o)}else hm(k)?(s.flags|=192,s.child=n.child,s=null):(n=B.treeContext,Ke=Mr(k.nextSibling),Mt=s,Pe=!0,ea=null,Dr=!1,n!==null&&Hx(s,n),s=kh(s,c.children),s.flags|=4096);return s}return p?(oa(),k=c.fallback,p=s.mode,B=n.child,X=B.sibling,c=Sn(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&65011712,X!==null?k=Sn(X,k):(k=Ia(k,p,o,null),k.flags|=2),k.return=s,c.return=s,c.sibling=k,s.child=c,Eo(null,c),c=s.child,k=n.child.memoizedState,k===null?k=Rh(o):(p=k.cachePool,p!==null?(B=dt._currentValue,p=p.parent!==B?{parent:B,pool:B}:p):p=Kx(),k={baseLanes:k.baseLanes|o,cachePool:p}),c.memoizedState=k,c.childLanes=Dh(n,j,o),s.memoizedState=Ah,Eo(n.child,c)):(ia(s),o=n.child,n=o.sibling,o=Sn(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,n!==null&&(j=s.deletions,j===null?(s.deletions=[n],s.flags|=16):j.push(n)),s.child=o,s.memoizedState=null,o)}function kh(n,s){return s=Hu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Hu(n,s){return n=pr(22,n,null,s),n.lanes=0,n}function Mh(n,s,o){return Ka(s,n.child,null,o),n=kh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function l_(n,s,o){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Kf(n.return,s,o)}function qh(n,s,o,c,p,g){var j=n.memoizedState;j===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p,treeForkCount:g}:(j.isBackwards=s,j.rendering=null,j.renderingStartTime=0,j.last=c,j.tail=o,j.tailMode=p,j.treeForkCount=g)}function u_(n,s,o){var c=s.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var j=ut.current,k=(j&2)!==0;if(k?(j=j&1|2,s.flags|=128):j&=1,oe(ut,j),Pt(n,s,c,o),c=Pe?co:0,!k&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&l_(n,o,s);else if(n.tag===19)l_(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)n=o.alternate,n!==null&&Ru(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),qh(s,!1,p,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&Ru(n)===null){s.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}qh(s,!0,o,null,g,c);break;case"together":qh(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Cn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ca|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Ws(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,o=Sn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Sn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Ph(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Su(n)))}function Nk(n,s,o){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),ra(s,dt,n.memoizedState.cache),Ha();break;case 27:case 5:At(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:ra(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,oh(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ia(s),s.flags|=128,null):(o&s.child.childLanes)!==0?o_(n,s,o):(ia(s),n=Cn(n,s,o),n!==null?n.sibling:null);ia(s);break;case 19:var p=(n.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Ws(n,s,o,!1),c=(o&s.childLanes)!==0),p){if(c)return u_(n,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),oe(ut,ut.current),c)break;return null;case 22:return s.lanes=0,t_(n,s,o,s.pendingProps);case 24:ra(s,dt,n.memoizedState.cache)}return Cn(n,s,o)}function c_(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)ht=!0;else{if(!Ph(n,o)&&(s.flags&128)===0)return ht=!1,Nk(n,s,o);ht=(n.flags&131072)!==0}else ht=!1,Pe&&(s.flags&1048576)!==0&&Ix(s,co,s.index);switch(s.lanes=0,s.tag){case 16:e:{var c=s.pendingProps;if(n=Wa(s.elementType),s.type=n,typeof n=="function")Bf(n)?(c=Qa(n,c),s.tag=1,s=s_(null,s,n,c,o)):(s.tag=0,s=Ch(null,s,n,c,o));else{if(n!=null){var p=n.$$typeof;if(p===O){s.tag=11,s=Jw(null,s,n,c,o);break e}else if(p===C){s.tag=14,s=Zw(null,s,n,c,o);break e}}throw s=W(n)||n,Error(a(306,s,""))}}return s;case 0:return Ch(n,s,s.type,s.pendingProps,o);case 1:return c=s.type,p=Qa(c,s.pendingProps),s_(n,s,c,p,o);case 3:e:{if(Oe(s,s.stateNode.containerInfo),n===null)throw Error(a(387));c=s.pendingProps;var g=s.memoizedState;p=g.element,rh(n,s),bo(s,c,null,o);var j=s.memoizedState;if(c=j.cache,ra(s,dt,c),c!==g.cache&&Xf(s,[dt],o,!0),yo(),c=j.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:j.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=i_(n,s,c,o);break e}else if(c!==p){p=Cr(Error(a(424)),s),fo(p),s=i_(n,s,c,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ke=Mr(n.firstChild),Mt=s,Pe=!0,ea=null,Dr=!0,o=tw(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ha(),c===p){s=Cn(n,s,o);break e}Pt(n,s,c,o)}s=s.child}return s;case 26:return Iu(n,s),n===null?(o=wS(s.type,null,s.pendingProps,null))?s.memoizedState=o:Pe||(o=s.type,n=s.pendingProps,c=sc(de.current).createElement(o),c[kt]=s,c[tr]=n,Lt(c,o,n),Tt(c),s.stateNode=c):s.memoizedState=wS(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return At(s),n===null&&Pe&&(c=s.stateNode=yS(s.type,s.pendingProps,de.current),Mt=s,Dr=!0,p=Ke,pa(s.type)?(pm=p,Ke=Mr(c.firstChild)):Ke=p),Pt(n,s,s.pendingProps.children,o),Iu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Pe&&((p=c=Ke)&&(c=rM(c,s.type,s.pendingProps,Dr),c!==null?(s.stateNode=c,Mt=s,Ke=Mr(c.firstChild),Dr=!1,p=!0):p=!1),p||ta(s)),At(s),p=s.type,g=s.pendingProps,j=n!==null?n.memoizedProps:null,c=g.children,cm(p,g)?c=null:j!==null&&cm(p,j)&&(s.flags|=32),s.memoizedState!==null&&(p=uh(n,s,gk,null,null,o),Uo._currentValue=p),Iu(n,s),Pt(n,s,c,o),s.child;case 6:return n===null&&Pe&&((n=o=Ke)&&(o=nM(o,s.pendingProps,Dr),o!==null?(s.stateNode=o,Mt=s,Ke=null,n=!0):n=!1),n||ta(s)),null;case 13:return o_(n,s,o);case 4:return Oe(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=Ka(s,null,c,o):Pt(n,s,c,o),s.child;case 11:return Jw(n,s,s.type,s.pendingProps,o);case 7:return Pt(n,s,s.pendingProps,o),s.child;case 8:return Pt(n,s,s.pendingProps.children,o),s.child;case 12:return Pt(n,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ra(s,s.type,c.value),Pt(n,s,c.children,o),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ga(s),p=qt(p),c=c(p),s.flags|=1,Pt(n,s,c,o),s.child;case 14:return Zw(n,s,s.type,s.pendingProps,o);case 15:return e_(n,s,s.type,s.pendingProps,o);case 19:return u_(n,s,o);case 31:return jk(n,s,o);case 22:return t_(n,s,o,s.pendingProps);case 24:return Ga(s),c=qt(dt),n===null?(p=Zf(),p===null&&(p=Ye,g=Qf(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:c,cache:p},th(s),ra(s,dt,p)):((n.lanes&o)!==0&&(rh(n,s),bo(s,null,null,o),yo()),p=n.memoizedState,g=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ra(s,dt,c)):(c=g.cache,ra(s,dt,c),c!==p.cache&&Xf(s,[dt],o,!0))),Pt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function An(n){n.flags|=4}function Lh(n,s,o,c,p){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(L_())n.flags|=8192;else throw Va=Tu,eh}else n.flags&=-16777217}function d_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!NS(s))if(L_())n.flags|=8192;else throw Va=Tu,eh}function Fu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Fb():536870912,n.lanes|=s,si|=s)}function jo(n,s){if(!Pe)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Xe(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(s)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=o,s}function Tk(n,s,o){var c=s.pendingProps;switch(Gf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(s),null;case 1:return Xe(s),null;case 3:return o=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Nn(dt),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ys(s)?An(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Wf())),Xe(s),null;case 26:var p=s.type,g=s.memoizedState;return n===null?(An(s),g!==null?(Xe(s),d_(s,g)):(Xe(s),Lh(s,p,null,c,o))):g?g!==n.memoizedState?(An(s),Xe(s),d_(s,g)):(Xe(s),s.flags&=-16777217):(n=n.memoizedProps,n!==c&&An(s),Xe(s),Lh(s,p,n,c,o)),null;case 27:if(St(s),o=de.current,p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&An(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return Xe(s),null}n=fe.current,Ys(s)?Fx(s):(n=yS(p,c,o),s.stateNode=n,An(s))}return Xe(s),null;case 5:if(St(s),p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&An(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return Xe(s),null}if(g=fe.current,Ys(s))Fx(s);else{var j=sc(de.current);switch(g){case 1:g=j.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=j.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=j.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=j.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?j.createElement("select",{is:c.is}):j.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?j.createElement(p,{is:c.is}):j.createElement(p)}}g[kt]=s,g[tr]=c;e:for(j=s.child;j!==null;){if(j.tag===5||j.tag===6)g.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===s)break e;for(;j.sibling===null;){if(j.return===null||j.return===s)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}s.stateNode=g;e:switch(Lt(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&An(s)}}return Xe(s),Lh(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&An(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(n=de.current,Ys(s)){if(n=s.stateNode,o=s.memoizedProps,c=null,p=Mt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[kt]=s,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||oS(n.nodeValue,o)),n||ta(s,!0)}else n=sc(n).createTextNode(c),n[kt]=s,s.stateNode=n}return Xe(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(c=Ys(s),o!==null){if(n===null){if(!c)throw Error(a(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[kt]=s}else Ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),n=!1}else o=Wf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(gr(s),s):(gr(s),null);if((s.flags&128)!==0)throw Error(a(558))}return Xe(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Ys(s),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[kt]=s}else Ha(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Xe(s),p=!1}else p=Wf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(gr(s),s):(gr(s),null)}return gr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,n=n!==null&&n.memoizedState!==null,o&&(c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Fu(s,s.updateQueue),Xe(s),null);case 4:return Me(),n===null&&sm(s.stateNode.containerInfo),Xe(s),null;case 10:return Nn(s.type),Xe(s),null;case 19:if(Q(ut),c=s.memoizedState,c===null)return Xe(s),null;if(p=(s.flags&128)!==0,g=c.rendering,g===null)if(p)jo(c,!1);else{if(it!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=Ru(n),g!==null){for(s.flags|=128,jo(c,!1),n=g.updateQueue,s.updateQueue=n,Fu(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Ux(o,n),o=o.sibling;return oe(ut,ut.current&1|2),Pe&&En(s,c.treeForkCount),s.child}n=n.sibling}c.tail!==null&&he()>Ku&&(s.flags|=128,p=!0,jo(c,!1),s.lanes=4194304)}else{if(!p)if(n=Ru(g),n!==null){if(s.flags|=128,p=!0,n=n.updateQueue,s.updateQueue=n,Fu(s,n),jo(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!Pe)return Xe(s),null}else 2*he()-c.renderingStartTime>Ku&&o!==536870912&&(s.flags|=128,p=!0,jo(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(n=c.last,n!==null?n.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=he(),n.sibling=null,o=ut.current,oe(ut,p?o&1|2:o&1),Pe&&En(s,c.treeForkCount),n):(Xe(s),null);case 22:case 23:return gr(s),ih(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Xe(s),s.subtreeFlags&6&&(s.flags|=8192)):Xe(s),o=s.updateQueue,o!==null&&Fu(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),n!==null&&Q(Ya),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Nn(dt),Xe(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Ok(n,s){switch(Gf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Nn(dt),Me(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return St(s),null;case 31:if(s.memoizedState!==null){if(gr(s),s.alternate===null)throw Error(a(340));Ha()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(gr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ha()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Q(ut),null;case 4:return Me(),null;case 10:return Nn(s.type),null;case 22:case 23:return gr(s),ih(),n!==null&&Q(Ya),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Nn(dt),null;case 25:return null;default:return null}}function f_(n,s){switch(Gf(s),s.tag){case 3:Nn(dt),Me();break;case 26:case 27:case 5:St(s);break;case 4:Me();break;case 31:s.memoizedState!==null&&gr(s);break;case 13:gr(s);break;case 19:Q(ut);break;case 10:Nn(s.type);break;case 22:case 23:gr(s),ih(),n!==null&&Q(Ya);break;case 24:Nn(dt)}}function No(n,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&n)===n){c=void 0;var g=o.create,j=o.inst;c=g(),j.destroy=c}o=o.next}while(o!==p)}}catch(k){Be(s,s.return,k)}}function la(n,s,o){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&n)===n){var j=c.inst,k=j.destroy;if(k!==void 0){j.destroy=void 0,p=s;var B=o,X=k;try{X()}catch(ae){Be(p,B,ae)}}}c=c.next}while(c!==g)}}catch(ae){Be(s,s.return,ae)}}function h_(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{nw(s,o)}catch(c){Be(n,n.return,c)}}}function m_(n,s,o){o.props=Qa(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Be(n,s,c)}}function To(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(p){Be(n,s,p)}}function an(n,s){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Be(n,s,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Be(n,s,p)}else o.current=null}function p_(n){var s=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Be(n,n.return,p)}}function $h(n,s,o){try{var c=n.stateNode;Xk(c,n.type,o,s),c[tr]=s}catch(p){Be(n,n.return,p)}}function v_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&pa(n.type)||n.tag===4}function Uh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||v_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&pa(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function zh(n,s,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=wn));else if(c!==4&&(c===27&&pa(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(zh(n,s,o),n=n.sibling;n!==null;)zh(n,s,o),n=n.sibling}function Gu(n,s,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(c!==4&&(c===27&&pa(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Gu(n,s,o),n=n.sibling;n!==null;)Gu(n,s,o),n=n.sibling}function g_(n){var s=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);Lt(s,c,o),s[kt]=n,s[tr]=o}catch(g){Be(n,n.return,g)}}var Rn=!1,mt=!1,Bh=!1,y_=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Ck(n,s){if(n=n.containerInfo,lm=fc,n=Ax(n),Mf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var j=0,k=-1,B=-1,X=0,ae=0,ie=n,J=null;t:for(;;){for(var te;ie!==o||p!==0&&ie.nodeType!==3||(k=j+p),ie!==g||c!==0&&ie.nodeType!==3||(B=j+c),ie.nodeType===3&&(j+=ie.nodeValue.length),(te=ie.firstChild)!==null;)J=ie,ie=te;for(;;){if(ie===n)break t;if(J===o&&++X===p&&(k=j),J===g&&++ae===c&&(B=j),(te=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=te}o=k===-1||B===-1?null:{start:k,end:B}}else o=null}o=o||{start:0,end:0}}else o=null;for(um={focusedElem:n,selectionRange:o},fc=!1,Ot=s;Ot!==null;)if(s=Ot,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Ot=n;else for(;Ot!==null;){switch(s=Ot,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var pe=Qa(o.type,p);n=c.getSnapshotBeforeUpdate(pe,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(be){Be(o,o.return,be)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)fm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":fm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,Ot=n;break}Ot=s.return}}function b_(n,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:kn(n,o),c&4&&No(5,o);break;case 1:if(kn(n,o),c&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(j){Be(o,o.return,j)}else{var p=Qa(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(p,s,n.__reactInternalSnapshotBeforeUpdate)}catch(j){Be(o,o.return,j)}}c&64&&h_(o),c&512&&To(o,o.return);break;case 3:if(kn(n,o),c&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{nw(n,s)}catch(j){Be(o,o.return,j)}}break;case 27:s===null&&c&4&&g_(o);case 26:case 5:kn(n,o),s===null&&c&4&&p_(o),c&512&&To(o,o.return);break;case 12:kn(n,o);break;case 31:kn(n,o),c&4&&__(n,o);break;case 13:kn(n,o),c&4&&S_(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=$k.bind(null,o),aM(n,o))));break;case 22:if(c=o.memoizedState!==null||Rn,!c){s=s!==null&&s.memoizedState!==null||mt,p=Rn;var g=mt;Rn=c,(mt=s)&&!g?Mn(n,o,(o.subtreeFlags&8772)!==0):kn(n,o),Rn=p,mt=g}break;case 30:break;default:kn(n,o)}}function x_(n){var s=n.alternate;s!==null&&(n.alternate=null,x_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&gf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ze=null,nr=!1;function Dn(n,s,o){for(o=o.child;o!==null;)w_(n,s,o),o=o.sibling}function w_(n,s,o){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(er,o)}catch{}switch(o.tag){case 26:mt||an(o,s),Dn(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mt||an(o,s);var c=Ze,p=nr;pa(o.type)&&(Ze=o.stateNode,nr=!1),Dn(n,s,o),Po(o.stateNode),Ze=c,nr=p;break;case 5:mt||an(o,s);case 6:if(c=Ze,p=nr,Ze=null,Dn(n,s,o),Ze=c,nr=p,Ze!==null)if(nr)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(o.stateNode)}catch(g){Be(o,s,g)}else try{Ze.removeChild(o.stateNode)}catch(g){Be(o,s,g)}break;case 18:Ze!==null&&(nr?(n=Ze,hS(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),hi(n)):hS(Ze,o.stateNode));break;case 4:c=Ze,p=nr,Ze=o.stateNode.containerInfo,nr=!0,Dn(n,s,o),Ze=c,nr=p;break;case 0:case 11:case 14:case 15:la(2,o,s),mt||la(4,o,s),Dn(n,s,o);break;case 1:mt||(an(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&m_(o,s,c)),Dn(n,s,o);break;case 21:Dn(n,s,o);break;case 22:mt=(c=mt)||o.memoizedState!==null,Dn(n,s,o),mt=c;break;default:Dn(n,s,o)}}function __(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{hi(n)}catch(o){Be(s,s.return,o)}}}function S_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{hi(n)}catch(o){Be(s,s.return,o)}}function Ak(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new y_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new y_),s;default:throw Error(a(435,n.tag))}}function Yu(n,s){var o=Ak(n);s.forEach(function(c){if(!o.has(c)){o.add(c);var p=Uk.bind(null,n,c);c.then(p,p)}})}function ar(n,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=n,j=s,k=j;e:for(;k!==null;){switch(k.tag){case 27:if(pa(k.type)){Ze=k.stateNode,nr=!1;break e}break;case 5:Ze=k.stateNode,nr=!1;break e;case 3:case 4:Ze=k.stateNode.containerInfo,nr=!0;break e}k=k.return}if(Ze===null)throw Error(a(160));w_(g,j,p),Ze=null,nr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)E_(s,n),s=s.sibling}var Wr=null;function E_(n,s){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ar(s,n),sr(n),c&4&&(la(3,n,n.return),No(3,n),la(5,n,n.return));break;case 1:ar(s,n),sr(n),c&512&&(mt||o===null||an(o,o.return)),c&64&&Rn&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=Wr;if(ar(s,n),sr(n),c&512&&(mt||o===null||an(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Zi]||g[kt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Lt(g,c,o),g[kt]=n,Tt(g),c=g;break e;case"link":var j=ES("link","href",p).get(c+(o.href||""));if(j){for(var k=0;k<j.length;k++)if(g=j[k],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){j.splice(k,1);break t}}g=p.createElement(c),Lt(g,c,o),p.head.appendChild(g);break;case"meta":if(j=ES("meta","content",p).get(c+(o.content||""))){for(k=0;k<j.length;k++)if(g=j[k],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){j.splice(k,1);break t}}g=p.createElement(c),Lt(g,c,o),p.head.appendChild(g);break;default:throw Error(a(468,c))}g[kt]=n,Tt(g),c=g}n.stateNode=c}else jS(p,n.type,n.stateNode);else n.stateNode=SS(p,c,n.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?jS(p,n.type,n.stateNode):SS(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&$h(n,n.memoizedProps,o.memoizedProps)}break;case 27:ar(s,n),sr(n),c&512&&(mt||o===null||an(o,o.return)),o!==null&&c&4&&$h(n,n.memoizedProps,o.memoizedProps);break;case 5:if(ar(s,n),sr(n),c&512&&(mt||o===null||an(o,o.return)),n.flags&32){p=n.stateNode;try{Ps(p,"")}catch(pe){Be(n,n.return,pe)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,$h(n,p,o!==null?o.memoizedProps:p)),c&1024&&(Bh=!0);break;case 6:if(ar(s,n),sr(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(pe){Be(n,n.return,pe)}}break;case 3:if(lc=null,p=Wr,Wr=ic(s.containerInfo),ar(s,n),Wr=p,sr(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{hi(s.containerInfo)}catch(pe){Be(n,n.return,pe)}Bh&&(Bh=!1,j_(n));break;case 4:c=Wr,Wr=ic(n.stateNode.containerInfo),ar(s,n),sr(n),Wr=c;break;case 12:ar(s,n),sr(n);break;case 31:ar(s,n),sr(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 13:ar(s,n),sr(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Vu=he()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 22:p=n.memoizedState!==null;var B=o!==null&&o.memoizedState!==null,X=Rn,ae=mt;if(Rn=X||p,mt=ae||B,ar(s,n),mt=ae,Rn=X,sr(n),c&8192)e:for(s=n.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||B||Rn||mt||Ja(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){B=o=s;try{if(g=B.stateNode,p)j=g.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{k=B.stateNode;var ie=B.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(pe){Be(B,B.return,pe)}}}else if(s.tag===6){if(o===null){B=s;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(pe){Be(B,B.return,pe)}}}else if(s.tag===18){if(o===null){B=s;try{var te=B.stateNode;p?mS(te,!0):mS(B.stateNode,!1)}catch(pe){Be(B,B.return,pe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Yu(n,o))));break;case 19:ar(s,n),sr(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yu(n,c)));break;case 30:break;case 21:break;default:ar(s,n),sr(n)}}function sr(n){var s=n.flags;if(s&2){try{for(var o,c=n.return;c!==null;){if(v_(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,g=Uh(n);Gu(n,g,p);break;case 5:var j=o.stateNode;o.flags&32&&(Ps(j,""),o.flags&=-33);var k=Uh(n);Gu(n,k,j);break;case 3:case 4:var B=o.stateNode.containerInfo,X=Uh(n);zh(n,X,B);break;default:throw Error(a(161))}}catch(ae){Be(n,n.return,ae)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function j_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;j_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function kn(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)b_(n,s.alternate,s),s=s.sibling}function Ja(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:la(4,s,s.return),Ja(s);break;case 1:an(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&m_(s,s.return,o),Ja(s);break;case 27:Po(s.stateNode);case 26:case 5:an(s,s.return),Ja(s);break;case 22:s.memoizedState===null&&Ja(s);break;case 30:Ja(s);break;default:Ja(s)}n=n.sibling}}function Mn(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=n,g=s,j=g.flags;switch(g.tag){case 0:case 11:case 15:Mn(p,g,o),No(4,g);break;case 1:if(Mn(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){Be(c,c.return,X)}if(c=g,p=c.updateQueue,p!==null){var k=c.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)rw(B[p],k)}catch(X){Be(c,c.return,X)}}o&&j&64&&h_(g),To(g,g.return);break;case 27:g_(g);case 26:case 5:Mn(p,g,o),o&&c===null&&j&4&&p_(g),To(g,g.return);break;case 12:Mn(p,g,o);break;case 31:Mn(p,g,o),o&&j&4&&__(p,g);break;case 13:Mn(p,g,o),o&&j&4&&S_(p,g);break;case 22:g.memoizedState===null&&Mn(p,g,o),To(g,g.return);break;case 30:break;default:Mn(p,g,o)}s=s.sibling}}function Ih(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&ho(o))}function Hh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ho(n))}function Vr(n,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)N_(n,s,o,c),s=s.sibling}function N_(n,s,o,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Vr(n,s,o,c),p&2048&&No(9,s);break;case 1:Vr(n,s,o,c);break;case 3:Vr(n,s,o,c),p&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ho(n)));break;case 12:if(p&2048){Vr(n,s,o,c),n=s.stateNode;try{var g=s.memoizedProps,j=g.id,k=g.onPostCommit;typeof k=="function"&&k(j,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(B){Be(s,s.return,B)}}else Vr(n,s,o,c);break;case 31:Vr(n,s,o,c);break;case 13:Vr(n,s,o,c);break;case 23:break;case 22:g=s.stateNode,j=s.alternate,s.memoizedState!==null?g._visibility&2?Vr(n,s,o,c):Oo(n,s):g._visibility&2?Vr(n,s,o,c):(g._visibility|=2,ri(n,s,o,c,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Ih(j,s);break;case 24:Vr(n,s,o,c),p&2048&&Hh(s.alternate,s);break;default:Vr(n,s,o,c)}}function ri(n,s,o,c,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,j=s,k=o,B=c,X=j.flags;switch(j.tag){case 0:case 11:case 15:ri(g,j,k,B,p),No(8,j);break;case 23:break;case 22:var ae=j.stateNode;j.memoizedState!==null?ae._visibility&2?ri(g,j,k,B,p):Oo(g,j):(ae._visibility|=2,ri(g,j,k,B,p)),p&&X&2048&&Ih(j.alternate,j);break;case 24:ri(g,j,k,B,p),p&&X&2048&&Hh(j.alternate,j);break;default:ri(g,j,k,B,p)}s=s.sibling}}function Oo(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,c=s,p=c.flags;switch(c.tag){case 22:Oo(o,c),p&2048&&Ih(c.alternate,c);break;case 24:Oo(o,c),p&2048&&Hh(c.alternate,c);break;default:Oo(o,c)}s=s.sibling}}var Co=8192;function ni(n,s,o){if(n.subtreeFlags&Co)for(n=n.child;n!==null;)T_(n,s,o),n=n.sibling}function T_(n,s,o){switch(n.tag){case 26:ni(n,s,o),n.flags&Co&&n.memoizedState!==null&&vM(o,Wr,n.memoizedState,n.memoizedProps);break;case 5:ni(n,s,o);break;case 3:case 4:var c=Wr;Wr=ic(n.stateNode.containerInfo),ni(n,s,o),Wr=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Co,Co=16777216,ni(n,s,o),Co=c):ni(n,s,o));break;default:ni(n,s,o)}}function O_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ao(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Ot=c,A_(c,n)}O_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)C_(n),n=n.sibling}function C_(n){switch(n.tag){case 0:case 11:case 15:Ao(n),n.flags&2048&&la(9,n,n.return);break;case 3:Ao(n);break;case 12:Ao(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Wu(n)):Ao(n);break;default:Ao(n)}}function Wu(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Ot=c,A_(c,n)}O_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:la(8,s,s.return),Wu(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Wu(s));break;default:Wu(s)}n=n.sibling}}function A_(n,s){for(;Ot!==null;){var o=Ot;switch(o.tag){case 0:case 11:case 15:la(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ho(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Ot=c;else e:for(o=n;Ot!==null;){c=Ot;var p=c.sibling,g=c.return;if(x_(c),c===o){Ot=null;break e}if(p!==null){p.return=g,Ot=p;break e}Ot=g}}}var Rk={getCacheForType:function(n){var s=qt(dt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return qt(dt).controller.signal}},Dk=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ye=null,Ae=null,De=0,ze=0,yr=null,ua=!1,ai=!1,Fh=!1,qn=0,it=0,ca=0,Za=0,Gh=0,br=0,si=0,Ro=null,ir=null,Yh=!1,Vu=0,R_=0,Ku=1/0,Xu=null,da=null,gt=0,fa=null,ii=null,Pn=0,Wh=0,Vh=null,D_=null,Do=0,Kh=null;function xr(){return(Ue&2)!==0&&De!==0?De&-De:H.T!==null?tm():Vb()}function k_(){if(br===0)if((De&536870912)===0||Pe){var n=au;au<<=1,(au&3932160)===0&&(au=262144),br=n}else br=536870912;return n=vr.current,n!==null&&(n.flags|=32),br}function or(n,s,o){(n===Ye&&(ze===2||ze===9)||n.cancelPendingCommit!==null)&&(oi(n,0),ha(n,De,br,!1)),Ji(n,o),((Ue&2)===0||n!==Ye)&&(n===Ye&&((Ue&2)===0&&(Za|=o),it===4&&ha(n,De,br,!1)),sn(n))}function M_(n,s,o){if((Ue&6)!==0)throw Error(a(327));var c=!o&&(s&127)===0&&(s&n.expiredLanes)===0||Qi(n,s),p=c?qk(n,s):Qh(n,s,!0),g=c;do{if(p===0){ai&&!c&&ha(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!kk(o)){p=Qh(n,s,!1),g=!1;continue}if(p===2){if(g=s,n.errorRecoveryDisabledLanes&g)var j=0;else j=n.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){s=j;e:{var k=n;p=Ro;var B=k.current.memoizedState.isDehydrated;if(B&&(oi(k,j).flags|=256),j=Qh(k,j,!1),j!==2){if(Fh&&!B){k.errorRecoveryDisabledLanes|=g,Za|=g,p=4;break e}g=ir,ir=p,g!==null&&(ir===null?ir=g:ir.push.apply(ir,g))}p=j}if(g=!1,p!==2)continue}}if(p===1){oi(n,0),ha(n,s,0,!0);break}e:{switch(c=n,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:ha(c,s,br,!ua);break e;case 2:ir=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(p=Vu+300-he(),10<p)){if(ha(c,s,br,!ua),iu(c,0,!0)!==0)break e;Pn=s,c.timeoutHandle=dS(q_.bind(null,c,o,ir,Xu,Yh,s,br,Za,si,ua,g,"Throttled",-0,0),p);break e}q_(c,o,ir,Xu,Yh,s,br,Za,si,ua,g,null,-0,0)}}break}while(!0);sn(n)}function q_(n,s,o,c,p,g,j,k,B,X,ae,ie,J,te){if(n.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},T_(s,g,ie);var pe=(g&62914560)===g?Vu-he():(g&4194048)===g?R_-he():0;if(pe=gM(ie,pe),pe!==null){Pn=g,n.cancelPendingCommit=pe(H_.bind(null,n,s,g,o,c,p,j,k,B,ae,ie,null,J,te)),ha(n,g,j,!X);return}}H_(n,s,g,o,c,p,j,k,B)}function kk(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!mr(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ha(n,s,o,c){s&=~Gh,s&=~Za,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var p=s;0<p;){var g=31-hr(p),j=1<<g;c[g]=-1,p&=~j}o!==0&&Gb(n,o,s)}function Qu(){return(Ue&6)===0?(ko(0),!1):!0}function Xh(){if(Ae!==null){if(ze===0)var n=Ae.return;else n=Ae,jn=Fa=null,fh(n),Qs=null,po=0,n=Ae;for(;n!==null;)f_(n.alternate,n),n=n.return;Ae=null}}function oi(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Zk(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Pn=0,Xh(),Ye=n,Ae=o=Sn(n.current,null),De=s,ze=0,yr=null,ua=!1,ai=Qi(n,s),Fh=!1,si=br=Gh=Za=ca=it=0,ir=Ro=null,Yh=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var p=31-hr(c),g=1<<p;s|=n[p],c&=~g}return qn=s,yu(),o}function P_(n,s){Ee=null,H.H=So,s===Xs||s===Nu?(s=Jx(),ze=3):s===eh?(s=Jx(),ze=4):ze=s===Oh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,yr=s,Ae===null&&(it=1,zu(n,Cr(s,n.current)))}function L_(){var n=vr.current;return n===null?!0:(De&4194048)===De?kr===null:(De&62914560)===De||(De&536870912)!==0?n===kr:!1}function $_(){var n=H.H;return H.H=So,n===null?So:n}function U_(){var n=H.A;return H.A=Rk,n}function Ju(){it=4,ua||(De&4194048)!==De&&vr.current!==null||(ai=!0),(ca&134217727)===0&&(Za&134217727)===0||Ye===null||ha(Ye,De,br,!1)}function Qh(n,s,o){var c=Ue;Ue|=2;var p=$_(),g=U_();(Ye!==n||De!==s)&&(Xu=null,oi(n,s)),s=!1;var j=it;e:do try{if(ze!==0&&Ae!==null){var k=Ae,B=yr;switch(ze){case 8:Xh(),j=6;break e;case 3:case 2:case 9:case 6:vr.current===null&&(s=!0);var X=ze;if(ze=0,yr=null,li(n,k,B,X),o&&ai){j=0;break e}break;default:X=ze,ze=0,yr=null,li(n,k,B,X)}}Mk(),j=it;break}catch(ae){P_(n,ae)}while(!0);return s&&n.shellSuspendCounter++,jn=Fa=null,Ue=c,H.H=p,H.A=g,Ae===null&&(Ye=null,De=0,yu()),j}function Mk(){for(;Ae!==null;)z_(Ae)}function qk(n,s){var o=Ue;Ue|=2;var c=$_(),p=U_();Ye!==n||De!==s?(Xu=null,Ku=he()+500,oi(n,s)):ai=Qi(n,s);e:do try{if(ze!==0&&Ae!==null){s=Ae;var g=yr;t:switch(ze){case 1:ze=0,yr=null,li(n,s,g,1);break;case 2:case 9:if(Xx(g)){ze=0,yr=null,B_(s);break}s=function(){ze!==2&&ze!==9||Ye!==n||(ze=7),sn(n)},g.then(s,s);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Xx(g)?(ze=0,yr=null,B_(s)):(ze=0,yr=null,li(n,s,g,7));break;case 5:var j=null;switch(Ae.tag){case 26:j=Ae.memoizedState;case 5:case 27:var k=Ae;if(j?NS(j):k.stateNode.complete){ze=0,yr=null;var B=k.sibling;if(B!==null)Ae=B;else{var X=k.return;X!==null?(Ae=X,Zu(X)):Ae=null}break t}}ze=0,yr=null,li(n,s,g,5);break;case 6:ze=0,yr=null,li(n,s,g,6);break;case 8:Xh(),it=6;break e;default:throw Error(a(462))}}Pk();break}catch(ae){P_(n,ae)}while(!0);return jn=Fa=null,H.H=c,H.A=p,Ue=o,Ae!==null?0:(Ye=null,De=0,yu(),it)}function Pk(){for(;Ae!==null&&!ue();)z_(Ae)}function z_(n){var s=c_(n.alternate,n,qn);n.memoizedProps=n.pendingProps,s===null?Zu(n):Ae=s}function B_(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=a_(o,s,s.pendingProps,s.type,void 0,De);break;case 11:s=a_(o,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:fh(s);default:f_(o,s),s=Ae=Ux(s,qn),s=c_(o,s,qn)}n.memoizedProps=n.pendingProps,s===null?Zu(n):Ae=s}function li(n,s,o,c){jn=Fa=null,fh(s),Qs=null,po=0;var p=s.return;try{if(Ek(n,p,s,o,De)){it=1,zu(n,Cr(o,n.current)),Ae=null;return}}catch(g){if(p!==null)throw Ae=p,g;it=1,zu(n,Cr(o,n.current)),Ae=null;return}s.flags&32768?(Pe||c===1?n=!0:ai||(De&536870912)!==0?n=!1:(ua=n=!0,(c===2||c===9||c===3||c===6)&&(c=vr.current,c!==null&&c.tag===13&&(c.flags|=16384))),I_(s,n)):Zu(s)}function Zu(n){var s=n;do{if((s.flags&32768)!==0){I_(s,ua);return}n=s.return;var o=Tk(s.alternate,s,qn);if(o!==null){Ae=o;return}if(s=s.sibling,s!==null){Ae=s;return}Ae=s=n}while(s!==null);it===0&&(it=5)}function I_(n,s){do{var o=Ok(n.alternate,n);if(o!==null){o.flags&=32767,Ae=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ae=n;return}Ae=n=o}while(n!==null);it=6,Ae=null}function H_(n,s,o,c,p,g,j,k,B){n.cancelPendingCommit=null;do ec();while(gt!==0);if((Ue&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(g=s.lanes|s.childLanes,g|=Uf,pD(n,o,g,j,k,B),n===Ye&&(Ae=Ye=null,De=0),ii=s,fa=n,Pn=o,Wh=g,Vh=p,D_=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,zk(at,function(){return V_(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,p=I.p,I.p=2,j=Ue,Ue|=4;try{Ck(n,s,o)}finally{Ue=j,I.p=p,H.T=c}}gt=1,F_(),G_(),Y_()}}function F_(){if(gt===1){gt=0;var n=fa,s=ii,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var c=I.p;I.p=2;var p=Ue;Ue|=4;try{E_(s,n);var g=um,j=Ax(n.containerInfo),k=g.focusedElem,B=g.selectionRange;if(j!==k&&k&&k.ownerDocument&&Cx(k.ownerDocument.documentElement,k)){if(B!==null&&Mf(k)){var X=B.start,ae=B.end;if(ae===void 0&&(ae=X),"selectionStart"in k)k.selectionStart=X,k.selectionEnd=Math.min(ae,k.value.length);else{var ie=k.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var te=J.getSelection(),pe=k.textContent.length,be=Math.min(B.start,pe),Ge=B.end===void 0?be:Math.min(B.end,pe);!te.extend&&be>Ge&&(j=Ge,Ge=be,be=j);var G=Ox(k,be),F=Ox(k,Ge);if(G&&F&&(te.rangeCount!==1||te.anchorNode!==G.node||te.anchorOffset!==G.offset||te.focusNode!==F.node||te.focusOffset!==F.offset)){var K=ie.createRange();K.setStart(G.node,G.offset),te.removeAllRanges(),be>Ge?(te.addRange(K),te.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),te.addRange(K))}}}}for(ie=[],te=k;te=te.parentNode;)te.nodeType===1&&ie.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ie.length;k++){var se=ie[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}fc=!!lm,um=lm=null}finally{Ue=p,I.p=c,H.T=o}}n.current=s,gt=2}}function G_(){if(gt===2){gt=0;var n=fa,s=ii,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var c=I.p;I.p=2;var p=Ue;Ue|=4;try{b_(n,s.alternate,s)}finally{Ue=p,I.p=c,H.T=o}}gt=3}}function Y_(){if(gt===4||gt===3){gt=0,ne();var n=fa,s=ii,o=Pn,c=D_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gt=5:(gt=0,ii=fa=null,W_(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(da=null),pf(o),s=s.stateNode,lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(er,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=H.T,p=I.p,I.p=2,H.T=null;try{for(var g=n.onRecoverableError,j=0;j<c.length;j++){var k=c[j];g(k.value,{componentStack:k.stack})}}finally{H.T=s,I.p=p}}(Pn&3)!==0&&ec(),sn(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===Kh?Do++:(Do=0,Kh=n):Do=0,ko(0)}}function W_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,ho(s)))}function ec(){return F_(),G_(),Y_(),V_()}function V_(){if(gt!==5)return!1;var n=fa,s=Wh;Wh=0;var o=pf(Pn),c=H.T,p=I.p;try{I.p=32>o?32:o,H.T=null,o=Vh,Vh=null;var g=fa,j=Pn;if(gt=0,ii=fa=null,Pn=0,(Ue&6)!==0)throw Error(a(331));var k=Ue;if(Ue|=4,C_(g.current),N_(g,g.current,j,o),Ue=k,ko(0,!1),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(er,g)}catch{}return!0}finally{I.p=p,H.T=c,W_(n,s)}}function K_(n,s,o){s=Cr(o,s),s=Th(n.stateNode,s,2),n=sa(n,s,2),n!==null&&(Ji(n,2),sn(n))}function Be(n,s,o){if(n.tag===3)K_(n,n,o);else for(;s!==null;){if(s.tag===3){K_(s,n,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(da===null||!da.has(c))){n=Cr(o,n),o=Xw(2),c=sa(s,o,2),c!==null&&(Qw(o,c,s,n),Ji(c,2),sn(c));break}}s=s.return}}function Jh(n,s,o){var c=n.pingCache;if(c===null){c=n.pingCache=new Dk;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(o)||(Fh=!0,p.add(o),n=Lk.bind(null,n,s,o),s.then(n,n))}function Lk(n,s,o){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ye===n&&(De&o)===o&&(it===4||it===3&&(De&62914560)===De&&300>he()-Vu?(Ue&2)===0&&oi(n,0):Gh|=o,si===De&&(si=0)),sn(n)}function X_(n,s){s===0&&(s=Fb()),n=Ba(n,s),n!==null&&(Ji(n,s),sn(n))}function $k(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),X_(n,o)}function Uk(n,s){var o=0;switch(n.tag){case 31:case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),X_(n,o)}function zk(n,s){return Et(n,s)}var tc=null,ui=null,Zh=!1,rc=!1,em=!1,ma=0;function sn(n){n!==ui&&n.next===null&&(ui===null?tc=ui=n:ui=ui.next=n),rc=!0,Zh||(Zh=!0,Ik())}function ko(n,s){if(!em&&rc){em=!0;do for(var o=!1,c=tc;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var j=c.suspendedLanes,k=c.pingedLanes;g=(1<<31-hr(42|n)+1)-1,g&=p&~(j&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,eS(c,g))}else g=De,g=iu(c,c===Ye?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Qi(c,g)||(o=!0,eS(c,g));c=c.next}while(o);em=!1}}function Bk(){Q_()}function Q_(){rc=Zh=!1;var n=0;ma!==0&&Jk()&&(n=ma);for(var s=he(),o=null,c=tc;c!==null;){var p=c.next,g=J_(c,s);g===0?(c.next=null,o===null?tc=p:o.next=p,p===null&&(ui=o)):(o=c,(n!==0||(g&3)!==0)&&(rc=!0)),c=p}gt!==0&&gt!==5||ko(n),ma!==0&&(ma=0)}function J_(n,s){for(var o=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var j=31-hr(g),k=1<<j,B=p[j];B===-1?((k&o)===0||(k&c)!==0)&&(p[j]=mD(k,s)):B<=s&&(n.expiredLanes|=k),g&=~k}if(s=Ye,o=De,o=iu(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===s&&(ze===2||ze===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Dt(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Qi(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(c!==null&&Dt(c),pf(o)){case 2:case 8:o=jt;break;case 32:o=at;break;case 268435456:o=Nt;break;default:o=at}return c=Z_.bind(null,n),o=Et(o,c),n.callbackPriority=s,n.callbackNode=o,s}return c!==null&&c!==null&&Dt(c),n.callbackPriority=2,n.callbackNode=null,2}function Z_(n,s){if(gt!==0&&gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ec()&&n.callbackNode!==o)return null;var c=De;return c=iu(n,n===Ye?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(M_(n,c,s),J_(n,he()),n.callbackNode!=null&&n.callbackNode===o?Z_.bind(null,n):null)}function eS(n,s){if(ec())return null;M_(n,s,!0)}function Ik(){eM(function(){(Ue&6)!==0?Et(nt,Bk):Q_()})}function tm(){if(ma===0){var n=Vs;n===0&&(n=nu,nu<<=1,(nu&261888)===0&&(nu=256)),ma=n}return ma}function tS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:cu(""+n)}function rS(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function Hk(n,s,o,c,p){if(s==="submit"&&o&&o.stateNode===p){var g=tS((p[tr]||null).action),j=c.submitter;j&&(s=(s=j[tr]||null)?tS(s.formAction):j.getAttribute("formAction"),s!==null&&(g=s,j=null));var k=new mu("action","action",null,c,p);n.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ma!==0){var B=j?rS(p,j):new FormData(p);wh(o,{pending:!0,data:B,method:p.method,action:g},null,B)}}else typeof g=="function"&&(k.preventDefault(),B=j?rS(p,j):new FormData(p),wh(o,{pending:!0,data:B,method:p.method,action:g},g,B))},currentTarget:p}]})}}for(var rm=0;rm<$f.length;rm++){var nm=$f[rm],Fk=nm.toLowerCase(),Gk=nm[0].toUpperCase()+nm.slice(1);Yr(Fk,"on"+Gk)}Yr(kx,"onAnimationEnd"),Yr(Mx,"onAnimationIteration"),Yr(qx,"onAnimationStart"),Yr("dblclick","onDoubleClick"),Yr("focusin","onFocus"),Yr("focusout","onBlur"),Yr(ok,"onTransitionRun"),Yr(lk,"onTransitionStart"),Yr(uk,"onTransitionCancel"),Yr(Px,"onTransitionEnd"),Ms("onMouseEnter",["mouseout","mouseover"]),Ms("onMouseLeave",["mouseout","mouseover"]),Ms("onPointerEnter",["pointerout","pointerover"]),Ms("onPointerLeave",["pointerout","pointerover"]),La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),La("onBeforeInput",["compositionend","keypress","textInput","paste"]),La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mo));function nS(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],p=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var j=c.length-1;0<=j;j--){var k=c[j],B=k.instance,X=k.currentTarget;if(k=k.listener,B!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=X;try{g(p)}catch(ae){gu(ae)}p.currentTarget=null,g=B}else for(j=0;j<c.length;j++){if(k=c[j],B=k.instance,X=k.currentTarget,k=k.listener,B!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=X;try{g(p)}catch(ae){gu(ae)}p.currentTarget=null,g=B}}}}function Re(n,s){var o=s[vf];o===void 0&&(o=s[vf]=new Set);var c=n+"__bubble";o.has(c)||(aS(s,n,2,!1),o.add(c))}function am(n,s,o){var c=0;s&&(c|=4),aS(o,n,c,s)}var nc="_reactListening"+Math.random().toString(36).slice(2);function sm(n){if(!n[nc]){n[nc]=!0,Qb.forEach(function(o){o!=="selectionchange"&&(Yk.has(o)||am(o,!1,n),am(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[nc]||(s[nc]=!0,am("selectionchange",!1,s))}}function aS(n,s,o,c){switch(kS(s)){case 2:var p=xM;break;case 8:p=wM;break;default:p=xm}o=p.bind(null,s,o,n),p=void 0,!jf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(s,o,{capture:!0,passive:p}):n.addEventListener(s,o,!0):p!==void 0?n.addEventListener(s,o,{passive:p}):n.addEventListener(s,o,!1)}function im(n,s,o,c,p){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var j=c.tag;if(j===3||j===4){var k=c.stateNode.containerInfo;if(k===p)break;if(j===4)for(j=c.return;j!==null;){var B=j.tag;if((B===3||B===4)&&j.stateNode.containerInfo===p)return;j=j.return}for(;k!==null;){if(j=Rs(k),j===null)return;if(B=j.tag,B===5||B===6||B===26||B===27){c=g=j;continue e}k=k.parentNode}}c=c.return}ux(function(){var X=g,ae=Sf(o),ie=[];e:{var J=Lx.get(n);if(J!==void 0){var te=mu,pe=n;switch(n){case"keypress":if(fu(o)===0)break e;case"keydown":case"keyup":te=UD;break;case"focusin":pe="focus",te=Cf;break;case"focusout":pe="blur",te=Cf;break;case"beforeblur":case"afterblur":te=Cf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=fx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=TD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=ID;break;case kx:case Mx:case qx:te=AD;break;case Px:te=FD;break;case"scroll":case"scrollend":te=jD;break;case"wheel":te=YD;break;case"copy":case"cut":case"paste":te=DD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=mx;break;case"toggle":case"beforetoggle":te=VD}var be=(s&4)!==0,Ge=!be&&(n==="scroll"||n==="scrollend"),G=be?J!==null?J+"Capture":null:J;be=[];for(var F=X,K;F!==null;){var se=F;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||G===null||(se=to(F,G),se!=null&&be.push(qo(F,se,K))),Ge)break;F=F.return}0<be.length&&(J=new te(J,pe,null,o,ae),ie.push({event:J,listeners:be}))}}if((s&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",te=n==="mouseout"||n==="pointerout",J&&o!==_f&&(pe=o.relatedTarget||o.fromElement)&&(Rs(pe)||pe[As]))break e;if((te||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,te?(pe=o.relatedTarget||o.toElement,te=X,pe=pe?Rs(pe):null,pe!==null&&(Ge=l(pe),be=pe.tag,pe!==Ge||be!==5&&be!==27&&be!==6)&&(pe=null)):(te=null,pe=X),te!==pe)){if(be=fx,se="onMouseLeave",G="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(be=mx,se="onPointerLeave",G="onPointerEnter",F="pointer"),Ge=te==null?J:eo(te),K=pe==null?J:eo(pe),J=new be(se,F+"leave",te,o,ae),J.target=Ge,J.relatedTarget=K,se=null,Rs(ae)===X&&(be=new be(G,F+"enter",pe,o,ae),be.target=K,be.relatedTarget=Ge,se=be),Ge=se,te&&pe)t:{for(be=Wk,G=te,F=pe,K=0,se=G;se;se=be(se))K++;se=0;for(var ye=F;ye;ye=be(ye))se++;for(;0<K-se;)G=be(G),K--;for(;0<se-K;)F=be(F),se--;for(;K--;){if(G===F||F!==null&&G===F.alternate){be=G;break t}G=be(G),F=be(F)}be=null}else be=null;te!==null&&sS(ie,J,te,be,!1),pe!==null&&Ge!==null&&sS(ie,Ge,pe,be,!0)}}e:{if(J=X?eo(X):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var Le=_x;else if(xx(J))if(Sx)Le=ak;else{Le=rk;var ve=tk}else te=J.nodeName,!te||te.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?X&&wf(X.elementType)&&(Le=_x):Le=nk;if(Le&&(Le=Le(n,X))){wx(ie,Le,o,ae);break e}ve&&ve(n,J,X),n==="focusout"&&X&&J.type==="number"&&X.memoizedProps.value!=null&&xf(J,"number",J.value)}switch(ve=X?eo(X):window,n){case"focusin":(xx(ve)||ve.contentEditable==="true")&&(zs=ve,qf=X,uo=null);break;case"focusout":uo=qf=zs=null;break;case"mousedown":Pf=!0;break;case"contextmenu":case"mouseup":case"dragend":Pf=!1,Rx(ie,o,ae);break;case"selectionchange":if(ik)break;case"keydown":case"keyup":Rx(ie,o,ae)}var Ne;if(Rf)e:{switch(n){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Us?yx(n,o)&&(ke="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ke="onCompositionStart");ke&&(px&&o.locale!=="ko"&&(Us||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Us&&(Ne=cx()):(Jn=ae,Nf="value"in Jn?Jn.value:Jn.textContent,Us=!0)),ve=ac(X,ke),0<ve.length&&(ke=new hx(ke,n,null,o,ae),ie.push({event:ke,listeners:ve}),Ne?ke.data=Ne:(Ne=bx(o),Ne!==null&&(ke.data=Ne)))),(Ne=XD?QD(n,o):JD(n,o))&&(ke=ac(X,"onBeforeInput"),0<ke.length&&(ve=new hx("onBeforeInput","beforeinput",null,o,ae),ie.push({event:ve,listeners:ke}),ve.data=Ne)),Hk(ie,n,X,o,ae)}nS(ie,s)})}function qo(n,s,o){return{instance:n,listener:s,currentTarget:o}}function ac(n,s){for(var o=s+"Capture",c=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=to(n,o),p!=null&&c.unshift(qo(n,p,g)),p=to(n,s),p!=null&&c.push(qo(n,p,g))),n.tag===3)return c;n=n.return}return[]}function Wk(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function sS(n,s,o,c,p){for(var g=s._reactName,j=[];o!==null&&o!==c;){var k=o,B=k.alternate,X=k.stateNode;if(k=k.tag,B!==null&&B===c)break;k!==5&&k!==26&&k!==27||X===null||(B=X,p?(X=to(o,g),X!=null&&j.unshift(qo(o,X,B))):p||(X=to(o,g),X!=null&&j.push(qo(o,X,B)))),o=o.return}j.length!==0&&n.push({event:s,listeners:j})}var Vk=/\r\n?/g,Kk=/\u0000|\uFFFD/g;function iS(n){return(typeof n=="string"?n:""+n).replace(Vk,`
`).replace(Kk,"")}function oS(n,s){return s=iS(s),iS(n)===s}function Fe(n,s,o,c,p,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Ps(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Ps(n,""+c);break;case"className":lu(n,"class",c);break;case"tabIndex":lu(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":lu(n,o,c);break;case"style":ox(n,c,g);break;case"data":if(s!=="object"){lu(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=cu(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Fe(n,s,"name",p.name,p,null),Fe(n,s,"formEncType",p.formEncType,p,null),Fe(n,s,"formMethod",p.formMethod,p,null),Fe(n,s,"formTarget",p.formTarget,p,null)):(Fe(n,s,"encType",p.encType,p,null),Fe(n,s,"method",p.method,p,null),Fe(n,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=cu(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=wn);break;case"onScroll":c!=null&&Re("scroll",n);break;case"onScrollEnd":c!=null&&Re("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=cu(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Re("beforetoggle",n),Re("toggle",n),ou(n,"popover",c);break;case"xlinkActuate":xn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":xn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":xn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":xn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":xn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":xn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":xn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":xn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":xn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ou(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=SD.get(o)||o,ou(n,o,c))}}function om(n,s,o,c,p,g){switch(o){case"style":ox(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Ps(n,c):(typeof c=="number"||typeof c=="bigint")&&Ps(n,""+c);break;case"onScroll":c!=null&&Re("scroll",n);break;case"onScrollEnd":c!=null&&Re("scrollend",n);break;case"onClick":c!=null&&(n.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jb.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=n[tr]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,c,p);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):ou(n,o,c)}}}function Lt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",n),Re("load",n);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var j=o[g];if(j!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Fe(n,s,g,j,o,null)}}p&&Fe(n,s,"srcSet",o.srcSet,o,null),c&&Fe(n,s,"src",o.src,o,null);return;case"input":Re("invalid",n);var k=g=j=p=null,B=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":p=ae;break;case"type":j=ae;break;case"checked":B=ae;break;case"defaultChecked":X=ae;break;case"value":g=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(a(137,s));break;default:Fe(n,s,c,ae,o,null)}}nx(n,g,k,B,X,j,p,!1);return;case"select":Re("invalid",n),c=j=g=null;for(p in o)if(o.hasOwnProperty(p)&&(k=o[p],k!=null))switch(p){case"value":g=k;break;case"defaultValue":j=k;break;case"multiple":c=k;default:Fe(n,s,p,k,o,null)}s=g,o=j,n.multiple=!!c,s!=null?qs(n,!!c,s,!1):o!=null&&qs(n,!!c,o,!0);return;case"textarea":Re("invalid",n),g=p=c=null;for(j in o)if(o.hasOwnProperty(j)&&(k=o[j],k!=null))switch(j){case"value":c=k;break;case"defaultValue":p=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:Fe(n,s,j,k,o,null)}sx(n,c,p,g);return;case"option":for(B in o)if(o.hasOwnProperty(B)&&(c=o[B],c!=null))switch(B){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Fe(n,s,B,c,o,null)}return;case"dialog":Re("beforetoggle",n),Re("toggle",n),Re("cancel",n),Re("close",n);break;case"iframe":case"object":Re("load",n);break;case"video":case"audio":for(c=0;c<Mo.length;c++)Re(Mo[c],n);break;case"image":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"embed":case"source":case"link":Re("error",n),Re("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Fe(n,s,X,c,o,null)}return;default:if(wf(s)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&om(n,s,ae,c,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(c=o[k],c!=null&&Fe(n,s,k,c,o,null))}function Xk(n,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,j=null,k=null,B=null,X=null,ae=null;for(te in o){var ie=o[te];if(o.hasOwnProperty(te)&&ie!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":B=ie;default:c.hasOwnProperty(te)||Fe(n,s,te,null,c,ie)}}for(var J in c){var te=c[J];if(ie=o[J],c.hasOwnProperty(J)&&(te!=null||ie!=null))switch(J){case"type":g=te;break;case"name":p=te;break;case"checked":X=te;break;case"defaultChecked":ae=te;break;case"value":j=te;break;case"defaultValue":k=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(a(137,s));break;default:te!==ie&&Fe(n,s,J,te,c,ie)}}bf(n,j,k,B,X,ae,g,p);return;case"select":te=j=k=J=null;for(g in o)if(B=o[g],o.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":te=B;default:c.hasOwnProperty(g)||Fe(n,s,g,null,c,B)}for(p in c)if(g=c[p],B=o[p],c.hasOwnProperty(p)&&(g!=null||B!=null))switch(p){case"value":J=g;break;case"defaultValue":k=g;break;case"multiple":j=g;default:g!==B&&Fe(n,s,p,g,c,B)}s=k,o=j,c=te,J!=null?qs(n,!!o,J,!1):!!c!=!!o&&(s!=null?qs(n,!!o,s,!0):qs(n,!!o,o?[]:"",!1));return;case"textarea":te=J=null;for(k in o)if(p=o[k],o.hasOwnProperty(k)&&p!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Fe(n,s,k,null,c,p)}for(j in c)if(p=c[j],g=o[j],c.hasOwnProperty(j)&&(p!=null||g!=null))switch(j){case"value":J=p;break;case"defaultValue":te=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Fe(n,s,j,p,c,g)}ax(n,J,te);return;case"option":for(var pe in o)if(J=o[pe],o.hasOwnProperty(pe)&&J!=null&&!c.hasOwnProperty(pe))switch(pe){case"selected":n.selected=!1;break;default:Fe(n,s,pe,null,c,J)}for(B in c)if(J=c[B],te=o[B],c.hasOwnProperty(B)&&J!==te&&(J!=null||te!=null))switch(B){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Fe(n,s,B,J,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in o)J=o[be],o.hasOwnProperty(be)&&J!=null&&!c.hasOwnProperty(be)&&Fe(n,s,be,null,c,J);for(X in c)if(J=c[X],te=o[X],c.hasOwnProperty(X)&&J!==te&&(J!=null||te!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:Fe(n,s,X,J,c,te)}return;default:if(wf(s)){for(var Ge in o)J=o[Ge],o.hasOwnProperty(Ge)&&J!==void 0&&!c.hasOwnProperty(Ge)&&om(n,s,Ge,void 0,c,J);for(ae in c)J=c[ae],te=o[ae],!c.hasOwnProperty(ae)||J===te||J===void 0&&te===void 0||om(n,s,ae,J,c,te);return}}for(var G in o)J=o[G],o.hasOwnProperty(G)&&J!=null&&!c.hasOwnProperty(G)&&Fe(n,s,G,null,c,J);for(ie in c)J=c[ie],te=o[ie],!c.hasOwnProperty(ie)||J===te||J==null&&te==null||Fe(n,s,ie,J,c,te)}function lS(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qk(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var p=o[c],g=p.transferSize,j=p.initiatorType,k=p.duration;if(g&&k&&lS(j)){for(j=0,k=p.responseEnd,c+=1;c<o.length;c++){var B=o[c],X=B.startTime;if(X>k)break;var ae=B.transferSize,ie=B.initiatorType;ae&&lS(ie)&&(B=B.responseEnd,j+=ae*(B<k?1:(k-X)/(B-X)))}if(--c,s+=8*(g+j)/(p.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var lm=null,um=null;function sc(n){return n.nodeType===9?n:n.ownerDocument}function uS(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cS(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function cm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dm=null;function Jk(){var n=window.event;return n&&n.type==="popstate"?n===dm?!1:(dm=n,!0):(dm=null,!1)}var dS=typeof setTimeout=="function"?setTimeout:void 0,Zk=typeof clearTimeout=="function"?clearTimeout:void 0,fS=typeof Promise=="function"?Promise:void 0,eM=typeof queueMicrotask=="function"?queueMicrotask:typeof fS<"u"?function(n){return fS.resolve(null).then(n).catch(tM)}:dS;function tM(n){setTimeout(function(){throw n})}function pa(n){return n==="head"}function hS(n,s){var o=s,c=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(c===0){n.removeChild(p),hi(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Po(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Po(o);for(var g=o.firstChild;g;){var j=g.nextSibling,k=g.nodeName;g[Zi]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=j}}else o==="body"&&Po(n.ownerDocument.body);o=p}while(o);hi(s)}function mS(n,s){var o=n;n=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=c}while(o)}function fm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":fm(o),gf(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function rM(n,s,o,c){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Zi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Mr(n.nextSibling),n===null)break}return null}function nM(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Mr(n.nextSibling),n===null))return null;return n}function pS(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Mr(n.nextSibling),n===null))return null;return n}function hm(n){return n.data==="$?"||n.data==="$~"}function mm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function aM(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Mr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var pm=null;function vS(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return Mr(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function gS(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function yS(n,s,o){switch(s=sc(o),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Po(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);gf(n)}var qr=new Map,bS=new Set;function ic(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Ln=I.d;I.d={f:sM,r:iM,D:oM,C:lM,L:uM,m:cM,X:fM,S:dM,M:hM};function sM(){var n=Ln.f(),s=Qu();return n||s}function iM(n){var s=Ds(n);s!==null&&s.tag===5&&s.type==="form"?Pw(s):Ln.r(n)}var ci=typeof document>"u"?null:document;function xS(n,s,o){var c=ci;if(c&&typeof s=="string"&&s){var p=Tr(s);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),bS.has(p)||(bS.add(p),n={rel:n,crossOrigin:o,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),Lt(s,"link",n),Tt(s),c.head.appendChild(s)))}}function oM(n){Ln.D(n),xS("dns-prefetch",n,null)}function lM(n,s){Ln.C(n,s),xS("preconnect",n,s)}function uM(n,s,o){Ln.L(n,s,o);var c=ci;if(c&&n&&s){var p='link[rel="preload"][as="'+Tr(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Tr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Tr(o.imageSizes)+'"]')):p+='[href="'+Tr(n)+'"]';var g=p;switch(s){case"style":g=di(n);break;case"script":g=fi(n)}qr.has(g)||(n=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),qr.set(g,n),c.querySelector(p)!==null||s==="style"&&c.querySelector(Lo(g))||s==="script"&&c.querySelector($o(g))||(s=c.createElement("link"),Lt(s,"link",n),Tt(s),c.head.appendChild(s)))}}function cM(n,s){Ln.m(n,s);var o=ci;if(o&&n){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Tr(c)+'"][href="'+Tr(n)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=fi(n)}if(!qr.has(g)&&(n=y({rel:"modulepreload",href:n},s),qr.set(g,n),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($o(g)))return}c=o.createElement("link"),Lt(c,"link",n),Tt(c),o.head.appendChild(c)}}}function dM(n,s,o){Ln.S(n,s,o);var c=ci;if(c&&n){var p=ks(c).hoistableStyles,g=di(n);s=s||"default";var j=p.get(g);if(!j){var k={loading:0,preload:null};if(j=c.querySelector(Lo(g)))k.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},o),(o=qr.get(g))&&vm(n,o);var B=j=c.createElement("link");Tt(B),Lt(B,"link",n),B._p=new Promise(function(X,ae){B.onload=X,B.onerror=ae}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,oc(j,s,c)}j={type:"stylesheet",instance:j,count:1,state:k},p.set(g,j)}}}function fM(n,s){Ln.X(n,s);var o=ci;if(o&&n){var c=ks(o).hoistableScripts,p=fi(n),g=c.get(p);g||(g=o.querySelector($o(p)),g||(n=y({src:n,async:!0},s),(s=qr.get(p))&&gm(n,s),g=o.createElement("script"),Tt(g),Lt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function hM(n,s){Ln.M(n,s);var o=ci;if(o&&n){var c=ks(o).hoistableScripts,p=fi(n),g=c.get(p);g||(g=o.querySelector($o(p)),g||(n=y({src:n,async:!0,type:"module"},s),(s=qr.get(p))&&gm(n,s),g=o.createElement("script"),Tt(g),Lt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function wS(n,s,o,c){var p=(p=de.current)?ic(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=di(o.href),o=ks(p).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=di(o.href);var g=ks(p).hoistableStyles,j=g.get(n);if(j||(p=p.ownerDocument||p,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,j),(g=p.querySelector(Lo(n)))&&!g._p&&(j.instance=g,j.state.loading=5),qr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},qr.set(n,o),g||mM(p,n,o,j.state))),s&&c===null)throw Error(a(528,""));return j}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fi(o),o=ks(p).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function di(n){return'href="'+Tr(n)+'"'}function Lo(n){return'link[rel="stylesheet"]['+n+"]"}function _S(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function mM(n,s,o,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Lt(s,"link",o),Tt(s),n.head.appendChild(s))}function fi(n){return'[src="'+Tr(n)+'"]'}function $o(n){return"script[async]"+n}function SS(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+Tr(o.href)+'"]');if(c)return s.instance=c,Tt(c),c;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Tt(c),Lt(c,"style",p),oc(c,o.precedence,n),s.instance=c;case"stylesheet":p=di(o.href);var g=n.querySelector(Lo(p));if(g)return s.state.loading|=4,s.instance=g,Tt(g),g;c=_S(o),(p=qr.get(p))&&vm(c,p),g=(n.ownerDocument||n).createElement("link"),Tt(g);var j=g;return j._p=new Promise(function(k,B){j.onload=k,j.onerror=B}),Lt(g,"link",c),s.state.loading|=4,oc(g,o.precedence,n),s.instance=g;case"script":return g=fi(o.src),(p=n.querySelector($o(g)))?(s.instance=p,Tt(p),p):(c=o,(p=qr.get(g))&&(c=y({},o),gm(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),Tt(p),Lt(p,"link",c),n.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,oc(c,o.precedence,n));return s.instance}function oc(n,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,j=0;j<c.length;j++){var k=c[j];if(k.dataset.precedence===s)g=k;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function vm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function gm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var lc=null;function ES(n,s,o){if(lc===null){var c=new Map,p=lc=new Map;p.set(o,c)}else p=lc,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[Zi]||g[kt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var j=g.getAttribute(s)||"";j=n+j;var k=c.get(j);k?k.push(g):c.set(j,[g])}}return c}function jS(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function pM(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function NS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function vM(n,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=di(c.href),g=s.querySelector(Lo(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=uc.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,Tt(g);return}g=s.ownerDocument||s,c=_S(c),(p=qr.get(p))&&vm(c,p),g=g.createElement("link"),Tt(g);var j=g;j._p=new Promise(function(k,B){j.onload=k,j.onerror=B}),Lt(g,"link",c),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=uc.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var ym=0;function gM(n,s){return n.stylesheets&&n.count===0&&dc(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var c=setTimeout(function(){if(n.stylesheets&&dc(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&ym===0&&(ym=62500*Qk());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&dc(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>ym?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var cc=null;function dc(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,cc=new Map,s.forEach(yM,n),cc=null,uc.call(n))}function yM(n,s){if(!(s.state.loading&4)){var o=cc.get(n);if(o)var c=o.get(null);else{o=new Map,cc.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var j=p[g];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(o.set(j.dataset.precedence,j),c=j)}c&&o.set(null,c)}p=s.instance,j=p.getAttribute("data-precedence"),g=o.get(j)||c,g===c&&o.set(null,p),o.set(j,p),this.count++,c=uc.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),s.state.loading|=4}}var Uo={$$typeof:T,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function bM(n,s,o,c,p,g,j,k,B){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.hiddenUpdates=hf(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function TS(n,s,o,c,p,g,j,k,B,X,ae,ie){return n=new bM(n,s,o,j,B,X,ae,ie,k),s=1,g===!0&&(s|=24),g=pr(3,null,null,s),n.current=g,g.stateNode=n,s=Qf(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},th(g),n}function OS(n){return n?(n=Hs,n):Hs}function CS(n,s,o,c,p,g){p=OS(p),c.context===null?c.context=p:c.pendingContext=p,c=aa(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=sa(n,c,s),o!==null&&(or(o,n,s),go(o,n,s))}function AS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function bm(n,s){AS(n,s),(n=n.alternate)&&AS(n,s)}function RS(n){if(n.tag===13||n.tag===31){var s=Ba(n,67108864);s!==null&&or(s,n,67108864),bm(n,67108864)}}function DS(n){if(n.tag===13||n.tag===31){var s=xr();s=mf(s);var o=Ba(n,s);o!==null&&or(o,n,s),bm(n,s)}}var fc=!0;function xM(n,s,o,c){var p=H.T;H.T=null;var g=I.p;try{I.p=2,xm(n,s,o,c)}finally{I.p=g,H.T=p}}function wM(n,s,o,c){var p=H.T;H.T=null;var g=I.p;try{I.p=8,xm(n,s,o,c)}finally{I.p=g,H.T=p}}function xm(n,s,o,c){if(fc){var p=wm(c);if(p===null)im(n,s,c,hc,o),MS(n,c);else if(SM(p,n,s,o,c))c.stopPropagation();else if(MS(n,c),s&4&&-1<_M.indexOf(n)){for(;p!==null;){var g=Ds(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var j=Pa(g.pendingLanes);if(j!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;j;){var B=1<<31-hr(j);k.entanglements[1]|=B,j&=~B}sn(g),(Ue&6)===0&&(Ku=he()+500,ko(0))}}break;case 31:case 13:k=Ba(g,2),k!==null&&or(k,g,2),Qu(),bm(g,2)}if(g=wm(c),g===null&&im(n,s,c,hc,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else im(n,s,c,null,o)}}function wm(n){return n=Sf(n),_m(n)}var hc=null;function _m(n){if(hc=null,n=Rs(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=u(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return hc=n,null}function kS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case nt:return 2;case jt:return 8;case at:case Gr:return 32;case Nt:return 268435456;default:return 32}default:return 32}}var Sm=!1,va=null,ga=null,ya=null,zo=new Map,Bo=new Map,ba=[],_M="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function MS(n,s){switch(n){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ga=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":zo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(s.pointerId)}}function Io(n,s,o,c,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Ds(s),s!==null&&RS(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function SM(n,s,o,c,p){switch(s){case"focusin":return va=Io(va,n,s,o,c,p),!0;case"dragenter":return ga=Io(ga,n,s,o,c,p),!0;case"mouseover":return ya=Io(ya,n,s,o,c,p),!0;case"pointerover":var g=p.pointerId;return zo.set(g,Io(zo.get(g)||null,n,s,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Bo.set(g,Io(Bo.get(g)||null,n,s,o,c,p)),!0}return!1}function qS(n){var s=Rs(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){n.blockedOn=s,Kb(n.priority,function(){DS(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,Kb(n.priority,function(){DS(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function mc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=wm(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);_f=c,o.target.dispatchEvent(c),_f=null}else return s=Ds(o),s!==null&&RS(s),n.blockedOn=o,!1;s.shift()}return!0}function PS(n,s,o){mc(n)&&o.delete(s)}function EM(){Sm=!1,va!==null&&mc(va)&&(va=null),ga!==null&&mc(ga)&&(ga=null),ya!==null&&mc(ya)&&(ya=null),zo.forEach(PS),Bo.forEach(PS)}function pc(n,s){n.blockedOn===s&&(n.blockedOn=null,Sm||(Sm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,EM)))}var vc=null;function LS(n){vc!==n&&(vc=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){vc===n&&(vc=null);for(var s=0;s<n.length;s+=3){var o=n[s],c=n[s+1],p=n[s+2];if(typeof c!="function"){if(_m(c||o)===null)continue;break}var g=Ds(o);g!==null&&(n.splice(s,3),s-=3,wh(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function hi(n){function s(B){return pc(B,n)}va!==null&&pc(va,n),ga!==null&&pc(ga,n),ya!==null&&pc(ya,n),zo.forEach(s),Bo.forEach(s);for(var o=0;o<ba.length;o++){var c=ba[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ba.length&&(o=ba[0],o.blockedOn===null);)qS(o),o.blockedOn===null&&ba.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],j=p[tr]||null;if(typeof g=="function")j||LS(o);else if(j){var k=null;if(g&&g.hasAttribute("formAction")){if(p=g,j=g[tr]||null)k=j.formAction;else if(_m(p)!==null)continue}else k=j.action;typeof k=="function"?o[c+1]=k:(o.splice(c,3),c-=3),LS(o)}}}function $S(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(j){return p=j})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Em(n){this._internalRoot=n}gc.prototype.render=Em.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=xr();CS(o,c,n,s,null,null)},gc.prototype.unmount=Em.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;CS(n.current,2,null,n,null,null),Qu(),s[As]=null}};function gc(n){this._internalRoot=n}gc.prototype.unstable_scheduleHydration=function(n){if(n){var s=Vb();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ba.length&&s!==0&&s<ba[o].priority;o++);ba.splice(o,0,n),o===0&&qS(n)}};var US=e.version;if(US!=="19.2.1")throw Error(a(527,US,"19.2.1"));I.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var jM={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{er=yc.inject(jM),lt=yc}catch{}}return Fo.createRoot=function(n,s){if(!i(n))throw Error(a(299));var o=!1,c="",p=Yw,g=Ww,j=Vw;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(j=s.onRecoverableError)),s=TS(n,1,!1,null,null,o,c,null,p,g,j,$S),n[As]=s.current,sm(n),new Em(s)},Fo.hydrateRoot=function(n,s,o){if(!i(n))throw Error(a(299));var c=!1,p="",g=Yw,j=Ww,k=Vw,B=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(j=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(B=o.formState)),s=TS(n,1,!0,s,o??null,c,p,B,g,j,k,$S),s.context=OS(null),o=s.current,c=xr(),c=mf(c),p=aa(c),p.callback=null,sa(o,p,c),o=c,s.current.lanes=o,Ji(s,o),sn(s),n[As]=s.current,sm(n),new gc(s)},Fo.version="19.2.1",Fo}var KS;function qM(){if(KS)return Tm.exports;KS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tm.exports=MM(),Tm.exports}var PM=qM();var XS="popstate";function LM(t={}){function e(a,i){let{pathname:l,search:u,hash:d}=a.location;return Q0("",{pathname:l,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:pl(i)}return UM(e,r,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $r(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $M(){return Math.random().toString(36).substring(2,10)}function QS(t,e){return{usr:t.state,key:t.key,idx:e}}function Q0(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qi(e):e,state:r,key:e&&e.key||a||$M()}}function pl({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function qi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function UM(t,e,r,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,u=i.history,d="POP",f=null,m=v();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function v(){return(u.state||{idx:null}).idx}function y(){d="POP";let E=v(),S=E==null?null:E-m;m=E,f&&f({action:d,location:_.location,delta:S})}function b(E,S){d="PUSH";let N=Q0(_.location,E,S);m=v()+1;let T=QS(N,m),O=_.createHref(N);try{u.pushState(T,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(O)}l&&f&&f({action:d,location:_.location,delta:1})}function x(E,S){d="REPLACE";let N=Q0(_.location,E,S);m=v();let T=QS(N,m),O=_.createHref(N);u.replaceState(T,"",O),l&&f&&f({action:d,location:_.location,delta:0})}function w(E){return zM(E)}let _={get action(){return d},get location(){return t(i,u)},listen(E){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(XS,y),f=E,()=>{i.removeEventListener(XS,y),f=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let S=w(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:b,replace:x,go(E){return u.go(E)}};return _}function zM(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),tt(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:pl(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function s2(t,e,r="/"){return BM(t,e,r,!1)}function BM(t,e,r,a){let i=typeof e=="string"?qi(e):e,l=In(i.pathname||"/",r);if(l==null)return null;let u=i2(t);IM(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=ZM(l);d=QM(u[f],m,a)}return d}function i2(t,e=[],r=[],a="",i=!1){let l=(u,d,f=i,m)=>{let v={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&f)return;tt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let y=Bn([a,v.relativePath]),b=r.concat(v);u.children&&u.children.length>0&&(tt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),i2(u.children,e,b,y,f)),!(u.path==null&&!u.index)&&e.push({path:y,score:KM(y,u.index),routesMeta:b})};return t.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let f of o2(u.path))l(u,d,!0,f)}),e}function o2(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let u=o2(a.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),i&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function IM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:XM(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var HM=/^:[\w-]+$/,FM=3,GM=2,YM=1,WM=10,VM=-2,JS=t=>t==="*";function KM(t,e){let r=t.split("/"),a=r.length;return r.some(JS)&&(a+=VM),e&&(a+=GM),r.filter(i=>!JS(i)).reduce((i,l)=>i+(HM.test(l)?FM:l===""?YM:WM),a)}function XM(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function QM(t,e,r=!1){let{routesMeta:a}=t,i={},l="/",u=[];for(let d=0;d<a.length;++d){let f=a[d],m=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=rd({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},v),b=f.route;if(!y&&m&&r&&!a[a.length-1].route.index&&(y=rd({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!y)return null;Object.assign(i,y.params),u.push({params:i,pathname:Bn([l,y.pathname]),pathnameBase:a4(Bn([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=Bn([l,y.pathnameBase]))}return u}function rd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=JM(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let l=i[0],u=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:y},b)=>{if(v==="*"){let w=d[b]||"";u=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const x=d[b];return y&&!x?m[v]=void 0:m[v]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function JM(t,e=!1,r=!0){$r(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(a.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function ZM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $r(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function In(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}var e4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t4=t=>e4.test(t);function r4(t,e="/"){let{pathname:r,search:a="",hash:i=""}=typeof t=="string"?qi(t):t,l;if(r)if(t4(r))l=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),$r(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${r}`)}r.startsWith("/")?l=ZS(r.substring(1),"/"):l=ZS(r,e)}else l=e;return{pathname:l,search:s4(a),hash:i4(i)}}function ZS(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Rm(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function n4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Cy(t){let e=n4(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Ay(t,e,r,a=!1){let i;typeof t=="string"?i=qi(t):(i={...t},tt(!i.pathname||!i.pathname.includes("?"),Rm("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),Rm("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),Rm("#","search","hash",i)));let l=t===""||i.pathname==="",u=l?"/":i.pathname,d;if(u==null)d=r;else{let y=e.length-1;if(!a&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}d=y>=0?e[y]:"/"}let f=r4(i,d),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(m||v)&&(f.pathname+="/"),f}var Bn=t=>t.join("/").replace(/\/\/+/g,"/"),a4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),s4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function o4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function l4(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var l2=["POST","PUT","PATCH","DELETE"];new Set(l2);var u4=["GET",...l2];new Set(u4);var Pi=R.createContext(null);Pi.displayName="DataRouter";var Sd=R.createContext(null);Sd.displayName="DataRouterState";R.createContext(!1);var u2=R.createContext({isTransitioning:!1});u2.displayName="ViewTransition";var c4=R.createContext(new Map);c4.displayName="Fetchers";var d4=R.createContext(null);d4.displayName="Await";var Ir=R.createContext(null);Ir.displayName="Navigation";var ql=R.createContext(null);ql.displayName="Location";var yn=R.createContext({outlet:null,matches:[],isDataRoute:!1});yn.displayName="Route";var Ry=R.createContext(null);Ry.displayName="RouteError";function f4(t,{relative:e}={}){tt(Li(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=R.useContext(Ir),{hash:i,pathname:l,search:u}=Pl(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:Bn([r,l])),a.createHref({pathname:d,search:u,hash:i})}function Li(){return R.useContext(ql)!=null}function Ca(){return tt(Li(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(ql).location}var c2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d2(t){R.useContext(Ir).static||R.useLayoutEffect(t)}function Dy(){let{isDataRoute:t}=R.useContext(yn);return t?j4():h4()}function h4(){tt(Li(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Pi),{basename:e,navigator:r}=R.useContext(Ir),{matches:a}=R.useContext(yn),{pathname:i}=Ca(),l=JSON.stringify(Cy(a)),u=R.useRef(!1);return d2(()=>{u.current=!0}),R.useCallback((f,m={})=>{if($r(u.current,c2),!u.current)return;if(typeof f=="number"){r.go(f);return}let v=Ay(f,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Bn([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,l,i,t])}R.createContext(null);function Pl(t,{relative:e}={}){let{matches:r}=R.useContext(yn),{pathname:a}=Ca(),i=JSON.stringify(Cy(r));return R.useMemo(()=>Ay(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function m4(t,e){return f2(t,e)}function f2(t,e,r,a,i){tt(Li(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=R.useContext(Ir),{matches:u}=R.useContext(yn),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",y=d&&d.route;{let N=y&&y.path||"";h2(m,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let b=Ca(),x;if(e){let N=typeof e=="string"?qi(e):e;tt(v==="/"||N.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=b;let w=x.pathname||"/",_=w;if(v!=="/"){let N=v.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=s2(t,{pathname:_});$r(y||E!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),$r(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=b4(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Bn([v,l.encodeLocation?l.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?v:Bn([v,l.encodeLocation?l.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),u,r,a,i);return e&&S?R.createElement(ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function p4(){let t=E4(),e=o4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:l},"ErrorBoundary")," or"," ",R.createElement("code",{style:l},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),r?R.createElement("pre",{style:i},r):null,u)}var v4=R.createElement(p4,null),g4=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?R.createElement(yn.Provider,{value:this.props.routeContext},R.createElement(Ry.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function y4({routeContext:t,match:e,children:r}){let a=R.useContext(Pi);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(yn.Provider,{value:t},r)}function b4(t,e=[],r=null,a=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=r?.errors;if(u!=null){let v=l.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);tt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,f=-1;if(r)for(let v=0;v<l.length;v++){let y=l[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=v),y.route.id){let{loaderData:b,errors:x}=r,w=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||w){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let m=r&&a?(v,y)=>{a(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:l4(r.matches),errorInfo:y})}:void 0;return l.reduceRight((v,y,b)=>{let x,w=!1,_=null,E=null;r&&(x=u&&y.route.id?u[y.route.id]:void 0,_=y.route.errorElement||v4,d&&(f<0&&b===0?(h2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,E=null):f===b&&(w=!0,E=y.route.hydrateFallbackElement||null)));let S=e.concat(l.slice(0,b+1)),N=()=>{let T;return x?T=_:w?T=E:y.route.Component?T=R.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=v,R.createElement(y4,{match:y,routeContext:{outlet:v,matches:S,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?R.createElement(g4,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:m}):N()},null)}function ky(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x4(t){let e=R.useContext(Pi);return tt(e,ky(t)),e}function w4(t){let e=R.useContext(Sd);return tt(e,ky(t)),e}function _4(t){let e=R.useContext(yn);return tt(e,ky(t)),e}function My(t){let e=_4(t),r=e.matches[e.matches.length-1];return tt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function S4(){return My("useRouteId")}function E4(){let t=R.useContext(Ry),e=w4("useRouteError"),r=My("useRouteError");return t!==void 0?t:e.errors?.[r]}function j4(){let{router:t}=x4("useNavigate"),e=My("useNavigate"),r=R.useRef(!1);return d2(()=>{r.current=!0}),R.useCallback(async(i,l={})=>{$r(r.current,c2),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var e1={};function h2(t,e,r){!e&&!e1[t]&&(e1[t]=!0,$r(!1,r))}R.memo(N4);function N4({routes:t,future:e,state:r,unstable_onError:a}){return f2(t,void 0,r,a,e)}function il({to:t,replace:e,state:r,relative:a}){tt(Li(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=R.useContext(Ir);$r(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=R.useContext(yn),{pathname:u}=Ca(),d=Dy(),f=Ay(t,Cy(l),u,a==="path"),m=JSON.stringify(f);return R.useEffect(()=>{d(JSON.parse(m),{replace:e,state:r,relative:a})},[d,m,a,e,r]),null}function xi(t){tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function T4({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:i,static:l=!1,unstable_useTransitions:u}){tt(!Li(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),f=R.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:u,future:{}}),[d,i,l,u]);typeof r=="string"&&(r=qi(r));let{pathname:m="/",search:v="",hash:y="",state:b=null,key:x="default"}=r,w=R.useMemo(()=>{let _=In(m,d);return _==null?null:{location:{pathname:_,search:v,hash:y,state:b,key:x},navigationType:a}},[d,m,v,y,b,x,a]);return $r(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(Ir.Provider,{value:f},R.createElement(ql.Provider,{children:e,value:w}))}function O4({children:t,location:e}){return m4(J0(t),e)}function J0(t,e=[]){let r=[];return R.Children.forEach(t,(a,i)=>{if(!R.isValidElement(a))return;let l=[...e,i];if(a.type===R.Fragment){r.push.apply(r,J0(a.props.children,l));return}tt(a.type===xi,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let u={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(u.children=J0(a.props.children,l)),r.push(u)}),r}var Lc="get",$c="application/x-www-form-urlencoded";function Ed(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function C4(t){return Ed(t)&&t.tagName.toLowerCase()==="button"}function A4(t){return Ed(t)&&t.tagName.toLowerCase()==="form"}function R4(t){return Ed(t)&&t.tagName.toLowerCase()==="input"}function D4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function k4(t,e){return t.button===0&&(!e||e==="_self")&&!D4(t)}var xc=null;function M4(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var q4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(t){return t!=null&&!q4.has(t)?($r(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):t}function P4(t,e){let r,a,i,l,u;if(A4(t)){let d=t.getAttribute("action");a=d?In(d,e):null,r=t.getAttribute("method")||Lc,i=Dm(t.getAttribute("enctype"))||$c,l=new FormData(t)}else if(C4(t)||R4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(a=f?In(f,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||Lc,i=Dm(t.getAttribute("formenctype"))||Dm(d.getAttribute("enctype"))||$c,l=new FormData(d,t),!M4()){let{name:m,type:v,value:y}=t;if(v==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,y)}}else{if(Ed(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Lc,a=null,i=$c,u=t}return l&&i==="text/plain"&&(u=l,l=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function L4(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&In(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function $4(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function U4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function z4(t,e,r){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let u=await $4(l,r);return u.links?u.links():[]}return[]}));return F4(a.flat(1).filter(U4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function t1(t,e,r,a,i,l){let u=(f,m)=>r[m]?f.route.id!==r[m].route.id:!0,d=(f,m)=>r[m].pathname!==f.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):l==="data"?e.filter((f,m)=>{let v=a.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function B4(t,e,{includeHydrateFallback:r}={}){return I4(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function I4(t){return[...new Set(t)]}function H4(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function F4(t,e){let r=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(H4(i));return r.has(l)||(r.add(l),a.push({key:l,link:i})),a},[])}function m2(){let t=R.useContext(Pi);return qy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function G4(){let t=R.useContext(Sd);return qy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Py=R.createContext(void 0);Py.displayName="FrameworkContext";function p2(){let t=R.useContext(Py);return qy(t,"You must render this element inside a <HydratedRouter> element"),t}function Y4(t,e){let r=R.useContext(Py),[a,i]=R.useState(!1),[l,u]=R.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,b=R.useRef(null);R.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let _=S=>{S.forEach(N=>{u(N.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return b.current&&E.observe(b.current),()=>{E.disconnect()}}},[t]),R.useEffect(()=>{if(a){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[a]);let x=()=>{i(!0)},w=()=>{i(!1),u(!1)};return r?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Go(d,x),onBlur:Go(f,w),onMouseEnter:Go(m,x),onMouseLeave:Go(v,w),onTouchStart:Go(y,x)}]:[!1,b,{}]}function Go(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function W4({page:t,...e}){let{router:r}=m2(),a=R.useMemo(()=>s2(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?R.createElement(K4,{page:t,matches:a,...e}):null}function V4(t){let{manifest:e,routeModules:r}=p2(),[a,i]=R.useState([]);return R.useEffect(()=>{let l=!1;return z4(t,e,r).then(u=>{l||i(u)}),()=>{l=!0}},[t,e,r]),a}function K4({page:t,matches:e,...r}){let a=Ca(),{manifest:i,routeModules:l}=p2(),{basename:u}=m2(),{loaderData:d,matches:f}=G4(),m=R.useMemo(()=>t1(t,e,f,i,a,"data"),[t,e,f,i,a]),v=R.useMemo(()=>t1(t,e,f,i,a,"assets"),[t,e,f,i,a]),y=R.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let w=new Set,_=!1;if(e.forEach(S=>{let N=i.routes[S.route.id];!N||!N.hasLoader||(!m.some(T=>T.route.id===S.route.id)&&S.route.id in d&&l[S.route.id]?.shouldRevalidate||N.hasClientLoader?_=!0:w.add(S.route.id))}),w.size===0)return[];let E=L4(t,u,"data");return _&&w.size>0&&E.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[E.pathname+E.search]},[u,d,a,i,m,e,t,l]),b=R.useMemo(()=>B4(v,i),[v,i]),x=V4(v);return R.createElement(R.Fragment,null,y.map(w=>R.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>R.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),x.map(({key:w,link:_})=>R.createElement("link",{key:w,nonce:r.nonce,..._})))}function X4(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var v2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v2&&(window.__reactRouterVersion="7.10.1")}catch{}function Q4({basename:t,children:e,unstable_useTransitions:r,window:a}){let i=R.useRef();i.current==null&&(i.current=LM({window:a,v5Compat:!0}));let l=i.current,[u,d]=R.useState({action:l.action,location:l.location}),f=R.useCallback(m=>{r===!1?d(m):R.startTransition(()=>d(m))},[r]);return R.useLayoutEffect(()=>l.listen(f),[l,f]),R.createElement(T4,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:l,unstable_useTransitions:r===!0})}var g2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y2=R.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:i,reloadDocument:l,replace:u,state:d,target:f,to:m,preventScrollReset:v,viewTransition:y,...b},x){let{basename:w,unstable_useTransitions:_}=R.useContext(Ir),E=typeof m=="string"&&g2.test(m),S,N=!1;if(typeof m=="string"&&E&&(S=m,v2))try{let A=new URL(window.location.href),q=m.startsWith("//")?new URL(A.protocol+m):new URL(m),z=In(q.pathname,w);q.origin===A.origin&&z!=null?m=z+q.search+q.hash:N=!0}catch{$r(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=f4(m,{relative:i}),[O,M,D]=Y4(a,b),C=t3(m,{replace:u,state:d,target:f,preventScrollReset:v,relative:i,viewTransition:y,unstable_useTransitions:_});function L(A){e&&e(A),A.defaultPrevented||C(A)}let P=R.createElement("a",{...b,...D,href:S||T,onClick:N||l?e:L,ref:X4(x,M),target:f,"data-discover":!E&&r==="render"?"true":void 0});return O&&!E?R.createElement(R.Fragment,null,P,R.createElement(W4,{page:T})):P});y2.displayName="Link";var J4=R.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:i=!1,style:l,to:u,viewTransition:d,children:f,...m},v){let y=Pl(u,{relative:m.relative}),b=Ca(),x=R.useContext(Sd),{navigator:w,basename:_}=R.useContext(Ir),E=x!=null&&i3(y)&&d===!0,S=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,N=b.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(N=N.toLowerCase(),T=T?T.toLowerCase():null,S=S.toLowerCase()),T&&_&&(T=In(T,_)||T);const O=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let M=N===S||!i&&N.startsWith(S)&&N.charAt(O)==="/",D=T!=null&&(T===S||!i&&T.startsWith(S)&&T.charAt(S.length)==="/"),C={isActive:M,isPending:D,isTransitioning:E},L=M?e:void 0,P;typeof a=="function"?P=a(C):P=[a,M?"active":null,D?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let A=typeof l=="function"?l(C):l;return R.createElement(y2,{...m,"aria-current":L,className:P,ref:v,style:A,to:u,viewTransition:d},typeof f=="function"?f(C):f)});J4.displayName="NavLink";var Z4=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:i,state:l,method:u=Lc,action:d,onSubmit:f,relative:m,preventScrollReset:v,viewTransition:y,...b},x)=>{let{unstable_useTransitions:w}=R.useContext(Ir),_=a3(),E=s3(d,{relative:m}),S=u.toLowerCase()==="get"?"get":"post",N=typeof d=="string"&&g2.test(d),T=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,D=M?.getAttribute("formmethod")||u,C=()=>_(M||O.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:i,state:l,relative:m,preventScrollReset:v,viewTransition:y});w&&r!==!1?R.startTransition(()=>C()):C()};return R.createElement("form",{ref:x,method:S,action:E,onSubmit:a?f:T,...b,"data-discover":!N&&t==="render"?"true":void 0})});Z4.displayName="Form";function e3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(t){let e=R.useContext(Pi);return tt(e,e3(t)),e}function t3(t,{target:e,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:u,unstable_useTransitions:d}={}){let f=Dy(),m=Ca(),v=Pl(t,{relative:l});return R.useCallback(y=>{if(k4(y,e)){y.preventDefault();let b=r!==void 0?r:pl(m)===pl(v),x=()=>f(t,{replace:b,state:a,preventScrollReset:i,relative:l,viewTransition:u});d?R.startTransition(()=>x()):x()}},[m,f,v,r,a,e,t,i,l,u,d])}var r3=0,n3=()=>`__${String(++r3)}__`;function a3(){let{router:t}=b2("useSubmit"),{basename:e}=R.useContext(Ir),r=S4(),a=t.fetch,i=t.navigate;return R.useCallback(async(l,u={})=>{let{action:d,method:f,encType:m,formData:v,body:y}=P4(l,e);if(u.navigate===!1){let b=u.fetcherKey||n3();await a(b,r,u.action||d,{preventScrollReset:u.preventScrollReset,formData:v,body:y,formMethod:u.method||f,formEncType:u.encType||m,flushSync:u.flushSync})}else await i(u.action||d,{preventScrollReset:u.preventScrollReset,formData:v,body:y,formMethod:u.method||f,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[a,i,e,r])}function s3(t,{relative:e}={}){let{basename:r}=R.useContext(Ir),a=R.useContext(yn);tt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...Pl(t||".",{relative:e})},u=Ca();if(t==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(v=>v==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Bn([r,l.pathname])),pl(l)}function i3(t,{relative:e}={}){let r=R.useContext(u2);tt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=b2("useViewTransitionState"),i=Pl(t,{relative:e});if(!r.isTransitioning)return!1;let l=In(r.currentLocation.pathname,a)||r.currentLocation.pathname,u=In(r.nextLocation.pathname,a)||r.nextLocation.pathname;return rd(i.pathname,u)!=null||rd(i.pathname,l)!=null}var o3=a2();const x2=Gt(o3);var $n={},wc={},Z0=function(t,e){return Z0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},Z0(t,e)};function w2(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Z0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var nd=function(){return nd=Object.assign||function(e){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},nd.apply(this,arguments)};function $i(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(r[a[i]]=t[a[i]]);return r}function _2(t,e,r,a){var i=arguments.length,l=i<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,a);else for(var d=t.length-1;d>=0;d--)(u=t[d])&&(l=(i<3?u(l):i>3?u(e,r,l):u(e,r))||l);return i>3&&l&&Object.defineProperty(e,r,l),l}function S2(t,e){return function(r,a){e(r,a,t)}}function E2(t,e,r,a,i,l){function u(S){if(S!==void 0&&typeof S!="function")throw new TypeError("Function expected");return S}for(var d=a.kind,f=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?a.static?t:t.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),y,b=!1,x=r.length-1;x>=0;x--){var w={};for(var _ in a)w[_]=_==="access"?{}:a[_];for(var _ in a.access)w.access[_]=a.access[_];w.addInitializer=function(S){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(u(S||null))};var E=(0,r[x])(d==="accessor"?{get:v.get,set:v.set}:v[f],w);if(d==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(y=u(E.get))&&(v.get=y),(y=u(E.set))&&(v.set=y),(y=u(E.init))&&i.unshift(y)}else(y=u(E))&&(d==="field"?i.unshift(y):v[f]=y)}m&&Object.defineProperty(m,a.name,v),b=!0}function j2(t,e,r){for(var a=arguments.length>2,i=0;i<e.length;i++)r=a?e[i].call(t,r):e[i].call(t);return a?r:void 0}function N2(t){return typeof t=="symbol"?t:"".concat(t)}function T2(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function O2(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function me(t,e,r,a){function i(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function d(v){try{m(a.next(v))}catch(y){u(y)}}function f(v){try{m(a.throw(v))}catch(y){u(y)}}function m(v){v.done?l(v.value):i(v.value).then(d,f)}m((a=a.apply(t,e||[])).next())})}function C2(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,i,l,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=d(0),u.throw=d(1),u.return=d(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(m){return function(v){return f([m,v])}}function f(m){if(a)throw new TypeError("Generator is already executing.");for(;u&&(u=0,m[0]&&(r=0)),r;)try{if(a=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(v){m=[6,v],i=0}finally{a=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var jd=Object.create?(function(t,e,r,a){a===void 0&&(a=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,i)}):(function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]});function A2(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jd(e,t,r)}function ad(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ly(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var a=r.call(t),i,l=[],u;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)l.push(i.value)}catch(d){u={error:d}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(u)throw u.error}}return l}function R2(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ly(arguments[e]));return t}function D2(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var a=Array(t),i=0,e=0;e<r;e++)for(var l=arguments[e],u=0,d=l.length;u<d;u++,i++)a[i]=l[u];return a}function k2(t,e,r){if(r||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}function Ni(t){return this instanceof Ni?(this.v=t,this):new Ni(t)}function M2(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),i[Symbol.asyncIterator]=function(){return this},i;function u(x){return function(w){return Promise.resolve(w).then(x,y)}}function d(x,w){a[x]&&(i[x]=function(_){return new Promise(function(E,S){l.push([x,_,E,S])>1||f(x,_)})},w&&(i[x]=w(i[x])))}function f(x,w){try{m(a[x](w))}catch(_){b(l[0][3],_)}}function m(x){x.value instanceof Ni?Promise.resolve(x.value.v).then(v,y):b(l[0][2],x)}function v(x){f("next",x)}function y(x){f("throw",x)}function b(x,w){x(w),l.shift(),l.length&&f(l[0][0],l[0][1])}}function q2(t){var e,r;return e={},a("next"),a("throw",function(i){throw i}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(i,l){e[i]=t[i]?function(u){return(r=!r)?{value:Ni(t[i](u)),done:!1}:l?l(u):u}:l}}function P2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ad=="function"?ad(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(l){r[l]=t[l]&&function(u){return new Promise(function(d,f){u=t[l](u),i(d,f,u.done,u.value)})}}function i(l,u,d,f){Promise.resolve(f).then(function(m){l({value:m,done:d})},u)}}function L2(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var l3=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ey=function(t){return ey=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},ey(t)};function $2(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=ey(t),a=0;a<r.length;a++)r[a]!=="default"&&jd(e,t,r[a]);return l3(e,t),e}function U2(t){return t&&t.__esModule?t:{default:t}}function z2(t,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(t):a?a.value:e.get(t)}function B2(t,e,r,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function I2(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function H2(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:a,async:r})}else r&&t.stack.push({async:!0});return e}var u3=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function F2(t){function e(l){t.error=t.hasError?new u3(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,a=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&a===1)return a=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(l).then(i,function(u){return e(u),i()})}else a|=1}catch(u){e(u)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function G2(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,i,l,u){return a?e?".jsx":".js":i&&(!l||!u)?r:i+l+"."+u.toLowerCase()+"js"}):t}const c3={__extends:w2,__assign:nd,__rest:$i,__decorate:_2,__param:S2,__esDecorate:E2,__runInitializers:j2,__propKey:N2,__setFunctionName:T2,__metadata:O2,__awaiter:me,__generator:C2,__createBinding:jd,__exportStar:A2,__values:ad,__read:Ly,__spread:R2,__spreadArrays:D2,__spreadArray:k2,__await:Ni,__asyncGenerator:M2,__asyncDelegator:q2,__asyncValues:P2,__makeTemplateObject:L2,__importStar:$2,__importDefault:U2,__classPrivateFieldGet:z2,__classPrivateFieldSet:B2,__classPrivateFieldIn:I2,__addDisposableResource:H2,__disposeResources:F2,__rewriteRelativeImportExtension:G2},d3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:H2,get __assign(){return nd},__asyncDelegator:q2,__asyncGenerator:M2,__asyncValues:P2,__await:Ni,__awaiter:me,__classPrivateFieldGet:z2,__classPrivateFieldIn:I2,__classPrivateFieldSet:B2,__createBinding:jd,__decorate:_2,__disposeResources:F2,__esDecorate:E2,__exportStar:A2,__extends:w2,__generator:C2,__importDefault:U2,__importStar:$2,__makeTemplateObject:L2,__metadata:O2,__param:S2,__propKey:N2,__read:Ly,__rest:$i,__rewriteRelativeImportExtension:G2,__runInitializers:j2,__setFunctionName:T2,__spread:R2,__spreadArray:k2,__spreadArrays:D2,__values:ad,default:c3},Symbol.toStringTag,{value:"Module"})),f3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Nd=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},Y2=class extends Nd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},ty=class extends Nd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ry=class extends Nd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var sd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sd||(sd={}));class h3{constructor(e,{headers:r={},customFetch:a,region:i=sd.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=f3(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return me(this,arguments,void 0,function*(r,a={}){var i;let l,u;try{const{headers:d,method:f,body:m,signal:v,timeout:y}=a;let b={},{region:x}=a;x||(x=this.region);const w=new URL(`${this.url}/${r}`);x&&x!=="any"&&(b["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let _;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(b["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(b["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let E=v;y&&(u=new AbortController,l=setTimeout(()=>u.abort(),y),v?(E=u.signal,v.addEventListener("abort",()=>u.abort())):E=u.signal);const S=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:_,signal:E}).catch(M=>{throw new Y2(M)}),N=S.headers.get("x-relay-error");if(N&&N==="true")throw new ty(S);if(!S.ok)throw new ry(S);let T=((i=S.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield S.json():T==="application/octet-stream"||T==="application/pdf"?O=yield S.blob():T==="text/event-stream"?O=S:T==="multipart/form-data"?O=yield S.formData():O=yield S.text(),{data:O,error:null,response:S}}catch(d){return{data:null,error:d,response:d instanceof ry||d instanceof ty?d.context:void 0}}finally{l&&clearTimeout(l)}})}}const m3=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return sd},FunctionsClient:h3,FunctionsError:Nd,FunctionsFetchError:Y2,FunctionsHttpError:ry,FunctionsRelayError:ty},Symbol.toStringTag,{value:"Module"})),W2=gn(m3);var Ht={};const Ui=gn(d3);var _c={},Sc={},Ec={},jc={},Nc={},Tc={},r1;function V2(){if(r1)return Tc;r1=1,Object.defineProperty(Tc,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Tc.default=t,Tc}var n1;function K2(){if(n1)return Nc;n1=1,Object.defineProperty(Nc,"__esModule",{value:!0});const e=Ui.__importDefault(V2());let r=class{constructor(i){var l,u;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(u=i.isMaybeSingle)!==null&&u!==void 0?u:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var m,v,y,b;let x=null,w=null,_=null,E=f.status,S=f.statusText;if(f.ok){if(this.method!=="HEAD"){const M=await f.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?w=M:w=JSON.parse(M))}const T=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&O&&O.length>1&&(_=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,E=406,S="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await f.text();try{x=JSON.parse(T),Array.isArray(x)&&f.status===404&&(w=[],x=null,E=200,S="OK")}catch{f.status===404&&T===""?(E=204,S="No Content"):x={message:T}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,E=200,S="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:w,count:_,status:E,statusText:S}});return this.shouldThrowOnError||(d=d.catch(f=>{var m,v,y,b,x,w;let _="";const E=f?.cause;if(E){const S=(m=E?.message)!==null&&m!==void 0?m:"",N=(v=E?.code)!==null&&v!==void 0?v:"";_=`${(y=f?.name)!==null&&y!==void 0?y:"FetchError"}: ${f?.message}`,_+=`

Caused by: ${(b=E?.name)!==null&&b!==void 0?b:"Error"}: ${S}`,N&&(_+=` (${N})`),E?.stack&&(_+=`
${E.stack}`)}else _=(x=f?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(w=f?.name)!==null&&w!==void 0?w:"FetchError"}: ${f?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(i,l)}returns(){return this}overrideTypes(){return this}};return Nc.default=r,Nc}var a1;function X2(){if(a1)return jc;a1=1,Object.defineProperty(jc,"__esModule",{value:!0});const e=Ui.__importDefault(K2());let r=class extends e.default{select(i){let l=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:u,foreignTable:d,referencedTable:f=d}={}){const m=f?`${f}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:u=!1,buffers:d=!1,wal:f=!1,format:m="text"}={}){var v;const y=[i?"analyze":null,l?"verbose":null,u?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return jc.default=r,jc}var s1;function $y(){if(s1)return Ec;s1=1,Object.defineProperty(Ec,"__esModule",{value:!0});const e=Ui.__importDefault(X2()),r=new RegExp("[,()]");let a=class extends e.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}regexMatch(l,u){return this.url.searchParams.append(l,`match.${u}`),this}regexIMatch(l,u){return this.url.searchParams.append(l,`imatch.${u}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}isDistinct(l,u){return this.url.searchParams.append(l,`isdistinct.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:f}={}){let m="";f==="plain"?m="pl":f==="phrase"?m="ph":f==="websearch"&&(m="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${v}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}};return Ec.default=a,Ec}var i1;function Q2(){if(i1)return Sc;i1=1,Object.defineProperty(Sc,"__esModule",{value:!0});const e=Ui.__importDefault($y());let r=class{constructor(i,{headers:l={},schema:u,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=u,this.fetch=d}select(i,l){const{head:u=!1,count:d}=l??{},f=u?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:u=!0}={}){var d;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:u=!1,count:d,defaultToNull:f=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(y.length>0){const b=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var u;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:i}={}){var l;const u="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return Sc.default=r,Sc}var o1;function p3(){if(o1)return _c;o1=1,Object.defineProperty(_c,"__esModule",{value:!0});const t=Ui,e=t.__importDefault(Q2()),r=t.__importDefault($y());let a=class J2{constructor(l,{headers:u={},schema:d,fetch:f}={}){this.url=l,this.headers=new Headers(u),this.schemaName=d,this.fetch=f}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new J2(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:f=!1,count:m}={}){var v;let y;const b=new URL(`${this.url}/rpc/${l}`);let x;d||f?(y=d?"HEAD":"GET",Object.entries(u).filter(([_,E])=>E!==void 0).map(([_,E])=>[_,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([_,E])=>{b.searchParams.append(_,E)})):(y="POST",x=u);const w=new Headers(this.headers);return m&&w.set("Prefer",`count=${m}`),new r.default({method:y,url:b,headers:w,schema:this.schemaName,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return _c.default=a,_c}var l1;function Z2(){if(l1)return Ht;l1=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.PostgrestError=Ht.PostgrestBuilder=Ht.PostgrestTransformBuilder=Ht.PostgrestFilterBuilder=Ht.PostgrestQueryBuilder=Ht.PostgrestClient=void 0;const t=Ui,e=t.__importDefault(p3());Ht.PostgrestClient=e.default;const r=t.__importDefault(Q2());Ht.PostgrestQueryBuilder=r.default;const a=t.__importDefault($y());Ht.PostgrestFilterBuilder=a.default;const i=t.__importDefault(X2());Ht.PostgrestTransformBuilder=i.default;const l=t.__importDefault(K2());Ht.PostgrestBuilder=l.default;const u=t.__importDefault(V2());return Ht.PostgrestError=u.default,Ht.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:u.default},Ht}class eC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const v3="2.87.1",g3=`realtime-js/${v3}`,tC="1.0.0",y3="2.0.0",u1=tC,ny=1e4,b3=1e3,x3=100;var os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(os||(os={}));var pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pt||(pt={}));var Jr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jr||(Jr={}));var ay;(function(t){t.websocket="websocket"})(ay||(ay={}));var ls;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ls||(ls={}));class w3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(e,r,a){var i,l;const u=e.topic,d=(i=e.ref)!==null&&i!==void 0?i:"",f=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+d.length+u.length+m.length+y.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(x),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,f.length),w.setUint8(_++,d.length),w.setUint8(_++,u.length),w.setUint8(_++,m.length),w.setUint8(_++,y.length),w.setUint8(_++,r),Array.from(f,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(d,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(u,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(m,S=>w.setUint8(_++,S.charCodeAt(0))),Array.from(y,S=>w.setUint8(_++,S.charCodeAt(0)));var E=new Uint8Array(x.byteLength+a.byteLength);return E.set(new Uint8Array(x),0),E.set(new Uint8Array(a),x.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[i,l,u,d,f]=a;return r({join_ref:i,ref:l,topic:u,event:d,payload:f})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),i=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,a){const i=r.getUint8(1),l=r.getUint8(2),u=r.getUint8(3),d=r.getUint8(4);let f=this.HEADER_LENGTH+4;const m=a.decode(e.slice(f,f+i));f=f+i;const v=a.decode(e.slice(f,f+l));f=f+l;const y=a.decode(e.slice(f,f+u));f=f+u;const b=e.slice(f,e.byteLength),x=d===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,w={type:this.BROADCAST_EVENT,event:v,payload:x};return u>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class rC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ve||(Ve={}));const c1=(t,e,r={})=>{var a;const i=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=_3(u,t,e,i),l),{}):{}},_3=(t,e,r,a)=>{const i=e.find(d=>d.name===t),l=i?.type,u=r[t];return l&&!a.includes(l)?nC(l,u):sy(u)},nC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return N3(e,r)}switch(t){case Ve.bool:return S3(e);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return E3(e);case Ve.json:case Ve.jsonb:return j3(e);case Ve.timestamp:return T3(e);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return sy(e);default:return sy(e)}},sy=t=>t,S3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},E3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},j3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},N3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let l;const u=t.slice(1,r);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(d=>nC(e,d))}return t},T3=t=>typeof t=="string"?t.replace(" ","T"):t,aC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class km{constructor(e,r,a={},i=ny){this.channel=e,this.event=r,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iy||(iy={}));let sC=class Uc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uc.syncState(this.state,i,l,u),this.pendingDiffs.forEach(f=>{this.state=Uc.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Uc.syncDiff(this.state,i,l,u),d())}),this.onJoin((i,l,u)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:u})}),this.onLeave((i,l,u)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,i){const l=this.cloneDeep(e),u=this.transformState(r),d={},f={};return this.map(l,(m,v)=>{u[m]||(f[m]=v)}),this.map(u,(m,v)=>{const y=l[m];if(y){const b=v.map(E=>E.presence_ref),x=y.map(E=>E.presence_ref),w=v.filter(E=>x.indexOf(E.presence_ref)<0),_=y.filter(E=>b.indexOf(E.presence_ref)<0);w.length>0&&(d[m]=w),_.length>0&&(f[m]=_)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:f},a,i)}static syncDiff(e,r,a,i){const{joins:l,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(d,f)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(f),v.length>0){const y=e[d].map(x=>x.presence_ref),b=v.filter(x=>y.indexOf(x.presence_ref)<0);e[d].unshift(...b)}a(d,v,f)}),this.map(u,(d,f)=>{let m=e[d];if(!m)return;const v=f.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),e[d]=m,i(d,m,f),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const i=e[a];return"metas"in i?r[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[a]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var oy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(oy||(oy={}));var Si;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Si||(Si={}));var un;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(un||(un={}));const O3=pt;let iC=class ol{constructor(e,r={config:{}},a){var i,l;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new km(this,Jr.join,this.params,this.timeout),this.rejoinTimer=new rC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jr.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new sC(this),this.broadcastEndpointURL=aC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:u,presence:d,private:f}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[Si.PRESENCE]&&this.bindings[Si.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},b={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(un.CHANNEL_ERROR,x)),this._onClose(()=>e?.(un.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(un.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(w=_?.length)!==null&&w!==void 0?w:0,S=[];for(let N=0;N<E;N++){const T=_[N],{filter:{event:O,schema:M,table:D,filter:C}}=T,L=x&&x[N];if(L&&L.event===O&&ol.isFilterValueEqual(L.schema,M)&&ol.isFilterValueEqual(L.table,D)&&ol.isFilterValueEqual(L.filter,C))S.push(Object.assign(Object.assign({},T),{id:L.id}));else{this.unsubscribe(),this.state=pt.errored,e?.(un.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(un.SUBSCRIBED);return}}).receive("error",x=>{this.state=pt.errored,e?.(un.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(un.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===pt.joined&&e===Si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const u={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const m=await d.json();f=m.error||m.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,f;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jr.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new km(this,Jr.leave,{},e),a.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),u}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new km(this,e,r,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>x3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var i,l;const u=e.toLocaleLowerCase(),{close:d,error:f,leave:m,join:v}=Jr;if(a&&[d,f,m,v].indexOf(u)>=0&&a!==this._joinRef())return;let b=this._onMessage(u,r,a);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,_,E;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(_=x.filter)===null||_===void 0?void 0:_.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===u}).map(x=>x.callback(b,a)):(l=this.bindings[u])===null||l===void 0||l.filter(x=>{var w,_,E,S,N,T;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const O=x.id,M=(w=x.filter)===null||w===void 0?void 0:w.event;return O&&((_=r.ids)===null||_===void 0?void 0:_.includes(O))&&(M==="*"||M?.toLocaleLowerCase()===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const O=(N=(S=x?.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return O==="*"||O===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:_,table:E,commit_timestamp:S,type:N,errors:T}=w;b=Object.assign(Object.assign({},{schema:_,table:E,commit_timestamp:S,eventType:N,new:{},old:{},errors:T}),this._getPayloadRecords(w))}x.callback(b,a)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&ol.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jr.close,{},e)}_onError(e){this._on(Jr.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=c1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=c1(e.columns,e.old_record)),r}};const Mm=()=>{},Oc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},C3=[1e3,2e3,5e3,1e4],A3=1e4,R3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let D3=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ny,this.transport=null,this.heartbeatIntervalMs=Oc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mm,this.ref=0,this.reconnectTimer=null,this.vsn=u1,this.logger=Mm,this.conn=null,this.sendBuffer=[],this.serializer=new w3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ay.websocket}`,this.httpEndpoint=aC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return ls.Connecting;case os.open:return ls.Open;case os.closing:return ls.Closing;default:return ls.Closed}}isConnected(){return this.connectionState()===ls.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new iC(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:a,payload:i,ref:l}=e,u=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${r} ${a} (${l})`,i),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(b3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Oc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:u}=r,d=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${a} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,l,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===os.open||this.conn.readyState===os.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jr.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${a}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([R3],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:g3};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Jr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new rC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Oc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,i,l,u,d,f,m,v,y,b,x;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:ny,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Oc.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Mm,this.vsn=(f=e?.vsn)!==null&&f!==void 0?f:u1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(w=>C3[w-1]||A3),this.vsn){case tC:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((w,_)=>_(JSON.stringify(w))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((w,_)=>_(JSON.parse(w)));break;case y3:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const k3=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:O3,get REALTIME_LISTEN_TYPES(){return Si},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return oy},get REALTIME_PRESENCE_LISTEN_EVENTS(){return iy},get REALTIME_SUBSCRIBE_STATES(){return un},RealtimeChannel:iC,RealtimeClient:D3,RealtimePresence:sC,WebSocketFactory:eC},Symbol.toStringTag,{value:"Module"})),oC=gn(k3);class Ll extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function et(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lC extends Ll{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class id extends Ll{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Uy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),M3=()=>Response,ly=t=>{if(Array.isArray(t))return t.map(r=>ly(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=ly(a)}),e},q3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},P3=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),qm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},L3=(t,e,r)=>me(void 0,void 0,void 0,function*(){const a=yield M3();t instanceof a&&!r?.noResolveJson?t.json().then(i=>{const l=t.status||500,u=i?.statusCode||l+"";e(new lC(qm(i),l,u))}).catch(i=>{e(new id(qm(i),i))}):e(new id(qm(t),t))}),$3=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(q3(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function $l(t,e,r,a,i,l){return me(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,$3(e,a,i,l)).then(f=>{if(!f.ok)throw f;return a?.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>L3(f,d,a))})})}function vl(t,e,r,a){return me(this,void 0,void 0,function*(){return $l(t,"GET",e,r,a)})}function Qr(t,e,r,a,i){return me(this,void 0,void 0,function*(){return $l(t,"POST",e,a,i,r)})}function uy(t,e,r,a,i){return me(this,void 0,void 0,function*(){return $l(t,"PUT",e,a,i,r)})}function U3(t,e,r,a){return me(this,void 0,void 0,function*(){return $l(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function zy(t,e,r,a,i){return me(this,void 0,void 0,function*(){return $l(t,"DELETE",e,a,i,r)})}class z3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return me(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}})}}var uC;class B3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[uC]="BlobDownloadBuilder",this.promise=null}asStream(){return new z3(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return me(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(et(e))return{data:null,error:e};throw e}})}}uC=Symbol.toStringTag;const I3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class H3{constructor(e,r={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=Uy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,i){return me(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},d1),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(f))):(l=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),y=yield(e=="PUT"?uy:Qr)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(et(l))return{data:null,error:l};throw l}})}upload(e,r,a){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,i){return me(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let f;const m=Object.assign({upsert:d1.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",m.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",m.cacheControl)):(f=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield uy(this.fetch,d.toString(),f,{headers:v});return{data:{path:l,fullPath:y.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(et(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return me(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const l=yield Qr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),u=new URL(this.url+l.url),d=u.searchParams.get("token");if(!d)throw new Ll("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}update(e,r,a){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return me(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}copy(e,r,a){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield Qr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,a){return me(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield Qr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,a){return me(this,void 0,void 0,function*(){try{const i=yield Qr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),u=l?`?${l}`:"",d=this._getFinalPath(e),f=()=>vl(this.fetch,`${this.url}/${i}/${d}${u}`,{headers:this.headers,noResolveJson:!0});return new B3(f,this.shouldThrowOnError)}info(e){return me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield vl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ly(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}exists(e){return me(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield U3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a)&&a instanceof id){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),i=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const d=typeof r?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(r?.transform||{});f!==""&&i.push(f);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${m}`)}}}remove(e){return me(this,void 0,void 0,function*(){try{return{data:yield zy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}list(e,r,a){return me(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},I3),r),{prefix:e||""});return{data:yield Qr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}listV2(e,r){return me(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield Qr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const cC="2.87.1",dC={"X-Client-Info":`storage-js/${cC}`};class F3{constructor(e,r={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dC),r),this.fetch=Uy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return me(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield vl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}getBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}createBucket(e){return me(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield Qr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return me(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(et(a))return{data:null,error:a};throw a}})}emptyBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield zy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var gl=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function G3(t,e,r){const a=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&a.searchParams.set(i,l);return a.toString()}async function Y3(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function W3(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:i,body:l,headers:u}){const d=G3(t.baseUrl,a,i),f=await Y3(t.auth),m=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...f,...u},body:l?JSON.stringify(l):void 0}),v=await m.text(),y=(m.headers.get("content-type")||"").includes("application/json"),b=y&&v?JSON.parse(v):v;if(!m.ok){const x=y?b:void 0,w=x?.error;throw new gl(w?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:w?.type,icebergCode:w?.code,details:x})}return{status:m.status,headers:m.headers,data:b}}}}function Cc(t){return t.join("")}var V3=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Cc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cc(t.namespace)}`}),!0}catch(e){if(e instanceof gl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof gl&&r.status===409)return;throw r}}};function mi(t){return t.join("")}var K3=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mi(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mi(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mi(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mi(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof gl&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof gl&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},X3=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=W3({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new V3(this.client,e),this.tableOps=new K3(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class fC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dC),r),this.fetch=Uy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}listBuckets(e){return me(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield vl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield zy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}})}from(e){if(!P3(e))throw new Ll("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new X3({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>me(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(l,u){const d=l[u];return typeof d!="function"?d:(...f)=>me(this,void 0,void 0,function*(){try{return{data:yield d.apply(l,f),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}})}})}}const By={"X-Client-Info":`storage-js/${cC}`,"Content-Type":"application/json"};class Iy extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ur(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class zc extends Iy{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class hC extends Iy{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var cy;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(cy||(cy={}));const Td=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Q3=()=>Response,mC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},J3=t=>Array.from(new Float32Array(t)),Z3=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},f1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),e5=(t,e,r)=>me(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,l=t;if(typeof l.json=="function")l.json().then(u=>{const d=u?.statusCode||u?.code||i+"";e(new zc(f1(u),i,d))}).catch(()=>{const u=i+"",d=l.statusText||`HTTP ${i} error`;e(new zc(d,i,u))});else{const u=i+"",d=l.statusText||`HTTP ${i} error`;e(new zc(d,i,u))}}else e(new hC(f1(t),t))}),t5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return a?(mC(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),r)):i};function r5(t,e,r,a,i,l){return me(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(r,t5(e,a,i,l)).then(f=>{if(!f.ok)throw f;if(a?.noResolveJson)return f;const m=f.headers.get("content-type");return!m||!m.includes("application/json")?{}:f.json()}).then(f=>u(f)).catch(f=>e5(f,d,a))})})}function _r(t,e,r,a,i){return me(this,void 0,void 0,function*(){return r5(t,"POST",e,a,i,r)})}class pC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},By),r),this.fetch=Td(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return me(this,void 0,void 0,function*(){try{return{data:(yield _r(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}getIndex(e,r){return me(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}})}listIndexes(e){return me(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return me(this,void 0,void 0,function*(){try{return{data:(yield _r(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ur(a))return{data:null,error:a};throw a}})}}class vC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},By),r),this.fetch=Td(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return me(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield _r(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}getVectors(e){return me(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}listVectors(e){return me(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield _r(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}queryVectors(e){return me(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}deleteVectors(e){return me(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield _r(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}}class gC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},By),r),this.fetch=Td(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return me(this,void 0,void 0,function*(){try{return{data:(yield _r(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}getBucket(e){return me(this,void 0,void 0,function*(){try{return{data:yield _r(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}listBuckets(){return me(this,arguments,void 0,function*(e={}){try{return{data:yield _r(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}deleteBucket(e){return me(this,void 0,void 0,function*(){try{return{data:(yield _r(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ur(r))return{data:null,error:r};throw r}})}}class yC extends gC{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new bC(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return me(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return me(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return me(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return me(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class bC extends pC{constructor(e,r,a,i){super(e,r,i),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return me(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return me(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return me(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return me(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new xC(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class xC extends vC{constructor(e,r,a,i,l){super(e,r,l),this.vectorBucketName=a,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return me(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return me(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return me(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return me(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return me(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class n5 extends F3{constructor(e,r={},a,i){super(e,r,a,i)}from(e){return new H3(this.url,this.headers,e,this.fetch)}get vectors(){return new yC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fC(this.url+"/iceberg",this.headers,this.fetch)}}const a5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:fC,StorageApiError:lC,StorageClient:n5,StorageError:Ll,StorageUnknownError:id,StorageVectorsApiError:zc,StorageVectorsClient:yC,StorageVectorsError:Iy,get StorageVectorsErrorCode(){return cy},StorageVectorsUnknownError:hC,VectorBucketApi:gC,VectorBucketScope:bC,VectorDataApi:vC,VectorIndexApi:pC,VectorIndexScope:xC,isPlainObject:mC,isStorageError:et,isStorageVectorsError:ur,normalizeToFloat32:J3,resolveFetch:Td,resolveResponse:Q3,validateVectorDimension:Z3},Symbol.toStringTag,{value:"Module"})),s5=gn(a5);var Pm={},Yo={},h1;function i5(){return h1||(h1=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.version=void 0,Yo.version="2.87.1"),Yo}var m1;function o5(){return m1||(m1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=i5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Pm)),Pm}var Lm={},p1;function l5(){return p1||(p1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...l)=>i(...l):(...l)=>fetch(...l);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const a=(i,l,u)=>{const d=(0,t.resolveFetch)(u),f=(0,t.resolveHeadersConstructor)();return async(m,v)=>{var y;const b=(y=await l())!==null&&y!==void 0?y:i;let x=new f(v?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${b}`),d(m,Object.assign(Object.assign({},v),{headers:x}))}};t.fetchWithAuth=a})(Lm)),Lm}var Un={},v1;function u5(){if(v1)return Un;v1=1,Object.defineProperty(Un,"__esModule",{value:!0}),Un.isBrowser=void 0,Un.uuid=t,Un.ensureTrailingSlash=e,Un.applySettingDefaults=a,Un.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var u=Math.random()*16|0,d=l=="x"?u:u&3|8;return d.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";Un.isBrowser=r;function a(l,u){var d,f;const{db:m,auth:v,realtime:y,global:b}=l,{db:x,auth:w,realtime:_,global:E}=u,S={db:Object.assign(Object.assign({},x),m),auth:Object.assign(Object.assign({},w),v),realtime:Object.assign(Object.assign({},_),y),storage:{},global:Object.assign(Object.assign(Object.assign({},E),b),{headers:Object.assign(Object.assign({},(d=E?.headers)!==null&&d!==void 0?d:{}),(f=b?.headers)!==null&&f!==void 0?f:{})}),accessToken:async()=>""};return l.accessToken?S.accessToken=l.accessToken:delete S.accessToken,S}function i(l){const u=l?.trim();if(!u)throw new Error("supabaseUrl is required.");if(!u.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(u))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Un}var Wo={};const wC="2.87.1",wi=30*1e3,dy=3,$m=dy*wi,c5="http://localhost:9999",d5="supabase.auth.token",f5={"X-Client-Info":`gotrue-js/${wC}`},fy="X-Supabase-Api-Version",_C={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},h5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,m5=600*1e3;let Ti=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let SC=class extends Ti{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function EC(t){return ge(t)&&t.name==="AuthApiError"}let Ea=class extends Ti{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Vn=class extends Ti{constructor(e,r,a,i){super(e,a,i),this.name=r,this.status=a}},lr=class extends Vn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function jC(t){return ge(t)&&t.name==="AuthSessionMissingError"}let ns=class extends Vn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ll=class extends Vn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ul=class extends Vn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function NC(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}let hy=class extends Vn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},od=class extends Vn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Bc(t){return ge(t)&&t.name==="AuthRetryableFetchError"}let my=class extends Vn{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function p5(t){return ge(t)&&t.name==="AuthWeakPasswordError"}let ld=class extends Vn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g1=` 	
\r=`.split(""),v5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<g1.length;e+=1)t[g1[e].charCodeAt(0)]=-2;for(let e=0;e<ud.length;e+=1)t[ud[e].charCodeAt(0)]=e;return t})();function y1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(ud[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(ud[a]),e.queuedBits-=6}}function TC(t,e,r){const a=v5[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function b1(t){const e=[],r=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=u=>{b5(u,a,r)};for(let u=0;u<t.length;u+=1)TC(t.charCodeAt(u),i,l);return e.join("")}function g5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function y5(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}g5(a,e)}}function b5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ei(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)TC(t.charCodeAt(i),r,a);return new Uint8Array(e)}function x5(t){const e=[];return y5(t,r=>e.push(r)),new Uint8Array(e)}function cs(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>y1(i,r,a)),y1(null,r,a),e.join("")}function w5(t){return Math.round(Date.now()/1e3)+t}function _5(){return Symbol("auth-callback")}const Ut=()=>typeof window<"u"&&typeof document<"u",es={tested:!1,writable:!1},OC=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(es.tested)return es.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),es.tested=!0,es.writable=!0}catch{es.tested=!0,es.writable=!1}return es.writable};function S5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((a,i)=>{e[i]=a}),e}const CC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),E5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_i=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ts=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$t=async(t,e)=>{await t.removeItem(e)};class Od{constructor(){this.promise=new Od.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Od.promiseConstructor=Promise;function Um(t){const e=t.split(".");if(e.length!==3)throw new ld("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!h5.test(e[a]))throw new ld("JWT not in base64url format");return{header:JSON.parse(b1(e[0])),payload:JSON.parse(b1(e[1])),signature:Ei(e[2]),raw:{header:e[0],payload:e[1]}}}async function j5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function N5(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await t(l);if(!e(l,null,u)){a(u);return}}catch(u){if(!e(l,u)){i(u);return}}})()})}function T5(t){return("0"+t.toString(16)).substr(-2)}function O5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,T5).join("")}async function C5(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function A5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await C5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pi(t,e,r=!1){const a=O5();let i=a;r&&(i+="/PASSWORD_RECOVERY"),await _i(t,`${e}-code-verifier`,i);const l=await A5(a);return[l,a===l?"plain":"s256"]}const R5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function D5(t){const e=t.headers.get(fy);if(!e||!e.match(R5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function k5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function M5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const q5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vi(t){if(!q5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function P5(t,e){return new Proxy(t,{get:(r,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,i)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,i)}})}function x1(t){return JSON.parse(JSON.stringify(t))}const as=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),L5=[502,503,504];async function w1(t){var e;if(!E5(t))throw new od(as(t),0);if(L5.includes(t.status))throw new od(as(t),t.status);let r;try{r=await t.json()}catch(l){throw new Ea(as(l),l)}let a;const i=D5(t);if(i&&i.getTime()>=_C["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new my(as(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new lr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new my(as(r),t.status,r.weak_password.reasons);throw new SC(as(r),t.status||500,a)}const $5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),r))};async function xe(t,e,r,a){var i;const l=Object.assign({},a?.headers);l[fy]||(l[fy]=_C["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await U5(t,e,r+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function U5(t,e,r,a,i,l){const u=$5(e,a,i,l);let d;try{d=await t(r,Object.assign({},u))}catch(f){throw console.error(f),new od(as(f),0)}if(d.ok||await w1(d),a?.noResolveJson)return d;try{return await d.json()}catch(f){await w1(f)}}function Xr(t){var e;let r=null;I5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=w5(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function _1(t){const e=Xr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ja(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function z5(t){return{data:t,error:null}}function B5(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l}=t,u=$i(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l},f=Object.assign({},u);return{data:{properties:d,user:f},error:null}}function S1(t){return t}function I5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ic=["global","local","others"];let Hy=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=CC(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Ic[0]){if(Ic.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ic.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ja})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=$i(e,["options"]),i=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:B5,redirectTo:r?.redirectTo})}catch(r){if(ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ja})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,i,l,u,d,f;try{const m={nextPage:null,lastPage:0,total:0},v=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:S1});if(v.error)throw v.error;const y=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);m[`${E}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ge(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){vi(e);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ja})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){vi(e);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ja})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){vi(e);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ja})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){vi(e.userId);try{const{data:r,error:a}=await xe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:a}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteFactor(e){vi(e.userId),vi(e.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,i,l,u,d,f;try{const m={nextPage:null,lastPage:0,total:0},v=await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:S1});if(v.error)throw v.error;const y=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(f=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);m[`${E}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ge(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await xe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await xe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ge(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await xe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await xe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}};function E1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ss={debug:!!(globalThis&&OC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let AC=class extends Fy{};class H5 extends Fy{}async function RC(t,e,r){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new AC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ss.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const j1={};async function F5(t,e,r){var a;const i=(a=j1[t])!==null&&a!==void 0?a:Promise.resolve(),l=Promise.race([i.catch(()=>null),e>=0?new Promise((u,d)=>{setTimeout(()=>{d(new H5(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(u=>u)).catch(u=>{if(u&&u.isAcquireTimeout)throw u;return null}).then(async()=>await r());return j1[t]=l.catch(async u=>{if(u&&u.isAcquireTimeout)return await i,null;throw u}),await l}function G5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Y5(t){return parseInt(t,16)}function W5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function V5(t){var e;const{chainId:r,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:u,notBefore:d,requestId:f,resources:m,scheme:v,uri:y,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=DC(t.address),w=v?`${v}://${a}`:a,_=t.statement?`${t.statement}
`:"",E=`${w} wants you to sign in with your Ethereum account:
${x}

${_}`;let S=`URI: ${y}
Version: ${b}
Chain ID: ${r}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(i&&(S+=`
Expiration Time: ${i.toISOString()}`),d&&(S+=`
Not Before: ${d.toISOString()}`),f&&(S+=`
Request ID: ${f}`),m){let N=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);N+=`
- ${T}`}S+=N}return`${E}
${S}`}class vt extends Error{constructor({message:e,code:r,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class cd extends vt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function K5({error:t,options:e}){var r,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new vt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const u=window.location.hostname;if(kC(u)){if(l.rp.id!==u)return new vt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function X5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new vt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(kC(a)){if(r.rpId!==a)return new vt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Q5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const J5=new Q5;function Z5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,i=$i(t,["challenge","user","excludeCredentials"]),l=Ei(e).buffer,u=Object.assign(Object.assign({},r),{id:Ei(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:u});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const m=a[f];d.excludeCredentials[f]=Object.assign(Object.assign({},m),{id:Ei(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function eq(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=$i(t,["challenge","allowCredentials"]),i=Ei(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let u=0;u<r.length;u++){const d=r[u];l.allowCredentials[u]=Object.assign(Object.assign({},d),{id:Ei(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function tq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:cs(new Uint8Array(t.response.attestationObject)),clientDataJSON:cs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:cs(new Uint8Array(i.authenticatorData)),clientDataJSON:cs(new Uint8Array(i.clientDataJSON)),signature:cs(new Uint8Array(i.signature)),userHandle:i.userHandle?cs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function N1(){var t,e;return!!(Ut()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function nq(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cd("Browser returned unexpected credential type",e)}:{data:null,error:new cd("Empty credential response",e)}}catch(e){return{data:null,error:K5({error:e,options:t})}}}async function aq(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new cd("Browser returned unexpected credential type",e)}:{data:null,error:new cd("Empty credential response",e)}}catch(e){return{data:null,error:X5({error:e,options:t})}}}const sq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},iq={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function dd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const u=i[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(r(u))a[l]=u;else if(e(u)){const d=a[l];e(d)?a[l]=dd(d,u):a[l]=dd(u)}else a[l]=u}return a}function oq(t,e){return dd(sq,t,e||{})}function lq(t,e){return dd(iq,t,e||{})}class uq{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:i},l){try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!u)return{data:null,error:d};const f=i??J5.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:m}=u.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(u.webauthn.type){case"create":{const m=oq(u.webauthn.credential_options.publicKey,l?.create),{data:v,error:y}=await nq({publicKey:m,signal:f});return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const m=lq(u.webauthn.credential_options.publicKey,l?.request),{data:v,error:y}=await aq(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:m,signal:f}));return v?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Ea("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ti("rpId is required for WebAuthn authentication")};try{if(!N1())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:i},{request:l});if(!u)return{data:null,error:d};const{webauthn:f}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Ea("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ti("rpId is required for WebAuthn registration")};try{if(!N1())return{data:null,error:new Ea("Browser does not support WebAuthn",null)};const{data:u,error:d}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:f,error:m}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:i},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:m}}catch(u){return ge(u)?{data:null,error:u}:{data:null,error:new Ea("Unexpected error in register",u)}}}}G5();const cq={url:c5,storageKey:d5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:f5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function T1(t,e,r){return await r()}const gi={};let Gy=class py{get jwks(){var e,r;return(r=(e=gi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=gi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){gi[this.storageKey]=Object.assign(Object.assign({},gi[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},cq),e);if(this.storageKey=l.storageKey,this.instanceID=(r=py.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,py.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ut()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Hy({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=CC(l.fetch),this.lock=l.lock||T1,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Ut()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=RC:this.lock=T1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:OC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=E1(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=E1(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Ut()&&(r=S5(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Ut()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),NC(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ge(r)?this._returnResult({error:r}):this._returnResult({error:new Ea("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,i;try{const l=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xr}),{data:u,error:d}=l;if(d||!u)return this._returnResult({data:{user:null,session:null},error:d});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,a,i;try{let l;if("email"in e){const{email:v,password:y,options:b}=e;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await pi(this.storage,this.storageKey)),l=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:y,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Xr})}else if("phone"in e){const{phone:v,password:y,options:b}=e;l=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Xr})}else throw new ll("You must provide either an email or phone number and a password");const{data:u,error:d}=l;if(d||!u)return await $t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const f=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(l){if(await $t(this.storage,`${this.storageKey}-code-verifier`),ge(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:u,options:d}=e;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:_1})}else if("phone"in e){const{phone:l,password:u,options:d}=e;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:_1})}else throw new ll("You must provide either an email or phone number and a password");const{data:a,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const l=new ns;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,i,l,u,d,f,m,v,y,b;let x,w;if("message"in e)x=e.message,w=e.signature;else{const{chain:_,wallet:E,statement:S,options:N}=e;let T;if(Ut())if(typeof E=="object")T=E;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")T=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=E}const O=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),M=await T.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=DC(M[0]);let C=(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!C){const P=await T.request({method:"eth_chainId"});C=Y5(P)}const L={domain:O.host,address:D,statement:S,uri:O.href,version:"1",chainId:C,nonce:(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(u=(l=N?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=N?.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=V5(L),w=await T.request({method:"personal_sign",params:[W5(x),D]})}try{const{data:_,error:E}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Xr});if(E)throw E;if(!_||!_.session||!_.user){const S=new ns;return this._returnResult({data:{user:null,session:null},error:S})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:E})}catch(_){if(ge(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,a,i,l,u,d,f,m,v,y,b,x;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:E,wallet:S,statement:N,options:T}=e;let O;if(Ut())if(typeof S=="object")O=S;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))O=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const M=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const D=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let C;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")C=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)C=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),_=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(a=T?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=T?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((u=T?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((f=T?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const D=await O.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:E,error:S}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:cs(_)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Xr});if(S)throw S;if(!E||!E.session||!E.user){const N=new ns;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:S})}catch(E){if(ge(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await ts(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(r??"").split("/");try{const{data:l,error:u}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Xr});if(await $t(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const d=new ns;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:u})}catch(l){if(await $t(this.storage,`${this.storageKey}-code-verifier`),ge(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:a,token:i,access_token:l,nonce:u}=e,d=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Xr}),{data:f,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!f||!f.session||!f.user){const v=new ns;return this._returnResult({data:{user:null,session:null},error:v})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:m})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,i,l,u;try{if("email"in e){const{email:d,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await pi(this.storage,this.storageKey));const{error:y}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=f?.data)!==null&&r!==void 0?r:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:f}=e,{data:m,error:v}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=f?.data)!==null&&i!==void 0?i:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new ll("You must provide either an email or phone number.")}catch(d){if(await $t(this.storage,`${this.storageKey}-code-verifier`),ge(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,a;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:d}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:Xr});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,m=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:m,session:f},error:null})}catch(i){if(ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,a,i,l,u;try{let d=null,f=null;this.flowType==="pkce"&&([d,f]=await pi(this.storage,this.storageKey));const m=await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:z5});return!((l=m.data)===null||l===void 0)&&l.url&&Ut()&&!(!((u=e.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await $t(this.storage,`${this.storageKey}-code-verifier`),ge(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new lr;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:u}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:u,error:d}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:d})}throw new ll("You must provide either an email or phone number and a type")}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ts(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<$m:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await ts(this.userStorage,this.storageKey+"-user");u?.user?e.user=u.user:e.user=zm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};e.user=P5(e.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ja}):await this._useSession(async r=>{var a,i,l;const{data:u,error:d}=r;if(d)throw d;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lr}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:ja})})}catch(r){if(ge(r))return jC(r)&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new lr;const u=i.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await pi(this.storage,this.storageKey));const{data:m,error:v}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:ja});if(v)throw v;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await $t(this.storage,`${this.storageKey}-code-verifier`),ge(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new lr;const r=Date.now()/1e3;let a=r,i=!0,l=null;const{payload:u}=Um(e.access_token);if(u.exp&&(a=u.exp,i=a<=r),i){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:u,error:d}=r;if(d)throw d;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new lr;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ut())throw new ul("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ul(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new hy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ul("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new hy("No code detected.");const{data:N,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:u,expires_in:d,expires_at:f,token_type:m}=e;if(!l||!d||!u||!m)throw new ul("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(d);let b=v+y;f&&(b=parseInt(f));const x=b-v;x*1e3<=wi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const w=b-y;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,v);const{data:_,error:E}=await this._getUser(l);if(E)throw E;const S={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:y,expires_at:b,refresh_token:u,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:e.type},error:null})}catch(a){if(ge(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ts(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const u=(a=i.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(EC(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=_5(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,i;try{const{data:{session:l},error:u}=r;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await pi(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await $t(this.storage,`${this.storageKey}-code-verifier`),ge(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:i}=await this._useSession(async l=>{var u,d,f,m,v;const{data:y,error:b}=l;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Ut()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(ge(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:u,provider:d,token:f,access_token:m,nonce:v}=e,y=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:f,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Xr}),{data:b,error:x}=y;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ns}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(i){if(await $t(this.storage,`${this.storageKey}-code-verifier`),ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:u}=r;if(u)throw u;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await N5(async i=>(i>0&&await j5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xr})),(i,l)=>{const u=200*Math.pow(2,i);return l&&Bc(l)&&Date.now()+u-a<wi})}catch(a){if(this._debug(r,"error",a),ge(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Ut()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ts(this.storage,this.storageKey);if(i&&this.userStorage){let u=await ts(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:i.user},await _i(this.userStorage,this.storageKey+"-user",u)),i.user=(e=u?.user)!==null&&e!==void 0?e:zm()}else if(i&&!i.user&&!i.user){const u=await ts(this.storage,this.storageKey+"-user");u&&u?.user?(i.user=u.user,await $t(this.storage,this.storageKey+"-user"),await _i(this.storage,this.storageKey,i)):i.user=zm()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<$m;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${$m}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:u}=await this._callRefreshToken(i.refresh_token);u&&(console.error(u),Bc(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(i.access_token);!d&&u?.user?(i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Od;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new lr;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),ge(l)){const u={data:null,error:l};return Bc(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await $t(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await _i(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=x1(i);await _i(this.storage,this.storageKey,l)}else{const i=x1(r);await _i(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $t(this.storage,this.storageKey),await $t(this.storage,this.storageKey+"-code-verifier"),await $t(this.storage,this.storageKey+"-user"),this.userStorage&&await $t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ut()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/wi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wi}ms, refresh threshold is ${dy} ticks`),i<=dy&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const i=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await pi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});i.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await xe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:m}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&f.type==="totp"&&(!((i=f?.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?tq(e.webauthn.credential_response):rq(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:f}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const u=await xe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:d}=u;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:Z5(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:eq(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Um(a.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?await xe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new lr})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new lr});const u=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ut()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new lr});const u=await xe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return u.data&&u.data.redirect_url&&Ut()&&!r?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await xe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new lr})})}catch(e){if(ge(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?(await xe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new lr})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(d=>d.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+m5>i)return a;const{data:l,error:u}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});a=x.session.access_token}const{header:i,payload:l,signature:u,raw:{header:d,payload:f}}=Um(a);r?.allowExpired||k5(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:l,header:i,signature:u},error:null}}const v=M5(i.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,u,x5(`${d}.${f}`)))throw new ld("Invalid JWT signature");return{data:{claims:l,header:i,signature:u},error:null}}catch(a){if(ge(a))return this._returnResult({data:null,error:a});throw a}}};Gy.nextInstanceID={};const dq=Hy,fq=Gy,hq=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:dq,AuthApiError:SC,AuthClient:fq,AuthError:Ti,AuthImplicitGrantRedirectError:ul,AuthInvalidCredentialsError:ll,AuthInvalidJwtError:ld,AuthInvalidTokenResponseError:ns,AuthPKCEGrantCodeExchangeError:hy,AuthRetryableFetchError:od,AuthSessionMissingError:lr,AuthUnknownError:Ea,AuthWeakPasswordError:my,CustomAuthError:Vn,GoTrueAdminApi:Hy,GoTrueClient:Gy,NavigatorLockAcquireTimeoutError:AC,SIGN_OUT_SCOPES:Ic,isAuthApiError:EC,isAuthError:ge,isAuthImplicitGrantRedirectError:NC,isAuthRetryableFetchError:Bc,isAuthSessionMissingError:jC,isAuthWeakPasswordError:p5,lockInternals:ss,navigatorLock:RC,processLock:F5},Symbol.toStringTag,{value:"Module"})),MC=gn(hq);var O1;function mq(){if(O1)return Wo;O1=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.SupabaseAuthClient=void 0;const t=MC;let e=class extends t.AuthClient{constructor(a){super(a)}};return Wo.SupabaseAuthClient=e,Wo}var C1;function A1(){if(C1)return wc;C1=1,Object.defineProperty(wc,"__esModule",{value:!0});const t=W2,e=Z2(),r=oC,a=s5,i=o5(),l=l5(),u=u5(),d=mq();class f{constructor(v,y,b){var x,w,_;this.supabaseUrl=v,this.supabaseKey=y;const E=(0,u.validateSupabaseUrl)(v);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",E),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",E),this.storageUrl=new URL("storage/v1",E),this.functionsUrl=new URL("functions/v1",E);const S=`sb-${E.hostname.split(".")[0]}-auth-token`,N={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:S}),global:i.DEFAULT_GLOBAL_OPTIONS},T=(0,u.applySettingDefaults)(b??{},N);this.storageKey=(x=T.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(w=T.global.headers)!==null&&w!==void 0?w:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(O,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=T.auth)!==null&&_!==void 0?_:{},this.headers,T.global.fetch),this.fetch=(0,l.fetchWithAuth)(y,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(O=>this.realtime.setAuth(O)).catch(O=>console.warn("Failed to set initial Realtime auth token:",O)),this.rest=new e.PostgrestClient(new URL("rest/v1",E).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,y={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,y,b)}channel(v,y={config:{}}){return this.realtime.channel(v,y)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,y;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(y=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,storageKey:_,flowType:E,lock:S,debug:N,throwOnError:T},O,M){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),O),storageKey:_,autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,flowType:E,lock:S,debug:N,throwOnError:T,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some(C=>C.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,b)=>{this._handleTokenChanged(y,"CLIENT",b?.access_token)})}_handleTokenChanged(v,y,b){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return wc.default=f,wc}var R1;function pq(){return R1||(R1=1,(function(t){var e=$n&&$n.__createBinding||(Object.create?(function(v,y,b,x){x===void 0&&(x=b);var w=Object.getOwnPropertyDescriptor(y,b);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[b]}}),Object.defineProperty(v,x,w)}):(function(v,y,b,x){x===void 0&&(x=b),v[x]=y[b]})),r=$n&&$n.__exportStar||function(v,y){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(y,b)&&e(y,v,b)},a=$n&&$n.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=a(A1());r(MC,t);var l=Z2();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var u=W2;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return u.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return u.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return u.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return u.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return u.FunctionRegion}}),r(oC,t);var d=A1();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return a(d).default}});const f=(v,y,b)=>new i.default(v,y,b);t.createClient=f;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const y=v.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})($n)),$n}var qC=pq();const PC=Gt(qC),vq=TM({__proto__:null,default:PC},[qC]),{PostgrestError:X7,FunctionsHttpError:Q7,FunctionsFetchError:J7,FunctionsRelayError:Z7,FunctionsError:e9,FunctionRegion:t9,SupabaseClient:r9,createClient:gq,GoTrueAdminApi:n9,GoTrueClient:a9,AuthAdminApi:s9,AuthClient:i9,navigatorLock:o9,NavigatorLockAcquireTimeoutError:l9,lockInternals:u9,processLock:c9,SIGN_OUT_SCOPES:d9,AuthError:f9,AuthApiError:h9,AuthUnknownError:m9,CustomAuthError:p9,AuthSessionMissingError:v9,AuthInvalidTokenResponseError:g9,AuthInvalidCredentialsError:y9,AuthImplicitGrantRedirectError:b9,AuthPKCEGrantCodeExchangeError:x9,AuthRetryableFetchError:w9,AuthWeakPasswordError:_9,AuthInvalidJwtError:S9,isAuthError:E9,isAuthApiError:j9,isAuthSessionMissingError:N9,isAuthImplicitGrantRedirectError:T9,isAuthRetryableFetchError:O9,isAuthWeakPasswordError:C9,RealtimePresence:A9,RealtimeChannel:R9,RealtimeClient:D9,REALTIME_LISTEN_TYPES:k9,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:M9,REALTIME_PRESENCE_LISTEN_EVENTS:q9,REALTIME_SUBSCRIBE_STATES:P9,REALTIME_CHANNEL_STATES:L9}=PC||vq,yq="https://qtbdvbhewbrgvweeruhz.supabase.co",bq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0YmR2Ymhld2JyZ3Z3ZWVydWh6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzODQxODgsImV4cCI6MjA4MDk2MDE4OH0.GwOJ29umkje7Ko6ShUeNmHP_TkgIXByGphthll8QzCY";console.log(" Checking environment variables...");console.log("VITE_SUPABASE_URL:"," Set");console.log("VITE_SUPABASE_ANON_KEY:"," Set");const je=gq(yq,bq),LC=R.createContext(void 0),xq=({children:t})=>{const[e,r]=R.useState(null),[a,i]=R.useState(null),[l,u]=R.useState(!0),[d,f]=R.useState(null);R.useEffect(()=>{je.auth.getSession().then(({data:{session:x}})=>{r(x),x?m(x.user.id):u(!1)});const{data:{subscription:b}}=je.auth.onAuthStateChange((x,w)=>{r(w),w?m(w.user.id):(i(null),u(!1))});return()=>b.unsubscribe()},[]);const m=async b=>{try{f(null);const{data:x,error:w}=await je.from("profiles").select("*").eq("id",b).single();if(w){console.error("Error fetching profile:",w),f("No se pudo cargar el perfil de usuario"),i(null);return}if(!x){f("Perfil de usuario no encontrado"),i(null);return}if(!x.id||!x.role||!x.full_name){console.error("Invalid profile data structure:",x),f("Datos de perfil invlidos"),i(null);return}if(x.role!=="superadmin"&&!x.salon_id){console.error("Missing salon_id for non-superadmin user:",x),f("Usuario sin saln asignado"),i(null);return}i(x)}catch(x){console.error("Unexpected error fetching profile:",x),f("Error inesperado al cargar el perfil"),i(null)}finally{u(!1)}},v=async()=>{await je.auth.signOut(),i(null),r(null)},y={session:e,profile:a,loading:l,error:d,isSuperAdmin:a?.role==="superadmin",isAdmin:a?.role==="admin"||a?.role==="superadmin",signOut:v};return h.jsx(LC.Provider,{value:y,children:t})},Ul=()=>{const t=R.useContext(LC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const wq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_q=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),D1=t=>{const e=_q(t);return e.charAt(0).toUpperCase()+e.slice(1)},$C=(...t)=>t.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),Sq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Eq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jq=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:u,...d},f)=>R.createElement("svg",{ref:f,...Eq,width:e,height:e,stroke:t,strokeWidth:a?Number(r)*24/Number(e):r,className:$C("lucide",i),...!l&&!Sq(d)&&{"aria-hidden":"true"},...d},[...u.map(([m,v])=>R.createElement(m,v)),...Array.isArray(l)?l:[l]]));const _e=(t,e)=>{const r=R.forwardRef(({className:a,...i},l)=>R.createElement(jq,{ref:l,iconNode:e,className:$C(`lucide-${wq(D1(t))}`,`lucide-${t}`,a),...i}));return r.displayName=D1(t),r};const Nq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],k1=_e("activity",Nq);const Tq=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],fd=_e("building-2",Tq);const Oq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Cq=_e("calendar-check",Oq);const Aq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],en=_e("calendar",Aq);const Rq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hn=_e("check",Rq);const Dq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],kq=_e("chevron-down",Dq);const Mq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yy=_e("chevron-left",Mq);const qq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yl=_e("chevron-right",qq);const Pq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zl=_e("circle-alert",Pq);const Lq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vy=_e("circle-check-big",Lq);const $q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Uq=_e("circle-user",$q);const zq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gy=_e("circle-x",zq);const Bq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Aa=_e("clock",Bq);const Iq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],UC=_e("dollar-sign",Iq);const Hq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],zC=_e("eye-off",Hq);const Fq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],BC=_e("eye",Fq);const Gq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yq=_e("file-text",Gq);const Wq=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],Vq=_e("grip-vertical",Wq);const Kq=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Xq=_e("key",Kq);const Qq=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xt=_e("loader-circle",Qq);const Jq=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Zq=_e("lock",Jq);const eP=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wy=_e("log-out",eP);const tP=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Cd=_e("mail",tP);const rP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nP=_e("map-pin",rP);const aP=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Vy=_e("message-circle",aP);const sP=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],IC=_e("message-square",sP);const iP=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],HC=_e("pen-line",iP);const oP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],FC=_e("pen",oP);const lP=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],GC=_e("pencil",lP);const uP=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],YC=_e("phone-call",uP);const cP=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Bl=_e("phone",cP);const dP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Fn=_e("plus",dP);const fP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ad=_e("refresh-cw",fP);const hP=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Rd=_e("scissors",hP);const mP=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ms=_e("search",mP);const pP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vP=_e("send",pP);const gP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],WC=_e("tag",gP);const yP=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],VC=_e("ticket",yP);const bP=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],xP=_e("toggle-left",bP);const wP=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],_P=_e("toggle-right",wP);const SP=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ps=_e("trash-2",SP);const EP=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jP=_e("triangle-alert",EP);const NP=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TP=_e("user-cog",NP);const OP=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Dd=_e("user-check",OP);const CP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pn=_e("user",CP);const AP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ds=_e("users",AP);const RP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sr=_e("x",RP);class DP extends R.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",children:h.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-lg border border-slate-200",children:[h.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[h.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:h.jsx(jP,{className:"h-6 w-6 text-yellow-600"})}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Algo sali mal"}),h.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"La aplicacin encontr un error inesperado. Por favor, recarga la pgina o contacta al soporte."}),this.state.error&&h.jsxs("details",{className:"text-xs text-slate-500 mb-4",children:[h.jsx("summary",{className:"cursor-pointer font-medium mb-1",children:"Detalles tcnicos"}),h.jsx("pre",{className:"mt-2 p-2 bg-slate-100 rounded overflow-auto",children:this.state.error.toString()})]})]})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition",children:"Intentar de nuevo"}),h.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-300 transition",children:"Recargar pgina"})]})]})}):this.props.children}}const kP="@galia.local";function MP(){const[t,e]=R.useState(""),[r,a]=R.useState(""),[i,l]=R.useState(!1),[u,d]=R.useState(!1),[f,m]=R.useState(null),v=Dy(),y=async b=>{b.preventDefault(),d(!0),m(null);const x=t.includes("@")?t:`${t}${kP}`;try{const{data:{user:w},error:_}=await je.auth.signInWithPassword({email:x,password:r});if(_){m(_.message==="Invalid login credentials"?"Credenciales invlidas. Por favor verifica tu usuario y contrasea.":_.message),d(!1);return}if(w){const{data:E,error:S}=await je.from("profiles").select("role").eq("id",w.id).single();if(S){m("No se pudo cargar tu perfil. Contacta al administrador."),d(!1);return}if(!E){m("Perfil no encontrado. Contacta al administrador."),d(!1);return}switch(E.role){case"superadmin":v("/superadmin");break;case"admin":v("/admin");break;default:v("/staff")}}}catch(w){m("Error inesperado. Por favor intenta de nuevo."),console.error("Login error:",w)}finally{d(!1)}};return h.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-4",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-indigo-900/50 rounded-full opacity-50 blur-3xl"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-900/50 rounded-full opacity-50 blur-3xl"})]}),h.jsxs("div",{className:"relative w-full max-w-md",children:[h.jsxs("div",{className:"bg-slate-800 backdrop-blur-xl rounded-2xl shadow-xl shadow-black/20 border border-slate-700 p-8 sm:p-10",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg shadow-indigo-500/30 mb-4",children:h.jsx("span",{className:"text-2xl font-bold text-white",children:"G"})}),h.jsx("h1",{className:"text-2xl font-semibold text-white tracking-tight",children:"Bienvenido"}),h.jsx("p",{className:"text-slate-400 mt-1",children:"Ingresa a tu cuenta para continuar"})]}),f&&h.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[h.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-red-500/20 flex items-center justify-center mt-0.5",children:h.jsx(zl,{className:"h-3.5 w-3.5 text-red-400"})}),h.jsx("p",{className:"text-sm text-red-400 leading-relaxed",children:f})]}),h.jsxs("form",{onSubmit:y,className:"space-y-5",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Usuario"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:h.jsx(pn,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),h.jsx("input",{type:"text",value:t,onChange:b=>e(b.target.value.toLowerCase().trim()),placeholder:"tu_usuario",className:"w-full pl-11 pr-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"username"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Contrasea"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:h.jsx(Zq,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),h.jsx("input",{type:i?"text":"password",value:r,onChange:b=>a(b.target.value),placeholder:"",className:"w-full pl-11 pr-12 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"current-password"}),h.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 pr-3.5 flex items-center text-slate-500 hover:text-slate-300 transition-colors",children:i?h.jsx(zC,{className:"h-5 w-5"}):h.jsx(BC,{className:"h-5 w-5"})})]})]}),h.jsx("button",{type:"submit",disabled:u,className:"w-full py-3.5 bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white font-medium rounded-xl shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 focus:ring-4 focus:ring-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2",children:u?h.jsxs(h.Fragment,{children:[h.jsx(xt,{className:"h-5 w-5 animate-spin"}),h.jsx("span",{children:"Ingresando..."})]}):"Iniciar Sesin"})]}),h.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700",children:h.jsxs("p",{className:"text-center text-sm text-slate-400",children:["Problemas para acceder?"," ",h.jsx("a",{href:"#",className:"text-indigo-400 hover:text-indigo-300 font-medium hover:underline",children:"Contacta soporte"})]})})]}),h.jsxs("p",{className:"text-center text-xs text-slate-500 mt-6",children:["GALia Digital  ",new Date().getFullYear()]})]})]})}function bl({size:t="md",text:e}){const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return h.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[h.jsx(xt,{className:`${r[t]} animate-spin text-indigo-600`}),e&&h.jsx("p",{className:"text-sm text-slate-600",children:e})]})}function vs({title:t="Error",message:e,onRetry:r}){return h.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:h.jsx("div",{className:"max-w-md w-full p-6 bg-red-50 border border-red-200 rounded-xl",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(zl,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:t}),h.jsx("p",{className:"text-sm text-red-700 mb-4",children:e}),r&&h.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition",children:[h.jsx(Ad,{className:"h-4 w-4"}),"Reintentar"]})]})]})})})}function Gn(t){"@babel/helpers - typeof";return Gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gn(t)}function qP(t,e){if(Gn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(Gn(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KC(t){var e=qP(t,"string");return Gn(e)=="symbol"?e:e+""}function us(t,e,r){return(e=KC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function We(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M1(Object(r),!0).forEach(function(a){us(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function kd(t,e){if(t==null)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;r[a]=t[a]}return r}function vn(t,e){if(t==null)return{};var r,a,i=kd(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q1(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,KC(a.key),a)}}function _t(t,e,r){return e&&q1(t.prototype,e),r&&q1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hd(t){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hd(t)}function XC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XC=function(){return!!t})()}function PP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LP(t,e){if(e&&(Gn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PP(t)}function Yt(t,e,r){return e=hd(e),LP(t,XC()?Reflect.construct(e,r||[],hd(t).constructor):e.apply(t,r))}function md(t,e){return md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},md(t,e)}function Wt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&md(t,e)}function QC(t){if(Array.isArray(t))return t}function $P(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,i,l,u,d=[],f=!0,m=!1;try{if(l=(r=r.call(t)).next,e!==0)for(;!(f=(a=l.call(r)).done)&&(d.push(a.value),d.length!==e);f=!0);}catch(v){m=!0,i=v}finally{try{if(!f&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(m)throw i}}return d}}function yy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function Ky(t,e){if(t){if(typeof t=="string")return yy(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yy(t,e):void 0}}function JC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gs(t,e){return QC(t)||$P(t,e)||Ky(t,e)||JC()}function ZC(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=ZC(t[e]))&&(a&&(a+=" "),a+=r);else for(e in t)t[e]&&(a&&(a+=" "),a+=e);return a}function rt(){for(var t,e,r=0,a="";r<arguments.length;)(t=arguments[r++])&&(e=ZC(t))&&(a&&(a+=" "),a+=e);return a}const UP=Object.freeze(Object.defineProperty({__proto__:null,clsx:rt,default:rt},Symbol.toStringTag,{value:"Module"}));function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ot.apply(null,arguments)}var Bm,P1;function zP(){if(P1)return Bm;P1=1;var t=function(e,r,a,i,l,u,d,f){if(!e){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[a,i,l,u,d,f],y=0;m=new Error(r.replace(/%s/g,function(){return v[y++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Bm=t,Bm}var BP=zP();const xl=Gt(BP);var IP=function(){};function HP(t,e){var r={};return Object.keys(t).forEach(function(a){r[Hc(a)]=IP}),r}function L1(t,e){return t[e]!==void 0}function Hc(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function FP(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function GP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,md(t,e)}function eA(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function tA(t){function e(r){var a=this.constructor.getDerivedStateFromProps(t,r);return a??null}this.setState(e.bind(this))}function rA(t,e){try{var r=this.props,a=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}eA.__suppressDeprecationWarning=!0;tA.__suppressDeprecationWarning=!0;rA.__suppressDeprecationWarning=!0;function YP(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,a=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||a!==null||i!==null){var l=t.displayName||t.name,u=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+u+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=eA,e.componentWillReceiveProps=tA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=rA;var d=e.componentDidUpdate;e.componentDidUpdate=function(m,v,y){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;d.call(this,m,v,b)}}return t}var WP="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function nA(t,e,r){r===void 0&&(r=[]);var a=t.displayName||t.name||"Component",i=FP(t),l=Object.keys(e),u=l.map(Hc);i||!r.length||xl(!1);var d=(function(m){GP(v,m);function v(){for(var b,x=arguments.length,w=new Array(x),_=0;_<x;_++)w[_]=arguments[_];b=m.call.apply(m,[this].concat(w))||this,b.handlers=Object.create(null),l.forEach(function(S){var N=e[S],T=function(M){if(b.props[N]){var D;b._notifying=!0;for(var C=arguments.length,L=new Array(C>1?C-1:0),P=1;P<C;P++)L[P-1]=arguments[P];(D=b.props)[N].apply(D,[M].concat(L)),b._notifying=!1}b.unmounted||b.setState(function(A){var q,z=A.values;return{values:ot(Object.create(null),z,(q={},q[S]=M,q))}})};b.handlers[N]=T}),r.length&&(b.attachRef=function(S){b.inner=S});var E=Object.create(null);return l.forEach(function(S){E[S]=b.props[Hc(S)]}),b.state={values:E,prevProps:{}},b}var y=v.prototype;return y.shouldComponentUpdate=function(){return!this._notifying},v.getDerivedStateFromProps=function(x,w){var _=w.values,E=w.prevProps,S={values:ot(Object.create(null),_),prevProps:{}};return l.forEach(function(N){S.prevProps[N]=x[N],!L1(x,N)&&L1(E,N)&&(S.values[N]=x[Hc(N)])}),S},y.componentWillUnmount=function(){this.unmounted=!0},y.render=function(){var x=this,w=this.props,_=w.innerRef,E=kd(w,["innerRef"]);u.forEach(function(N){delete E[N]});var S={};return l.forEach(function(N){var T=x.props[N];S[N]=T!==void 0?T:x.state.values[N]}),Y.createElement(t,ot({},E,S,this.handlers,{ref:_||this.attachRef}))},v})(Y.Component);YP(d),d.displayName="Uncontrolled("+a+")",d.propTypes=ot({innerRef:function(){}},HP(e)),r.forEach(function(m){d.prototype[m]=function(){var y;return(y=this.inner)[m].apply(y,arguments)}});var f=d;return Y.forwardRef&&(f=Y.forwardRef(function(m,v){return Y.createElement(d,ot({},m,{innerRef:v,__source:{fileName:WP,lineNumber:128},__self:this}))}),f.propTypes=d.propTypes),f.ControlledComponent=t,f.deferControlTo=function(m,v,y){return v===void 0&&(v={}),nA(m,ot({},e,v),y)},f}var Im={exports:{}},Hm,$1;function VP(){if($1)return Hm;$1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hm=t,Hm}var Fm,U1;function KP(){if(U1)return Fm;U1=1;var t=VP();function e(){}function r(){}return r.resetWarningCache=e,Fm=function(){function a(u,d,f,m,v,y){if(y!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function i(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return l.PropTypes=l,l},Fm}var z1;function Xy(){return z1||(z1=1,Im.exports=KP()()),Im.exports}var XP=Xy();const ce=Gt(XP);var pd="milliseconds",wl="seconds",_l="minutes",Sl="hours",ys="day",Oi="week",El="month",bs="year",xs="decade",ws="century",aA={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},QP={month:1,year:12,decade:120,century:1200};function JP(t){return[31,ZP(t),31,30,31,30,31,31,30,31,30,31]}function ZP(t){return t%4===0&&t%100!==0||t%400===0?29:28}function tn(t,e,r){switch(t=new Date(t),r){case pd:case wl:case _l:case Sl:case ys:case Oi:return eL(t,e*aA[r]);case El:case bs:case xs:case ws:return tL(t,e*QP[r])}throw new TypeError('Invalid units: "'+r+'"')}function eL(t,e){var r=new Date(+t+e);return rL(t,r)}function tL(t,e){var r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),l=r*12+a+e,u=Math.trunc(l/12),d=l%12,f=Math.min(i,JP(u)[d]),m=new Date(t);return m.setFullYear(u),m.setDate(1),m.setMonth(d),m.setDate(f),m}function rL(t,e){var r=t.getTimezoneOffset(),a=e.getTimezoneOffset(),i=a-r;return new Date(+e+i*aA.minutes)}function jl(t,e,r){return tn(t,-e,r)}function Bt(t,e,r){switch(t=new Date(t),e){case ws:case xs:case bs:t=gd(t,0);case El:t=uA(t,1);case Oi:case ys:t=Ol(t,0);case Sl:t=Ci(t,0);case _l:t=Tl(t,0);case wl:t=Nl(t,0)}return e===xs&&(t=jl(t,_s(t)%10,"year")),e===ws&&(t=jl(t,_s(t)%100,"year")),e===Oi&&(t=cA(t,0,r)),t}function vd(t,e,r){switch(t=new Date(t),t=Bt(t,e,r),e){case ws:case xs:case bs:case El:case Oi:t=tn(t,1,e),t=jl(t,1,ys),t.setHours(23,59,59,999);break;case ys:t.setHours(23,59,59,999);break;case Sl:case _l:case wl:t=tn(t,1,e),t=jl(t,1,pd)}return t}var zi=Ii(function(t,e){return t===e}),Qy=Ii(function(t,e){return t!==e}),Md=Ii(function(t,e){return t>e}),Il=Ii(function(t,e){return t>=e}),Jy=Ii(function(t,e){return t<e}),Bi=Ii(function(t,e){return t<=e});function sA(){return new Date(Math.min.apply(Math,arguments))}function iA(){return new Date(Math.max.apply(Math,arguments))}function oA(t,e,r,a){return a=a||"day",(!e||Il(t,e,a))&&(!r||Bi(t,r,a))}var Nl=Ra("Milliseconds"),Tl=Ra("Seconds"),Ci=Ra("Minutes"),Ol=Ra("Hours"),lA=Ra("Day"),uA=Ra("Date"),gd=Ra("Month"),_s=Ra("FullYear");function nL(t,e){return e===void 0?_s(Bt(t,xs)):tn(t,e+10,bs)}function aL(t,e){return e===void 0?_s(Bt(t,ws)):tn(t,e+100,bs)}function cA(t,e,r){var a=(lA(t)+7-(r||0))%7;return e===void 0?a:tn(t,e-a,ys)}function sL(t,e,r,a){var i,l,u;switch(r){case pd:case wl:case _l:case Sl:case ys:case Oi:i=e.getTime()-t.getTime();break;case El:case bs:case xs:case ws:i=(_s(e)-_s(t))*12+gd(e)-gd(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case pd:l=1;break;case wl:l=1e3;break;case _l:l=1e3*60;break;case Sl:l=1e3*60*60;break;case ys:l=1e3*60*60*24;break;case Oi:l=1e3*60*60*24*7;break;case El:l=1;break;case bs:l=12;break;case xs:l=120;break;case ws:l=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return u=i/l,a?u:Math.round(u)}function Ra(t){var e=(function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(t);return function(r,a){if(a===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](a),e&&i["get"+t]()!=a&&(t==="Hours"||a>=e&&i.getHours()-r.getHours()<Math.floor(a/e))&&i["set"+t](a+e),i}}function Ii(t){return function(e,r,a){return t(+Bt(e,a),+Bt(r,a))}}const B1=Object.freeze(Object.defineProperty({__proto__:null,add:tn,century:aL,date:uA,day:lA,decade:nL,diff:sL,endOf:vd,eq:zi,gt:Md,gte:Il,hours:Ol,inRange:oA,lt:Jy,lte:Bi,max:iA,milliseconds:Nl,min:sA,minutes:Ci,month:gd,neq:Qy,seconds:Tl,startOf:Bt,subtract:jl,weekday:cA,year:_s},Symbol.toStringTag,{value:"Module"}));function iL(t){if(Array.isArray(t))return yy(t)}function dA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oL(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fc(t){return iL(t)||dA(t)||Ky(t)||oL()}var Gm,I1;function fA(){if(I1)return Gm;I1=1;function t(e,r,a){var i=-1,l=e.length;r<0&&(r=-r>l?0:l+r),a=a>l?l:a,a<0&&(a+=l),l=r>a?0:a-r>>>0,r>>>=0;for(var u=Array(l);++i<l;)u[i]=e[i+r];return u}return Gm=t,Gm}var Ym,H1;function Hl(){if(H1)return Ym;H1=1;function t(e,r){return e===r||e!==e&&r!==r}return Ym=t,Ym}var Wm,F1;function hA(){if(F1)return Wm;F1=1;var t=typeof bc=="object"&&bc&&bc.Object===Object&&bc;return Wm=t,Wm}var Vm,G1;function bn(){if(G1)return Vm;G1=1;var t=hA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Vm=r,Vm}var Km,Y1;function Hi(){if(Y1)return Km;Y1=1;var t=bn(),e=t.Symbol;return Km=e,Km}var Xm,W1;function lL(){if(W1)return Xm;W1=1;var t=Hi(),e=Object.prototype,r=e.hasOwnProperty,a=e.toString,i=t?t.toStringTag:void 0;function l(u){var d=r.call(u,i),f=u[i];try{u[i]=void 0;var m=!0}catch{}var v=a.call(u);return m&&(d?u[i]=f:delete u[i]),v}return Xm=l,Xm}var Qm,V1;function uL(){if(V1)return Qm;V1=1;var t=Object.prototype,e=t.toString;function r(a){return e.call(a)}return Qm=r,Qm}var Jm,K1;function Fi(){if(K1)return Jm;K1=1;var t=Hi(),e=lL(),r=uL(),a="[object Null]",i="[object Undefined]",l=t?t.toStringTag:void 0;function u(d){return d==null?d===void 0?i:a:l&&l in Object(d)?e(d):r(d)}return Jm=u,Jm}var Zm,X1;function Kn(){if(X1)return Zm;X1=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Zm=t,Zm}var ep,Q1;function Zy(){if(Q1)return ep;Q1=1;var t=Fi(),e=Kn(),r="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",l="[object Proxy]";function u(d){if(!e(d))return!1;var f=t(d);return f==a||f==i||f==r||f==l}return ep=u,ep}var tp,J1;function eb(){if(J1)return tp;J1=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return tp=e,tp}var rp,Z1;function Fl(){if(Z1)return rp;Z1=1;var t=Zy(),e=eb();function r(a){return a!=null&&e(a.length)&&!t(a)}return rp=r,rp}var np,eE;function tb(){if(eE)return np;eE=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(a,i){var l=typeof a;return i=i??t,!!i&&(l=="number"||l!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return np=r,np}var ap,tE;function qd(){if(tE)return ap;tE=1;var t=Hl(),e=Fl(),r=tb(),a=Kn();function i(l,u,d){if(!a(d))return!1;var f=typeof u;return(f=="number"?e(d)&&r(u,d.length):f=="string"&&u in d)?t(d[u],l):!1}return ap=i,ap}var sp,rE;function cL(){if(rE)return sp;rE=1;var t=/\s/;function e(r){for(var a=r.length;a--&&t.test(r.charAt(a)););return a}return sp=e,sp}var ip,nE;function dL(){if(nE)return ip;nE=1;var t=cL(),e=/^\s+/;function r(a){return a&&a.slice(0,t(a)+1).replace(e,"")}return ip=r,ip}var op,aE;function Da(){if(aE)return op;aE=1;function t(e){return e!=null&&typeof e=="object"}return op=t,op}var lp,sE;function Gl(){if(sE)return lp;sE=1;var t=Fi(),e=Da(),r="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&t(i)==r}return lp=a,lp}var up,iE;function fL(){if(iE)return up;iE=1;var t=dL(),e=Kn(),r=Gl(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,d=parseInt;function f(m){if(typeof m=="number")return m;if(r(m))return a;if(e(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=e(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=t(m);var y=l.test(m);return y||u.test(m)?d(m.slice(2),y?2:8):i.test(m)?a:+m}return up=f,up}var cp,oE;function mA(){if(oE)return cp;oE=1;var t=fL(),e=1/0,r=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var l=i<0?-1:1;return l*r}return i===i?i:0}return cp=a,cp}var dp,lE;function pA(){if(lE)return dp;lE=1;var t=mA();function e(r){var a=t(r),i=a%1;return a===a?i?a-i:a:0}return dp=e,dp}var fp,uE;function hL(){if(uE)return fp;uE=1;var t=fA(),e=qd(),r=pA(),a=Math.ceil,i=Math.max;function l(u,d,f){(f?e(u,d,f):d===void 0)?d=1:d=i(r(d),0);var m=u==null?0:u.length;if(!m||d<1)return[];for(var v=0,y=0,b=Array(a(m/d));v<m;)b[y++]=t(u,v,v+=d);return b}return fp=l,fp}var mL=hL();const pL=Gt(mL);function ka(t){return t&&t.ownerDocument||document}function rb(t){var e=ka(t);return e&&e.defaultView||window}function nb(t,e){return rb(t).getComputedStyle(t,e)}var vL=/([A-Z])/g;function vA(t){return t.replace(vL,"-$1").toLowerCase()}var gL=/^ms-/;function Ac(t){return vA(t).replace(gL,"-ms-")}var yL=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function gA(t){return!!(t&&yL.test(t))}function zt(t,e){var r="",a="";if(typeof e=="string")return t.style.getPropertyValue(Ac(e))||nb(t).getPropertyValue(Ac(e));Object.keys(e).forEach(function(i){var l=e[i];!l&&l!==0?t.style.removeProperty(Ac(i)):gA(i)?a+=i+"("+l+") ":r+=Ac(i)+": "+l+";"}),a&&(r+="transform: "+a+";"),t.style.cssText+=";"+r}function Yn(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const bL=Object.freeze(Object.defineProperty({__proto__:null,default:Yn},Symbol.toStringTag,{value:"Module"}));function yA(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function Pd(t){return"window"in t&&t.window===t?t:yA(t)&&t.defaultView||!1}function bA(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(a,i){var l=Pd(a);if(i===void 0)return l?l[t]:a[e];l?l.scrollTo(l[t],i):a[e]=i}return r}const Ld=bA("pageXOffset"),Ai=bA("pageYOffset");function Zr(t){var e=ka(t),r={top:0,left:0,height:0,width:0},a=e&&e.documentElement;return!a||!Yn(a,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+Ai(a)-(a.clientTop||0),left:r.left+Ld(a)-(a.clientLeft||0),width:r.width,height:r.height}),r}var xL=function(e){return!!e&&"offsetParent"in e};function ab(t){for(var e=ka(t),r=t&&t.offsetParent;xL(r)&&r.nodeName!=="HTML"&&zt(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var wL=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function $d(t,e){var r={top:0,left:0},a;if(zt(t,"position")==="fixed")a=t.getBoundingClientRect();else{var i=e||ab(t);a=Zr(t),wL(i)!=="html"&&(r=Zr(i));var l=String(zt(i,"borderTopWidth")||0);r.top+=parseInt(l,10)-Ai(i)||0;var u=String(zt(i,"borderLeftWidth")||0);r.left+=parseInt(u,10)-Ld(i)||0}var d=String(zt(t,"marginTop")||0),f=String(zt(t,"marginLeft")||0);return ot({},a,{top:a.top-r.top-(parseInt(d,10)||0),left:a.left-r.left-(parseInt(f,10)||0)})}const sb=!!(typeof window<"u"&&window.document&&window.document.createElement);var cE=new Date().getTime();function _L(t){var e=new Date().getTime(),r=Math.max(0,16-(e-cE)),a=setTimeout(t,r);return cE=e,a}var SL=["","webkit","moz","o","ms"],by="clearTimeout",xy=_L,dE=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};sb&&SL.some(function(t){var e=dE(t,"request");return e in window&&(by=dE(t,"cancel"),xy=function(a){return window[e](a)}),!!xy});var Cl=function(e){typeof window[by]=="function"&&window[by](e)},Yl=xy,hp;function Ud(t,e){if(!hp){var r=document.body,a=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;hp=function(l,u){return a.call(l,u)}}return hp(t,e)}var EL=Function.prototype.bind.call(Function.prototype.call,[].slice);function zd(t,e){return EL(t.querySelectorAll(e))}var wy=!1,_y=!1;try{var mp={get passive(){return wy=!0},get once(){return _y=wy=!0}};sb&&(window.addEventListener("test",mp,mp),window.removeEventListener("test",mp,!0))}catch{}function ib(t,e,r,a){if(a&&typeof a!="boolean"&&!_y){var i=a.once,l=a.capture,u=r;!_y&&i&&(u=r.__once||function d(f){this.removeEventListener(e,d,l),r.call(this,f)},r.__once=u),t.addEventListener(e,u,wy?a:l)}t.addEventListener(e,r,a)}function jL(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t},[t]),e}function fE(t){const e=jL(t);return R.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function hE(){return R.useState(null)}function NL(){const t=R.useRef(!0),e=R.useRef(()=>t.current);return R.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function TL(t){const e=NL();return[t[0],R.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var cr="top",Ur="bottom",zr="right",dr="left",ob="auto",Wl=[cr,Ur,zr,dr],Ri="start",Al="end",OL="clippingParents",xA="viewport",Vo="popper",CL="reference",mE=Wl.reduce(function(t,e){return t.concat([e+"-"+Ri,e+"-"+Al])},[]),lb=[].concat(Wl,[ob]).reduce(function(t,e){return t.concat([e,e+"-"+Ri,e+"-"+Al])},[]),AL="beforeRead",RL="read",DL="afterRead",kL="beforeMain",ML="main",qL="afterMain",PL="beforeWrite",LL="write",$L="afterWrite",UL=[AL,RL,DL,kL,ML,qL,PL,LL,$L];function hn(t){return t.split("-")[0]}function Er(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ss(t){var e=Er(t).Element;return t instanceof e||t instanceof Element}function mn(t){var e=Er(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ub(t){if(typeof ShadowRoot>"u")return!1;var e=Er(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var fs=Math.max,yd=Math.min,Di=Math.round;function Sy(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wA(){return!/^((?!chrome|android).)*safari/i.test(Sy())}function ki(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var a=t.getBoundingClientRect(),i=1,l=1;e&&mn(t)&&(i=t.offsetWidth>0&&Di(a.width)/t.offsetWidth||1,l=t.offsetHeight>0&&Di(a.height)/t.offsetHeight||1);var u=Ss(t)?Er(t):window,d=u.visualViewport,f=!wA()&&r,m=(a.left+(f&&d?d.offsetLeft:0))/i,v=(a.top+(f&&d?d.offsetTop:0))/l,y=a.width/i,b=a.height/l;return{width:y,height:b,top:v,right:m+y,bottom:v+b,left:m,x:m,y:v}}function cb(t){var e=ki(t),r=t.offsetWidth,a=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:a}}function _A(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&ub(r)){var a=e;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Na(t){return t?(t.nodeName||"").toLowerCase():null}function Wn(t){return Er(t).getComputedStyle(t)}function zL(t){return["table","td","th"].indexOf(Na(t))>=0}function Ma(t){return((Ss(t)?t.ownerDocument:t.document)||window.document).documentElement}function Bd(t){return Na(t)==="html"?t:t.assignedSlot||t.parentNode||(ub(t)?t.host:null)||Ma(t)}function pE(t){return!mn(t)||Wn(t).position==="fixed"?null:t.offsetParent}function BL(t){var e=/firefox/i.test(Sy()),r=/Trident/i.test(Sy());if(r&&mn(t)){var a=Wn(t);if(a.position==="fixed")return null}var i=Bd(t);for(ub(i)&&(i=i.host);mn(i)&&["html","body"].indexOf(Na(i))<0;){var l=Wn(i);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return i;i=i.parentNode}return null}function Vl(t){for(var e=Er(t),r=pE(t);r&&zL(r)&&Wn(r).position==="static";)r=pE(r);return r&&(Na(r)==="html"||Na(r)==="body"&&Wn(r).position==="static")?e:r||BL(t)||e}function db(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function hl(t,e,r){return fs(t,yd(e,r))}function IL(t,e,r){var a=hl(t,e,r);return a>r?r:a}function SA(){return{top:0,right:0,bottom:0,left:0}}function EA(t){return Object.assign({},SA(),t)}function jA(t,e){return e.reduce(function(r,a){return r[a]=t,r},{})}var HL=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,EA(typeof e!="number"?e:jA(e,Wl))};function FL(t){var e,r=t.state,a=t.name,i=t.options,l=r.elements.arrow,u=r.modifiersData.popperOffsets,d=hn(r.placement),f=db(d),m=[dr,zr].indexOf(d)>=0,v=m?"height":"width";if(!(!l||!u)){var y=HL(i.padding,r),b=cb(l),x=f==="y"?cr:dr,w=f==="y"?Ur:zr,_=r.rects.reference[v]+r.rects.reference[f]-u[f]-r.rects.popper[v],E=u[f]-r.rects.reference[f],S=Vl(l),N=S?f==="y"?S.clientHeight||0:S.clientWidth||0:0,T=_/2-E/2,O=y[x],M=N-b[v]-y[w],D=N/2-b[v]/2+T,C=hl(O,D,M),L=f;r.modifiersData[a]=(e={},e[L]=C,e.centerOffset=C-D,e)}}function GL(t){var e=t.state,r=t.options,a=r.element,i=a===void 0?"[data-popper-arrow]":a;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||_A(e.elements.popper,i)&&(e.elements.arrow=i))}const YL={name:"arrow",enabled:!0,phase:"main",fn:FL,effect:GL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Mi(t){return t.split("-")[1]}var WL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function VL(t,e){var r=t.x,a=t.y,i=e.devicePixelRatio||1;return{x:Di(r*i)/i||0,y:Di(a*i)/i||0}}function vE(t){var e,r=t.popper,a=t.popperRect,i=t.placement,l=t.variation,u=t.offsets,d=t.position,f=t.gpuAcceleration,m=t.adaptive,v=t.roundOffsets,y=t.isFixed,b=u.x,x=b===void 0?0:b,w=u.y,_=w===void 0?0:w,E=typeof v=="function"?v({x,y:_}):{x,y:_};x=E.x,_=E.y;var S=u.hasOwnProperty("x"),N=u.hasOwnProperty("y"),T=dr,O=cr,M=window;if(m){var D=Vl(r),C="clientHeight",L="clientWidth";if(D===Er(r)&&(D=Ma(r),Wn(D).position!=="static"&&d==="absolute"&&(C="scrollHeight",L="scrollWidth")),D=D,i===cr||(i===dr||i===zr)&&l===Al){O=Ur;var P=y&&D===M&&M.visualViewport?M.visualViewport.height:D[C];_-=P-a.height,_*=f?1:-1}if(i===dr||(i===cr||i===Ur)&&l===Al){T=zr;var A=y&&D===M&&M.visualViewport?M.visualViewport.width:D[L];x-=A-a.width,x*=f?1:-1}}var q=Object.assign({position:d},m&&WL),z=v===!0?VL({x,y:_},Er(r)):{x,y:_};if(x=z.x,_=z.y,f){var U;return Object.assign({},q,(U={},U[O]=N?"0":"",U[T]=S?"0":"",U.transform=(M.devicePixelRatio||1)<=1?"translate("+x+"px, "+_+"px)":"translate3d("+x+"px, "+_+"px, 0)",U))}return Object.assign({},q,(e={},e[O]=N?_+"px":"",e[T]=S?x+"px":"",e.transform="",e))}function KL(t){var e=t.state,r=t.options,a=r.gpuAcceleration,i=a===void 0?!0:a,l=r.adaptive,u=l===void 0?!0:l,d=r.roundOffsets,f=d===void 0?!0:d,m={placement:hn(e.placement),variation:Mi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,vE(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,vE(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const XL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:KL,data:{}};var Rc={passive:!0};function QL(t){var e=t.state,r=t.instance,a=t.options,i=a.scroll,l=i===void 0?!0:i,u=a.resize,d=u===void 0?!0:u,f=Er(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(v){v.addEventListener("scroll",r.update,Rc)}),d&&f.addEventListener("resize",r.update,Rc),function(){l&&m.forEach(function(v){v.removeEventListener("scroll",r.update,Rc)}),d&&f.removeEventListener("resize",r.update,Rc)}}const JL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:QL,data:{}};var ZL={left:"right",right:"left",bottom:"top",top:"bottom"};function Gc(t){return t.replace(/left|right|bottom|top/g,function(e){return ZL[e]})}var e6={start:"end",end:"start"};function gE(t){return t.replace(/start|end/g,function(e){return e6[e]})}function fb(t){var e=Er(t),r=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:r,scrollTop:a}}function hb(t){return ki(Ma(t)).left+fb(t).scrollLeft}function t6(t,e){var r=Er(t),a=Ma(t),i=r.visualViewport,l=a.clientWidth,u=a.clientHeight,d=0,f=0;if(i){l=i.width,u=i.height;var m=wA();(m||!m&&e==="fixed")&&(d=i.offsetLeft,f=i.offsetTop)}return{width:l,height:u,x:d+hb(t),y:f}}function r6(t){var e,r=Ma(t),a=fb(t),i=(e=t.ownerDocument)==null?void 0:e.body,l=fs(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),u=fs(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),d=-a.scrollLeft+hb(t),f=-a.scrollTop;return Wn(i||r).direction==="rtl"&&(d+=fs(r.clientWidth,i?i.clientWidth:0)-l),{width:l,height:u,x:d,y:f}}function mb(t){var e=Wn(t),r=e.overflow,a=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+a)}function NA(t){return["html","body","#document"].indexOf(Na(t))>=0?t.ownerDocument.body:mn(t)&&mb(t)?t:NA(Bd(t))}function ml(t,e){var r;e===void 0&&(e=[]);var a=NA(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),l=Er(a),u=i?[l].concat(l.visualViewport||[],mb(a)?a:[]):a,d=e.concat(u);return i?d:d.concat(ml(Bd(u)))}function Ey(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function n6(t,e){var r=ki(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function yE(t,e,r){return e===xA?Ey(t6(t,r)):Ss(e)?n6(e,r):Ey(r6(Ma(t)))}function a6(t){var e=ml(Bd(t)),r=["absolute","fixed"].indexOf(Wn(t).position)>=0,a=r&&mn(t)?Vl(t):t;return Ss(a)?e.filter(function(i){return Ss(i)&&_A(i,a)&&Na(i)!=="body"}):[]}function s6(t,e,r,a){var i=e==="clippingParents"?a6(t):[].concat(e),l=[].concat(i,[r]),u=l[0],d=l.reduce(function(f,m){var v=yE(t,m,a);return f.top=fs(v.top,f.top),f.right=yd(v.right,f.right),f.bottom=yd(v.bottom,f.bottom),f.left=fs(v.left,f.left),f},yE(t,u,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function TA(t){var e=t.reference,r=t.element,a=t.placement,i=a?hn(a):null,l=a?Mi(a):null,u=e.x+e.width/2-r.width/2,d=e.y+e.height/2-r.height/2,f;switch(i){case cr:f={x:u,y:e.y-r.height};break;case Ur:f={x:u,y:e.y+e.height};break;case zr:f={x:e.x+e.width,y:d};break;case dr:f={x:e.x-r.width,y:d};break;default:f={x:e.x,y:e.y}}var m=i?db(i):null;if(m!=null){var v=m==="y"?"height":"width";switch(l){case Ri:f[m]=f[m]-(e[v]/2-r[v]/2);break;case Al:f[m]=f[m]+(e[v]/2-r[v]/2);break}}return f}function Rl(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=a===void 0?t.placement:a,l=r.strategy,u=l===void 0?t.strategy:l,d=r.boundary,f=d===void 0?OL:d,m=r.rootBoundary,v=m===void 0?xA:m,y=r.elementContext,b=y===void 0?Vo:y,x=r.altBoundary,w=x===void 0?!1:x,_=r.padding,E=_===void 0?0:_,S=EA(typeof E!="number"?E:jA(E,Wl)),N=b===Vo?CL:Vo,T=t.rects.popper,O=t.elements[w?N:b],M=s6(Ss(O)?O:O.contextElement||Ma(t.elements.popper),f,v,u),D=ki(t.elements.reference),C=TA({reference:D,element:T,placement:i}),L=Ey(Object.assign({},T,C)),P=b===Vo?L:D,A={top:M.top-P.top+S.top,bottom:P.bottom-M.bottom+S.bottom,left:M.left-P.left+S.left,right:P.right-M.right+S.right},q=t.modifiersData.offset;if(b===Vo&&q){var z=q[i];Object.keys(A).forEach(function(U){var W=[zr,Ur].indexOf(U)>=0?1:-1,ee=[cr,Ur].indexOf(U)>=0?"y":"x";A[U]+=z[ee]*W})}return A}function i6(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=r.boundary,l=r.rootBoundary,u=r.padding,d=r.flipVariations,f=r.allowedAutoPlacements,m=f===void 0?lb:f,v=Mi(a),y=v?d?mE:mE.filter(function(w){return Mi(w)===v}):Wl,b=y.filter(function(w){return m.indexOf(w)>=0});b.length===0&&(b=y);var x=b.reduce(function(w,_){return w[_]=Rl(t,{placement:_,boundary:i,rootBoundary:l,padding:u})[hn(_)],w},{});return Object.keys(x).sort(function(w,_){return x[w]-x[_]})}function o6(t){if(hn(t)===ob)return[];var e=Gc(t);return[gE(t),e,gE(e)]}function l6(t){var e=t.state,r=t.options,a=t.name;if(!e.modifiersData[a]._skip){for(var i=r.mainAxis,l=i===void 0?!0:i,u=r.altAxis,d=u===void 0?!0:u,f=r.fallbackPlacements,m=r.padding,v=r.boundary,y=r.rootBoundary,b=r.altBoundary,x=r.flipVariations,w=x===void 0?!0:x,_=r.allowedAutoPlacements,E=e.options.placement,S=hn(E),N=S===E,T=f||(N||!w?[Gc(E)]:o6(E)),O=[E].concat(T).reduce(function(fe,Z){return fe.concat(hn(Z)===ob?i6(e,{placement:Z,boundary:v,rootBoundary:y,padding:m,flipVariations:w,allowedAutoPlacements:_}):Z)},[]),M=e.rects.reference,D=e.rects.popper,C=new Map,L=!0,P=O[0],A=0;A<O.length;A++){var q=O[A],z=hn(q),U=Mi(q)===Ri,W=[cr,Ur].indexOf(z)>=0,ee=W?"width":"height",H=Rl(e,{placement:q,boundary:v,rootBoundary:y,altBoundary:b,padding:m}),I=W?U?zr:dr:U?Ur:cr;M[ee]>D[ee]&&(I=Gc(I));var re=Gc(I),le=[];if(l&&le.push(H[z]<=0),d&&le.push(H[I]<=0,H[re]<=0),le.every(function(fe){return fe})){P=q,L=!1;break}C.set(q,le)}if(L)for(var V=w?3:1,$=function(Z){var de=O.find(function(we){var Oe=C.get(we);if(Oe)return Oe.slice(0,Z).every(function(Me){return Me})});if(de)return P=de,"break"},Q=V;Q>0;Q--){var oe=$(Q);if(oe==="break")break}e.placement!==P&&(e.modifiersData[a]._skip=!0,e.placement=P,e.reset=!0)}}const u6={name:"flip",enabled:!0,phase:"main",fn:l6,requiresIfExists:["offset"],data:{_skip:!1}};function bE(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function xE(t){return[cr,zr,Ur,dr].some(function(e){return t[e]>=0})}function c6(t){var e=t.state,r=t.name,a=e.rects.reference,i=e.rects.popper,l=e.modifiersData.preventOverflow,u=Rl(e,{elementContext:"reference"}),d=Rl(e,{altBoundary:!0}),f=bE(u,a),m=bE(d,i,l),v=xE(f),y=xE(m);e.modifiersData[r]={referenceClippingOffsets:f,popperEscapeOffsets:m,isReferenceHidden:v,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":y})}const d6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:c6};function f6(t,e,r){var a=hn(t),i=[dr,cr].indexOf(a)>=0?-1:1,l=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,u=l[0],d=l[1];return u=u||0,d=(d||0)*i,[dr,zr].indexOf(a)>=0?{x:d,y:u}:{x:u,y:d}}function h6(t){var e=t.state,r=t.options,a=t.name,i=r.offset,l=i===void 0?[0,0]:i,u=lb.reduce(function(v,y){return v[y]=f6(y,e.rects,l),v},{}),d=u[e.placement],f=d.x,m=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=m),e.modifiersData[a]=u}const m6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:h6};function p6(t){var e=t.state,r=t.name;e.modifiersData[r]=TA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const v6={name:"popperOffsets",enabled:!0,phase:"read",fn:p6,data:{}};function g6(t){return t==="x"?"y":"x"}function y6(t){var e=t.state,r=t.options,a=t.name,i=r.mainAxis,l=i===void 0?!0:i,u=r.altAxis,d=u===void 0?!1:u,f=r.boundary,m=r.rootBoundary,v=r.altBoundary,y=r.padding,b=r.tether,x=b===void 0?!0:b,w=r.tetherOffset,_=w===void 0?0:w,E=Rl(e,{boundary:f,rootBoundary:m,padding:y,altBoundary:v}),S=hn(e.placement),N=Mi(e.placement),T=!N,O=db(S),M=g6(O),D=e.modifiersData.popperOffsets,C=e.rects.reference,L=e.rects.popper,P=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,A=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,z={x:0,y:0};if(D){if(l){var U,W=O==="y"?cr:dr,ee=O==="y"?Ur:zr,H=O==="y"?"height":"width",I=D[O],re=I+E[W],le=I-E[ee],V=x?-L[H]/2:0,$=N===Ri?C[H]:L[H],Q=N===Ri?-L[H]:-C[H],oe=e.elements.arrow,fe=x&&oe?cb(oe):{width:0,height:0},Z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:SA(),de=Z[W],we=Z[ee],Oe=hl(0,C[H],fe[H]),Me=T?C[H]/2-V-Oe-de-A.mainAxis:$-Oe-de-A.mainAxis,At=T?-C[H]/2+V+Oe+we+A.mainAxis:Q+Oe+we+A.mainAxis,St=e.elements.arrow&&Vl(e.elements.arrow),Zt=St?O==="y"?St.clientTop||0:St.clientLeft||0:0,Fr=(U=q?.[O])!=null?U:0,Kt=I+Me-Fr-Zt,Ce=I+At-Fr,Xt=hl(x?yd(re,Kt):re,I,x?fs(le,Ce):le);D[O]=Xt,z[O]=Xt-I}if(d){var Te,Qt=O==="x"?cr:dr,Rt=O==="x"?Ur:zr,Et=D[M],Dt=M==="y"?"height":"width",ue=Et+E[Qt],ne=Et-E[Rt],he=[cr,dr].indexOf(S)!==-1,qe=(Te=q?.[M])!=null?Te:0,nt=he?ue:Et-C[Dt]-L[Dt]-qe+A.altAxis,jt=he?Et+C[Dt]+L[Dt]-qe-A.altAxis:ne,at=x&&he?IL(nt,Et,jt):hl(x?nt:ue,Et,x?jt:ne);D[M]=at,z[M]=at-Et}e.modifiersData[a]=z}}const b6={name:"preventOverflow",enabled:!0,phase:"main",fn:y6,requiresIfExists:["offset"]};function x6(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function w6(t){return t===Er(t)||!mn(t)?fb(t):x6(t)}function _6(t){var e=t.getBoundingClientRect(),r=Di(e.width)/t.offsetWidth||1,a=Di(e.height)/t.offsetHeight||1;return r!==1||a!==1}function S6(t,e,r){r===void 0&&(r=!1);var a=mn(e),i=mn(e)&&_6(e),l=Ma(e),u=ki(t,i,r),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(a||!a&&!r)&&((Na(e)!=="body"||mb(l))&&(d=w6(e)),mn(e)?(f=ki(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):l&&(f.x=hb(l))),{x:u.left+d.scrollLeft-f.x,y:u.top+d.scrollTop-f.y,width:u.width,height:u.height}}function E6(t){var e=new Map,r=new Set,a=[];t.forEach(function(l){e.set(l.name,l)});function i(l){r.add(l.name);var u=[].concat(l.requires||[],l.requiresIfExists||[]);u.forEach(function(d){if(!r.has(d)){var f=e.get(d);f&&i(f)}}),a.push(l)}return t.forEach(function(l){r.has(l.name)||i(l)}),a}function j6(t){var e=E6(t);return UL.reduce(function(r,a){return r.concat(e.filter(function(i){return i.phase===a}))},[])}function N6(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function T6(t){var e=t.reduce(function(r,a){var i=r[a.name];return r[a.name]=i?Object.assign({},i,a,{options:Object.assign({},i.options,a.options),data:Object.assign({},i.data,a.data)}):a,r},{});return Object.keys(e).map(function(r){return e[r]})}var wE={placement:"bottom",modifiers:[],strategy:"absolute"};function _E(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function O6(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,a=r===void 0?[]:r,i=e.defaultOptions,l=i===void 0?wE:i;return function(d,f,m){m===void 0&&(m=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},wE,l),modifiersData:{},elements:{reference:d,popper:f},attributes:{},styles:{}},y=[],b=!1,x={state:v,setOptions:function(S){var N=typeof S=="function"?S(v.options):S;_(),v.options=Object.assign({},l,v.options,N),v.scrollParents={reference:Ss(d)?ml(d):d.contextElement?ml(d.contextElement):[],popper:ml(f)};var T=j6(T6([].concat(a,v.options.modifiers)));return v.orderedModifiers=T.filter(function(O){return O.enabled}),w(),x.update()},forceUpdate:function(){if(!b){var S=v.elements,N=S.reference,T=S.popper;if(_E(N,T)){v.rects={reference:S6(N,Vl(T),v.options.strategy==="fixed"),popper:cb(T)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(A){return v.modifiersData[A.name]=Object.assign({},A.data)});for(var O=0;O<v.orderedModifiers.length;O++){if(v.reset===!0){v.reset=!1,O=-1;continue}var M=v.orderedModifiers[O],D=M.fn,C=M.options,L=C===void 0?{}:C,P=M.name;typeof D=="function"&&(v=D({state:v,options:L,name:P,instance:x})||v)}}}},update:N6(function(){return new Promise(function(E){x.forceUpdate(),E(v)})}),destroy:function(){_(),b=!0}};if(!_E(d,f))return x;x.setOptions(m).then(function(E){!b&&m.onFirstUpdate&&m.onFirstUpdate(E)});function w(){v.orderedModifiers.forEach(function(E){var S=E.name,N=E.options,T=N===void 0?{}:N,O=E.effect;if(typeof O=="function"){var M=O({state:v,name:S,instance:x,options:T}),D=function(){};y.push(M||D)}})}function _(){y.forEach(function(E){return E()}),y=[]}return x}}var C6=O6({defaultModifiers:[d6,v6,XL,JL,m6,u6,b6,YL]}),SE=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},A6={name:"applyStyles",enabled:!1},R6={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var a=r.elements,i=a.reference,l=a.popper;if("removeAttribute"in i){var u=(i.getAttribute("aria-describedby")||"").split(",").filter(function(d){return d.trim()!==l.id});u.length?i.setAttribute("aria-describedby",u.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,a=e.state,i=a.elements,l=i.popper,u=i.reference,d=(r=l.getAttribute("role"))==null?void 0:r.toLowerCase();if(l.id&&d==="tooltip"&&"setAttribute"in u){var f=u.getAttribute("aria-describedby");if(f&&f.split(",").indexOf(l.id)!==-1)return;u.setAttribute("aria-describedby",f?f+","+l.id:l.id)}}},D6=[];function k6(t,e,r){var a=r===void 0?{}:r,i=a.enabled,l=i===void 0?!0:i,u=a.placement,d=u===void 0?"bottom":u,f=a.strategy,m=f===void 0?"absolute":f,v=a.modifiers,y=v===void 0?D6:v,b=kd(a,["enabled","placement","strategy","modifiers"]),x=R.useRef(),w=R.useCallback(function(){var O;(O=x.current)==null||O.update()},[]),_=R.useCallback(function(){var O;(O=x.current)==null||O.forceUpdate()},[]),E=TL(R.useState({placement:d,update:w,forceUpdate:_,attributes:{},styles:{popper:SE(m),arrow:{}}})),S=E[0],N=E[1],T=R.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(M){var D=M.state,C={},L={};Object.keys(D.elements).forEach(function(P){C[P]=D.styles[P],L[P]=D.attributes[P]}),N({state:D,styles:C,attributes:L,update:w,forceUpdate:_,placement:D.placement})}}},[w,_,N]);return R.useEffect(function(){!x.current||!l||x.current.setOptions({placement:d,strategy:m,modifiers:[].concat(y,[T,A6])})},[m,d,T,l]),R.useEffect(function(){if(!(!l||t==null||e==null))return x.current=C6(t,e,ot({},b,{placement:d,strategy:m,modifiers:[].concat(y,[R6,T])})),function(){x.current!=null&&(x.current.destroy(),x.current=void 0,N(function(O){return ot({},O,{attributes:{},styles:{popper:SE(m)}})}))}},[l,t,e]),S}function pb(t,e,r,a){var i=a&&typeof a!="boolean"?a.capture:a;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function fn(t,e,r,a){return ib(t,e,r,a),function(){pb(t,e,r,a)}}const M6=Object.freeze(Object.defineProperty({__proto__:null,default:fn},Symbol.toStringTag,{value:"Module"}));var pp,EE;function q6(){if(EE)return pp;EE=1;var t=function(){};return pp=t,pp}var P6=q6();const L6=Gt(P6);function $6(t){return t&&"setState"in t?x2.findDOMNode(t):t??null}const U6=(function(t){return ka($6(t))});var z6=27,jE=function(){};function B6(t){return t.button===0}function I6(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var NE=function(e){return e&&("current"in e?e.current:e)};function H6(t,e,r){var a=r===void 0?{}:r,i=a.disabled,l=a.clickTrigger,u=l===void 0?"click":l,d=R.useRef(!1),f=e||jE,m=R.useCallback(function(b){var x,w=NE(t);L6(!!w,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),d.current=!w||I6(b)||!B6(b)||!!Yn(w,(x=b.composedPath==null?void 0:b.composedPath()[0])!=null?x:b.target)},[t]),v=fE(function(b){d.current||f(b)}),y=fE(function(b){b.keyCode===z6&&f(b)});R.useEffect(function(){if(!(i||t==null)){var b=window.event,x=U6(NE(t)),w=fn(x,u,m,!0),_=fn(x,u,function(N){if(N===b){b=void 0;return}v(N)}),E=fn(x,"keyup",function(N){if(N===b){b=void 0;return}y(N)}),S=[];return"ontouchstart"in x.documentElement&&(S=[].slice.call(x.body.children).map(function(N){return fn(N,"mousemove",jE)})),function(){w(),_(),E(),S.forEach(function(N){return N()})}}},[t,i,u,m,v,y])}function F6(t){var e={};return Array.isArray(t)?(t?.forEach(function(r){e[r.name]=r}),e):t||e}function G6(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function Y6(t){var e,r,a,i,l=t.enabled,u=t.enableEvents,d=t.placement,f=t.flip,m=t.offset,v=t.fixed,y=t.containerPadding,b=t.arrowElement,x=t.popperConfig,w=x===void 0?{}:x,_=F6(w.modifiers);return ot({},w,{placement:d,enabled:l,strategy:v?"fixed":w.strategy,modifiers:G6(ot({},_,{eventListeners:{enabled:u},preventOverflow:ot({},_.preventOverflow,{options:y?ot({padding:y},(e=_.preventOverflow)==null?void 0:e.options):(r=_.preventOverflow)==null?void 0:r.options}),offset:{options:ot({offset:m},(a=_.offset)==null?void 0:a.options)},arrow:ot({},_.arrow,{enabled:!!b,options:ot({},(i=_.arrow)==null?void 0:i.options,{element:b})}),flip:ot({enabled:!!f},_.flip)}))})}function OA(t){t===void 0&&(t=ka());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Id(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Hd(t,e){t.classList?t.classList.add(e):Id(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function TE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Fd(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=TE(t.className,e):t.setAttribute("class",TE(t.className&&t.className.baseVal||"",e))}var Dc;function Kl(t){if((!Dc&&Dc!==0||t)&&sb){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Dc=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Dc}var vp=function(e){var r;return typeof document>"u"?null:e==null?ka().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function OE(t,e){var r=R.useState(function(){return vp(t)}),a=r[0],i=r[1];if(!a){var l=vp(t);l&&i(l)}return R.useEffect(function(){},[e,a]),R.useEffect(function(){var u=vp(t);u!==a&&i(u)},[t,a]),a}const CE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function W6(t,e){const r=CE(t),a=CE(e);return i=>{r&&r(i),a&&a(i)}}function V6(t,e){return R.useMemo(()=>W6(t,e),[t,e])}var vb=Y.forwardRef(function(t,e){var r=t.flip,a=t.offset,i=t.placement,l=t.containerPadding,u=l===void 0?5:l,d=t.popperConfig,f=d===void 0?{}:d,m=t.transition,v=hE(),y=v[0],b=v[1],x=hE(),w=x[0],_=x[1],E=V6(b,e),S=OE(t.container),N=OE(t.target),T=R.useState(!t.show),O=T[0],M=T[1],D=k6(N,y,Y6({placement:i,enableEvents:!!t.show,containerPadding:u||5,flip:r,offset:a,arrowElement:w,popperConfig:f})),C=D.styles,L=D.attributes,P=kd(D,["styles","attributes"]);t.show?O&&M(!1):!t.transition&&!O&&M(!0);var A=function(){M(!0),t.onExited&&t.onExited.apply(t,arguments)},q=t.show||m&&!O;if(H6(y,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!q)return null;var z=t.children(ot({},P,{show:!!t.show,props:ot({},L.popper,{style:C.popper,ref:E}),arrowProps:ot({},L.arrow,{style:C.arrow,ref:_})}));if(m){var U=t.onExit,W=t.onExiting,ee=t.onEnter,H=t.onEntering,I=t.onEntered;z=Y.createElement(m,{in:t.show,appear:!0,onExit:U,onExiting:W,onExited:A,onEnter:ee,onEntering:H,onEntered:I},z)}return S?x2.createPortal(z,S):null});vb.displayName="Overlay";vb.propTypes={show:ce.bool,placement:ce.oneOf(lb),target:ce.any,container:ce.any,flip:ce.bool,children:ce.func.isRequired,containerPadding:ce.number,popperConfig:ce.object,rootClose:ce.bool,rootCloseEvent:ce.oneOf(["click","mousedown"]),rootCloseDisabled:ce.bool,onHide:function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(e.rootClose){var l;return(l=ce.func).isRequired.apply(l,[e].concat(a))}return ce.func.apply(ce,[e].concat(a))},transition:ce.elementType,onEnter:ce.func,onEntering:ce.func,onEntered:ce.func,onExit:ce.func,onExiting:ce.func,onExited:ce.func};var gp,AE;function K6(){if(AE)return gp;AE=1;function t(){this.__data__=[],this.size=0}return gp=t,gp}var yp,RE;function Gd(){if(RE)return yp;RE=1;var t=Hl();function e(r,a){for(var i=r.length;i--;)if(t(r[i][0],a))return i;return-1}return yp=e,yp}var bp,DE;function X6(){if(DE)return bp;DE=1;var t=Gd(),e=Array.prototype,r=e.splice;function a(i){var l=this.__data__,u=t(l,i);if(u<0)return!1;var d=l.length-1;return u==d?l.pop():r.call(l,u,1),--this.size,!0}return bp=a,bp}var xp,kE;function Q6(){if(kE)return xp;kE=1;var t=Gd();function e(r){var a=this.__data__,i=t(a,r);return i<0?void 0:a[i][1]}return xp=e,xp}var wp,ME;function J6(){if(ME)return wp;ME=1;var t=Gd();function e(r){return t(this.__data__,r)>-1}return wp=e,wp}var _p,qE;function Z6(){if(qE)return _p;qE=1;var t=Gd();function e(r,a){var i=this.__data__,l=t(i,r);return l<0?(++this.size,i.push([r,a])):i[l][1]=a,this}return _p=e,_p}var Sp,PE;function Yd(){if(PE)return Sp;PE=1;var t=K6(),e=X6(),r=Q6(),a=J6(),i=Z6();function l(u){var d=-1,f=u==null?0:u.length;for(this.clear();++d<f;){var m=u[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Sp=l,Sp}var Ep,LE;function e$(){if(LE)return Ep;LE=1;var t=Yd();function e(){this.__data__=new t,this.size=0}return Ep=e,Ep}var jp,$E;function t$(){if($E)return jp;$E=1;function t(e){var r=this.__data__,a=r.delete(e);return this.size=r.size,a}return jp=t,jp}var Np,UE;function r$(){if(UE)return Np;UE=1;function t(e){return this.__data__.get(e)}return Np=t,Np}var Tp,zE;function n$(){if(zE)return Tp;zE=1;function t(e){return this.__data__.has(e)}return Tp=t,Tp}var Op,BE;function a$(){if(BE)return Op;BE=1;var t=bn(),e=t["__core-js_shared__"];return Op=e,Op}var Cp,IE;function s$(){if(IE)return Cp;IE=1;var t=a$(),e=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!e&&e in a}return Cp=r,Cp}var Ap,HE;function CA(){if(HE)return Ap;HE=1;var t=Function.prototype,e=t.toString;function r(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return Ap=r,Ap}var Rp,FE;function i$(){if(FE)return Rp;FE=1;var t=Zy(),e=s$(),r=Kn(),a=CA(),i=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Function.prototype,d=Object.prototype,f=u.toString,m=d.hasOwnProperty,v=RegExp("^"+f.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(b){if(!r(b)||e(b))return!1;var x=t(b)?v:l;return x.test(a(b))}return Rp=y,Rp}var Dp,GE;function o$(){if(GE)return Dp;GE=1;function t(e,r){return e?.[r]}return Dp=t,Dp}var kp,YE;function Ns(){if(YE)return kp;YE=1;var t=i$(),e=o$();function r(a,i){var l=e(a,i);return t(l)?l:void 0}return kp=r,kp}var Mp,WE;function gb(){if(WE)return Mp;WE=1;var t=Ns(),e=bn(),r=t(e,"Map");return Mp=r,Mp}var qp,VE;function Wd(){if(VE)return qp;VE=1;var t=Ns(),e=t(Object,"create");return qp=e,qp}var Pp,KE;function l$(){if(KE)return Pp;KE=1;var t=Wd();function e(){this.__data__=t?t(null):{},this.size=0}return Pp=e,Pp}var Lp,XE;function u$(){if(XE)return Lp;XE=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Lp=t,Lp}var $p,QE;function c$(){if(QE)return $p;QE=1;var t=Wd(),e="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function i(l){var u=this.__data__;if(t){var d=u[l];return d===e?void 0:d}return a.call(u,l)?u[l]:void 0}return $p=i,$p}var Up,JE;function d$(){if(JE)return Up;JE=1;var t=Wd(),e=Object.prototype,r=e.hasOwnProperty;function a(i){var l=this.__data__;return t?l[i]!==void 0:r.call(l,i)}return Up=a,Up}var zp,ZE;function f$(){if(ZE)return zp;ZE=1;var t=Wd(),e="__lodash_hash_undefined__";function r(a,i){var l=this.__data__;return this.size+=this.has(a)?0:1,l[a]=t&&i===void 0?e:i,this}return zp=r,zp}var Bp,ej;function h$(){if(ej)return Bp;ej=1;var t=l$(),e=u$(),r=c$(),a=d$(),i=f$();function l(u){var d=-1,f=u==null?0:u.length;for(this.clear();++d<f;){var m=u[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Bp=l,Bp}var Ip,tj;function m$(){if(tj)return Ip;tj=1;var t=h$(),e=Yd(),r=gb();function a(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Ip=a,Ip}var Hp,rj;function p$(){if(rj)return Hp;rj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Hp=t,Hp}var Fp,nj;function Vd(){if(nj)return Fp;nj=1;var t=p$();function e(r,a){var i=r.__data__;return t(a)?i[typeof a=="string"?"string":"hash"]:i.map}return Fp=e,Fp}var Gp,aj;function v$(){if(aj)return Gp;aj=1;var t=Vd();function e(r){var a=t(this,r).delete(r);return this.size-=a?1:0,a}return Gp=e,Gp}var Yp,sj;function g$(){if(sj)return Yp;sj=1;var t=Vd();function e(r){return t(this,r).get(r)}return Yp=e,Yp}var Wp,ij;function y$(){if(ij)return Wp;ij=1;var t=Vd();function e(r){return t(this,r).has(r)}return Wp=e,Wp}var Vp,oj;function b$(){if(oj)return Vp;oj=1;var t=Vd();function e(r,a){var i=t(this,r),l=i.size;return i.set(r,a),this.size+=i.size==l?0:1,this}return Vp=e,Vp}var Kp,lj;function yb(){if(lj)return Kp;lj=1;var t=m$(),e=v$(),r=g$(),a=y$(),i=b$();function l(u){var d=-1,f=u==null?0:u.length;for(this.clear();++d<f;){var m=u[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Kp=l,Kp}var Xp,uj;function x$(){if(uj)return Xp;uj=1;var t=Yd(),e=gb(),r=yb(),a=200;function i(l,u){var d=this.__data__;if(d instanceof t){var f=d.__data__;if(!e||f.length<a-1)return f.push([l,u]),this.size=++d.size,this;d=this.__data__=new r(f)}return d.set(l,u),this.size=d.size,this}return Xp=i,Xp}var Qp,cj;function bb(){if(cj)return Qp;cj=1;var t=Yd(),e=e$(),r=t$(),a=r$(),i=n$(),l=x$();function u(d){var f=this.__data__=new t(d);this.size=f.size}return u.prototype.clear=e,u.prototype.delete=r,u.prototype.get=a,u.prototype.has=i,u.prototype.set=l,Qp=u,Qp}var Jp,dj;function w$(){if(dj)return Jp;dj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Jp=e,Jp}var Zp,fj;function _$(){if(fj)return Zp;fj=1;function t(e){return this.__data__.has(e)}return Zp=t,Zp}var ev,hj;function S$(){if(hj)return ev;hj=1;var t=yb(),e=w$(),r=_$();function a(i){var l=-1,u=i==null?0:i.length;for(this.__data__=new t;++l<u;)this.add(i[l])}return a.prototype.add=a.prototype.push=e,a.prototype.has=r,ev=a,ev}var tv,mj;function E$(){if(mj)return tv;mj=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(e[a],a,e))return!0;return!1}return tv=t,tv}var rv,pj;function j$(){if(pj)return rv;pj=1;function t(e,r){return e.has(r)}return rv=t,rv}var nv,vj;function AA(){if(vj)return nv;vj=1;var t=S$(),e=E$(),r=j$(),a=1,i=2;function l(u,d,f,m,v,y){var b=f&a,x=u.length,w=d.length;if(x!=w&&!(b&&w>x))return!1;var _=y.get(u),E=y.get(d);if(_&&E)return _==d&&E==u;var S=-1,N=!0,T=f&i?new t:void 0;for(y.set(u,d),y.set(d,u);++S<x;){var O=u[S],M=d[S];if(m)var D=b?m(M,O,S,d,u,y):m(O,M,S,u,d,y);if(D!==void 0){if(D)continue;N=!1;break}if(T){if(!e(d,function(C,L){if(!r(T,L)&&(O===C||v(O,C,f,m,y)))return T.push(L)})){N=!1;break}}else if(!(O===M||v(O,M,f,m,y))){N=!1;break}}return y.delete(u),y.delete(d),N}return nv=l,nv}var av,gj;function RA(){if(gj)return av;gj=1;var t=bn(),e=t.Uint8Array;return av=e,av}var sv,yj;function N$(){if(yj)return sv;yj=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i,l){a[++r]=[l,i]}),a}return sv=t,sv}var iv,bj;function T$(){if(bj)return iv;bj=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i){a[++r]=i}),a}return iv=t,iv}var ov,xj;function O$(){if(xj)return ov;xj=1;var t=Hi(),e=RA(),r=Hl(),a=AA(),i=N$(),l=T$(),u=1,d=2,f="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Map]",b="[object Number]",x="[object RegExp]",w="[object Set]",_="[object String]",E="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",T=t?t.prototype:void 0,O=T?T.valueOf:void 0;function M(D,C,L,P,A,q,z){switch(L){case N:if(D.byteLength!=C.byteLength||D.byteOffset!=C.byteOffset)return!1;D=D.buffer,C=C.buffer;case S:return!(D.byteLength!=C.byteLength||!q(new e(D),new e(C)));case f:case m:case b:return r(+D,+C);case v:return D.name==C.name&&D.message==C.message;case x:case _:return D==C+"";case y:var U=i;case w:var W=P&u;if(U||(U=l),D.size!=C.size&&!W)return!1;var ee=z.get(D);if(ee)return ee==C;P|=d,z.set(D,C);var H=a(U(D),U(C),P,A,q,z);return z.delete(D),H;case E:if(O)return O.call(D)==O.call(C)}return!1}return ov=M,ov}var lv,wj;function xb(){if(wj)return lv;wj=1;function t(e,r){for(var a=-1,i=r.length,l=e.length;++a<i;)e[l+a]=r[a];return e}return lv=t,lv}var uv,_j;function Hr(){if(_j)return uv;_j=1;var t=Array.isArray;return uv=t,uv}var cv,Sj;function DA(){if(Sj)return cv;Sj=1;var t=xb(),e=Hr();function r(a,i,l){var u=i(a);return e(a)?u:t(u,l(a))}return cv=r,cv}var dv,Ej;function C$(){if(Ej)return dv;Ej=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=0,u=[];++a<i;){var d=e[a];r(d,a,e)&&(u[l++]=d)}return u}return dv=t,dv}var fv,jj;function kA(){if(jj)return fv;jj=1;function t(){return[]}return fv=t,fv}var hv,Nj;function wb(){if(Nj)return hv;Nj=1;var t=C$(),e=kA(),r=Object.prototype,a=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,l=i?function(u){return u==null?[]:(u=Object(u),t(i(u),function(d){return a.call(u,d)}))}:e;return hv=l,hv}var mv,Tj;function A$(){if(Tj)return mv;Tj=1;function t(e,r){for(var a=-1,i=Array(e);++a<e;)i[a]=r(a);return i}return mv=t,mv}var pv,Oj;function R$(){if(Oj)return pv;Oj=1;var t=Fi(),e=Da(),r="[object Arguments]";function a(i){return e(i)&&t(i)==r}return pv=a,pv}var vv,Cj;function _b(){if(Cj)return vv;Cj=1;var t=R$(),e=Da(),r=Object.prototype,a=r.hasOwnProperty,i=r.propertyIsEnumerable,l=t((function(){return arguments})())?t:function(u){return e(u)&&a.call(u,"callee")&&!i.call(u,"callee")};return vv=l,vv}var cl={exports:{}},gv,Aj;function D$(){if(Aj)return gv;Aj=1;function t(){return!1}return gv=t,gv}cl.exports;var Rj;function Kd(){return Rj||(Rj=1,(function(t,e){var r=bn(),a=D$(),i=e&&!e.nodeType&&e,l=i&&!0&&t&&!t.nodeType&&t,u=l&&l.exports===i,d=u?r.Buffer:void 0,f=d?d.isBuffer:void 0,m=f||a;t.exports=m})(cl,cl.exports)),cl.exports}var yv,Dj;function k$(){if(Dj)return yv;Dj=1;var t=Fi(),e=eb(),r=Da(),a="[object Arguments]",i="[object Array]",l="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Function]",m="[object Map]",v="[object Number]",y="[object Object]",b="[object RegExp]",x="[object Set]",w="[object String]",_="[object WeakMap]",E="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",C="[object Uint8Array]",L="[object Uint8ClampedArray]",P="[object Uint16Array]",A="[object Uint32Array]",q={};q[N]=q[T]=q[O]=q[M]=q[D]=q[C]=q[L]=q[P]=q[A]=!0,q[a]=q[i]=q[E]=q[l]=q[S]=q[u]=q[d]=q[f]=q[m]=q[v]=q[y]=q[b]=q[x]=q[w]=q[_]=!1;function z(U){return r(U)&&e(U.length)&&!!q[t(U)]}return yv=z,yv}var bv,kj;function Xd(){if(kj)return bv;kj=1;function t(e){return function(r){return e(r)}}return bv=t,bv}var dl={exports:{}};dl.exports;var Mj;function Sb(){return Mj||(Mj=1,(function(t,e){var r=hA(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,u=l&&r.process,d=(function(){try{var f=i&&i.require&&i.require("util").types;return f||u&&u.binding&&u.binding("util")}catch{}})();t.exports=d})(dl,dl.exports)),dl.exports}var xv,qj;function Eb(){if(qj)return xv;qj=1;var t=k$(),e=Xd(),r=Sb(),a=r&&r.isTypedArray,i=a?e(a):t;return xv=i,xv}var wv,Pj;function MA(){if(Pj)return wv;Pj=1;var t=A$(),e=_b(),r=Hr(),a=Kd(),i=tb(),l=Eb(),u=Object.prototype,d=u.hasOwnProperty;function f(m,v){var y=r(m),b=!y&&e(m),x=!y&&!b&&a(m),w=!y&&!b&&!x&&l(m),_=y||b||x||w,E=_?t(m.length,String):[],S=E.length;for(var N in m)(v||d.call(m,N))&&!(_&&(N=="length"||x&&(N=="offset"||N=="parent")||w&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&E.push(N);return E}return wv=f,wv}var _v,Lj;function jb(){if(Lj)return _v;Lj=1;var t=Object.prototype;function e(r){var a=r&&r.constructor,i=typeof a=="function"&&a.prototype||t;return r===i}return _v=e,_v}var Sv,$j;function qA(){if($j)return Sv;$j=1;function t(e,r){return function(a){return e(r(a))}}return Sv=t,Sv}var Ev,Uj;function M$(){if(Uj)return Ev;Uj=1;var t=qA(),e=t(Object.keys,Object);return Ev=e,Ev}var jv,zj;function q$(){if(zj)return jv;zj=1;var t=jb(),e=M$(),r=Object.prototype,a=r.hasOwnProperty;function i(l){if(!t(l))return e(l);var u=[];for(var d in Object(l))a.call(l,d)&&d!="constructor"&&u.push(d);return u}return jv=i,jv}var Nv,Bj;function Xl(){if(Bj)return Nv;Bj=1;var t=MA(),e=q$(),r=Fl();function a(i){return r(i)?t(i):e(i)}return Nv=a,Nv}var Tv,Ij;function PA(){if(Ij)return Tv;Ij=1;var t=DA(),e=wb(),r=Xl();function a(i){return t(i,r,e)}return Tv=a,Tv}var Ov,Hj;function P$(){if(Hj)return Ov;Hj=1;var t=PA(),e=1,r=Object.prototype,a=r.hasOwnProperty;function i(l,u,d,f,m,v){var y=d&e,b=t(l),x=b.length,w=t(u),_=w.length;if(x!=_&&!y)return!1;for(var E=x;E--;){var S=b[E];if(!(y?S in u:a.call(u,S)))return!1}var N=v.get(l),T=v.get(u);if(N&&T)return N==u&&T==l;var O=!0;v.set(l,u),v.set(u,l);for(var M=y;++E<x;){S=b[E];var D=l[S],C=u[S];if(f)var L=y?f(C,D,S,u,l,v):f(D,C,S,l,u,v);if(!(L===void 0?D===C||m(D,C,d,f,v):L)){O=!1;break}M||(M=S=="constructor")}if(O&&!M){var P=l.constructor,A=u.constructor;P!=A&&"constructor"in l&&"constructor"in u&&!(typeof P=="function"&&P instanceof P&&typeof A=="function"&&A instanceof A)&&(O=!1)}return v.delete(l),v.delete(u),O}return Ov=i,Ov}var Cv,Fj;function L$(){if(Fj)return Cv;Fj=1;var t=Ns(),e=bn(),r=t(e,"DataView");return Cv=r,Cv}var Av,Gj;function $$(){if(Gj)return Av;Gj=1;var t=Ns(),e=bn(),r=t(e,"Promise");return Av=r,Av}var Rv,Yj;function U$(){if(Yj)return Rv;Yj=1;var t=Ns(),e=bn(),r=t(e,"Set");return Rv=r,Rv}var Dv,Wj;function z$(){if(Wj)return Dv;Wj=1;var t=Ns(),e=bn(),r=t(e,"WeakMap");return Dv=r,Dv}var kv,Vj;function Qd(){if(Vj)return kv;Vj=1;var t=L$(),e=gb(),r=$$(),a=U$(),i=z$(),l=Fi(),u=CA(),d="[object Map]",f="[object Object]",m="[object Promise]",v="[object Set]",y="[object WeakMap]",b="[object DataView]",x=u(t),w=u(e),_=u(r),E=u(a),S=u(i),N=l;return(t&&N(new t(new ArrayBuffer(1)))!=b||e&&N(new e)!=d||r&&N(r.resolve())!=m||a&&N(new a)!=v||i&&N(new i)!=y)&&(N=function(T){var O=l(T),M=O==f?T.constructor:void 0,D=M?u(M):"";if(D)switch(D){case x:return b;case w:return d;case _:return m;case E:return v;case S:return y}return O}),kv=N,kv}var Mv,Kj;function B$(){if(Kj)return Mv;Kj=1;var t=bb(),e=AA(),r=O$(),a=P$(),i=Qd(),l=Hr(),u=Kd(),d=Eb(),f=1,m="[object Arguments]",v="[object Array]",y="[object Object]",b=Object.prototype,x=b.hasOwnProperty;function w(_,E,S,N,T,O){var M=l(_),D=l(E),C=M?v:i(_),L=D?v:i(E);C=C==m?y:C,L=L==m?y:L;var P=C==y,A=L==y,q=C==L;if(q&&u(_)){if(!u(E))return!1;M=!0,P=!1}if(q&&!P)return O||(O=new t),M||d(_)?e(_,E,S,N,T,O):r(_,E,C,S,N,T,O);if(!(S&f)){var z=P&&x.call(_,"__wrapped__"),U=A&&x.call(E,"__wrapped__");if(z||U){var W=z?_.value():_,ee=U?E.value():E;return O||(O=new t),T(W,ee,S,N,O)}}return q?(O||(O=new t),a(_,E,S,N,T,O)):!1}return Mv=w,Mv}var qv,Xj;function Nb(){if(Xj)return qv;Xj=1;var t=B$(),e=Da();function r(a,i,l,u,d){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:t(a,i,l,u,r,d)}return qv=r,qv}var Pv,Qj;function LA(){if(Qj)return Pv;Qj=1;var t=Nb();function e(r,a){return t(r,a)}return Pv=e,Pv}var I$=LA();const H$=Gt(I$);function hs(t,e){var r=Pd(t);return r?r.innerHeight:e?t.clientHeight:Zr(t).height}function Ql(t,e,r){t.closest&&!r&&t.closest(e);var a=t;do{if(Ud(a,e))return a;a=a.parentElement}while(a&&a!==r&&a.nodeType===document.ELEMENT_NODE);return null}const F$=Object.freeze(Object.defineProperty({__proto__:null,default:Ql},Symbol.toStringTag,{value:"Module"}));var Lv,Jj;function G$(){if(Jj)return Lv;Jj=1;function t(e,r,a,i){for(var l=e.length,u=a+(i?1:-1);i?u--:++u<l;)if(r(e[u],u,e))return u;return-1}return Lv=t,Lv}var $v,Zj;function Y$(){if(Zj)return $v;Zj=1;var t=bb(),e=Nb(),r=1,a=2;function i(l,u,d,f){var m=d.length,v=m,y=!f;if(l==null)return!v;for(l=Object(l);m--;){var b=d[m];if(y&&b[2]?b[1]!==l[b[0]]:!(b[0]in l))return!1}for(;++m<v;){b=d[m];var x=b[0],w=l[x],_=b[1];if(y&&b[2]){if(w===void 0&&!(x in l))return!1}else{var E=new t;if(f)var S=f(w,_,x,l,u,E);if(!(S===void 0?e(_,w,r|a,f,E):S))return!1}}return!0}return $v=i,$v}var Uv,eN;function $A(){if(eN)return Uv;eN=1;var t=Kn();function e(r){return r===r&&!t(r)}return Uv=e,Uv}var zv,tN;function W$(){if(tN)return zv;tN=1;var t=$A(),e=Xl();function r(a){for(var i=e(a),l=i.length;l--;){var u=i[l],d=a[u];i[l]=[u,d,t(d)]}return i}return zv=r,zv}var Bv,rN;function UA(){if(rN)return Bv;rN=1;function t(e,r){return function(a){return a==null?!1:a[e]===r&&(r!==void 0||e in Object(a))}}return Bv=t,Bv}var Iv,nN;function V$(){if(nN)return Iv;nN=1;var t=Y$(),e=W$(),r=UA();function a(i){var l=e(i);return l.length==1&&l[0][2]?r(l[0][0],l[0][1]):function(u){return u===i||t(u,i,l)}}return Iv=a,Iv}var Hv,aN;function Tb(){if(aN)return Hv;aN=1;var t=Hr(),e=Gl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(l,u){if(t(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:a.test(l)||!r.test(l)||u!=null&&l in Object(u)}return Hv=i,Hv}var Fv,sN;function K$(){if(sN)return Fv;sN=1;var t=yb(),e="Expected a function";function r(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var l=function(){var u=arguments,d=i?i.apply(this,u):u[0],f=l.cache;if(f.has(d))return f.get(d);var m=a.apply(this,u);return l.cache=f.set(d,m)||f,m};return l.cache=new(r.Cache||t),l}return r.Cache=t,Fv=r,Fv}var Gv,iN;function X$(){if(iN)return Gv;iN=1;var t=K$(),e=500;function r(a){var i=t(a,function(u){return l.size===e&&l.clear(),u}),l=i.cache;return i}return Gv=r,Gv}var Yv,oN;function Q$(){if(oN)return Yv;oN=1;var t=X$(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=t(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(e,function(u,d,f,m){l.push(f?m.replace(r,"$1"):d||u)}),l});return Yv=a,Yv}var Wv,lN;function Ob(){if(lN)return Wv;lN=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=Array(i);++a<i;)l[a]=r(e[a],a,e);return l}return Wv=t,Wv}var Vv,uN;function J$(){if(uN)return Vv;uN=1;var t=Hi(),e=Ob(),r=Hr(),a=Gl(),i=t?t.prototype:void 0,l=i?i.toString:void 0;function u(d){if(typeof d=="string")return d;if(r(d))return e(d,u)+"";if(a(d))return l?l.call(d):"";var f=d+"";return f=="0"&&1/d==-1/0?"-0":f}return Vv=u,Vv}var Kv,cN;function Z$(){if(cN)return Kv;cN=1;var t=J$();function e(r){return r==null?"":t(r)}return Kv=e,Kv}var Xv,dN;function Jd(){if(dN)return Xv;dN=1;var t=Hr(),e=Tb(),r=Q$(),a=Z$();function i(l,u){return t(l)?l:e(l,u)?[l]:r(a(l))}return Xv=i,Xv}var Qv,fN;function Jl(){if(fN)return Qv;fN=1;var t=Gl();function e(r){if(typeof r=="string"||t(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return Qv=e,Qv}var Jv,hN;function Zd(){if(hN)return Jv;hN=1;var t=Jd(),e=Jl();function r(a,i){i=t(i,a);for(var l=0,u=i.length;a!=null&&l<u;)a=a[e(i[l++])];return l&&l==u?a:void 0}return Jv=r,Jv}var Zv,mN;function eU(){if(mN)return Zv;mN=1;var t=Zd();function e(r,a,i){var l=r==null?void 0:t(r,a);return l===void 0?i:l}return Zv=e,Zv}var eg,pN;function tU(){if(pN)return eg;pN=1;function t(e,r){return e!=null&&r in Object(e)}return eg=t,eg}var tg,vN;function rU(){if(vN)return tg;vN=1;var t=Jd(),e=_b(),r=Hr(),a=tb(),i=eb(),l=Jl();function u(d,f,m){f=t(f,d);for(var v=-1,y=f.length,b=!1;++v<y;){var x=l(f[v]);if(!(b=d!=null&&m(d,x)))break;d=d[x]}return b||++v!=y?b:(y=d==null?0:d.length,!!y&&i(y)&&a(x,y)&&(r(d)||e(d)))}return tg=u,tg}var rg,gN;function nU(){if(gN)return rg;gN=1;var t=tU(),e=rU();function r(a,i){return a!=null&&e(a,i,t)}return rg=r,rg}var ng,yN;function aU(){if(yN)return ng;yN=1;var t=Nb(),e=eU(),r=nU(),a=Tb(),i=$A(),l=UA(),u=Jl(),d=1,f=2;function m(v,y){return a(v)&&i(y)?l(u(v),y):function(b){var x=e(b,v);return x===void 0&&x===y?r(b,v):t(y,x,d|f)}}return ng=m,ng}var ag,bN;function ef(){if(bN)return ag;bN=1;function t(e){return e}return ag=t,ag}var sg,xN;function sU(){if(xN)return sg;xN=1;function t(e){return function(r){return r?.[e]}}return sg=t,sg}var ig,wN;function iU(){if(wN)return ig;wN=1;var t=Zd();function e(r){return function(a){return t(a,r)}}return ig=e,ig}var og,_N;function oU(){if(_N)return og;_N=1;var t=sU(),e=iU(),r=Tb(),a=Jl();function i(l){return r(l)?t(a(l)):e(l)}return og=i,og}var lg,SN;function tf(){if(SN)return lg;SN=1;var t=V$(),e=aU(),r=ef(),a=Hr(),i=oU();function l(u){return typeof u=="function"?u:u==null?r:typeof u=="object"?a(u)?e(u[0],u[1]):t(u):i(u)}return lg=l,lg}var ug,EN;function zA(){if(EN)return ug;EN=1;var t=G$(),e=tf(),r=pA(),a=Math.max;function i(l,u,d){var f=l==null?0:l.length;if(!f)return-1;var m=d==null?0:r(d);return m<0&&(m=a(f+m,0)),t(l,e(u,3),m)}return ug=i,ug}var lU=zA();const uU=Gt(lU);var cg,jN;function cU(){if(jN)return cg;jN=1;var t=Math.ceil,e=Math.max;function r(a,i,l,u){for(var d=-1,f=e(t((i-a)/(l||1)),0),m=Array(f);f--;)m[u?f:++d]=a,a+=l;return m}return cg=r,cg}var dg,NN;function dU(){if(NN)return dg;NN=1;var t=cU(),e=qd(),r=mA();function a(i){return function(l,u,d){return d&&typeof d!="number"&&e(l,u,d)&&(u=d=void 0),l=r(l),u===void 0?(u=l,l=0):u=r(u),d=d===void 0?l<u?1:-1:r(d),t(l,u,d,i)}}return dg=a,dg}var fg,TN;function fU(){if(TN)return fg;TN=1;var t=dU(),e=t();return fg=e,fg}var hU=fU();const mU=Gt(hU);var ON=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function pU(t,e){return!!(t===e||ON(t)&&ON(e))}function vU(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!pU(t[r],e[r]))return!1;return!0}function BA(t,e){e===void 0&&(e=vU);var r=null;function a(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var u=t.apply(this,i);return r={lastResult:u,lastArgs:i,lastThis:this},u}return a.clear=function(){r=null},a}function Dl(t,e){var r=Pd(t);return r?r.innerWidth:e?t.clientWidth:Zr(t).width}var hg,CN;function gU(){if(CN)return hg;CN=1;var t=Hi(),e=_b(),r=Hr(),a=t?t.isConcatSpreadable:void 0;function i(l){return r(l)||e(l)||!!(a&&l&&l[a])}return hg=i,hg}var mg,AN;function IA(){if(AN)return mg;AN=1;var t=xb(),e=gU();function r(a,i,l,u,d){var f=-1,m=a.length;for(l||(l=e),d||(d=[]);++f<m;){var v=a[f];i>0&&l(v)?i>1?r(v,i-1,l,u,d):t(d,v):u||(d[d.length]=v)}return d}return mg=r,mg}var pg,RN;function yU(){if(RN)return pg;RN=1;function t(e){return function(r,a,i){for(var l=-1,u=Object(r),d=i(r),f=d.length;f--;){var m=d[e?f:++l];if(a(u[m],m,u)===!1)break}return r}}return pg=t,pg}var vg,DN;function bU(){if(DN)return vg;DN=1;var t=yU(),e=t();return vg=e,vg}var gg,kN;function Cb(){if(kN)return gg;kN=1;var t=bU(),e=Xl();function r(a,i){return a&&t(a,i,e)}return gg=r,gg}var yg,MN;function xU(){if(MN)return yg;MN=1;var t=Fl();function e(r,a){return function(i,l){if(i==null)return i;if(!t(i))return r(i,l);for(var u=i.length,d=a?u:-1,f=Object(i);(a?d--:++d<u)&&l(f[d],d,f)!==!1;);return i}}return yg=e,yg}var bg,qN;function wU(){if(qN)return bg;qN=1;var t=Cb(),e=xU(),r=e(t);return bg=r,bg}var xg,PN;function _U(){if(PN)return xg;PN=1;var t=wU(),e=Fl();function r(a,i){var l=-1,u=e(a)?Array(a.length):[];return t(a,function(d,f,m){u[++l]=i(d,f,m)}),u}return xg=r,xg}var wg,LN;function SU(){if(LN)return wg;LN=1;function t(e,r){var a=e.length;for(e.sort(r);a--;)e[a]=e[a].value;return e}return wg=t,wg}var _g,$N;function EU(){if($N)return _g;$N=1;var t=Gl();function e(r,a){if(r!==a){var i=r!==void 0,l=r===null,u=r===r,d=t(r),f=a!==void 0,m=a===null,v=a===a,y=t(a);if(!m&&!y&&!d&&r>a||d&&f&&v&&!m&&!y||l&&f&&v||!i&&v||!u)return 1;if(!l&&!d&&!y&&r<a||y&&i&&u&&!l&&!d||m&&i&&u||!f&&u||!v)return-1}return 0}return _g=e,_g}var Sg,UN;function jU(){if(UN)return Sg;UN=1;var t=EU();function e(r,a,i){for(var l=-1,u=r.criteria,d=a.criteria,f=u.length,m=i.length;++l<f;){var v=t(u[l],d[l]);if(v){if(l>=m)return v;var y=i[l];return v*(y=="desc"?-1:1)}}return r.index-a.index}return Sg=e,Sg}var Eg,zN;function NU(){if(zN)return Eg;zN=1;var t=Ob(),e=Zd(),r=tf(),a=_U(),i=SU(),l=Xd(),u=jU(),d=ef(),f=Hr();function m(v,y,b){y.length?y=t(y,function(_){return f(_)?function(E){return e(E,_.length===1?_[0]:_)}:_}):y=[d];var x=-1;y=t(y,l(r));var w=a(v,function(_,E,S){var N=t(y,function(T){return T(_)});return{criteria:N,index:++x,value:_}});return i(w,function(_,E){return u(_,E,b)})}return Eg=m,Eg}var jg,BN;function TU(){if(BN)return jg;BN=1;function t(e,r,a){switch(a.length){case 0:return e.call(r);case 1:return e.call(r,a[0]);case 2:return e.call(r,a[0],a[1]);case 3:return e.call(r,a[0],a[1],a[2])}return e.apply(r,a)}return jg=t,jg}var Ng,IN;function HA(){if(IN)return Ng;IN=1;var t=TU(),e=Math.max;function r(a,i,l){return i=e(i===void 0?a.length-1:i,0),function(){for(var u=arguments,d=-1,f=e(u.length-i,0),m=Array(f);++d<f;)m[d]=u[i+d];d=-1;for(var v=Array(i+1);++d<i;)v[d]=u[d];return v[i]=l(m),t(a,this,v)}}return Ng=r,Ng}var Tg,HN;function OU(){if(HN)return Tg;HN=1;function t(e){return function(){return e}}return Tg=t,Tg}var Og,FN;function FA(){if(FN)return Og;FN=1;var t=Ns(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Og=e,Og}var Cg,GN;function CU(){if(GN)return Cg;GN=1;var t=OU(),e=FA(),r=ef(),a=e?function(i,l){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(l),writable:!0})}:r;return Cg=a,Cg}var Ag,YN;function AU(){if(YN)return Ag;YN=1;var t=800,e=16,r=Date.now;function a(i){var l=0,u=0;return function(){var d=r(),f=e-(d-u);if(u=d,f>0){if(++l>=t)return arguments[0]}else l=0;return i.apply(void 0,arguments)}}return Ag=a,Ag}var Rg,WN;function GA(){if(WN)return Rg;WN=1;var t=CU(),e=AU(),r=e(t);return Rg=r,Rg}var Dg,VN;function YA(){if(VN)return Dg;VN=1;var t=ef(),e=HA(),r=GA();function a(i,l){return r(e(i,l,t),i+"")}return Dg=a,Dg}var kg,KN;function RU(){if(KN)return kg;KN=1;var t=IA(),e=NU(),r=YA(),a=qd(),i=r(function(l,u){if(l==null)return[];var d=u.length;return d>1&&a(l,u[0],u[1])?u=[]:d>2&&a(u[0],u[1],u[2])&&(u=[u[0]]),e(l,t(u,1),[])});return kg=i,kg}var DU=RU();const kU=Gt(DU);function WA(t){return QC(t)||dA(t)||Ky(t)||JC()}var Mg,XN;function MU(){if(XN)return Mg;XN=1;function t(e){var r=[];if(e!=null)for(var a in Object(e))r.push(a);return r}return Mg=t,Mg}var qg,QN;function qU(){if(QN)return qg;QN=1;var t=Kn(),e=jb(),r=MU(),a=Object.prototype,i=a.hasOwnProperty;function l(u){if(!t(u))return r(u);var d=e(u),f=[];for(var m in u)m=="constructor"&&(d||!i.call(u,m))||f.push(m);return f}return qg=l,qg}var Pg,JN;function rf(){if(JN)return Pg;JN=1;var t=MA(),e=qU(),r=Fl();function a(i){return r(i)?t(i,!0):e(i)}return Pg=a,Pg}var Lg,ZN;function PU(){if(ZN)return Lg;ZN=1;var t=YA(),e=Hl(),r=qd(),a=rf(),i=Object.prototype,l=i.hasOwnProperty,u=t(function(d,f){d=Object(d);var m=-1,v=f.length,y=v>2?f[2]:void 0;for(y&&r(f[0],f[1],y)&&(v=1);++m<v;)for(var b=f[m],x=a(b),w=-1,_=x.length;++w<_;){var E=x[w],S=d[E];(S===void 0||e(S,i[E])&&!l.call(d,E))&&(d[E]=b[E])}return d});return Lg=u,Lg}var LU=PU();const $U=Gt(LU);var $g,eT;function Ab(){if(eT)return $g;eT=1;var t=FA();function e(r,a,i){a=="__proto__"&&t?t(r,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[a]=i}return $g=e,$g}var Ug,tT;function UU(){if(tT)return Ug;tT=1;var t=Ab(),e=Cb(),r=tf();function a(i,l){var u={};return l=r(l,3),e(i,function(d,f,m){t(u,f,l(d,f,m))}),u}return Ug=a,Ug}var zU=UU();const BU=Gt(zU);var zg,rT;function VA(){if(rT)return zg;rT=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i&&r(e[a],a,e)!==!1;);return e}return zg=t,zg}var Bg,nT;function KA(){if(nT)return Bg;nT=1;var t=Ab(),e=Hl(),r=Object.prototype,a=r.hasOwnProperty;function i(l,u,d){var f=l[u];(!(a.call(l,u)&&e(f,d))||d===void 0&&!(u in l))&&t(l,u,d)}return Bg=i,Bg}var Ig,aT;function Zl(){if(aT)return Ig;aT=1;var t=KA(),e=Ab();function r(a,i,l,u){var d=!l;l||(l={});for(var f=-1,m=i.length;++f<m;){var v=i[f],y=u?u(l[v],a[v],v,l,a):void 0;y===void 0&&(y=a[v]),d?e(l,v,y):t(l,v,y)}return l}return Ig=r,Ig}var Hg,sT;function IU(){if(sT)return Hg;sT=1;var t=Zl(),e=Xl();function r(a,i){return a&&t(i,e(i),a)}return Hg=r,Hg}var Fg,iT;function HU(){if(iT)return Fg;iT=1;var t=Zl(),e=rf();function r(a,i){return a&&t(i,e(i),a)}return Fg=r,Fg}var fl={exports:{}};fl.exports;var oT;function FU(){return oT||(oT=1,(function(t,e){var r=bn(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,u=l?r.Buffer:void 0,d=u?u.allocUnsafe:void 0;function f(m,v){if(v)return m.slice();var y=m.length,b=d?d(y):new m.constructor(y);return m.copy(b),b}t.exports=f})(fl,fl.exports)),fl.exports}var Gg,lT;function GU(){if(lT)return Gg;lT=1;function t(e,r){var a=-1,i=e.length;for(r||(r=Array(i));++a<i;)r[a]=e[a];return r}return Gg=t,Gg}var Yg,uT;function YU(){if(uT)return Yg;uT=1;var t=Zl(),e=wb();function r(a,i){return t(a,e(a),i)}return Yg=r,Yg}var Wg,cT;function nf(){if(cT)return Wg;cT=1;var t=qA(),e=t(Object.getPrototypeOf,Object);return Wg=e,Wg}var Vg,dT;function XA(){if(dT)return Vg;dT=1;var t=xb(),e=nf(),r=wb(),a=kA(),i=Object.getOwnPropertySymbols,l=i?function(u){for(var d=[];u;)t(d,r(u)),u=e(u);return d}:a;return Vg=l,Vg}var Kg,fT;function WU(){if(fT)return Kg;fT=1;var t=Zl(),e=XA();function r(a,i){return t(a,e(a),i)}return Kg=r,Kg}var Xg,hT;function QA(){if(hT)return Xg;hT=1;var t=DA(),e=XA(),r=rf();function a(i){return t(i,r,e)}return Xg=a,Xg}var Qg,mT;function VU(){if(mT)return Qg;mT=1;var t=Object.prototype,e=t.hasOwnProperty;function r(a){var i=a.length,l=new a.constructor(i);return i&&typeof a[0]=="string"&&e.call(a,"index")&&(l.index=a.index,l.input=a.input),l}return Qg=r,Qg}var Jg,pT;function Rb(){if(pT)return Jg;pT=1;var t=RA();function e(r){var a=new r.constructor(r.byteLength);return new t(a).set(new t(r)),a}return Jg=e,Jg}var Zg,vT;function KU(){if(vT)return Zg;vT=1;var t=Rb();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return Zg=e,Zg}var e0,gT;function XU(){if(gT)return e0;gT=1;var t=/\w*$/;function e(r){var a=new r.constructor(r.source,t.exec(r));return a.lastIndex=r.lastIndex,a}return e0=e,e0}var t0,yT;function QU(){if(yT)return t0;yT=1;var t=Hi(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function a(i){return r?Object(r.call(i)):{}}return t0=a,t0}var r0,bT;function JU(){if(bT)return r0;bT=1;var t=Rb();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return r0=e,r0}var n0,xT;function ZU(){if(xT)return n0;xT=1;var t=Rb(),e=KU(),r=XU(),a=QU(),i=JU(),l="[object Boolean]",u="[object Date]",d="[object Map]",f="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",N="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",C="[object Uint32Array]";function L(P,A,q){var z=P.constructor;switch(A){case x:return t(P);case l:case u:return new z(+P);case w:return e(P,q);case _:case E:case S:case N:case T:case O:case M:case D:case C:return i(P,q);case d:return new z;case f:case y:return new z(P);case m:return r(P);case v:return new z;case b:return a(P)}}return n0=L,n0}var a0,wT;function JA(){if(wT)return a0;wT=1;var t=Kn(),e=Object.create,r=(function(){function a(){}return function(i){if(!t(i))return{};if(e)return e(i);a.prototype=i;var l=new a;return a.prototype=void 0,l}})();return a0=r,a0}var s0,_T;function ez(){if(_T)return s0;_T=1;var t=JA(),e=nf(),r=jb();function a(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return s0=a,s0}var i0,ST;function tz(){if(ST)return i0;ST=1;var t=Qd(),e=Da(),r="[object Map]";function a(i){return e(i)&&t(i)==r}return i0=a,i0}var o0,ET;function rz(){if(ET)return o0;ET=1;var t=tz(),e=Xd(),r=Sb(),a=r&&r.isMap,i=a?e(a):t;return o0=i,o0}var l0,jT;function nz(){if(jT)return l0;jT=1;var t=Qd(),e=Da(),r="[object Set]";function a(i){return e(i)&&t(i)==r}return l0=a,l0}var u0,NT;function az(){if(NT)return u0;NT=1;var t=nz(),e=Xd(),r=Sb(),a=r&&r.isSet,i=a?e(a):t;return u0=i,u0}var c0,TT;function sz(){if(TT)return c0;TT=1;var t=bb(),e=VA(),r=KA(),a=IU(),i=HU(),l=FU(),u=GU(),d=YU(),f=WU(),m=PA(),v=QA(),y=Qd(),b=VU(),x=ZU(),w=ez(),_=Hr(),E=Kd(),S=rz(),N=Kn(),T=az(),O=Xl(),M=rf(),D=1,C=2,L=4,P="[object Arguments]",A="[object Array]",q="[object Boolean]",z="[object Date]",U="[object Error]",W="[object Function]",ee="[object GeneratorFunction]",H="[object Map]",I="[object Number]",re="[object Object]",le="[object RegExp]",V="[object Set]",$="[object String]",Q="[object Symbol]",oe="[object WeakMap]",fe="[object ArrayBuffer]",Z="[object DataView]",de="[object Float32Array]",we="[object Float64Array]",Oe="[object Int8Array]",Me="[object Int16Array]",At="[object Int32Array]",St="[object Uint8Array]",Zt="[object Uint8ClampedArray]",Fr="[object Uint16Array]",Kt="[object Uint32Array]",Ce={};Ce[P]=Ce[A]=Ce[fe]=Ce[Z]=Ce[q]=Ce[z]=Ce[de]=Ce[we]=Ce[Oe]=Ce[Me]=Ce[At]=Ce[H]=Ce[I]=Ce[re]=Ce[le]=Ce[V]=Ce[$]=Ce[Q]=Ce[St]=Ce[Zt]=Ce[Fr]=Ce[Kt]=!0,Ce[U]=Ce[W]=Ce[oe]=!1;function Xt(Te,Qt,Rt,Et,Dt,ue){var ne,he=Qt&D,qe=Qt&C,nt=Qt&L;if(Rt&&(ne=Dt?Rt(Te,Et,Dt,ue):Rt(Te)),ne!==void 0)return ne;if(!N(Te))return Te;var jt=_(Te);if(jt){if(ne=b(Te),!he)return u(Te,ne)}else{var at=y(Te),Gr=at==W||at==ee;if(E(Te))return l(Te,he);if(at==re||at==P||Gr&&!Dt){if(ne=qe||Gr?{}:w(Te),!he)return qe?f(Te,i(ne,Te)):d(Te,a(ne,Te))}else{if(!Ce[at])return Dt?Te:{};ne=x(Te,at,he)}}ue||(ue=new t);var Nt=ue.get(Te);if(Nt)return Nt;ue.set(Te,ne),T(Te)?Te.forEach(function(er){ne.add(Xt(er,Qt,Rt,er,Te,ue))}):S(Te)&&Te.forEach(function(er,lt){ne.set(lt,Xt(er,Qt,Rt,lt,Te,ue))});var Cs=nt?qe?v:m:qe?M:O,ru=jt?void 0:Cs(Te);return e(ru||Te,function(er,lt){ru&&(lt=er,er=Te[lt]),r(ne,lt,Xt(er,Qt,Rt,lt,Te,ue))}),ne}return c0=Xt,c0}var d0,OT;function iz(){if(OT)return d0;OT=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return d0=t,d0}var f0,CT;function oz(){if(CT)return f0;CT=1;var t=Zd(),e=fA();function r(a,i){return i.length<2?a:t(a,e(i,0,-1))}return f0=r,f0}var h0,AT;function lz(){if(AT)return h0;AT=1;var t=Jd(),e=iz(),r=oz(),a=Jl();function i(l,u){return u=t(u,l),l=r(l,u),l==null||delete l[a(e(u))]}return h0=i,h0}var m0,RT;function uz(){if(RT)return m0;RT=1;var t=Fi(),e=nf(),r=Da(),a="[object Object]",i=Function.prototype,l=Object.prototype,u=i.toString,d=l.hasOwnProperty,f=u.call(Object);function m(v){if(!r(v)||t(v)!=a)return!1;var y=e(v);if(y===null)return!0;var b=d.call(y,"constructor")&&y.constructor;return typeof b=="function"&&b instanceof b&&u.call(b)==f}return m0=m,m0}var p0,DT;function cz(){if(DT)return p0;DT=1;var t=uz();function e(r){return t(r)?void 0:r}return p0=e,p0}var v0,kT;function dz(){if(kT)return v0;kT=1;var t=IA();function e(r){var a=r==null?0:r.length;return a?t(r,1):[]}return v0=e,v0}var g0,MT;function fz(){if(MT)return g0;MT=1;var t=dz(),e=HA(),r=GA();function a(i){return r(e(i,void 0,t),i+"")}return g0=a,g0}var y0,qT;function hz(){if(qT)return y0;qT=1;var t=Ob(),e=sz(),r=lz(),a=Jd(),i=Zl(),l=cz(),u=fz(),d=QA(),f=1,m=2,v=4,y=u(function(b,x){var w={};if(b==null)return w;var _=!1;x=t(x,function(S){return S=a(S,b),_||(_=S.length>1),S}),i(b,d(b),w),_&&(w=e(w,f|m|v,l));for(var E=x.length;E--;)r(w,x[E]);return w});return y0=y,y0}var mz=hz();const pz=Gt(mz);var b0,PT;function vz(){if(PT)return b0;PT=1;var t=VA(),e=JA(),r=Cb(),a=tf(),i=nf(),l=Hr(),u=Kd(),d=Zy(),f=Kn(),m=Eb();function v(y,b,x){var w=l(y),_=w||u(y)||m(y);if(b=a(b,4),x==null){var E=y&&y.constructor;_?x=w?new E:[]:f(y)?x=d(E)?e(i(y)):{}:x={}}return(_?t:r)(y,function(S,N,T){return b(x,S,N,T)}),x}return b0=v,b0}var gz=vz();const yz=Gt(gz);var Yc={exports:{}},bz=Yc.exports,LT;function xz(){return LT||(LT=1,(function(t,e){(function(r,a){t.exports=a()})(bz,(function(){return function(r,a,i){a.prototype.isBetween=function(l,u,d,f){var m=i(l),v=i(u),y=(f=f||"()")[0]==="(",b=f[1]===")";return(y?this.isAfter(m,d):!this.isBefore(m,d))&&(b?this.isBefore(v,d):!this.isAfter(v,d))||(y?this.isBefore(m,d):!this.isAfter(m,d))&&(b?this.isAfter(v,d):!this.isBefore(v,d))}}}))})(Yc)),Yc.exports}xz();var Wc={exports:{}},wz=Wc.exports,$T;function _z(){return $T||($T=1,(function(t,e){(function(r,a){t.exports=a()})(wz,(function(){return function(r,a){a.prototype.isSameOrAfter=function(i,l){return this.isSame(i,l)||this.isAfter(i,l)}}}))})(Wc)),Wc.exports}_z();var Vc={exports:{}},Sz=Vc.exports,UT;function Ez(){return UT||(UT=1,(function(t,e){(function(r,a){t.exports=a()})(Sz,(function(){return function(r,a){a.prototype.isSameOrBefore=function(i,l){return this.isSame(i,l)||this.isBefore(i,l)}}}))})(Vc)),Vc.exports}Ez();var Kc={exports:{}},jz=Kc.exports,zT;function Nz(){return zT||(zT=1,(function(t,e){(function(r,a){t.exports=a()})(jz,(function(){return function(r,a,i){var l=a.prototype,u=function(y){return y&&(y.indexOf?y:y.s)},d=function(y,b,x,w,_){var E=y.name?y:y.$locale(),S=u(E[b]),N=u(E[x]),T=S||N.map((function(M){return M.slice(0,w)}));if(!_)return T;var O=E.weekStart;return T.map((function(M,D){return T[(D+(O||0))%7]}))},f=function(){return i.Ls[i.locale()]},m=function(y,b){return y.formats[b]||(function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,_,E){return _||E.slice(1)}))})(y.formats[b.toUpperCase()])},v=function(){var y=this;return{months:function(b){return b?b.format("MMMM"):d(y,"months")},monthsShort:function(b){return b?b.format("MMM"):d(y,"monthsShort","months",3)},firstDayOfWeek:function(){return y.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):d(y,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):d(y,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):d(y,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return m(y.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};l.localeData=function(){return v.bind(this)()},i.localeData=function(){var y=f();return{firstDayOfWeek:function(){return y.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(b){return m(y,b)},meridiem:y.meridiem,ordinal:y.ordinal}},i.months=function(){return d(f(),"months")},i.monthsShort=function(){return d(f(),"monthsShort","months",3)},i.weekdays=function(y){return d(f(),"weekdays",null,null,y)},i.weekdaysShort=function(y){return d(f(),"weekdaysShort","weekdays",3,y)},i.weekdaysMin=function(y){return d(f(),"weekdaysMin","weekdays",2,y)}}}))})(Kc)),Kc.exports}Nz();var Xc={exports:{}},Tz=Xc.exports,BT;function Oz(){return BT||(BT=1,(function(t,e){(function(r,a){t.exports=a()})(Tz,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,i,l){var u=i.prototype,d=u.format;l.en.formats=r,u.format=function(f){f===void 0&&(f="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,v=(function(y,b){return y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(x,w,_){var E=_&&_.toUpperCase();return w||b[_]||r[_]||b[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(S,N,T){return N||T.slice(1)}))}))})(f,m===void 0?{}:m);return d.call(this,v)}}}))})(Xc)),Xc.exports}Oz();var Qc={exports:{}},Cz=Qc.exports,IT;function Az(){return IT||(IT=1,(function(t,e){(function(r,a){t.exports=a()})(Cz,(function(){return function(r,a,i){var l=function(u,d){if(!d||!d.length||d.length===1&&!d[0]||d.length===1&&Array.isArray(d[0])&&!d[0].length)return null;var f;d.length===1&&d[0].length>0&&(d=d[0]),f=(d=d.filter((function(v){return v})))[0];for(var m=1;m<d.length;m+=1)d[m].isValid()&&!d[m][u](f)||(f=d[m]);return f};i.max=function(){var u=[].slice.call(arguments,0);return l("isAfter",u)},i.min=function(){var u=[].slice.call(arguments,0);return l("isBefore",u)}}}))})(Qc)),Qc.exports}Az();var Jc={exports:{}},Rz=Jc.exports,HT;function Dz(){return HT||(HT=1,(function(t,e){(function(r,a){t.exports=a()})(Rz,(function(){var r="minute",a=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(l,u,d){var f=u.prototype;d.utc=function(_){var E={date:_,utc:!0,args:arguments};return new u(E)},f.utc=function(_){var E=d(this.toDate(),{locale:this.$L,utc:!0});return _?E.add(this.utcOffset(),r):E},f.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var m=f.parse;f.parse=function(_){_.utc&&(this.$u=!0),this.$utils().u(_.$offset)||(this.$offset=_.$offset),m.call(this,_)};var v=f.init;f.init=function(){if(this.$u){var _=this.$d;this.$y=_.getUTCFullYear(),this.$M=_.getUTCMonth(),this.$D=_.getUTCDate(),this.$W=_.getUTCDay(),this.$H=_.getUTCHours(),this.$m=_.getUTCMinutes(),this.$s=_.getUTCSeconds(),this.$ms=_.getUTCMilliseconds()}else v.call(this)};var y=f.utcOffset;f.utcOffset=function(_,E){var S=this.$utils().u;if(S(_))return this.$u?0:S(this.$offset)?y.call(this):this.$offset;if(typeof _=="string"&&(_=(function(M){M===void 0&&(M="");var D=M.match(a);if(!D)return null;var C=(""+D[0]).match(i)||["-",0,0],L=C[0],P=60*+C[1]+ +C[2];return P===0?0:L==="+"?P:-P})(_),_===null))return this;var N=Math.abs(_)<=16?60*_:_;if(N===0)return this.utc(E);var T=this.clone();if(E)return T.$offset=N,T.$u=!1,T;var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(T=this.local().add(N+O,r)).$offset=N,T.$x.$localOffset=O,T};var b=f.format;f.format=function(_){var E=_||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,E)},f.valueOf=function(){var _=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*_},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var x=f.toDate;f.toDate=function(_){return _==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var w=f.diff;f.diff=function(_,E,S){if(_&&this.$u===_.$u)return w.call(this,_,E,S);var N=this.local(),T=d(_).local();return w.call(N,T,E,S)}}}))})(Jc)),Jc.exports}Dz();var Zc={exports:{}},kz=Zc.exports,FT;function Mz(){return FT||(FT=1,(function(t,e){(function(r,a){t.exports=a()})(kz,(function(){return function(r,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(Zc)),Zc.exports}Mz();function ln(t){return t.children}var fr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},bt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},GT=Object.keys(bt).map(function(t){return bt[t]});ce.oneOfType([ce.string,ce.func]);ce.any;ce.func;ce.oneOfType([ce.arrayOf(ce.oneOf(GT)),ce.objectOf(function(t,e){var r=GT.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var a=arguments.length,i=new Array(a>2?a-2:0),l=2;l<a;l++)i[l-2]=arguments[l];return ce.elementType.apply(ce,[t,e].concat(i))})]);ce.oneOfType([ce.oneOf(["overlap","no-overlap"]),ce.func]);var YT={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function ZA(t,e){var r=Bt(t,"month");return Bt(r,"week",e.startOfWeek())}function eR(t,e){var r=vd(t,"month");return vd(r,"week",e.startOfWeek())}function qz(t,e){for(var r=ZA(t,e),a=eR(t,e),i=[];Bi(r,a,"day");)i.push(r),r=tn(r,1,"day");return i}function Pz(t,e){var r=Bt(t,e);return zi(r,t)?r:tn(r,1,e)}function Lz(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",a=t,i=[];Bi(a,e,r);)i.push(a),a=tn(a,1,r);return i}function $z(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Bt(t,"day"),t=Ol(t,Ol(e)),t=Ci(t,Ci(e)),t=Tl(t,Tl(e)),Nl(t,Nl(e)))}function WT(t){return Ol(t)===0&&Ci(t)===0&&Tl(t)===0&&Nl(t)===0}function Uz(t,e,r,a){return r==="day"&&(r="date"),Math.abs(B1[r](t,void 0,a)-B1[r](e,void 0,a))}function Db(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Bt(t,r)/YT[r]-+Bt(e,r)/YT[r]))}var zz=ce.oneOfType([ce.string,ce.func]);function Bz(t,e,r,a,i){var l=typeof a=="function"?a(r,i,t):e.call(t,r,a,i);return xl(l==null||typeof l=="string","`localizer format(..)` must return a string, null, or undefined"),l}function Iz(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function kb(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function Hz(t,e){return Db(t,e,"minutes")+kb(t,e)}function Fz(t){var e=Bt(t,"day");return Db(e,t,"minutes")+kb(e,t)}function Gz(t,e){return Jy(t,e,"day")}function Yz(t,e,r){var a=zi(t,e,"minutes");return a?Il(e,r,"minutes"):Md(e,r,"minutes")}function jy(t,e){return Uz(t,e,"day")}function Wz(t){var e=t.evtA,r=e.start,a=e.end,i=e.allDay,l=t.evtB,u=l.start,d=l.end,f=l.allDay,m=+Bt(r,"day")-+Bt(u,"day"),v=jy(r,a),y=jy(u,d);return m||y-v||!!f-!!i||+r-+u||+a-+d}function Vz(t){var e=t.event,r=e.start,a=e.end,i=t.range,l=i.start,u=i.end,d=Bt(r,"day"),f=Bi(d,u,"day"),m=Qy(d,a,"minutes"),v=m?Md(a,l,"minutes"):Il(a,l,"minutes");return f&&v}function Kz(t,e){return zi(t,e,"day")}function Xz(t,e){return WT(t)&&WT(e)}var Qz=_t(function t(e){var r=this;wt(this,t),xl(typeof e.format=="function","date localizer `format(..)` must be a function"),xl(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||zz,this.formats=e.formats,this.format=function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return Bz.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||$z,this.inRange=e.inRange||oA,this.lt=e.lt||Jy,this.lte=e.lte||Bi,this.gt=e.gt||Md,this.gte=e.gte||Il,this.eq=e.eq||zi,this.neq=e.neq||Qy,this.startOf=e.startOf||Bt,this.endOf=e.endOf||vd,this.add=e.add||tn,this.range=e.range||Lz,this.diff=e.diff||Db,this.ceil=e.ceil||Pz,this.min=e.min||sA,this.max=e.max||iA,this.minutes=e.minutes||Ci,this.daySpan=e.daySpan||jy,this.firstVisibleDay=e.firstVisibleDay||ZA,this.lastVisibleDay=e.lastVisibleDay||eR,this.visibleDays=e.visibleDays||qz,this.getSlotDate=e.getSlotDate||Iz,this.getTimezoneOffset=e.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||kb,this.getTotalMin=e.getTotalMin||Hz,this.getMinutesFromMidnight=e.getMinutesFromMidnight||Fz,this.continuesPrior=e.continuesPrior||Gz,this.continuesAfter=e.continuesAfter||Yz,this.sortEvents=e.sortEvents||Wz,this.inEventRange=e.inEventRange||Vz,this.isSameDate=e.isSameDate||Kz,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||Xz,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function Jz(t,e,r,a){var i=We(We({},t.formats),r);return We(We({},t),{},{messages:a,startOfWeek:function(){return t.startOfWeek(e)},format:function(u,d){return t.format(u,i[d]||d,e)}})}var Zz=(function(t){function e(){var r;wt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Yt(this,e,[].concat(i)),r.navigate=function(u){r.props.onNavigate(u)},r.view=function(u){r.props.onView(u)},r}return Wt(e,t),_t(e,[{key:"render",value:function(){var a=this.props,i=a.localizer.messages,l=a.label;return Y.createElement("div",{className:"rbc-toolbar"},Y.createElement("span",{className:"rbc-btn-group"},Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,fr.TODAY)},i.today),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,fr.PREVIOUS)},i.previous),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,fr.NEXT)},i.next)),Y.createElement("span",{className:"rbc-toolbar-label"},l),Y.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(a){var i=this,l=this.props.views,u=this.props.view;if(l.length>1)return l.map(function(d){return Y.createElement("button",{type:"button",key:d,className:rt({"rbc-active":u===d}),onClick:i.view.bind(null,d)},a[d])})}}])})(Y.Component);function Qe(t,e){t&&t.apply(null,[].concat(e))}var eB={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function tB(t){return We(We({},eB),t)}function rB(t){var e=t.ref,r=t.callback;R.useEffect(function(){var a=function(l){e.current&&!e.current.contains(l.target)&&r()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[e,r])}var nB=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],tR=(function(t){function e(){return wt(this,e),Yt(this,e,arguments)}return Wt(e,t),_t(e,[{key:"render",value:function(){var a=this.props,i=a.style,l=a.className,u=a.event,d=a.selected,f=a.isAllDay,m=a.onSelect,v=a.onDoubleClick,y=a.onKeyPress,b=a.localizer,x=a.continuesPrior,w=a.continuesAfter,_=a.accessors,E=a.getters,S=a.children,N=a.components,T=N.event,O=N.eventWrapper,M=a.slotStart,D=a.slotEnd,C=vn(a,nB);delete C.resizable;var L=_.title(u),P=_.tooltip(u),A=_.end(u),q=_.start(u),z=_.allDay(u),U=f||z||b.diff(q,b.ceil(A,"day"),"day")>1,W=E.eventProp(u,q,A,d),ee=Y.createElement("div",{className:"rbc-event-content",title:P||void 0},T?Y.createElement(T,{event:u,continuesPrior:x,continuesAfter:w,title:L,isAllDay:z,localizer:b,slotStart:M,slotEnd:D}):L);return Y.createElement(O,Object.assign({},this.props,{type:"date"}),Y.createElement("div",Object.assign({},C,{style:We(We({},W.style),i),className:rt("rbc-event",l,W.className,{"rbc-selected":d,"rbc-event-allday":U,"rbc-event-continues-prior":x,"rbc-event-continues-after":w}),onClick:function(I){return m&&m(u,I)},onDoubleClick:function(I){return v&&v(u,I)},onKeyDown:function(I){return y&&y(u,I)}}),typeof S=="function"?S(ee):ee))}}])})(Y.Component);function af(t,e){return!t||e==null?!1:H$(t,e)}function rR(t,e){var r=t.right-t.left,a=r/e;return a}function nR(t,e,r,a){var i=rR(t,a);return r?a-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function aB(t,e){var r=e.x,a=e.y;return a>=t.top&&a<=t.bottom&&r>=t.left&&r<=t.right}function sB(t,e,r,a,i){var l=-1,u=-1,d=a-1,f=rR(e,a),m=nR(e,r.x,i,a),v=e.top<r.y&&e.bottom>r.y,y=e.top<t.y&&e.bottom>t.y,b=t.y>e.bottom,x=e.top>t.y,w=r.top<e.top&&r.bottom>e.bottom;return w&&(l=0,u=d),v&&(x?(l=0,u=m):b&&(l=m,u=d)),y&&(l=u=i?d-Math.floor((t.x-e.left)/f):Math.floor((t.x-e.left)/f),v?m<l?l=m:u=m:t.y<r.y?u=d:l=0),{startIdx:l,endIdx:u}}function iB(t){var e=t.target,r=t.offset,a=t.container,i=t.box,l=Zr(e),u=l.top,d=l.left,f=l.width,m=l.height,v=Zr(a),y=v.top,b=v.left,x=v.width,w=v.height,_=Zr(i),E=_.width,S=_.height,N=y+w,T=b+x,O=u+S,M=d+E,D=r.x,C=r.y,L=O>N?u-S-C:u+C+m,P=M>T?d+D-E+f:d+D;return{topOffset:L,leftOffset:P}}function oB(t){var e=t.containerRef,r=t.accessors,a=t.getters,i=t.selected,l=t.components,u=t.localizer,d=t.position,f=t.show,m=t.events,v=t.slotStart,y=t.slotEnd,b=t.onSelect,x=t.onDoubleClick,w=t.onKeyPress,_=t.handleDragStart,E=t.popperRef,S=t.target,N=t.offset;rB({ref:E,callback:f}),R.useLayoutEffect(function(){var M=iB({target:S,offset:N,container:e.current,box:E.current}),D=M.topOffset,C=M.leftOffset;E.current.style.top="".concat(D,"px"),E.current.style.left="".concat(C,"px")},[N.x,N.y,S]);var T=d.width,O={minWidth:T+T/2};return Y.createElement("div",{style:O,className:"rbc-overlay",ref:E},Y.createElement("div",{className:"rbc-overlay-header"},u.format(v,"dayHeaderFormat")),m.map(function(M,D){return Y.createElement(tR,{key:D,type:"popup",localizer:u,event:M,getters:a,onSelect:b,accessors:r,components:l,onDoubleClick:x,onKeyPress:w,continuesPrior:u.lt(r.end(M),v,"day"),continuesAfter:u.gte(r.start(M),y,"day"),slotStart:v,slotEnd:y,selected:af(M,i),draggable:!0,onDragStart:function(){return _(M)},onDragEnd:function(){return f()}})}))}var aR=Y.forwardRef(function(t,e){return Y.createElement(oB,Object.assign({},t,{popperRef:e}))});aR.propTypes={accessors:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,components:ce.object.isRequired,localizer:ce.object.isRequired,position:ce.object.isRequired,show:ce.func.isRequired,events:ce.array.isRequired,slotStart:ce.instanceOf(Date).isRequired,slotEnd:ce.instanceOf(Date),onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func,handleDragStart:ce.func,style:ce.object,offset:ce.shape({x:ce.number,y:ce.number})};function lB(t){var e=t.containerRef,r=t.popupOffset,a=r===void 0?5:r,i=t.overlay,l=t.accessors,u=t.localizer,d=t.components,f=t.getters,m=t.selected,v=t.handleSelectEvent,y=t.handleDoubleClickEvent,b=t.handleKeyPressEvent,x=t.handleDragStart,w=t.onHide,_=t.overlayDisplay,E=R.useRef(null);if(!i.position)return null;var S=a;isNaN(a)||(S={x:a,y:a});var N=i.position,T=i.events,O=i.date,M=i.end;return Y.createElement(vb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:w,target:i.target},function(D){var C=D.props;return Y.createElement(aR,Object.assign({},C,{containerRef:e,ref:E,target:i.target,offset:S,accessors:l,getters:f,selected:m,components:d,localizer:u,position:N,show:_,events:T,slotStart:O,slotEnd:M,onSelect:v,onDoubleClick:y,onKeyPress:b,handleDragStart:x}))})}var Mb=Y.forwardRef(function(t,e){return Y.createElement(lB,Object.assign({},t,{containerRef:e}))});Mb.propTypes={popupOffset:ce.oneOfType([ce.number,ce.shape({x:ce.number,y:ce.number})]),overlay:ce.shape({position:ce.object,events:ce.array,date:ce.instanceOf(Date),end:ce.instanceOf(Date)}),accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,handleSelectEvent:ce.func,handleDoubleClickEvent:ce.func,handleKeyPressEvent:ce.func,handleDragStart:ce.func,onHide:ce.func,overlayDisplay:ce.func};function Ft(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return fn(r,t,e,{passive:!1})}function uB(t,e,r){return!t||Yn(t,document.elementFromPoint(e,r))}function cB(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return Ql(i,".rbc-event",t)}function dB(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return Ql(i,".rbc-show-more",t)}function bd(t,e){return!!cB(t,e)}function fB(t,e){return!!dB(t,e)}function Ko(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var VT=5,hB=250,sR=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.global,i=a===void 0?!1:a,l=r.longPressThreshold,u=l===void 0?250:l,d=r.validContainers,f=d===void 0?[]:d;wt(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=u,this.validContainers=f,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Ft("touchmove",function(){},window),this._removeKeyDownListener=Ft("keydown",this._keyListener),this._removeKeyUpListener=Ft("keyup",this._keyListener),this._removeDropFromOutsideListener=Ft("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Ft("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return _t(t,[{key:"on",value:function(r,a){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(a),{remove:function(){var u=i.indexOf(a);u!==-1&&i.splice(u,1)}}}},{key:"emit",value:function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];var u,d=this._listeners[r]||[];return d.forEach(function(f){u===void 0&&(u=f.apply(void 0,i))}),u}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var a=this._selectRect;return!a||!this.selecting?!1:KT(a,Es(r))}},{key:"filter",value:function(r){var a=this._selectRect;return!a||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,a){var i=this,l=null,u=null,d=null,f=function(b){l=setTimeout(function(){v(),r(b)},i.longPressThreshold),u=Ft("touchmove",function(){return v()}),d=Ft("touchend",function(){return v()})},m=Ft("touchstart",f),v=function(){l&&clearTimeout(l),u&&u(),d&&d(),l=null,u=null,d=null};return a&&f(a),function(){v(),m()}}},{key:"_addInitialEventListener",value:function(){var r=this,a=Ft("mousedown",function(l){r._removeInitialEventListener(),r._handleInitialEvent(l),r._removeInitialEventListener=Ft("mousedown",r._handleInitialEvent)}),i=Ft("touchstart",function(l){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,l)});this._removeInitialEventListener=function(){a(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var a=Ko(r),i=a.pageX,l=a.pageY,u=a.clientX,d=a.clientY;this.emit("dropFromOutside",{x:i,y:l,clientX:u,clientY:d}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var a=Ko(r),i=a.pageX,l=a.pageY,u=a.clientX,d=a.clientY;this.emit("dragOverFromOutside",{x:i,y:l,clientX:u,clientY:d}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var a=Ko(r),i=a.clientX,l=a.clientY,u=a.pageX,d=a.pageY,f=this.container(),m,v;if(!(r.which===3||r.button===2||!uB(f,i,l))){if(!this.globalMouse&&f&&!Yn(f,r.target)){var y=mB(0),b=y.top,x=y.left,w=y.bottom,_=y.right;if(v=Es(f),m=KT({top:v.top-b,left:v.left-x,bottom:v.bottom+w,right:v.right+_},{top:d,left:u}),!m)return}var E=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:u,y:d,clientX:i,clientY:l});if(E!==!1)switch(r.type){case"mousedown":this._removeEndListener=Ft("mouseup",this._handleTerminatingEvent),this._onEscListener=Ft("keydown",this._handleTerminatingEvent),this._removeMoveListener=Ft("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Ft("touchend",this._handleTerminatingEvent),this._removeMoveListener=Ft("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var a=r.target,i=this.validContainers;return!i||!i.length||!a?!0:i.some(function(l){return!!a.closest(l)})}},{key:"_handleTerminatingEvent",value:function(r){var a=this.selecting,i=this._selectRect;if(!a&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var l=!this.container||Yn(this.container(),r.target),u=this._isWithinValidContainer(r);return r.key==="Escape"||!u?this.emit("reset"):!a&&l?this._handleClickEvent(r):a?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var a=Ko(r),i=a.pageX,l=a.pageY,u=a.clientX,d=a.clientY,f=new Date().getTime();return this._lastClickData&&f-this._lastClickData.timestamp<hB?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:l,clientX:u,clientY:d})):(this._lastClickData={timestamp:f},this.emit("click",{x:i,y:l,clientX:u,clientY:d}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var a=this._initialEventData,i=a.x,l=a.y,u=Ko(r),d=u.pageX,f=u.pageY,m=Math.abs(i-d),v=Math.abs(l-f),y=Math.min(d,i),b=Math.min(f,l),x=this.selecting,w=this.isClick(d,f);w&&!x&&!(m||v)||(!x&&!w&&this.emit("selectStart",this._initialEventData),w||(this.selecting=!0,this._selectRect={top:b,left:y,x:d,y:f,right:y+m,bottom:b+v},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,a){var i=this._initialEventData,l=i.x,u=i.y,d=i.isTouch;return!d&&Math.abs(r-l)<=VT&&Math.abs(a-u)<=VT}}])})();function mB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Gn(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function KT(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=Es(t),i=a.top,l=a.left,u=a.right,d=u===void 0?l:u,f=a.bottom,m=f===void 0?i:f,v=Es(e),y=v.top,b=v.left,x=v.right,w=x===void 0?b:x,_=v.bottom,E=_===void 0?y:_;return!(m-r<y||i+r>E||d-r<b||l+r>w)}function Es(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+XT("left"),a=e.top+XT("top");return{top:a,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+a}}function XT(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var pB=(function(t){function e(r,a){var i;return wt(this,e),i=Yt(this,e,[r,a]),i.state={selecting:!1},i.containerRef=R.createRef(),i}return Wt(e,t),_t(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,i=a.range,l=a.getNow,u=a.getters,d=a.date,f=a.components.dateCellWrapper,m=a.localizer,v=this.state,y=v.selecting,b=v.startIdx,x=v.endIdx,w=l();return Y.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(_,E){var S=y&&E>=b&&E<=x,N=u.dayProp(_),T=N.className,O=N.style;return Y.createElement(f,{key:E,value:_,range:i},Y.createElement("div",{style:O,className:rt("rbc-day-bg",T,S&&"rbc-selected-cell",m.isSameDate(_,w)&&"rbc-today",d&&m.neq(d,_,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,i=this.containerRef.current,l=this._selector=new sR(this.props.container,{longPressThreshold:this.props.longPressThreshold}),u=function(f,m){if(!bd(i,f)&&!fB(i,f)){var v=Es(i),y=a.props,b=y.range,x=y.rtl;if(aB(v,f)){var w=nR(v,f.x,x,b.length);a._selectSlot({startIdx:w,endIdx:w,action:m,box:f})}}a._initial={},a.setState({selecting:!1})};l.on("selecting",function(d){var f=a.props,m=f.range,v=f.rtl,y=-1,b=-1;if(a.state.selecting||(Qe(a.props.onSelectStart,[d]),a._initial={x:d.x,y:d.y}),l.isSelected(i)){var x=Es(i),w=sB(a._initial,x,d,m.length,v);y=w.startIdx,b=w.endIdx}a.setState({selecting:!0,startIdx:y,endIdx:b})}),l.on("beforeSelect",function(d){if(a.props.selectable==="ignoreEvents")return!bd(a.containerRef.current,d)}),l.on("click",function(d){return u(d,"click")}),l.on("doubleClick",function(d){return u(d,"doubleClick")}),l.on("select",function(d){a._selectSlot(We(We({},a.state),{},{action:"select",bounds:d})),a._initial={},a.setState({selecting:!1}),Qe(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var i=a.endIdx,l=a.startIdx,u=a.action,d=a.bounds,f=a.box;i!==-1&&l!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:l,end:i,action:u,bounds:d,box:f,resourceId:this.props.resourceId})}}])})(Y.Component),Pr={propTypes:{slotMetrics:ce.object.isRequired,selected:ce.object,isAllDay:ce.bool,accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var a=e.selected;e.isAllDay;var i=e.accessors,l=e.getters,u=e.onSelect,d=e.onDoubleClick,f=e.onKeyPress,m=e.localizer,v=e.slotMetrics,y=e.components,b=e.resizable,x=v.continuesPrior(r),w=v.continuesAfter(r);return Y.createElement(tR,{event:r,getters:l,localizer:m,accessors:i,components:y,onSelect:u,onDoubleClick:d,onKeyPress:f,continuesPrior:x,continuesAfter:w,slotStart:v.first,slotEnd:v.last,selected:af(r,a),resizable:b})},renderSpan:function(e,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",l=Math.abs(r)/e*100+"%";return Y.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:l,flexBasis:l,maxWidth:l}},i)}},iR=(function(t){function e(){return wt(this,e),Yt(this,e,arguments)}return Wt(e,t),_t(e,[{key:"render",value:function(){var a=this,i=this.props,l=i.segments,u=i.slotMetrics.slots,d=i.className,f=1;return Y.createElement("div",{className:rt(d,"rbc-row")},l.reduce(function(m,v,y){var b=v.event,x=v.left,w=v.right,_=v.span,E="_lvl_"+y,S=x-f,N=Pr.renderEvent(a.props,b);return S&&m.push(Pr.renderSpan(u,S,"".concat(E,"_gap"))),m.push(Pr.renderSpan(u,_,E,N)),f=w+1,m},[]))}}])})(Y.Component);iR.defaultProps=We({},Pr.defaultProps);function oR(t){var e=t.dateRange,r=t.unit,a=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,a)}}function vB(t,e,r,a){var i=oR({dateRange:e,localizer:a}),l=i.first,u=i.last,d=a.diff(l,u,"day"),f=a.max(a.startOf(r.start(t),"day"),l),m=a.min(a.ceil(r.end(t),"day"),u),v=uU(e,function(b){return a.isSameDate(b,f)}),y=a.diff(f,m,"day");return y=Math.min(y,d),y=Math.max(y-a.segmentOffset,1),{event:t,span:y,left:v+1,right:Math.max(v+y,1)}}function Ny(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,a,i,l=[],u=[];for(r=0;r<t.length;r++){for(i=t[r],a=0;a<l.length&&gB(i,l[a]);a++);a>=e?u.push(i):(l[a]||(l[a]=[])).push(i)}for(r=0;r<l.length;r++)l[r].sort(function(d,f){return d.left-f.left});return{levels:l,extra:u}}function kl(t,e,r,a,i){var l={start:a.start(t),end:a.end(t)},u={start:e,end:r};return i.inEventRange({event:l,range:u})}function gB(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function yB(t,e,r){var a=Fc(t),i=[],l=[];a.forEach(function(f){var m=e.start(f),v=e.end(f);r.daySpan(m,v)>1?i.push(f):l.push(f)});var u=i.sort(function(f,m){return Ty(f,m,e,r)}),d=l.sort(function(f,m){return Ty(f,m,e,r)});return[].concat(Fc(u),Fc(d))}function Ty(t,e,r,a){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},l={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return a.sortEvents({evtA:i,evtB:l})}var Oy=function(e,r){return e.left<=r&&e.right>=r},x0=function(e,r){return e.filter(function(a){return Oy(a,r)}).map(function(a){return a.event})},lR=(function(t){function e(){return wt(this,e),Yt(this,e,arguments)}return Wt(e,t),_t(e,[{key:"render",value:function(){for(var a=this.props,i=a.segments,l=a.slotMetrics.slots,u=Ny(i).levels[0],d=1,f=1,m=[];d<=l;){var v="_lvl_"+d,y=u.filter(function(O){return Oy(O,d)})[0]||{},b=y.event,x=y.left,w=y.right,_=y.span;if(!b){var E=this.getHiddenEventsForSlot(i,d);if(E.length>0){var S=d-f;S&&m.push(Pr.renderSpan(l,S,v+"_gap")),m.push(Pr.renderSpan(l,1,v,this.renderShowMore(i,d))),f=d=d+1;continue}d++;continue}var N=Math.max(0,x-f);if(this.canRenderSlotEvent(x,_)){var T=Pr.renderEvent(this.props,b);N&&m.push(Pr.renderSpan(l,N,v+"_gap")),m.push(Pr.renderSpan(l,_,v,T)),f=d=w+1}else N&&m.push(Pr.renderSpan(l,N,v+"_gap")),m.push(Pr.renderSpan(l,1,v,this.renderShowMore(i,d))),f=d=d+1}return Y.createElement("div",{className:"rbc-row"},m)}},{key:"getHiddenEventsForSlot",value:function(a,i){var l=x0(a,i),u=Ny(a).levels[0],d=u.filter(function(f){return Oy(f,i)}).map(function(f){return f.event});return l.filter(function(f){return!d.some(function(m){return m===f})})}},{key:"canRenderSlotEvent",value:function(a,i){var l=this.props.segments;return mU(a,a+i).every(function(u){var d=x0(l,u).length;return d===1})}},{key:"renderShowMore",value:function(a,i){var l=this,u=this.props,d=u.localizer,f=u.slotMetrics,m=u.components,v=f.getEventsForSlot(i),y=x0(a,i),b=y.length;if(m!=null&&m.showMore){var x=m.showMore,w=f.getDateForSlot(i-1);return b?Y.createElement(x,{localizer:d,slotDate:w,slot:i,count:b,events:v,remainingEvents:y}):!1}return b?Y.createElement("button",{type:"button",key:"sm_"+i,className:rt("rbc-button-link","rbc-show-more"),onClick:function(E){return l.showMore(i,E)}},d.messages.showMore(b,y,v)):!1}},{key:"showMore",value:function(a,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(a,i.target)}}])})(Y.Component);lR.defaultProps=We({},Pr.defaultProps);var bB=function(e){var r=e.children;return Y.createElement("div",{className:"rbc-row-content-scroll-container"},r)},xB=function(e,r){return e.left<=r&&e.right>=r},wB=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function uR(){return BA(function(t){for(var e=t.range,r=t.events,a=t.maxRows,i=t.minRows,l=t.accessors,u=t.localizer,d=oR({dateRange:e,localizer:u}),f=d.first,m=d.last,v=r.map(function(_){return vB(_,e,l,u)}),y=Ny(v,Math.max(a-1,1)),b=y.levels,x=y.extra,w=x.length>0?i-1:i;b.length<w;)b.push([]);return{first:f,last:m,levels:b,extra:x,range:e,slots:e.length,clone:function(E){var S=uR();return S(We(We({},t),E))},getDateForSlot:function(E){return e[E]},getSlotForDate:function(E){return e.find(function(S){return u.isSameDate(S,E)})},getEventsForSlot:function(E){return v.filter(function(S){return xB(S,E)}).map(function(S){return S.event})},continuesPrior:function(E){return u.continuesPrior(l.start(E),f)},continuesAfter:function(E){var S=l.start(E),N=l.end(E);return u.continuesAfter(S,N,m)}}},wB)}var Ml=(function(t){function e(){var r;wt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Yt(this,e,[].concat(i)),r.handleSelectSlot=function(u){var d=r.props,f=d.range,m=d.onSelectSlot;m(f.slice(u.start,u.end+1),u)},r.handleShowMore=function(u,d){var f=r.props,m=f.range,v=f.onShowMore,y=r.slotMetrics(r.props),b=zd(r.containerRef.current,".rbc-row-bg")[0],x;b&&(x=b.children[u-1]);var w=y.getEventsForSlot(u);v(w,m[u-1],x,u,d)},r.getContainer=function(){var u=r.props.container;return u?u():r.containerRef.current},r.renderHeadingCell=function(u,d){var f=r.props,m=f.renderHeader,v=f.getNow,y=f.localizer;return m({date:u,key:"header_".concat(d),className:rt("rbc-date-cell",y.isSameDate(u,v())&&"rbc-now")})},r.renderDummy=function(){var u=r.props,d=u.className,f=u.range,m=u.renderHeader,v=u.showAllEvents;return Y.createElement("div",{className:d,ref:r.containerRef},Y.createElement("div",{className:rt("rbc-row-content",v&&"rbc-row-content-scrollable")},m&&Y.createElement("div",{className:"rbc-row",ref:r.headingRowRef},f.map(r.renderHeadingCell)),Y.createElement("div",{className:"rbc-row",ref:r.eventRowRef},Y.createElement("div",{className:"rbc-row-segment"},Y.createElement("div",{className:"rbc-event"},Y.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=R.createRef(),r.headingRowRef=R.createRef(),r.eventRowRef=R.createRef(),r.slotMetrics=uR(),r}return Wt(e,t),_t(e,[{key:"getRowLimit",value:function(){var a,i=hs(this.eventRowRef.current),l=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?hs(this.headingRowRef.current):0,u=hs(this.containerRef.current)-l;return Math.max(Math.floor(u/i),1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.rtl,u=a.range,d=a.className,f=a.selected,m=a.selectable,v=a.renderForMeasure,y=a.accessors,b=a.getters,x=a.components,w=a.getNow,_=a.renderHeader,E=a.onSelect,S=a.localizer,N=a.onSelectStart,T=a.onSelectEnd,O=a.onDoubleClick,M=a.onKeyPress,D=a.resourceId,C=a.longPressThreshold,L=a.isAllDay,P=a.resizable,A=a.showAllEvents;if(v)return this.renderDummy();var q=this.slotMetrics(this.props),z=q.levels,U=q.extra,W=A?bB:ln,ee=x.weekWrapper,H={selected:f,accessors:y,getters:b,localizer:S,components:x,onSelect:E,onDoubleClick:O,onKeyPress:M,resourceId:D,slotMetrics:q,resizable:P};return Y.createElement("div",{className:d,role:"rowgroup",ref:this.containerRef},Y.createElement(pB,{localizer:S,date:i,getNow:w,rtl:l,range:u,selectable:m,container:this.getContainer,getters:b,onSelectStart:N,onSelectEnd:T,onSelectSlot:this.handleSelectSlot,components:x,longPressThreshold:C,resourceId:D}),Y.createElement("div",{className:rt("rbc-row-content",A&&"rbc-row-content-scrollable"),role:"row"},_&&Y.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},u.map(this.renderHeadingCell)),Y.createElement(W,null,Y.createElement(ee,Object.assign({isAllDay:L},H,{rtl:this.props.rtl}),z.map(function(I,re){return Y.createElement(iR,Object.assign({key:re,segments:I},H))}),!!U.length&&Y.createElement(lR,Object.assign({segments:U,onShowMore:this.handleShowMore},H))))))}}])})(Y.Component);Ml.defaultProps={minRows:0,maxRows:1/0};var qb=function(e){var r=e.label;return Y.createElement("span",{role:"columnheader","aria-sort":"none"},r)},_B=function(e){var r=e.label,a=e.drilldownView,i=e.onDrillDown;return a?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):Y.createElement("span",null,r)},SB=["date","className"],EB=function(e,r,a,i,l){return e.filter(function(u){return kl(u,r,a,i,l)})},sf=(function(t){function e(){var r;wt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Yt(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(u,d){var f=r.props,m=f.events,v=f.components,y=f.selectable,b=f.getNow,x=f.selected,w=f.date,_=f.localizer,E=f.longPressThreshold,S=f.accessors,N=f.getters,T=f.showAllEvents,O=r.state,M=O.needLimitMeasure,D=O.rowLimit,C=EB(Fc(m),u[0],u[u.length-1],S,_),L=yB(C,S,_);return Y.createElement(Ml,{key:d,ref:d===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:b,date:w,range:u,events:L,maxRows:T?1/0:D,selected:x,selectable:y,components:v,accessors:S,getters:N,localizer:_,renderHeader:r.readerDateHeading,renderForMeasure:M,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:E,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:T})},r.readerDateHeading=function(u){var d=u.date,f=u.className,m=vn(u,SB),v=r.props,y=v.date,b=v.getDrilldownView,x=v.localizer,w=x.neq(y,d,"month"),_=x.isSameDate(d,y),E=b(d),S=x.format(d,"dateFormat"),N=r.props.components.dateHeader||_B;return Y.createElement("div",Object.assign({},m,{className:rt(f,w&&"rbc-off-range",_&&"rbc-current"),role:"cell"}),Y.createElement(N,{label:S,date:d,drilldownView:E,isOffRange:w,onDrillDown:function(O){return r.handleHeadingClick(d,E,O)}}))},r.handleSelectSlot=function(u,d){r._pendingSelection=r._pendingSelection.concat(u),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(d)})},r.handleHeadingClick=function(u,d,f){f.preventDefault(),r.clearSelection(),Qe(r.props.onDrillDown,[u,d])},r.handleSelectEvent=function(){r.clearSelection();for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];Qe(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];Qe(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){r.clearSelection();for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];Qe(r.props.onKeyPressEvent,d)},r.handleShowMore=function(u,d,f,m,v){var y=r.props,b=y.popup,x=y.onDrillDown,w=y.onShowMore,_=y.getDrilldownView,E=y.doShowMoreDrillDown;if(r.clearSelection(),b){var S=$d(f,r.containerRef.current);r.setState({overlay:{date:d,events:u,position:S,target:v}})}else E&&Qe(x,[d,_(d)||bt.DAY]);Qe(w,[u,d,m])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=R.createRef(),r.slotRowRef=R.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Wt(e,t),_t(e,[{key:"componentDidMount",value:function(){var a=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||Yl(function(){i=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,u=a.className,d=l.visibleDays(i,l),f=pL(d,7);return this._weekCount=f.length,Y.createElement("div",{className:rt("rbc-month-view",u),role:"table","aria-label":"Month View",ref:this.containerRef},Y.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(f[0])),f.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var i=this.props,l=i.localizer,u=i.components,d=a[0],f=a[a.length-1],m=u.header||qb;return l.range(d,f,"day").map(function(v,y){return Y.createElement("div",{key:"header_"+y,className:"rbc-header"},Y.createElement(m,{date:v,localizer:l,label:l.format(v,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,i,l=this,u=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,f=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(Mb,{overlay:u,accessors:f,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!u.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(d,f){return+d-+f});var l=new Date(i[0]),u=new Date(i[i.length-1]);u.setDate(i[i.length-1].getDate()+1),Qe(this.props.onSelectSlot,{slots:i,start:l,end:u,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,i){var l=a.date,u=a.localizer;return{date:l,needLimitMeasure:u.neq(l,i.date,"month")}}}])})(Y.Component);sf.range=function(t,e){var r=e.localizer,a=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:a,end:i}};sf.navigate=function(t,e,r){var a=r.localizer;switch(e){case fr.PREVIOUS:return a.add(t,-1,"month");case fr.NEXT:return a.add(t,1,"month");default:return t}};sf.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var QT=function(e){var r=e.min,a=e.max,i=e.step,l=e.slots,u=e.localizer;return"".concat(+u.startOf(r,"minutes"))+"".concat(+u.startOf(a,"minutes"))+"".concat(i,"-").concat(l)};function Pb(t){for(var e=t.min,r=t.max,a=t.step,i=t.timeslots,l=t.localizer,u=QT({step:a,localizer:l}),d=1+l.getTotalMin(e,r),f=l.getMinutesFromMidnight(e),m=Math.ceil((d-1)/(a*i)),v=m*i,y=new Array(m),b=new Array(v),x=0;x<m;x++){y[x]=new Array(i);for(var w=0;w<i;w++){var _=x*i+w,E=_*a;b[_]=y[x][w]=l.getSlotDate(e,f,E)}}var S=b.length*a;b.push(l.getSlotDate(e,f,S));function N(T){var O=l.diff(e,T,"minutes")+l.getDstOffset(e,T);return Math.min(O,d)}return{groups:y,update:function(O){return QT(O)!==u?Pb(O):this},dateIsInGroup:function(O,M){var D=y[M+1];return l.inRange(O,y[M][0],D?D[0]:r,"minutes")},nextSlot:function(O){var M=b[Math.min(b.findIndex(function(D){return D===O||l.eq(D,O)})+1,b.length-1)];return l.eq(M,O)&&(M=l.add(O,a,"minutes")),M},closestSlotToPosition:function(O){var M=Math.min(b.length-1,Math.max(0,Math.floor(O*v)));return b[M]},closestSlotFromPoint:function(O,M){var D=Math.abs(M.top-M.bottom);return this.closestSlotToPosition((O.y-M.top)/D)},closestSlotFromDate:function(O){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l.lt(O,e,"minutes"))return b[0];if(l.gt(O,r,"minutes"))return b[b.length-1];var D=l.diff(e,O,"minutes");return b[(D-D%a)/a+M]},startsBeforeDay:function(O){return l.lt(O,e,"day")},startsAfterDay:function(O){return l.gt(O,r,"day")},startsBefore:function(O){return l.lt(l.merge(e,O),e,"minutes")},startsAfter:function(O){return l.gt(l.merge(r,O),r,"minutes")},getRange:function(O,M,D,C){D||(O=l.min(r,l.max(e,O))),C||(M=l.min(r,l.max(e,M)));var L=N(O),P=N(M),A=P>a*v&&!l.eq(r,M)?(L-a)/(a*v)*100:L/(a*v)*100;return{top:A,height:P/(a*v)*100-A,start:N(O),startDate:O,end:N(M),endDate:M}},getCurrentTimePosition:function(O){var M=N(O),D=M/(a*v)*100;return D}}}var jB=(function(){function t(e,r){var a=r.accessors,i=r.slotMetrics;wt(this,t);var l=i.getRange(a.start(e),a.end(e)),u=l.start,d=l.startDate,f=l.end,m=l.endDate,v=l.top,y=l.height;this.start=u,this.end=f,this.startMs=+d,this.endMs=+m,this.top=v,this.height=y,this.data=e}return _t(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,l){return Math.max(i,l.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var a=100-this.container._width;return a/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,a=Math.min(100,this._width*1.7);if(this.rows)return a;if(this.leaves)return this.leaves.length>0?a:r;var i=this.row.leaves,l=i.indexOf(this);return l===i.length-1?r:a}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,a=r.leaves,i=r.xOffset,l=r._width,u=a.indexOf(this)+1;return i+u*l}}])})();function NB(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function TB(t){for(var e=kU(t,["startMs",function(d){return-d.endMs}]),r=[];e.length>0;){var a=e.shift();r.push(a);for(var i=0;i<e.length;i++){var l=e[i];if(!(a.endMs>l.startMs)){if(i>0){var u=e.splice(i,1)[0];r.push(u)}break}}}return r}function cR(t){for(var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=e.map(function(v){return new jB(v,{slotMetrics:a,accessors:i})}),u=TB(l),d=[],f=function(){var y=u[m],b=d.find(function(_){return _.end>y.start||Math.abs(y.start-_.start)<r});if(!b)return y.rows=[],d.push(y),1;y.container=b;for(var x=null,w=b.rows.length-1;!x&&w>=0;w--)NB(b.rows[w],y,r)&&(x=b.rows[w]);x?(x.leaves.push(y),y.row=x):(y.leaves=[],b.rows.push(y))},m=0;m<u.length;m++)f();return u.map(function(v){return{event:v.data,style:{top:v.top,height:v.height,width:v.width,xOffset:Math.max(0,v.xOffset)}}})}function dR(t,e,r){for(var a=0;a<t.friends.length;++a)if(!(r.indexOf(t.friends[a])>-1)){e=e>t.friends[a].idx?e:t.friends[a].idx,r.push(t.friends[a]);var i=dR(t.friends[a],e,r);e=e>i?e:i}return e}function OB(t){var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=cR({events:e,minimumStartDifference:r,slotMetrics:a,accessors:i});l.sort(function(ee,H){return ee=ee.style,H=H.style,ee.top!==H.top?ee.top>H.top?1:-1:ee.height!==H.height?ee.top+ee.height<H.top+H.height?1:-1:0});for(var u=0;u<l.length;++u)l[u].friends=[],delete l[u].style.left,delete l[u].style.left,delete l[u].idx,delete l[u].size;for(var d=0;d<l.length-1;++d)for(var f=l[d],m=f.style.top,v=f.style.top+f.style.height,y=d+1;y<l.length;++y){var b=l[y],x=b.style.top,w=b.style.top+b.style.height;(x>=m&&w<=v||w>m&&w<=v||x>=m&&x<v)&&(f.friends.push(b),b.friends.push(f))}for(var _=0;_<l.length;++_){for(var E=l[_],S=[],N=0;N<100;++N)S.push(1);for(var T=0;T<E.friends.length;++T)E.friends[T].idx!==void 0&&(S[E.friends[T].idx]=0);E.idx=S.indexOf(1)}for(var O=0;O<l.length;++O){var M=0;if(!l[O].size){var D=[],C=dR(l[O],0,D);M=100/(C+1),l[O].size=M;for(var L=0;L<D.length;++L)D[L].size=M}}for(var P=0;P<l.length;++P){var A=l[P];A.style.left=A.idx*A.size;for(var q=0,z=0;z<A.friends.length;++z){var U=A.friends[z].idx;q=q>U?q:U}q<=A.idx&&(A.size=100-A.idx*A.size);var W=A.idx===0?0:3;A.style.width="calc(".concat(A.size,"% - ").concat(W,"px)"),A.style.height="calc(".concat(A.style.height,"% - 2px)"),A.style.xOffset="calc(".concat(A.style.left,"% + ").concat(W,"px)")}return l}var JT={overlap:cR,"no-overlap":OB};function CB(t){return!!(t&&t.constructor&&t.call&&t.apply)}function AB(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in JT&&(r=JT[e]),CB(r)?r.apply(this,arguments):[]}var fR=(function(t){function e(){return wt(this,e),Yt(this,e,arguments)}return Wt(e,t),_t(e,[{key:"render",value:function(){var a=this.props,i=a.renderSlot,l=a.resource,u=a.group,d=a.getters,f=a.components,m=f===void 0?{}:f,v=m.timeSlotWrapper,y=v===void 0?ln:v,b=d?d.slotGroupProp(u):{};return Y.createElement("div",Object.assign({className:"rbc-timeslot-group"},b),u.map(function(x,w){var _=d?d.slotProp(x,l):{};return Y.createElement(y,{key:w,value:x,resource:l},Y.createElement("div",Object.assign({},_,{className:rt("rbc-time-slot",_.className)}),i&&i(x,w)))}))}}])})(R.Component);function kc(t){return typeof t=="string"?t:t+"%"}function RB(t){var e=t.style,r=t.className,a=t.event,i=t.accessors,l=t.rtl,u=t.selected,d=t.label,f=t.continuesPrior,m=t.continuesAfter,v=t.getters,y=t.onClick,b=t.onDoubleClick,x=t.isBackgroundEvent,w=t.onKeyPress,_=t.components,E=_.event,S=_.eventWrapper,N=i.title(a),T=i.tooltip(a),O=i.end(a),M=i.start(a),D=v.eventProp(a,M,O,u),C=[Y.createElement("div",{key:"1",className:"rbc-event-label"},d),Y.createElement("div",{key:"2",className:"rbc-event-content"},E?Y.createElement(E,{event:a,title:N}):N)],L=e.height,P=e.top,A=e.width,q=e.xOffset,z=We(We({},D.style),{},us({top:kc(P),height:kc(L),width:kc(A)},l?"right":"left",kc(q)));return Y.createElement(S,Object.assign({type:"time"},t),Y.createElement("div",{role:"button",tabIndex:0,onClick:y,onDoubleClick:b,style:z,onKeyDown:w,title:T?(typeof d=="string"?d+": ":"")+T:void 0,className:rt(x?"rbc-background-event":"rbc-event",r,D.className,{"rbc-selected":u,"rbc-event-continues-earlier":f,"rbc-event-continues-later":m})},C))}var DB=function(e){var r=e.children,a=e.className,i=e.style,l=e.innerRef;return Y.createElement("div",{className:a,style:i,ref:l},r)},kB=Y.forwardRef(function(t,e){return Y.createElement(DB,Object.assign({},t,{innerRef:e}))}),MB=["dayProp"],qB=["eventContainerWrapper","timeIndicatorWrapper"],hR=(function(t){function e(){var r;wt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Yt(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(u){var d=u.events,f=u.isBackgroundEvent,m=r.props,v=m.rtl,y=m.selected,b=m.accessors,x=m.localizer,w=m.getters,_=m.components,E=m.step,S=m.timeslots,N=m.dayLayoutAlgorithm,T=m.resizable,O=r,M=O.slotMetrics,D=x.messages,C=AB({events:d,accessors:b,slotMetrics:M,minimumStartDifference:Math.ceil(E*S/2),dayLayoutAlgorithm:N});return C.map(function(L,P){var A,q=L.event,z=L.style,U=b.end(q),W=b.start(q),ee=(A=b.eventId(q))!==null&&A!==void 0?A:"evt_"+P,H="eventTimeRangeFormat",I,re=M.startsBeforeDay(W),le=M.startsAfterDay(U);re?H="eventTimeRangeEndFormat":le&&(H="eventTimeRangeStartFormat"),re&&le?I=D.allDay:I=x.format({start:W,end:U},H);var V=re||M.startsBefore(W),$=le||M.startsAfter(U);return Y.createElement(RB,{style:z,event:q,label:I,key:ee,getters:w,rtl:v,components:_,continuesPrior:V,continuesAfter:$,accessors:b,resource:r.props.resource,selected:af(q,y),onClick:function(oe){return r._select(We(We(We({},q),r.props.resource&&{sourceResource:r.props.resource}),f&&{isBackgroundEvent:!0}),oe)},onDoubleClick:function(oe){return r._doubleClick(q,oe)},isBackgroundEvent:f,onKeyPress:function(oe){return r._keyPress(q,oe)},resizable:T})})},r._selectable=function(){var u=r.containerRef.current,d=r.props,f=d.longPressThreshold,m=d.localizer,v=r._selector=new sR(function(){return u},{longPressThreshold:f}),y=function(_){var E=r.props.onSelecting,S=r.state||{},N=b(_),T=N.startDate,O=N.endDate;E&&(m.eq(S.startDate,T,"minutes")&&m.eq(S.endDate,O,"minutes")||E({start:T,end:O,resourceId:r.props.resource})===!1)||(r.state.start!==N.start||r.state.end!==N.end||r.state.selecting!==N.selecting)&&r.setState(N)},b=function(_){var E=r.slotMetrics.closestSlotFromPoint(_,Es(u));r.state.selecting||(r._initialSlot=E);var S=r._initialSlot;m.lte(S,E)?E=r.slotMetrics.nextSlot(E):m.gt(S,E)&&(S=r.slotMetrics.nextSlot(S));var N=r.slotMetrics.getRange(m.min(S,E),m.max(S,E));return We(We({},N),{},{selecting:!0,top:"".concat(N.top,"%"),height:"".concat(N.height,"%")})},x=function(_,E){if(!bd(r.containerRef.current,_)){var S=b(_),N=S.startDate,T=S.endDate;r._selectSlot({startDate:N,endDate:T,action:E,box:_})}r.setState({selecting:!1})};v.on("selecting",y),v.on("selectStart",y),v.on("beforeSelect",function(w){if(r.props.selectable==="ignoreEvents")return!bd(r.containerRef.current,w)}),v.on("click",function(w){return x(w,"click")}),v.on("doubleClick",function(w){return x(w,"doubleClick")}),v.on("select",function(w){r.state.selecting&&(r._selectSlot(We(We({},r.state),{},{action:"select",bounds:w})),r.setState({selecting:!1}))}),v.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(u){for(var d=u.startDate,f=u.endDate,m=u.action,v=u.bounds,y=u.box,b=d,x=[];r.props.localizer.lte(b,f);)x.push(b),b=new Date(+b+r.props.step*60*1e3);Qe(r.props.onSelectSlot,{slots:x,start:d,end:f,resourceId:r.props.resource,action:m,bounds:v,box:y})},r._select=function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];Qe(r.props.onSelectEvent,d)},r._doubleClick=function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];Qe(r.props.onDoubleClickEvent,d)},r._keyPress=function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];Qe(r.props.onKeyPressEvent,d)},r.slotMetrics=Pb(r.props),r.containerRef=R.createRef(),r}return Wt(e,t),_t(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(a,i){this.props.selectable&&!a.selectable&&this._selectable(),!this.props.selectable&&a.selectable&&this._teardownSelectable();var l=this.props,u=l.getNow,d=l.isNow,f=l.localizer,m=l.date,v=l.min,y=l.max,b=f.neq(a.getNow(),u(),"minutes");if(a.isNow!==d||b){if(this.clearTimeIndicatorInterval(),d){var x=!b&&f.eq(a.date,m,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(x)}}else d&&(f.neq(a.min,v,"minutes")||f.neq(a.max,y,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,i=a.min,l=a.max,u=a.getNow,d=u();if(d>=i&&d<=l){var f=this.slotMetrics.getCurrentTimePosition(d);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:f})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.max,u=a.rtl,d=a.isNow,f=a.resource,m=a.accessors,v=a.localizer,y=a.getters,b=y.dayProp,x=vn(y,MB),w=a.components,_=w.eventContainerWrapper,E=w.timeIndicatorWrapper,S=vn(w,qB);this.slotMetrics=this.slotMetrics.update(this.props);var N=this.slotMetrics,T=this.state,O=T.selecting,M=T.top,D=T.height,C=T.startDate,L=T.endDate,P={start:C,end:L},A=b(l,f),q=A.className,z=A.style,U={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},W=S.dayColumnWrapper||kB;return Y.createElement(W,{ref:this.containerRef,date:i,style:z,className:rt(q,"rbc-day-slot","rbc-time-column",d&&"rbc-now",d&&"rbc-today",O&&"rbc-slot-selecting"),slotMetrics:N,resource:f},N.groups.map(function(ee,H){return Y.createElement(fR,{key:H,group:ee,resource:f,getters:x,components:S})}),Y.createElement(_,{localizer:v,resource:f,accessors:m,getters:x,components:S,slotMetrics:N},Y.createElement("div",{className:rt("rbc-events-container",u&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),O&&Y.createElement("div",{className:"rbc-slot-selection",style:{top:M,height:D}},Y.createElement("span",null,v.format(P,"selectRangeFormat"))),d&&this.intervalTriggered&&Y.createElement(E,U,Y.createElement("div",U)))}}])})(Y.Component);hR.defaultProps={dragThroughEvents:!0,timeslots:2};var mR=function(e){var r=e.label;return Y.createElement(Y.Fragment,null,r)},PB=(function(t){function e(){var r;wt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Yt(this,e,[].concat(i)),r.handleHeaderClick=function(u,d,f){f.preventDefault(),Qe(r.props.onDrillDown,[u,d])},r.renderRow=function(u){var d=r.props,f=d.events,m=d.rtl,v=d.selectable,y=d.getNow,b=d.range,x=d.getters,w=d.localizer,_=d.accessors,E=d.components,S=d.resizable,N=_.resourceId(u),T=u?f.filter(function(O){return _.resource(O)===N}):f;return Y.createElement(Ml,{isAllDay:!0,rtl:m,getNow:y,minRows:2,maxRows:r.props.allDayMaxRows+1,range:b,events:T,resourceId:N,className:"rbc-allday-cell",selectable:v,selected:r.props.selected,components:E,accessors:_,getters:x,localizer:w,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:S})},r}return Wt(e,t),_t(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,u=l.localizer,d=l.getDrilldownView,f=l.getNow,m=l.getters.dayProp,v=l.components.header,y=v===void 0?qb:v,b=f();return a.map(function(x,w){var _=d(x),E=u.format(x,"dayFormat"),S=m(x),N=S.className,T=S.style,O=Y.createElement(y,{date:x,label:E,localizer:u});return Y.createElement("div",{key:w,style:T,className:rt("rbc-header",N,u.isSameDate(x,b)&&"rbc-today")},_?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(D){return i.handleHeaderClick(x,_,D)}},O):Y.createElement("span",null,O))})}},{key:"render",value:function(){var a=this,i=this.props,l=i.width,u=i.rtl,d=i.resources,f=i.range,m=i.events,v=i.getNow,y=i.accessors,b=i.selectable,x=i.components,w=i.getters,_=i.scrollRef,E=i.localizer,S=i.isOverflowing,N=i.components,T=N.timeGutterHeader,O=N.resourceHeader,M=O===void 0?mR:O,D=i.resizable,C={};S&&(C[u?"marginLeft":"marginRight"]="".concat(Kl()-1,"px"));var L=d.groupEvents(m);return Y.createElement("div",{style:C,ref:_,className:rt("rbc-time-header",S&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:l,minWidth:l,maxWidth:l}},T&&Y.createElement(T,null)),d.map(function(P,A){var q=gs(P,2),z=q[0],U=q[1];return Y.createElement("div",{className:"rbc-time-header-content",key:z||A},U&&Y.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(A)},Y.createElement("div",{className:"rbc-header"},Y.createElement(M,{index:A,label:y.resourceTitle(U),resource:U}))),Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(f.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(f)),Y.createElement(Ml,{isAllDay:!0,rtl:u,getNow:v,minRows:2,maxRows:a.props.allDayMaxRows+1,range:f,events:L.get(z)||[],resourceId:U&&z,className:"rbc-allday-cell",selectable:b,selected:a.props.selected,components:x,accessors:y,getters:w,localizer:E,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:D}))}))}}])})(Y.Component),LB=(function(t){function e(){var r;wt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Yt(this,e,[].concat(i)),r.handleHeaderClick=function(u,d,f){f.preventDefault(),Qe(r.props.onDrillDown,[u,d])},r}return Wt(e,t),_t(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,u=l.localizer,d=l.getDrilldownView,f=l.getNow,m=l.getters.dayProp,v=l.components,y=v.header,b=y===void 0?qb:y,x=v.resourceHeader,w=x===void 0?mR:x,_=l.resources,E=l.accessors,S=l.events,N=l.rtl,T=l.selectable,O=l.components,M=l.getters,D=l.resizable,C=f(),L=_.groupEvents(S);return a.map(function(P,A){var q=d(P),z=u.format(P,"dayFormat"),U=m(P),W=U.className,ee=U.style,H=Y.createElement(b,{date:P,label:z,localizer:u});return Y.createElement("div",{key:A,className:"rbc-time-header-content rbc-resource-grouping"},Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},Y.createElement("div",{style:ee,className:rt("rbc-header",W,u.isSameDate(P,C)&&"rbc-today")},q?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(re){return i.handleHeaderClick(P,q,re)}},H):Y.createElement("span",null,H))),Y.createElement("div",{className:"rbc-row"},_.map(function(I,re){var le=gs(I,2),V=le[0],$=le[1];return Y.createElement("div",{key:"resource_".concat(V,"_").concat(re),className:rt("rbc-header",W,u.isSameDate(P,C)&&"rbc-today")},Y.createElement(w,{index:re,label:E.resourceTitle($),resource:$}))})),Y.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},_.map(function(I,re){var le=gs(I,2),V=le[0],$=le[1],Q=(L.get(V)||[]).filter(function(oe){return u.isSameDate(oe.start,P)||u.isSameDate(oe.end,P)});return Y.createElement(Ml,{key:"resource_".concat(V,"_").concat(re),isAllDay:!0,rtl:N,getNow:f,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[P],events:Q,resourceId:$&&V,className:"rbc-allday-cell",selectable:T,selected:i.props.selected,components:O,accessors:E,getters:M,localizer:u,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:D})})))})}},{key:"render",value:function(){var a=this.props,i=a.width,l=a.rtl,u=a.range,d=a.scrollRef,f=a.isOverflowing,m=a.components.timeGutterHeader,v={};return f&&(v[l?"marginLeft":"marginRight"]="".concat(Kl()-1,"px")),Y.createElement("div",{style:v,ref:d,className:rt("rbc-time-header",f&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},m&&Y.createElement(m,null)),this.renderHeaderCells(u))}}])})(Y.Component);function $B(t){var e=t.min,r=t.max,a=t.localizer;return a.getTimezoneOffset(e)!==a.getTimezoneOffset(r)?{start:a.add(e,-1,"day"),end:a.add(r,-1,"day")}:{start:e,end:r}}var UB=function(e){var r=e.min,a=e.max,i=e.timeslots,l=e.step,u=e.localizer,d=e.getNow,f=e.resource,m=e.components,v=e.getters,y=e.gutterRef,b=m.timeGutterWrapper,x=R.useMemo(function(){return $B({min:r,max:a,localizer:u})},[r?.toISOString(),a?.toISOString(),u]),w=x.start,_=x.end,E=R.useState(Pb({min:w,max:_,timeslots:i,step:l,localizer:u})),S=gs(E,2),N=S[0],T=S[1];R.useEffect(function(){N&&T(N.update({min:w,max:_,timeslots:i,step:l,localizer:u}))},[w?.toISOString(),_?.toISOString(),i,l]);var O=R.useCallback(function(M,D){if(D)return null;var C=N.dateIsInGroup(d(),D);return Y.createElement("span",{className:rt("rbc-label",C&&"rbc-now")},u.format(M,"timeGutterFormat"))},[N,u,d]);return Y.createElement(b,{slotMetrics:N},Y.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:y},N.groups.map(function(M,D){return Y.createElement(fR,{key:D,group:M,resource:f,components:m,renderSlot:O,getters:v})})))},zB=Y.forwardRef(function(t,e){return Y.createElement(UB,Object.assign({gutterRef:e},t))}),w0={};function BB(t,e){return{map:function(a){return t?t.map(function(i,l){return a([e.resourceId(i),i],l)}):[a([w0,null],0)]},groupEvents:function(a){var i=new Map;return t?(a.forEach(function(l){var u=e.resource(l)||w0;if(Array.isArray(u))u.forEach(function(f){var m=i.get(f)||[];m.push(l),i.set(f,m)});else{var d=i.get(u)||[];d.push(l),i.set(u,d)}}),i):(i.set(w0,a),i)}}}var Gi=(function(t){function e(r){var a;return wt(this,e),a=Yt(this,e,[r]),a.handleScroll=function(i){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=i.target.scrollLeft)},a.handleResize=function(){Cl(a.rafHandle),a.rafHandle=Yl(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];Qe(a.props.onKeyPressEvent,l)},a.handleSelectEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];Qe(a.props.onSelectEvent,l)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];Qe(a.props.onDoubleClickEvent,l)},a.handleShowMore=function(i,l,u,d,f){var m=a.props,v=m.popup,y=m.onDrillDown,b=m.onShowMore,x=m.getDrilldownView,w=m.doShowMoreDrillDown;if(a.clearSelection(),v){var _=$d(u,a.containerRef.current);a.setState({overlay:{date:l,events:i,position:We(We({},_),{},{width:"200px"}),target:f}})}else w&&Qe(y,[l,x(l)||bt.DAY]);Qe(b,[i,l,d])},a.handleSelectAllDaySlot=function(i,l){var u=a.props.onSelectSlot,d=new Date(i[0]),f=new Date(i[i.length-1]);f.setDate(i[i.length-1].getDate()+1),Qe(u,{slots:i,start:d,end:f,action:l.action,resourceId:l.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var i=a.contentRef.current;if(i!=null&&i.scrollHeight){var l=i.scrollHeight>i.clientHeight;a.state.isOverflowing!==l&&(a._updatingOverflow=!0,a.setState({isOverflowing:l},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=BA(function(i,l){return BB(i,l)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=Y.createRef(),a.contentRef=Y.createRef(),a.containerRef=Y.createRef(),a._scrollRatio=null,a.gutterRef=R.createRef(),a}return Wt(e,t),_t(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Cl(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(a,i,l,u,d,f,m,v,y,b){var x=this.props,w=x.min,_=x.max,E=(u.get(i)||[]).filter(function(N){return f.inRange(a,m.start(N),m.end(N),"day")}),S=(d.get(i)||[]).filter(function(N){return f.inRange(a,m.start(N),m.end(N),"day")});return Y.createElement(hR,Object.assign({},this.props,{localizer:f,min:f.merge(a,w),max:f.merge(a,_),resource:l&&i,components:v,isNow:f.isSameDate(a,b),key:"".concat(i,"-").concat(a),date:a,events:E,backgroundEvents:S,dayLayoutAlgorithm:y}))}},{key:"renderResourcesFirst",value:function(a,i,l,u,d,f,m,v,y){var b=this;return i.map(function(x){var w=gs(x,2),_=w[0],E=w[1];return a.map(function(S){return b.renderDayColumn(S,_,E,l,u,d,f,v,y,m)})})}},{key:"renderRangeFirst",value:function(a,i,l,u,d,f,m,v,y){var b=this;return a.map(function(x){return Y.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:x},i.map(function(w){var _=gs(w,2),E=_[0],S=_[1];return Y.createElement("div",{style:{flex:1},key:f.resourceId(S)},b.renderDayColumn(x,E,S,l,u,d,f,v,y,m))}))})}},{key:"renderEvents",value:function(a,i,l,u){var d=this.props,f=d.accessors,m=d.localizer,v=d.resourceGroupingLayout,y=d.components,b=d.dayLayoutAlgorithm,x=this.memoizedResources(this.props.resources,f),w=x.groupEvents(i),_=x.groupEvents(l);return v?this.renderRangeFirst(a,x,w,_,m,f,u,y,b):this.renderResourcesFirst(a,x,w,_,m,f,u,y,b)}},{key:"render",value:function(){var a,i=this.props,l=i.events,u=i.backgroundEvents,d=i.range,f=i.width,m=i.rtl,v=i.selected,y=i.getNow,b=i.resources,x=i.components,w=i.accessors,_=i.getters,E=i.localizer,S=i.min,N=i.max,T=i.showMultiDayTimes,O=i.longPressThreshold,M=i.resizable,D=i.resourceGroupingLayout;f=f||this.state.gutterWidth;var C=d[0],L=d[d.length-1];this.slots=d.length;var P=[],A=[],q=[];l.forEach(function(U){if(kl(U,C,L,w,E)){var W=w.start(U),ee=w.end(U);w.allDay(U)||E.startAndEndAreDateOnly(W,ee)||!T&&!E.isSameDate(W,ee)?P.push(U):A.push(U)}}),u.forEach(function(U){kl(U,C,L,w,E)&&q.push(U)}),P.sort(function(U,W){return Ty(U,W,w,E)});var z={range:d,events:P,width:f,rtl:m,getNow:y,localizer:E,selected:v,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(b,w),selectable:this.props.selectable,accessors:w,getters:_,components:x,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:O,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:M};return Y.createElement("div",{className:rt("rbc-time-view",b&&"rbc-time-view-resources"),ref:this.containerRef},b&&b.length>1&&D?Y.createElement(LB,z):Y.createElement(PB,z),this.props.popup&&this.renderOverlay(),Y.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Y.createElement(zB,{date:C,ref:this.gutterRef,localizer:E,min:E.merge(C,S),max:E.merge(C,N),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:x,className:"rbc-time-gutter",getters:_}),this.renderEvents(d,A,q,y())))}},{key:"renderOverlay",value:function(){var a,i,l=this,u=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,f=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(Mb,{overlay:u,accessors:f,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!u.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,l=(i=a.gutterRef)!==null&&i!==void 0&&i.current?Dl(a.gutterRef.current):void 0;l&&a.state.gutterWidth!==l&&a.setState({gutterWidth:l})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=a.min,l=a.max,u=a.scrollToTime,d=a.localizer,f=d.diff(d.merge(u,i),u,"milliseconds"),m=d.diff(i,l,"milliseconds");this._scrollRatio=f/m}}])})(R.Component);Gi.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var IB=["date","localizer","min","max","scrollToTime","enableAutoScroll"],of=(function(t){function e(){return wt(this,e),Yt(this,e,arguments)}return Wt(e,t),_t(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,u=a.min,d=u===void 0?l.startOf(new Date,"day"):u,f=a.max,m=f===void 0?l.endOf(new Date,"day"):f,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=vn(a,IB),_=e.range(i,{localizer:l});return Y.createElement(Gi,Object.assign({},w,{range:_,eventOffset:10,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);of.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};of.navigate=function(t,e,r){var a=r.localizer;switch(e){case fr.PREVIOUS:return a.add(t,-1,"day");case fr.NEXT:return a.add(t,1,"day");default:return t}};of.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var HB=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ta=(function(t){function e(){return wt(this,e),Yt(this,e,arguments)}return Wt(e,t),_t(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,u=a.min,d=u===void 0?l.startOf(new Date,"day"):u,f=a.max,m=f===void 0?l.endOf(new Date,"day"):f,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=vn(a,HB),_=e.range(i,this.props);return Y.createElement(Gi,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);Ta.defaultProps=Gi.defaultProps;Ta.navigate=function(t,e,r){var a=r.localizer;switch(e){case fr.PREVIOUS:return a.add(t,-1,"week");case fr.NEXT:return a.add(t,1,"week");default:return t}};Ta.range=function(t,e){var r=e.localizer,a=r.startOfWeek(),i=r.startOf(t,"week",a),l=r.endOf(t,"week",a);return r.range(i,l)};Ta.title=function(t,e){var r=e.localizer,a=Ta.range(t,{localizer:r}),i=WA(a),l=i[0],u=i.slice(1);return r.format({start:l,end:u.pop()},"dayRangeHeaderFormat")};var FB=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Lb(t,e){return Ta.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var eu=(function(t){function e(){return wt(this,e),Yt(this,e,arguments)}return Wt(e,t),_t(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,u=a.min,d=u===void 0?l.startOf(new Date,"day"):u,f=a.max,m=f===void 0?l.endOf(new Date,"day"):f,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=vn(a,FB),_=Lb(i,this.props);return Y.createElement(Gi,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);eu.defaultProps=Gi.defaultProps;eu.range=Lb;eu.navigate=Ta.navigate;eu.title=function(t,e){var r=e.localizer,a=Lb(t,{localizer:r}),i=WA(a),l=i[0],u=i.slice(1);return r.format({start:l,end:u.pop()},"dayRangeHeaderFormat")};var lf=30;function uf(t){var e=t.accessors,r=t.components,a=t.date,i=t.events,l=t.getters,u=t.length,d=u===void 0?lf:u,f=t.localizer,m=t.onDoubleClickEvent,v=t.onSelectEvent,y=t.selected,b=R.useRef(null),x=R.useRef(null),w=R.useRef(null),_=R.useRef(null),E=R.useRef(null);R.useEffect(function(){T()});var S=function(L,P,A){var q=r.event,z=r.date;return P=P.filter(function(U){return kl(U,f.startOf(L,"day"),f.endOf(L,"day"),e,f)}),P.map(function(U,W){var ee=e.title(U),H=e.end(U),I=e.start(U),re=l.eventProp(U,I,H,af(U,y)),le=W===0&&f.format(L,"agendaDateFormat"),V=W===0?Y.createElement("td",{rowSpan:P.length,className:"rbc-agenda-date-cell"},z?Y.createElement(z,{day:L,label:le}):le):!1;return Y.createElement("tr",{key:A+"_"+W,className:re.className,style:re.style},V,Y.createElement("td",{className:"rbc-agenda-time-cell"},N(L,U)),Y.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Q){return v&&v(U,Q)},onDoubleClick:function(Q){return m&&m(U,Q)}},q?Y.createElement(q,{event:U,title:ee}):ee))},[])},N=function(L,P){var A="",q=r.time,z=f.messages.allDay,U=e.end(P),W=e.start(P);return e.allDay(P)||(f.eq(W,U)?z=f.format(W,"agendaTimeFormat"):f.isSameDate(W,U)?z=f.format({start:W,end:U},"agendaTimeRangeFormat"):f.isSameDate(L,W)?z=f.format(W,"agendaTimeFormat"):f.isSameDate(L,U)&&(z=f.format(U,"agendaTimeFormat"))),f.gt(L,W,"day")&&(A="rbc-continues-prior"),f.lt(L,U,"day")&&(A+=" rbc-continues-after"),Y.createElement("span",{className:A.trim()},q?Y.createElement(q,{event:P,day:L,label:z}):z)},T=function(){if(E.current){var L=b.current,P=E.current.firstChild;if(P){var A=_.current.scrollHeight>_.current.clientHeight,q=[],z=q;q=[Dl(P.children[0]),Dl(P.children[1])],(z[0]!==q[0]||z[1]!==q[1])&&(x.current.style.width=q[0]+"px",w.current.style.width=q[1]+"px"),A?(Hd(L,"rbc-header-overflowing"),L.style.marginRight=Kl()+"px"):Fd(L,"rbc-header-overflowing")}}},O=f.messages,M=f.add(a,d,"day"),D=f.range(a,M,"day");return i=i.filter(function(C){return kl(C,f.startOf(a,"day"),f.endOf(M,"day"),e,f)}),i.sort(function(C,L){return+e.start(C)-+e.start(L)}),Y.createElement("div",{className:"rbc-agenda-view"},i.length!==0?Y.createElement(Y.Fragment,null,Y.createElement("table",{ref:b,className:"rbc-agenda-table"},Y.createElement("thead",null,Y.createElement("tr",null,Y.createElement("th",{className:"rbc-header",ref:x},O.date),Y.createElement("th",{className:"rbc-header",ref:w},O.time),Y.createElement("th",{className:"rbc-header"},O.event)))),Y.createElement("div",{className:"rbc-agenda-content",ref:_},Y.createElement("table",{className:"rbc-agenda-table"},Y.createElement("tbody",{ref:E},D.map(function(C,L){return S(C,i,L)}))))):Y.createElement("span",{className:"rbc-agenda-empty"},O.noEventsInRange))}uf.range=function(t,e){var r=e.length,a=r===void 0?lf:r,i=e.localizer,l=i.add(t,a,"day");return{start:t,end:l}};uf.navigate=function(t,e,r){var a=r.length,i=a===void 0?lf:a,l=r.localizer;switch(e){case fr.PREVIOUS:return l.add(t,-i,"day");case fr.NEXT:return l.add(t,i,"day");default:return t}};uf.title=function(t,e){var r=e.length,a=r===void 0?lf:r,i=e.localizer,l=i.add(t,a,"day");return i.format({start:t,end:l},"agendaHeaderFormat")};var ed=us(us(us(us(us({},bt.MONTH,sf),bt.WEEK,Ta),bt.WORK_WEEK,eu),bt.DAY,of),bt.AGENDA,uf),GB=["action","date","today"];function YB(t,e){var r=e.action,a=e.date,i=e.today,l=vn(e,GB);switch(t=typeof t=="string"?ed[t]:t,r){case fr.TODAY:a=i||new Date;break;case fr.DATE:break;default:xl(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),a=t.navigate(a,r,l)}return a}function WB(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&Gn(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var zn=function(e){return function(r){return WB(r,e)}},VB=["view","date","getNow","onNavigate"],KB=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function pR(t){if(Array.isArray(t))return t;for(var e=[],r=0,a=Object.entries(t);r<a.length;r++){var i=gs(a[r],2),l=i[0],u=i[1];u&&e.push(l)}return e}function XB(t,e){var r=e.views,a=pR(r);return a.indexOf(t)!==-1}var vR=(function(t){function e(){var r;wt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Yt(this,e,[].concat(i)),r.getViews=function(){var u=r.props.views;return Array.isArray(u)?yz(u,function(d,f){return d[f]=ed[f]},{}):Gn(u)==="object"?BU(u,function(d,f){return d===!0?ed[f]:d}):ed},r.getView=function(){var u=r.getViews();return u[r.props.view]},r.getDrilldownView=function(u){var d=r.props,f=d.view,m=d.drilldownView,v=d.getDrilldownView;return v?v(u,f,Object.keys(r.getViews())):m},r.handleRangeChange=function(u,d,f){var m=r.props,v=m.onRangeChange,y=m.localizer;v&&d.range&&v(d.range(u,{localizer:y}),f)},r.handleNavigate=function(u,d){var f=r.props,m=f.view,v=f.date,y=f.getNow,b=f.onNavigate,x=vn(f,VB),w=r.getView(),_=y();v=YB(w,We(We({},x),{},{action:u,date:d||v||_,today:_})),b(v,m,u),r.handleRangeChange(v,w)},r.handleViewChange=function(u){u!==r.props.view&&XB(u,r.props)&&r.props.onView(u);var d=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),d[u],u)},r.handleSelectEvent=function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];Qe(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];Qe(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];Qe(r.props.onKeyPressEvent,d)},r.handleSelectSlot=function(u){Qe(r.props.onSelectSlot,u)},r.handleDrillDown=function(u,d){var f=r.props.onDrillDown;if(f){f(u,d,r.drilldownView);return}d&&r.handleViewChange(d),r.handleNavigate(fr.DATE,u)},r.state={context:e.getContext(r.props)},r}return Wt(e,t),_t(e,[{key:"render",value:function(){var a=this.props,i=a.view,l=a.toolbar,u=a.events,d=a.backgroundEvents,f=a.resourceGroupingLayout,m=a.style,v=a.className,y=a.elementProps,b=a.date,x=a.getNow,w=a.length,_=a.showMultiDayTimes,E=a.onShowMore,S=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var N=vn(a,KB);b=b||x();var T=this.getView(),O=this.state.context,M=O.accessors,D=O.components,C=O.getters,L=O.localizer,P=O.viewNames,A=D.toolbar||Zz,q=T.title(b,{localizer:L,length:w});return Y.createElement("div",Object.assign({},y,{className:rt(v,"rbc-calendar",N.rtl&&"rbc-rtl"),style:m}),l&&Y.createElement(A,{date:b,view:i,views:P,label:q,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:L}),Y.createElement(T,Object.assign({},N,{events:u,backgroundEvents:d,date:b,getNow:x,length:w,localizer:L,getters:C,components:D,accessors:M,showMultiDayTimes:_,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:E,doShowMoreDrillDown:S,resourceGroupingLayout:f})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:e.getContext(a)}}},{key:"getContext",value:function(a){var i=a.startAccessor,l=a.endAccessor,u=a.allDayAccessor,d=a.tooltipAccessor,f=a.titleAccessor,m=a.resourceAccessor,v=a.resourceIdAccessor,y=a.resourceTitleAccessor,b=a.eventIdAccessor,x=a.eventPropGetter,w=a.backgroundEventPropGetter,_=a.slotPropGetter,E=a.slotGroupPropGetter,S=a.dayPropGetter,N=a.view,T=a.views,O=a.localizer,M=a.culture,D=a.messages,C=D===void 0?{}:D,L=a.components,P=L===void 0?{}:L,A=a.formats,q=A===void 0?{}:A,z=pR(T),U=tB(C);return{viewNames:z,localizer:Jz(O,M,q,U),getters:{eventProp:function(){return x&&x.apply(void 0,arguments)||{}},backgroundEventProp:function(){return w&&w.apply(void 0,arguments)||{}},slotProp:function(){return _&&_.apply(void 0,arguments)||{}},slotGroupProp:function(){return E&&E.apply(void 0,arguments)||{}},dayProp:function(){return S&&S.apply(void 0,arguments)||{}}},components:$U(P[N]||{},pz(P,z),{eventWrapper:ln,backgroundEventWrapper:ln,eventContainerWrapper:ln,dateCellWrapper:ln,weekWrapper:ln,timeSlotWrapper:ln,timeGutterWrapper:ln,timeIndicatorWrapper:ln}),accessors:{start:zn(i),end:zn(l),allDay:zn(u),tooltip:zn(d),title:zn(f),resource:zn(m),resourceId:zn(v),resourceTitle:zn(y),eventId:zn(b)}}}}])})(Y.Component);vR.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:bt.MONTH,views:[bt.MONTH,bt.WEEK,bt.DAY,bt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:bt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var QB=nA(vR,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),JB=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"P",r),"  ").concat(a.format(l,"P",r))},_0=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"p",r),"  ").concat(a.format(l,"p",r))},ZB=function(e,r,a){var i=e.start;return"".concat(a.format(i,"h:mma",r),"  ")},eI=function(e,r,a){var i=e.end;return"  ".concat(a.format(i,"h:mma",r))},tI=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"MMMM dd",r),"  ").concat(a.format(l,zi(i,l,"month")?"dd":"MMMM dd",r))},rI={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:_0,eventTimeRangeFormat:_0,eventTimeRangeStartFormat:ZB,eventTimeRangeEndFormat:eI,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:tI,agendaHeaderFormat:JB,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:_0},nI=function(e){var r=e.startOfWeek,a=e.getDay,i=e.format,l=e.locales;return new Qz({formats:rI,firstOfWeek:function(d){return a(r(new Date,{locale:l[d]}))},format:function(d,f,m){return i(new Date(d),f,{locale:l[m]})}})},Xo={},S0={exports:{}},ZT;function Vt(){return ZT||(ZT=1,(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(S0)),S0.exports}var Mc={},E0={exports:{}},j0={exports:{}},N0={exports:{}},T0={exports:{}},eO;function Yi(){return eO||(eO=1,(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(T0)),T0.exports}var O0={exports:{}},tO;function aI(){return tO||(tO=1,(function(t){var e=Yi().default;function r(a,i){if(e(a)!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var u=l.call(a,i||"default");if(e(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(O0)),O0.exports}var rO;function gR(){return rO||(rO=1,(function(t){var e=Yi().default,r=aI();function a(i){var l=r(i,"string");return e(l)=="symbol"?l:l+""}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(N0)),N0.exports}var nO;function yR(){return nO||(nO=1,(function(t){var e=gR();function r(a,i,l){return(i=e(i))in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(j0)),j0.exports}var aO;function qa(){return aO||(aO=1,(function(t){var e=yR();function r(i,l){var u=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);l&&(d=d.filter(function(f){return Object.getOwnPropertyDescriptor(i,f).enumerable})),u.push.apply(u,d)}return u}function a(i){for(var l=1;l<arguments.length;l++){var u=arguments[l]!=null?arguments[l]:{};l%2?r(Object(u),!0).forEach(function(d){e(i,d,u[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(u)):r(Object(u)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(u,d))})}return i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(E0)),E0.exports}var C0={exports:{}},A0={exports:{}},sO;function sI(){return sO||(sO=1,(function(t){function e(r,a){if(r==null)return{};var i={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(a.indexOf(l)!==-1)continue;i[l]=r[l]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(A0)),A0.exports}var iO;function $b(){return iO||(iO=1,(function(t){var e=sI();function r(a,i){if(a==null)return{};var l,u,d=e(a,i);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(u=0;u<f.length;u++)l=f[u],i.indexOf(l)===-1&&{}.propertyIsEnumerable.call(a,l)&&(d[l]=a[l])}return d}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(C0)),C0.exports}var R0={exports:{}},oO;function Ts(){return oO||(oO=1,(function(t){function e(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(R0)),R0.exports}var D0={exports:{}},lO;function Os(){return lO||(lO=1,(function(t){var e=gR();function r(i,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,e(d.key),d)}}function a(i,l,u){return l&&r(i.prototype,l),u&&r(i,u),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(D0)),D0.exports}var k0={exports:{}},M0={exports:{}},uO;function iI(){return uO||(uO=1,(function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(M0)),M0.exports}var q0={exports:{}},cO;function oI(){return cO||(cO=1,(function(t){function e(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t.exports=e=function(){return!!r},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(q0)),q0.exports}var P0={exports:{}},L0={exports:{}},dO;function lI(){return dO||(dO=1,(function(t){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(L0)),L0.exports}var fO;function uI(){return fO||(fO=1,(function(t){var e=Yi().default,r=lI();function a(i,l){if(l&&(e(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(i)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(P0)),P0.exports}var hO;function Wi(){return hO||(hO=1,(function(t){var e=iI(),r=oI(),a=uI();function i(l,u,d){return u=e(u),a(l,r()?Reflect.construct(u,d||[],e(l).constructor):u.apply(l,d))}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(k0)),k0.exports}var $0={exports:{}},U0={exports:{}},mO;function cI(){return mO||(mO=1,(function(t){function e(r,a){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,a)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(U0)),U0.exports}var pO;function Vi(){return pO||(pO=1,(function(t){var e=cI();function r(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&e(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})($0)),$0.exports}const tu=gn(UP);var wr={},rs={},vO;function dI(){return vO||(vO=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.views=rs.navigate=void 0,rs.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},rs.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"}),rs}var gO;function fI(){if(gO)return wr;gO=1;var t=Vt().default;Object.defineProperty(wr,"__esModule",{value:!0}),wr.views=wr.dateRangeFormat=wr.dateFormat=wr.accessor=wr.DayLayoutAlgorithmPropType=void 0;var e=t(Xy()),r=dI(),a=Object.keys(r.views).map(function(i){return r.views[i]});return wr.accessor=e.default.oneOfType([e.default.string,e.default.func]),wr.dateFormat=e.default.any,wr.dateRangeFormat=e.default.func,wr.views=e.default.oneOfType([e.default.arrayOf(e.default.oneOf(a)),e.default.objectOf(function(i,l){var u=a.indexOf(l)!==-1&&typeof i[l]=="boolean";if(u)return null;for(var d=arguments.length,f=new Array(d>2?d-2:0),m=2;m<d;m++)f[m-2]=arguments[m];return e.default.elementType.apply(e.default,[i,l].concat(f))})]),wr.DayLayoutAlgorithmPropType=e.default.oneOfType([e.default.oneOf(["overlap","no-overlap"]),e.default.func]),wr}var Qo={},yi={},yO;function bR(){if(yO)return yi;yO=1;var t=Vt().default;Object.defineProperty(yi,"__esModule",{value:!0}),yi.accessor=r,yi.wrapAccessor=void 0;var e=t(Yi());function r(a,i){var l=null;return typeof i=="function"?l=i(a):typeof i=="string"&&(0,e.default)(a)==="object"&&a!=null&&i in a&&(l=a[i]),l}return yi.wrapAccessor=function(i){return function(l){return r(l,i)}},yi}var Jo={},bO;function cf(){if(bO)return Jo;bO=1;var t=Vt().default;Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.DnDContext=void 0;var e=t(jr());return Jo.DnDContext=e.default.createContext(),Jo}var xO;function hI(){if(xO)return Qo;xO=1;var t=Vt().default;Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.default=void 0;var e=t(qa()),r=t(Ts()),a=t(Os()),i=t(Wi()),l=t(Vi()),u=t(jr()),d=t(tu),f=bR(),m=cf(),v=(function(y){function b(){var x;(0,r.default)(this,b);for(var w=arguments.length,_=new Array(w),E=0;E<w;E++)_[E]=arguments[E];return x=(0,i.default)(this,b,[].concat(_)),x.handleResizeUp=function(S){S.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","UP")},x.handleResizeDown=function(S){S.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","DOWN")},x.handleResizeLeft=function(S){S.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","LEFT")},x.handleResizeRight=function(S){S.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","RIGHT")},x.handleStartDragging=function(S){var N;if(S.button===0){var T=(N=S.target.getAttribute("class"))===null||N===void 0?void 0:N.includes("rbc-addons-dnd-resize");if(!T){var O=(0,e.default)({},x.props.event);O.sourceResource=x.props.resource,x.context.draggable.onBeginAction(x.props.event,"move")}}},x}return(0,l.default)(b,y),(0,a.default)(b,[{key:"renderAnchor",value:function(w){var _=w==="Up"||w==="Down"?"ns":"ew";return u.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-anchor"),onMouseDown:this["handleResize".concat(w)]},u.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-icon")}))}},{key:"render",value:function(){var w=this.props,_=w.event,E=w.type,S=w.continuesPrior,N=w.continuesAfter,T=w.resizable,O=this.props.children;if(_.__isPreview)return u.default.cloneElement(O,{className:(0,d.default)(O.props.className,"rbc-addons-dnd-drag-preview")});var M=this.context.draggable,D=M.draggableAccessor,C=M.resizableAccessor,L=D?!!(0,f.accessor)(_,D):!0;if(!L)return O;var P=T&&(C?!!(0,f.accessor)(_,C):!0);if(P||L){var A={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(P){var q=null,z=null;E==="date"?(q=!S&&this.renderAnchor("Left"),z=!N&&this.renderAnchor("Right")):(q=!S&&this.renderAnchor("Up"),z=!N&&this.renderAnchor("Down")),A.children=u.default.createElement("div",{className:"rbc-addons-dnd-resizable"},q,O.props.children,z)}M.dragAndDropAction.interacting&&M.dragAndDropAction.event===_&&(A.className=(0,d.default)(O.props.className,"rbc-addons-dnd-dragged-event")),O=u.default.cloneElement(O,A)}return O}}])})(u.default.Component);return v.contextType=m.DnDContext,Qo.default=v,Qo}var Zo={},z0={exports:{}},wO;function xR(){return wO||(wO=1,(function(t){var e=Yi().default;function r(a,i){if(typeof WeakMap=="function")var l=new WeakMap,u=new WeakMap;return(t.exports=r=function(f,m){if(!m&&f&&f.__esModule)return f;var v,y,b={__proto__:null,default:f};if(f===null||e(f)!="object"&&typeof f!="function")return b;if(v=m?u:l){if(v.has(f))return v.get(f);v.set(f,b)}for(var x in f)x!=="default"&&{}.hasOwnProperty.call(f,x)&&((y=(v=Object.defineProperty)&&Object.getOwnPropertyDescriptor(f,x))&&(y.get||y.set)?v(b,x,y):b[x]=f[x]);return b},t.exports.__esModule=!0,t.exports.default=t.exports)(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(z0)),z0.exports}function Ub(t,e,r,a){if(r===void 0&&(r=!1),a===void 0&&(a=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,r,a),t.dispatchEvent(i)}}function mI(t){var e=zt(t,"transitionDuration")||"",r=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*r}function pI(t,e,r){r===void 0&&(r=5);var a=!1,i=setTimeout(function(){a||Ub(t,"transitionend",!0)},e+r),l=fn(t,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(i),l()}}function zb(t,e,r,a){r==null&&(r=mI(t)||0);var i=pI(t,r,a),l=fn(t,"transitionend",e);return function(){i(),l()}}var _O={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function SO(t){var e=t.node,r=t.properties,a=t.duration,i=a===void 0?200:a,l=t.easing,u=t.callback,d=[],f={},m="";Object.keys(r).forEach(function(b){var x=r[b];gA(b)?m+=b+"("+x+") ":(f[b]=x,d.push(vA(b)))}),m&&(f.transform=m,d.push("transform"));function v(b){b.target===b.currentTarget&&(zt(e,_O),u&&u.call(this,b))}i>0&&(f.transition=d.join(", "),f["transition-duration"]=i/1e3+"s",f["transition-delay"]="0s",f["transition-timing-function"]=l||"linear");var y=zb(e,v,i);return e.clientLeft,zt(e,f),{cancel:function(){y(),zt(e,_O)}}}function wR(t,e,r,a,i){if(!("nodeType"in t))return SO(t);if(!e)throw new Error("must include properties to animate");return typeof a=="function"&&(i=a,a=""),SO({node:t,properties:e,duration:r,easing:a,callback:i})}function _R(t,e,r){if(t){if(typeof r>"u")return t.getAttribute(e);!r&&r!==""?t.removeAttribute(e):t.setAttribute(e,String(r))}}function SR(t){return t?Array.from(t.children):[]}function ER(t){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}return null}var vI=Function.prototype.bind.call(Function.prototype.call,[].slice);function jR(t){return t?vI(t.childNodes):[]}function NR(t,e){return function(a){var i=a.currentTarget,l=a.target,u=zd(i,t);u.some(function(d){return Yn(d,l)})&&e.call(this,a)}}function TR(t,e){return t&&e&&e.parentNode?(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t):null}var gI=/^(?:input|select|textarea|button)$/i;function OR(t){return t?gI.test(t.nodeName):!1}function CR(t){return t?!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):!1}function AR(t,e,r){e===void 0&&(e=null),r===void 0&&(r=null);for(var a=[];t;t=t.nextElementSibling)if(t!==e){if(r&&Ud(t,r))break;a.push(t)}return a}function RR(t,e){return AR(t,t,e)}function yI(t,e){var r=null,a=[];for(r=t?t[e]:null;r&&r.nodeType!==9;)a.push(r),r=r[e]||null;return a}function DR(t){return yI(t,"parentElement")}function kR(t,e){return t&&e?(e.firstElementChild?e.insertBefore(t,e.firstElementChild):e.appendChild(t),t):null}function MR(t){return t&&t.parentNode?(t.parentNode.removeChild(t),t):null}function Bb(t,e){var r=zt(t,"position"),a=r==="absolute",i=t.ownerDocument;if(r==="fixed")return i||document;for(;(t=t.parentNode)&&!yA(t);){var l=a&&zt(t,"position")==="static",u=(zt(t,"overflow")||"")+(zt(t,"overflow-y")||"")+zt(t,"overflow-x");if(!l&&/(auto|scroll)/.test(u)&&(e||hs(t)<t.scrollHeight))return t}return i||document}function qR(t,e){var r=Zr(t),a={top:0,left:0};if(t){var i=e||Bb(t),l=Pd(i),u=Ai(i),d=hs(i,!0);l||(a=Zr(i)),r={top:r.top-a.top,left:r.left-a.left,height:r.height,width:r.width};var f=r.height,m=r.top+(l?0:u),v=m+f;u=u>m?m:v>u+d?v-d:u;var y=Yl(function(){return Ai(i,u)});return function(){return Cl(y)}}}function PR(t){return AR(t&&t.parentElement?t.parentElement.firstElementChild:null,t)}var bI=/&nbsp;/gi,xI=/\xA0/g,wI=/\s+([^\s])/gm;function LR(t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);var a="";return t&&(a=(t.textContent||"").replace(bI," ").replace(xI," "),e&&(a=a.trim()),r&&(a=a.replace(wI," $1"))),a}function $R(t,e){t.classList?t.classList.toggle(e):Id(t,e)?Fd(t,e):Hd(t,e)}const _I={addEventListener:ib,removeEventListener:pb,triggerEvent:Ub,animate:wR,filter:NR,listen:fn,style:zt,getComputedStyle:nb,attribute:_R,activeElement:OA,ownerDocument:ka,ownerWindow:rb,requestAnimationFrame:Yl,cancelAnimationFrame:Cl,matches:Ud,height:hs,width:Dl,offset:Zr,offsetParent:ab,position:$d,contains:Yn,scrollbarSize:Kl,scrollLeft:Ld,scrollParent:Bb,scrollTo:qR,scrollTop:Ai,querySelectorAll:zd,closest:Ql,addClass:Hd,removeClass:Fd,hasClass:Id,toggleClass:$R,transitionEnd:zb,childNodes:jR,childElements:SR,nextUntil:RR,parents:DR,siblings:PR,clear:ER,insertAfter:TR,isInput:OR,isVisible:CR,prepend:kR,remove:MR,text:LR},SI=Object.freeze(Object.defineProperty({__proto__:null,activeElement:OA,addClass:Hd,addEventListener:ib,animate:wR,attribute:_R,cancelAnimationFrame:Cl,childElements:SR,childNodes:jR,clear:ER,closest:Ql,contains:Yn,default:_I,filter:NR,getComputedStyle:nb,hasClass:Id,height:hs,insertAfter:TR,isInput:OR,isVisible:CR,listen:fn,matches:Ud,nextUntil:RR,offset:Zr,offsetParent:ab,ownerDocument:ka,ownerWindow:rb,parents:DR,position:$d,prepend:kR,querySelectorAll:zd,remove:MR,removeClass:Fd,removeEventListener:pb,requestAnimationFrame:Yl,scrollLeft:Ld,scrollParent:Bb,scrollTo:qR,scrollTop:Ai,scrollbarSize:Kl,siblings:PR,style:zt,text:LR,toggleClass:$R,transitionEnd:zb,triggerEvent:Ub,width:Dl},Symbol.toStringTag,{value:"Module"})),EI=gn(SI);var qc={exports:{}},EO;function jI(){return EO||(EO=1,(function(t,e){e.__esModule=!0,e.default=a;var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(i,l){return r(i.querySelectorAll(l))}t.exports=e.default})(qc,qc.exports)),qc.exports}var Kr={};const NI=gn(bL),TI=gn(F$),OI=gn(M6);var jO;function UR(){if(jO)return Kr;jO=1;var t=Vt().default;Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.default=void 0,Kr.getBoundsForNode=T,Kr.getEventNodeFromPoint=m,Kr.getShowMoreNodeFromPoint=v,Kr.isEvent=y,Kr.isShowMore=b,Kr.objectsCollide=N;var e=t(Yi()),r=t(Ts()),a=t(Os()),i=t(NI),l=t(TI),u=t(OI);function d(M,D){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,u.default)(C,M,D,{passive:!1})}function f(M,D,C){return!M||(0,i.default)(M,document.elementFromPoint(D,C))}function m(M,D){var C=D.clientX,L=D.clientY,P=document.elementFromPoint(C,L);return(0,l.default)(P,".rbc-event",M)}function v(M,D){var C=D.clientX,L=D.clientY,P=document.elementFromPoint(C,L);return(0,l.default)(P,".rbc-show-more",M)}function y(M,D){return!!m(M,D)}function b(M,D){return!!v(M,D)}function x(M){var D=M;return M.touches&&M.touches.length&&(D=M.touches[0]),{clientX:D.clientX,clientY:D.clientY,pageX:D.pageX,pageY:D.pageY}}var w=5,_=250,E=(function(){function M(D){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=C.global,P=L===void 0?!1:L,A=C.longPressThreshold,q=A===void 0?250:A,z=C.validContainers,U=z===void 0?[]:z;(0,r.default)(this,M),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=D,this.globalMouse=!D||P,this.longPressThreshold=q,this.validContainers=U,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=d("touchmove",function(){},window),this._removeKeyDownListener=d("keydown",this._keyListener),this._removeKeyUpListener=d("keyup",this._keyListener),this._removeDropFromOutsideListener=d("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=d("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,a.default)(M,[{key:"on",value:function(C,L){var P=this._listeners[C]||(this._listeners[C]=[]);return P.push(L),{remove:function(){var q=P.indexOf(L);q!==-1&&P.splice(q,1)}}}},{key:"emit",value:function(C){for(var L=arguments.length,P=new Array(L>1?L-1:0),A=1;A<L;A++)P[A-1]=arguments[A];var q,z=this._listeners[C]||[];return z.forEach(function(U){q===void 0&&(q=U.apply(void 0,P))}),q}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(C){var L=this._selectRect;return!L||!this.selecting?!1:N(L,T(C))}},{key:"filter",value:function(C){var L=this._selectRect;return!L||!this.selecting?[]:C.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(C,L){var P=this,A=null,q=null,z=null,U=function(I){A=setTimeout(function(){ee(),C(I)},P.longPressThreshold),q=d("touchmove",function(){return ee()}),z=d("touchend",function(){return ee()})},W=d("touchstart",U),ee=function(){A&&clearTimeout(A),q&&q(),z&&z(),A=null,q=null,z=null};return L&&U(L),function(){ee(),W()}}},{key:"_addInitialEventListener",value:function(){var C=this,L=d("mousedown",function(A){C._removeInitialEventListener(),C._handleInitialEvent(A),C._removeInitialEventListener=d("mousedown",C._handleInitialEvent)}),P=d("touchstart",function(A){C._removeInitialEventListener(),C._removeInitialEventListener=C._addLongPressListener(C._handleInitialEvent,A)});this._removeInitialEventListener=function(){L(),P()}}},{key:"_dropFromOutsideListener",value:function(C){var L=x(C),P=L.pageX,A=L.pageY,q=L.clientX,z=L.clientY;this.emit("dropFromOutside",{x:P,y:A,clientX:q,clientY:z}),C.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(C){var L=x(C),P=L.pageX,A=L.pageY,q=L.clientX,z=L.clientY;this.emit("dragOverFromOutside",{x:P,y:A,clientX:q,clientY:z}),C.preventDefault()}},{key:"_handleInitialEvent",value:function(C){if(this._initialEvent=C,!this.isDetached){var L=x(C),P=L.clientX,A=L.clientY,q=L.pageX,z=L.pageY,U=this.container(),W,ee;if(!(C.which===3||C.button===2||!f(U,P,A))){if(!this.globalMouse&&U&&!(0,i.default)(U,C.target)){var H=S(0),I=H.top,re=H.left,le=H.bottom,V=H.right;if(ee=T(U),W=N({top:ee.top-I,left:ee.left-re,bottom:ee.bottom+le,right:ee.right+V},{top:z,left:q}),!W)return}var $=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(C.type),x:q,y:z,clientX:P,clientY:A});if($!==!1)switch(C.type){case"mousedown":this._removeEndListener=d("mouseup",this._handleTerminatingEvent),this._onEscListener=d("keydown",this._handleTerminatingEvent),this._removeMoveListener=d("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(C),this._removeEndListener=d("touchend",this._handleTerminatingEvent),this._removeMoveListener=d("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(C){var L=C.target,P=this.validContainers;return!P||!P.length||!L?!0:P.some(function(A){return!!L.closest(A)})}},{key:"_handleTerminatingEvent",value:function(C){var L=this.selecting,P=this._selectRect;if(!L&&C.type.includes("key")&&(C=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!C){var A=!this.container||(0,i.default)(this.container(),C.target),q=this._isWithinValidContainer(C);return C.key==="Escape"||!q?this.emit("reset"):!L&&A?this._handleClickEvent(C):L?this.emit("select",P):this.emit("reset")}}},{key:"_handleClickEvent",value:function(C){var L=x(C),P=L.pageX,A=L.pageY,q=L.clientX,z=L.clientY,U=new Date().getTime();return this._lastClickData&&U-this._lastClickData.timestamp<_?(this._lastClickData=null,this.emit("doubleClick",{x:P,y:A,clientX:q,clientY:z})):(this._lastClickData={timestamp:U},this.emit("click",{x:P,y:A,clientX:q,clientY:z}))}},{key:"_handleMoveEvent",value:function(C){if(!(this._initialEventData===null||this.isDetached)){var L=this._initialEventData,P=L.x,A=L.y,q=x(C),z=q.pageX,U=q.pageY,W=Math.abs(P-z),ee=Math.abs(A-U),H=Math.min(z,P),I=Math.min(U,A),re=this.selecting,le=this.isClick(z,U);le&&!re&&!(W||ee)||(!re&&!le&&this.emit("selectStart",this._initialEventData),le||(this.selecting=!0,this._selectRect={top:I,left:H,x:z,y:U,right:H+W,bottom:I+ee},this.emit("selecting",this._selectRect)),C.preventDefault())}}},{key:"_keyListener",value:function(C){this.ctrl=C.metaKey||C.ctrlKey}},{key:"isClick",value:function(C,L){var P=this._initialEventData,A=P.x,q=P.y,z=P.isTouch;return!z&&Math.abs(C-A)<=w&&Math.abs(L-q)<=w}}])})();function S(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,e.default)(M)!=="object"&&(M={top:M,left:M,right:M,bottom:M}),M}function N(M,D){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,L=T(M),P=L.top,A=L.left,q=L.right,z=q===void 0?A:q,U=L.bottom,W=U===void 0?P:U,ee=T(D),H=ee.top,I=ee.left,re=ee.right,le=re===void 0?I:re,V=ee.bottom,$=V===void 0?H:V;return!(W-C<H||P+C>$||z-C<I||A+C>le)}function T(M){if(!M.getBoundingClientRect)return M;var D=M.getBoundingClientRect(),C=D.left+O("left"),L=D.top+O("top");return{top:L,left:C,right:(M.offsetWidth||0)+C,bottom:(M.offsetHeight||0)+L}}function O(M){if(M==="left")return window.pageXOffset||document.body.scrollLeft||0;if(M==="top")return window.pageYOffset||document.body.scrollTop||0}return Kr.default=E,Kr}var el={},NO;function CI(){if(NO)return el;NO=1;var t=Vt().default;Object.defineProperty(el,"__esModule",{value:!0}),el.default=void 0;var e=t(yR()),r=t(qa()),a=t(tu),i=t(jr());function l(d){return typeof d=="string"?d:d+"%"}function u(d){var f=d.style,m=d.className,v=d.event,y=d.accessors,b=d.rtl,x=d.selected,w=d.label,_=d.continuesPrior,E=d.continuesAfter,S=d.getters,N=d.onClick,T=d.onDoubleClick,O=d.isBackgroundEvent,M=d.onKeyPress,D=d.components,C=D.event,L=D.eventWrapper,P=y.title(v),A=y.tooltip(v),q=y.end(v),z=y.start(v),U=S.eventProp(v,z,q,x),W=[i.default.createElement("div",{key:"1",className:"rbc-event-label"},w),i.default.createElement("div",{key:"2",className:"rbc-event-content"},C?i.default.createElement(C,{event:v,title:P}):P)],ee=f.height,H=f.top,I=f.width,re=f.xOffset,le=(0,r.default)((0,r.default)({},U.style),{},(0,e.default)({top:l(H),height:l(ee),width:l(I)},b?"right":"left",l(re)));return i.default.createElement(L,Object.assign({type:"time"},d),i.default.createElement("div",{role:"button",tabIndex:0,onClick:N,onDoubleClick:T,style:le,onKeyDown:M,title:A?(typeof w=="string"?w+": ":"")+A:void 0,className:(0,a.default)(O?"rbc-background-event":"rbc-event",m,U.className,{"rbc-selected":x,"rbc-event-continues-earlier":_,"rbc-event-continues-later":E})},W))}return el.default=u,el}var wa={},TO;function Ib(){if(TO)return wa;TO=1;var t=Vt().default;Object.defineProperty(wa,"__esModule",{value:!0}),wa.dragAccessors=void 0,wa.eventTimes=m,wa.mergeComponents=d,wa.pointInColumn=f;var e=t(qa()),r=t($b()),a=bR(),i=jr(),l=["children"];wa.dragAccessors={start:(0,a.wrapAccessor)(function(v){return v.start}),end:(0,a.wrapAccessor)(function(v){return v.end})};function u(){for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];var x=function(_){var E=_.children,S=(0,r.default)(_,l);return y.filter(Boolean).reduceRight(function(N,T){return(0,i.createElement)(T,S,N)},E)};return x}function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1?arguments[1]:void 0,b=Object.keys(y),x=(0,e.default)({},v);return b.forEach(function(w){x[w]=v[w]?u(v[w],y[w]):y[w]}),x}function f(v,y){var b=v.left,x=v.right,w=v.top,_=y.x,E=y.y;return _<x+10&&_>b&&E>w}function m(v,y,b){var x=y.start(v),w=y.end(v),_=b.eq(x,w,"minutes")&&b.diff(x,w,"minutes")===0;_&&(w=b.add(w,1,"day"));var E=b.diff(x,w,"milliseconds");return{start:x,end:w,duration:E}}return wa}var OO;function AI(){if(OO)return Zo;OO=1;var t=xR().default,e=Vt().default;Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.default=void 0;var r=e(qa()),a=e(Ts()),i=e(Os()),l=e(Wi()),u=e(Vi()),d=EI,f=e(jI()),m=e(jr()),v=cf(),y=t(UR()),b=e(CI()),x=Ib(),w=(function(_){function E(){var S;(0,a.default)(this,E);for(var N=arguments.length,T=new Array(N),O=0;O<N;O++)T[O]=arguments[O];return S=(0,l.default)(this,E,[].concat(T)),S.handleMove=function(M,D){if(!(0,x.pointInColumn)(D,M))return S.reset();var C=S.context.draggable.dragAndDropAction.event,L=S.props,P=L.accessors,A=L.slotMetrics,q=A.closestSlotFromPoint({y:M.y-S.eventOffsetTop,x:M.x},D),z=(0,x.eventTimes)(C,P,S.props.localizer),U=z.duration,W=S.props.localizer.add(q,U,"milliseconds");S.update(C,A.getRange(q,W,!1,!0))},S.handleDropFromOutside=function(M,D){var C=S.props,L=C.slotMetrics,P=C.resource,A=L.closestSlotFromPoint({y:M.y,x:M.x},D),q=S._calculateDnDEnd(A);S.context.draggable.onDropFromOutside({start:A,end:q,allDay:!1,resource:P}),S.reset()},S.handleDragOverFromOutside=function(M,D){var C=S.props.slotMetrics,L=C.closestSlotFromPoint({y:M.y,x:M.x},D),P=S._calculateDnDEnd(L),A=S.context.draggable.dragFromOutsideItem();S.update(A,C.getRange(L,P,!1,!0))},S._calculateDnDEnd=function(M){var D=S.props,C=D.accessors,L=D.slotMetrics,P=D.localizer,A=S.context.draggable.dragFromOutsideItem(),q=(0,x.eventTimes)(A,C,P),z=q.duration,U=L.nextSlot(M),W=!isNaN(z);if(W){var ee=P.add(M,z,"milliseconds");U=new Date(Math.max(ee,U))}return U},S.updateParentScroll=function(M,D){setTimeout(function(){var C=(0,f.default)(D,".rbc-addons-dnd-drag-preview")[0];C&&(C.offsetTop<M.scrollTop?(0,d.scrollTop)(M,Math.max(C.offsetTop,0)):C.offsetTop+C.offsetHeight>M.scrollTop+M.clientHeight&&(0,d.scrollTop)(M,Math.min(C.offsetTop-M.offsetHeight+C.offsetHeight,M.scrollHeight)))})},S._selectable=function(){var M=S.ref.current,D=M.children[0],C=!1,L=S._selector=new y.default(function(){return M.closest(".rbc-time-view")}),P=(0,d.scrollParent)(M);L.on("beforeSelect",function(A){var q=S.context.draggable.dragAndDropAction;if(!q.action)return!1;if(q.action==="resize")return(0,x.pointInColumn)((0,y.getBoundsForNode)(D),A);var z=(0,y.getEventNodeFromPoint)(D,A);if(!z)return!1;S.eventOffsetTop=A.y-(0,y.getBoundsForNode)(z).top}),L.on("selecting",function(A){var q=(0,y.getBoundsForNode)(D),z=S.context.draggable.dragAndDropAction;z.action==="move"&&(S.updateParentScroll(P,D),S.handleMove(A,q)),z.action==="resize"&&(S.updateParentScroll(P,D),S.handleResize(A,q))}),L.on("dropFromOutside",function(A){if(S.context.draggable.onDropFromOutside){var q=(0,y.getBoundsForNode)(D);(0,x.pointInColumn)(q,A)&&S.handleDropFromOutside(A,q)}}),L.on("dragOverFromOutside",function(A){var q=S.context.draggable.dragFromOutsideItem?S.context.draggable.dragFromOutsideItem():null;if(q){var z=(0,y.getBoundsForNode)(D);if(!(0,x.pointInColumn)(z,A))return S.reset();S.handleDragOverFromOutside(A,z)}}),L.on("selectStart",function(){C=!0,S.context.draggable.onStart()}),L.on("select",function(A){var q=(0,y.getBoundsForNode)(D);C=!1;var z=S.context.draggable.dragAndDropAction;if(z.action==="resize")S.handleInteractionEnd();else{if(!S.state.event||!(0,x.pointInColumn)(q,A))return;S.handleInteractionEnd()}}),L.on("click",function(){C&&S.reset(),S.context.draggable.onEnd(null)}),L.on("reset",function(){S.reset(),S.context.draggable.onEnd(null)})},S.handleInteractionEnd=function(){var M=S.props.resource,D=S.state.event;S.reset(),S.context.draggable.onEnd({start:D.start,end:D.end,resourceId:M})},S._teardownSelectable=function(){S._selector&&(S._selector.teardown(),S._selector=null)},S.state={},S.ref=m.default.createRef(),S}return(0,u.default)(E,_),(0,i.default)(E,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(N,T){var O=T.startDate,M=T.endDate,D=T.top,C=T.height,L=this.state.event;L&&O===L.start&&M===L.end||this.setState({top:D,height:C,event:(0,r.default)((0,r.default)({},N),{},{start:O,end:M})})}},{key:"handleResize",value:function(N,T){var O=this.props,M=O.accessors,D=O.slotMetrics,C=O.localizer,L=this.context.draggable.dragAndDropAction,P=L.event,A=L.direction,q=D.closestSlotFromPoint(N,T),z=(0,x.eventTimes)(P,M,C),U=z.start,W=z.end,ee;if(A==="UP"){var H=C.min(q,D.closestSlotFromDate(W,-1));ee=D.getRange(H,W),ee=(0,r.default)((0,r.default)({},ee),{},{endDate:W})}else if(A==="DOWN"){var I=C.max(q,D.closestSlotFromDate(U));ee=D.getRange(U,I),ee=(0,r.default)((0,r.default)({},ee),{},{startDate:U})}this.update(P,ee)}},{key:"renderContent",value:function(){var N=this.props,T=N.children,O=N.accessors,M=N.components,D=N.getters,C=N.slotMetrics,L=N.localizer,P=this.state,A=P.event,q=P.top,z=P.height;if(!A)return T;var U=T.props.children,W=A.start,ee=A.end,H,I="eventTimeRangeFormat",re=C.startsBeforeDay(W),le=C.startsAfterDay(ee);return re?I="eventTimeRangeEndFormat":le&&(I="eventTimeRangeStartFormat"),re&&le?H=L.messages.allDay:H=L.format({start:W,end:ee},I),m.default.cloneElement(T,{children:m.default.createElement(m.default.Fragment,null,U,A&&m.default.createElement(b.default,{event:A,label:H,className:"rbc-addons-dnd-drag-preview",style:{top:q,height:z,width:100},getters:D,components:M,accessors:(0,r.default)((0,r.default)({},O),x.dragAccessors),continuesPrior:re,continuesAfter:le}))})}},{key:"render",value:function(){return m.default.createElement("div",{ref:this.ref},this.renderContent())}}])})(m.default.Component);return w.contextType=v.DnDContext,Zo.default=w,Zo}var tl={},B0={exports:{}},I0={exports:{}},H0={exports:{}},CO;function zR(){return CO||(CO=1,(function(t){function e(r,a){(a==null||a>r.length)&&(a=r.length);for(var i=0,l=Array(a);i<a;i++)l[i]=r[i];return l}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(H0)),H0.exports}var AO;function RI(){return AO||(AO=1,(function(t){var e=zR();function r(a){if(Array.isArray(a))return e(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(I0)),I0.exports}var F0={exports:{}},RO;function DI(){return RO||(RO=1,(function(t){function e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(F0)),F0.exports}var G0={exports:{}},DO;function kI(){return DO||(DO=1,(function(t){var e=zR();function r(a,i){if(a){if(typeof a=="string")return e(a,i);var l={}.toString.call(a).slice(8,-1);return l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?e(a,i):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(G0)),G0.exports}var Y0={exports:{}},kO;function MI(){return kO||(kO=1,(function(t){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Y0)),Y0.exports}var MO;function BR(){return MO||(MO=1,(function(t){var e=RI(),r=DI(),a=kI(),i=MI();function l(u){return e(u)||r(u)||a(u)||i()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports})(B0)),B0.exports}var rl={},nl={},al={},qO;function qI(){if(qO)return al;qO=1;var t=Vt().default;Object.defineProperty(al,"__esModule",{value:!0}),al.default=void 0;var e=t(qa()),r=t($b()),a=t(Ts()),i=t(Os()),l=t(Wi()),u=t(Vi()),d=t(jr()),f=t(tu),m=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],v=(function(y){function b(){return(0,a.default)(this,b),(0,l.default)(this,b,arguments)}return(0,u.default)(b,y),(0,i.default)(b,[{key:"render",value:function(){var w=this.props,_=w.style,E=w.className,S=w.event,N=w.selected,T=w.isAllDay,O=w.onSelect,M=w.onDoubleClick,D=w.onKeyPress,C=w.localizer,L=w.continuesPrior,P=w.continuesAfter,A=w.accessors,q=w.getters,z=w.children,U=w.components,W=U.event,ee=U.eventWrapper,H=w.slotStart,I=w.slotEnd,re=(0,r.default)(w,m);delete re.resizable;var le=A.title(S),V=A.tooltip(S),$=A.end(S),Q=A.start(S),oe=A.allDay(S),fe=T||oe||C.diff(Q,C.ceil($,"day"),"day")>1,Z=q.eventProp(S,Q,$,N),de=d.default.createElement("div",{className:"rbc-event-content",title:V||void 0},W?d.default.createElement(W,{event:S,continuesPrior:L,continuesAfter:P,title:le,isAllDay:oe,localizer:C,slotStart:H,slotEnd:I}):le);return d.default.createElement(ee,Object.assign({},this.props,{type:"date"}),d.default.createElement("div",Object.assign({},re,{style:(0,e.default)((0,e.default)({},Z.style),_),className:(0,f.default)("rbc-event",E,Z.className,{"rbc-selected":N,"rbc-event-allday":fe,"rbc-event-continues-prior":L,"rbc-event-continues-after":P}),onClick:function(Oe){return O&&O(S,Oe)},onDoubleClick:function(Oe){return M&&M(S,Oe)},onKeyDown:function(Oe){return D&&D(S,Oe)}}),typeof z=="function"?z(de):de))}}])})(d.default.Component);return al.default=v,al}var _a={},PO;function IR(){if(PO)return _a;PO=1;var t=Vt().default;Object.defineProperty(_a,"__esModule",{value:!0}),_a.dateCellSelection=u,_a.getSlotAtX=i,_a.isSelected=r,_a.pointInBox=l,_a.slotWidth=a;var e=t(LA());function r(d,f){return!d||f==null?!1:(0,e.default)(d,f)}function a(d,f){var m=d.right-d.left,v=m/f;return v}function i(d,f,m,v){var y=a(d,v);return m?v-1-Math.floor((f-d.left)/y):Math.floor((f-d.left)/y)}function l(d,f){var m=f.x,v=f.y;return v>=d.top&&v<=d.bottom&&m>=d.left&&m<=d.right}function u(d,f,m,v,y){var b=-1,x=-1,w=v-1,_=a(f,v),E=i(f,m.x,y,v),S=f.top<m.y&&f.bottom>m.y,N=f.top<d.y&&f.bottom>d.y,T=d.y>f.bottom,O=f.top>d.y,M=m.top<f.top&&m.bottom>f.bottom;return M&&(b=0,x=w),S&&(O?(b=0,x=E):T&&(b=E,x=w)),N&&(b=x=y?w-Math.floor((d.x-f.left)/_):Math.floor((d.x-f.left)/_),S?E<b?b=E:x=E:d.y<m.y?x=w:b=0),{startIdx:b,endIdx:x}}return _a}var LO;function PI(){if(LO)return nl;LO=1;var t=Vt().default;Object.defineProperty(nl,"__esModule",{value:!0}),nl.default=void 0;var e=t(Xy()),r=t(jr()),a=t(qI()),i=IR();return nl.default={propTypes:{slotMetrics:e.default.object.isRequired,selected:e.default.object,isAllDay:e.default.bool,accessors:e.default.object.isRequired,localizer:e.default.object.isRequired,components:e.default.object.isRequired,getters:e.default.object.isRequired,onSelect:e.default.func,onDoubleClick:e.default.func,onKeyPress:e.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(u,d){var f=u.selected;u.isAllDay;var m=u.accessors,v=u.getters,y=u.onSelect,b=u.onDoubleClick,x=u.onKeyPress,w=u.localizer,_=u.slotMetrics,E=u.components,S=u.resizable,N=_.continuesPrior(d),T=_.continuesAfter(d);return r.default.createElement(a.default,{event:d,getters:v,localizer:w,accessors:m,components:E,onSelect:y,onDoubleClick:b,onKeyPress:x,continuesPrior:N,continuesAfter:T,slotStart:_.first,slotEnd:_.last,selected:(0,i.isSelected)(d,f),resizable:S})},renderSpan:function(u,d,f){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",v=Math.abs(d)/u*100+"%";return r.default.createElement("div",{key:f,className:"rbc-row-segment",style:{WebkitFlexBasis:v,flexBasis:v,maxWidth:v}},m)}},nl}var $O;function LI(){if($O)return rl;$O=1;var t=Vt().default;Object.defineProperty(rl,"__esModule",{value:!0}),rl.default=void 0;var e=t(qa()),r=t(Ts()),a=t(Os()),i=t(Wi()),l=t(Vi()),u=t(tu),d=t(jr()),f=t(PI()),m=(function(v){function y(){return(0,r.default)(this,y),(0,i.default)(this,y,arguments)}return(0,l.default)(y,v),(0,a.default)(y,[{key:"render",value:function(){var x=this,w=this.props,_=w.segments,E=w.slotMetrics.slots,S=w.className,N=1;return d.default.createElement("div",{className:(0,u.default)(S,"rbc-row")},_.reduce(function(T,O,M){var D=O.event,C=O.left,L=O.right,P=O.span,A="_lvl_"+M,q=C-N,z=f.default.renderEvent(x.props,D);return q&&T.push(f.default.renderSpan(E,q,"".concat(A,"_gap"))),T.push(f.default.renderSpan(E,P,A,z)),N=L+1,T},[]))}}])})(d.default.Component);return m.defaultProps=(0,e.default)({},f.default.defaultProps),rl.default=m,rl}var on={},UO;function $I(){if(UO)return on;UO=1;var t=Vt().default;Object.defineProperty(on,"__esModule",{value:!0}),on.endOfRange=a,on.eventLevels=l,on.eventSegments=i,on.inRange=u,on.segsOverlap=d,on.sortEvents=m,on.sortWeekEvents=f;var e=t(BR()),r=t(zA());function a(v){var y=v.dateRange,b=v.unit,x=b===void 0?"day":b,w=v.localizer;return{first:y[0],last:w.add(y[y.length-1],1,x)}}function i(v,y,b,x){var w=a({dateRange:y,localizer:x}),_=w.first,E=w.last,S=x.diff(_,E,"day"),N=x.max(x.startOf(b.start(v),"day"),_),T=x.min(x.ceil(b.end(v),"day"),E),O=(0,r.default)(y,function(D){return x.isSameDate(D,N)}),M=x.diff(N,T,"day");return M=Math.min(M,S),M=Math.max(M-x.segmentOffset,1),{event:v,span:M,left:O+1,right:Math.max(O+M,1)}}function l(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,b,x,w,_=[],E=[];for(b=0;b<v.length;b++){for(w=v[b],x=0;x<_.length&&d(w,_[x]);x++);x>=y?E.push(w):(_[x]||(_[x]=[])).push(w)}for(b=0;b<_.length;b++)_[b].sort(function(S,N){return S.left-N.left});return{levels:_,extra:E}}function u(v,y,b,x,w){var _={start:x.start(v),end:x.end(v)},E={start:y,end:b};return w.inEventRange({event:_,range:E})}function d(v,y){return y.some(function(b){return b.left<=v.right&&b.right>=v.left})}function f(v,y,b){var x=(0,e.default)(v),w=[],_=[];x.forEach(function(N){var T=y.start(N),O=y.end(N);b.daySpan(T,O)>1?w.push(N):_.push(N)});var E=w.sort(function(N,T){return m(N,T,y,b)}),S=_.sort(function(N,T){return m(N,T,y,b)});return[].concat((0,e.default)(E),(0,e.default)(S))}function m(v,y,b,x){var w={start:b.start(v),end:b.end(v),allDay:b.allDay(v)},_={start:b.start(y),end:b.end(y),allDay:b.allDay(y)};return x.sortEvents({evtA:w,evtB:_})}return on}var zO;function UI(){if(zO)return tl;zO=1;var t=xR().default,e=Vt().default;Object.defineProperty(tl,"__esModule",{value:!0}),tl.default=void 0;var r=e(qa()),a=e(BR()),i=e(Ts()),l=e(Os()),u=e(Wi()),d=e(Vi()),f=e(jr()),m=e(LI()),v=t(UR()),y=$I(),b=IR(),x=Ib(),w=cf(),_=(function(E){function S(){var N;(0,i.default)(this,S);for(var T=arguments.length,O=new Array(T),M=0;M<T;M++)O[M]=arguments[M];return N=(0,u.default)(this,S,[].concat(O)),N.handleMove=function(D,C,L){if(!(0,b.pointInBox)(C,D))return N.reset();var P=N.context.draggable.dragAndDropAction.event||L,A=N.props,q=A.accessors,z=A.slotMetrics,U=A.rtl,W=A.localizer,ee=(0,b.getSlotAtX)(C,D.x,U,z.slots),H=z.getDateForSlot(ee),I=(0,x.eventTimes)(P,q,W),re=I.start,le=I.duration;re=W.merge(H,re);var V=W.add(re,le,"milliseconds");N.update(P,re,V)},N.handleDropFromOutside=function(D,C){if(N.context.draggable.onDropFromOutside){var L=N.props,P=L.slotMetrics,A=L.rtl,q=L.localizer,z=(0,b.getSlotAtX)(C,D.x,A,P.slots),U=P.getDateForSlot(z);N.context.draggable.onDropFromOutside({start:U,end:q.add(U,1,"day"),allDay:!1})}},N.handleDragOverFromOutside=function(D,C){var L=N.context.draggable.dragFromOutsideItem?N.context.draggable.dragFromOutsideItem():null;L&&N.handleMove(D,C,L)},N._selectable=function(){var D=N.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),C=D.closest(".rbc-month-view, .rbc-time-view"),L=D.classList.contains("rbc-month-row"),P=N._selector=new v.default(function(){return C},{validContainers:(0,a.default)(L?[]:[".rbc-day-slot",".rbc-allday-cell"])});P.on("beforeSelect",function(A){var q=N.props.isAllDay,z=N.context.draggable.dragAndDropAction.action,U=(0,v.getBoundsForNode)(D),W=(0,b.pointInBox)(U,A);return z==="move"||z==="resize"&&(!q||W)}),P.on("selecting",function(A){var q=(0,v.getBoundsForNode)(D),z=N.context.draggable.dragAndDropAction;z.action==="move"&&N.handleMove(A,q),z.action==="resize"&&N.handleResize(A,q)}),P.on("selectStart",function(){return N.context.draggable.onStart()}),P.on("select",function(A){var q=(0,v.getBoundsForNode)(D);N.state.segment&&((0,b.pointInBox)(q,A)?N.handleInteractionEnd():N.reset())}),P.on("dropFromOutside",function(A){if(N.context.draggable.onDropFromOutside){var q=(0,v.getBoundsForNode)(D);(0,b.pointInBox)(q,A)&&N.handleDropFromOutside(A,q)}}),P.on("dragOverFromOutside",function(A){if(N.context.draggable.dragFromOutsideItem){var q=(0,v.getBoundsForNode)(D);N.handleDragOverFromOutside(A,q)}}),P.on("click",function(){return N.context.draggable.onEnd(null)}),P.on("reset",function(){N.reset(),N.context.draggable.onEnd(null)})},N.handleInteractionEnd=function(){var D=N.props,C=D.resourceId,L=D.isAllDay,P=N.state.segment.event;N.reset(),N.context.draggable.onEnd({start:P.start,end:P.end,resourceId:C,isAllDay:L})},N._teardownSelectable=function(){N._selector&&(N._selector.teardown(),N._selector=null)},N.state={},N.ref=f.default.createRef(),N}return(0,d.default)(S,E),(0,l.default)(S,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(T,O,M){var D=(0,y.eventSegments)((0,r.default)((0,r.default)({},T),{},{end:M,start:O,__isPreview:!0}),this.props.slotMetrics.range,x.dragAccessors,this.props.localizer),C=this.state.segment;C&&D.span===C.span&&D.left===C.left&&D.right===C.right||this.setState({segment:D})}},{key:"handleResize",value:function(T,O){var M=this.context.draggable.dragAndDropAction,D=M.event,C=M.direction,L=this.props,P=L.accessors,A=L.slotMetrics,q=L.rtl,z=L.localizer,U=(0,x.eventTimes)(D,P,z),W=U.start,ee=U.end,H=(0,b.getSlotAtX)(O,T.x,q,A.slots),I=A.getDateForSlot(H),re=(0,b.pointInBox)(O,T);if(C==="RIGHT"){if(re){if(A.last<W)return this.reset();z.eq(z.startOf(ee,"day"),ee)?ee=z.add(I,1,"day"):ee=I}else if(z.inRange(W,A.first,A.last)||O.bottom<T.y&&+A.first>+W)ee=z.add(A.last,1,"milliseconds");else{this.setState({segment:null});return}var le=P.end(D);ee=z.merge(ee,le),z.lt(ee,W)&&(ee=le)}else if(C==="LEFT"){if(re){if(A.first>ee)return this.reset();W=I}else if(z.inRange(ee,A.first,A.last)||O.top>T.y&&z.lt(A.last,ee))W=z.add(A.first,-1,"milliseconds");else{this.reset();return}var V=P.start(D);W=z.merge(W,V),z.gt(W,ee)&&(W=V)}this.update(D,W,ee)}},{key:"render",value:function(){var T=this.props,O=T.children,M=T.accessors,D=this.state.segment;return f.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},O,D&&f.default.createElement(m.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[D],accessors:(0,r.default)((0,r.default)({},M),x.dragAccessors)})))}}])})(f.default.Component);return _.contextType=w.DnDContext,tl.default=_,tl}var BO;function zI(){if(BO)return Mc;BO=1;var t=Vt().default;Object.defineProperty(Mc,"__esModule",{value:!0}),Mc.default=_;var e=t(qa()),r=t($b()),a=t(Ts()),i=t(Os()),l=t(Wi()),u=t(Vi()),d=t(jr()),f=t(tu);fI();var m=t(hI()),v=t(AI()),y=t(UI()),b=Ib(),x=cf(),w=["selectable","elementProps","components"];function _(E){var S=(function(N){function T(){var O;(0,a.default)(this,T);for(var M=arguments.length,D=new Array(M),C=0;C<M;C++)D[C]=arguments[C];return O=(0,l.default)(this,T,[].concat(D)),O.defaultOnDragOver=function(L){L.preventDefault()},O.handleBeginAction=function(L,P,A){O.setState({event:L,action:P,direction:A});var q=O.props.onDragStart;q&&q({event:L,action:P,direction:A})},O.handleInteractionStart=function(){O.state.interacting===!1&&O.setState({interacting:!0})},O.handleInteractionEnd=function(L){var P=O.state,A=P.action,q=P.event;if(A&&(O.setState({action:null,event:null,interacting:!1,direction:null}),L!=null)){L.event=q;var z=O.props,U=z.onEventDrop,W=z.onEventResize;A==="move"&&U&&U(L),A==="resize"&&W&&W(L)}},O.state={interacting:!1},O}return(0,u.default)(T,N),(0,i.default)(T,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var M=this.props,D=M.selectable,C=M.elementProps,L=M.components,P=(0,r.default)(M,w),A=this.state.interacting;delete P.onEventDrop,delete P.onEventResize,P.selectable=D?"ignoreEvents":!1,this.components=(0,b.mergeComponents)(L,{eventWrapper:m.default,eventContainerWrapper:v.default,weekWrapper:y.default});var q=this.props.onDropFromOutside?(0,e.default)((0,e.default)({},C),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):C;P.className=(0,f.default)(P.className,"rbc-addons-dnd",!!A&&"rbc-addons-dnd-is-dragging");var z=this.getDnDContextValue();return d.default.createElement(x.DnDContext.Provider,{value:z},d.default.createElement(E,Object.assign({},P,{elementProps:q,components:this.components})))}}])})(d.default.Component);return S.defaultProps=(0,e.default)((0,e.default)({},E.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),S}return Mc}var IO;function BI(){if(IO)return Xo;IO=1;var t=Vt().default;Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.default=void 0;var e=t(zI());return Xo.default=e.default,Xo}var II=BI();const HI=Gt(II),HR=6048e5,FI=864e5,Pc=43200,HO=1440,FO=Symbol.for("constructDateFrom");function Br(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&FO in t?t[FO](e):t instanceof Date?new t.constructor(e):new Date(e)}function Je(t,e){return Br(e||t,t)}function js(t,e,r){const a=Je(t,r?.in);return isNaN(e)?Br(t,NaN):(e&&a.setDate(a.getDate()+e),a)}function Hb(t,e,r){const a=Je(t,r?.in);if(isNaN(e))return Br(t,NaN);if(!e)return a;const i=a.getDate(),l=Br(t,a.getTime());l.setMonth(a.getMonth()+e+1,0);const u=l.getDate();return i>=u?l:(a.setFullYear(l.getFullYear(),l.getMonth(),i),a)}let GI={};function Ki(){return GI}function Oa(t,e){const r=Ki(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Je(t,e?.in),l=i.getDay(),u=(l<a?7:0)+l-a;return i.setDate(i.getDate()-u),i.setHours(0,0,0,0),i}function xd(t,e){return Oa(t,{...e,weekStartsOn:1})}function FR(t,e){const r=Je(t,e?.in),a=r.getFullYear(),i=Br(r,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=xd(i),u=Br(r,0);u.setFullYear(a,0,4),u.setHours(0,0,0,0);const d=xd(u);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function wd(t){const e=Je(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Xi(t,...e){const r=Br.bind(null,t||e.find(a=>typeof a=="object"));return e.map(r)}function Lr(t,e){const r=Je(t,e?.in);return r.setHours(0,0,0,0),r}function YI(t,e,r){const[a,i]=Xi(r?.in,t,e),l=Lr(a),u=Lr(i),d=+l-wd(l),f=+u-wd(u);return Math.round((d-f)/FI)}function WI(t,e){const r=FR(t,e),a=Br(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),xd(a)}function GR(t,e,r){return js(t,e*7,r)}function td(t,e){const r=+Je(t)-+Je(e);return r<0?-1:r>0?1:r}function VI(t){return Br(t,Date.now())}function YR(t,e,r){const[a,i]=Xi(r?.in,t,e);return+Lr(a)==+Lr(i)}function KI(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XI(t){return!(!KI(t)&&typeof t!="number"||isNaN(+Je(t)))}function QI(t,e,r){const[a,i]=Xi(r?.in,t,e),l=a.getFullYear()-i.getFullYear(),u=a.getMonth()-i.getMonth();return l*12+u}function JI(t){return e=>{const a=(t?Math[t]:Math.trunc)(e);return a===0?0:a}}function ZI(t,e){return+Je(t)-+Je(e)}function e8(t,e){const r=Je(t,e?.in);return r.setHours(23,59,59,999),r}function WR(t,e){const r=Je(t,e?.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function t8(t,e){const r=Je(t,e?.in);return+e8(r,e)==+WR(r,e)}function r8(t,e,r){const[a,i,l]=Xi(r?.in,t,t,e),u=td(i,l),d=Math.abs(QI(i,l));if(d<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-u*d);let f=td(i,l)===-u;t8(a)&&d===1&&td(a,l)===1&&(f=!1);const m=u*(d-+f);return m===0?0:m}function n8(t,e,r){const a=ZI(t,e)/1e3;return JI(r?.roundingMethod)(a)}function a8(t,e){const r=Je(t,e?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function s8(t,e){const r=Je(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function VR(t,e){const r=Ki(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Je(t,e?.in),l=i.getDay(),u=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+u),i.setHours(23,59,59,999),i}const i8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},o8=(t,e,r)=>{let a;const i=i8[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function ji(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const l8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},u8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},c8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},d8={date:ji({formats:l8,defaultWidth:"full"}),time:ji({formats:u8,defaultWidth:"full"}),dateTime:ji({formats:c8,defaultWidth:"full"})},f8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},h8=(t,e,r,a)=>f8[t];function cn(t){return(e,r)=>{const a=r?.context?String(r.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const u=t.defaultFormattingWidth||t.defaultWidth,d=r?.width?String(r.width):u;i=t.formattingValues[d]||t.formattingValues[u]}else{const u=t.defaultWidth,d=r?.width?String(r.width):t.defaultWidth;i=t.values[d]||t.values[u]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const m8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},v8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},y8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},b8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},x8=(t,e)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},w8={ordinalNumber:x8,era:cn({values:m8,defaultWidth:"wide"}),quarter:cn({values:p8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:cn({values:v8,defaultWidth:"wide"}),day:cn({values:g8,defaultWidth:"wide"}),dayPeriod:cn({values:y8,defaultWidth:"wide",formattingValues:b8,defaultFormattingWidth:"wide"})};function dn(t){return(e,r={})=>{const a=r.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const u=l[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(d)?S8(d,y=>y.test(u)):_8(d,y=>y.test(u));let m;m=t.valueCallback?t.valueCallback(f):f,m=r.valueCallback?r.valueCallback(m):m;const v=e.slice(u.length);return{value:m,rest:v}}}function _8(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function S8(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function KR(t){return(e,r={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],l=e.match(t.parsePattern);if(!l)return null;let u=t.valueCallback?t.valueCallback(l[0]):l[0];u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(i.length);return{value:u,rest:d}}}const E8=/^(\d+)(th|st|nd|rd)?/i,j8=/\d+/i,N8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},T8={any:[/^b/i,/^(a|c)/i]},O8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},C8={any:[/1/i,/2/i,/3/i,/4/i]},A8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},M8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},q8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},P8={ordinalNumber:KR({matchPattern:E8,parsePattern:j8,valueCallback:t=>parseInt(t,10)}),era:dn({matchPatterns:N8,defaultMatchWidth:"wide",parsePatterns:T8,defaultParseWidth:"any"}),quarter:dn({matchPatterns:O8,defaultMatchWidth:"wide",parsePatterns:C8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dn({matchPatterns:A8,defaultMatchWidth:"wide",parsePatterns:R8,defaultParseWidth:"any"}),day:dn({matchPatterns:D8,defaultMatchWidth:"wide",parsePatterns:k8,defaultParseWidth:"any"}),dayPeriod:dn({matchPatterns:M8,defaultMatchWidth:"any",parsePatterns:q8,defaultParseWidth:"any"})},XR={code:"en-US",formatDistance:o8,formatLong:d8,formatRelative:h8,localize:w8,match:P8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function L8(t,e){const r=Je(t,e?.in);return YI(r,s8(r))+1}function $8(t,e){const r=Je(t,e?.in),a=+xd(r)-+WI(r);return Math.round(a/HR)+1}function QR(t,e){const r=Je(t,e?.in),a=r.getFullYear(),i=Ki(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=Br(e?.in||t,0);u.setFullYear(a+1,0,l),u.setHours(0,0,0,0);const d=Oa(u,e),f=Br(e?.in||t,0);f.setFullYear(a,0,l),f.setHours(0,0,0,0);const m=Oa(f,e);return+r>=+d?a+1:+r>=+m?a:a-1}function U8(t,e){const r=Ki(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=QR(t,e),l=Br(e?.in||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),Oa(l,e)}function z8(t,e){const r=Je(t,e?.in),a=+Oa(r,e)-+U8(r,e);return Math.round(a/HR)+1}function Ie(t,e){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return r+a}const Sa={y(t,e){const r=t.getFullYear(),a=r>0?r:1-r;return Ie(e==="yy"?a%100:a,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ie(r+1,2)},d(t,e){return Ie(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ie(t.getHours()%12||12,e.length)},H(t,e){return Ie(t.getHours(),e.length)},m(t,e){return Ie(t.getMinutes(),e.length)},s(t,e){return Ie(t.getSeconds(),e.length)},S(t,e){const r=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return Ie(i,e.length)}},bi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GO={G:function(t,e,r){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return Sa.y(t,e)},Y:function(t,e,r,a){const i=QR(t,a),l=i>0?i:1-i;if(e==="YY"){const u=l%100;return Ie(u,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):Ie(l,e.length)},R:function(t,e){const r=FR(t);return Ie(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ie(r,e.length)},Q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ie(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ie(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){const a=t.getMonth();switch(e){case"M":case"MM":return Sa.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return Ie(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){const i=z8(t,a);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Ie(i,e.length)},I:function(t,e,r){const a=$8(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):Ie(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Sa.d(t,e)},D:function(t,e,r){const a=L8(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Ie(a,e.length)},E:function(t,e,r){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return Ie(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return Ie(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return Ie(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const a=t.getHours();let i;switch(a===12?i=bi.noon:a===0?i=bi.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const a=t.getHours();let i;switch(a>=17?i=bi.evening:a>=12?i=bi.afternoon:a>=4?i=bi.morning:i=bi.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Sa.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Sa.H(t,e)},K:function(t,e,r){const a=t.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Ie(a,e.length)},k:function(t,e,r){let a=t.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):Ie(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Sa.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Sa.s(t,e)},S:function(t,e){return Sa.S(t,e)},X:function(t,e,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return WO(a);case"XXXX":case"XX":return is(a);case"XXXXX":case"XXX":default:return is(a,":")}},x:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"x":return WO(a);case"xxxx":case"xx":return is(a);case"xxxxx":case"xxx":default:return is(a,":")}},O:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+YO(a,":");case"OOOO":default:return"GMT"+is(a,":")}},z:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+YO(a,":");case"zzzz":default:return"GMT"+is(a,":")}},t:function(t,e,r){const a=Math.trunc(+t/1e3);return Ie(a,e.length)},T:function(t,e,r){return Ie(+t,e.length)}};function YO(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?r+String(i):r+String(i)+e+Ie(l,2)}function WO(t,e){return t%60===0?(t>0?"-":"+")+Ie(Math.abs(t)/60,2):is(t,e)}function is(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=Ie(Math.trunc(a/60),2),l=Ie(a%60,2);return r+i+e+l}const VO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},JR=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},B8=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return VO(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",VO(a,e)).replace("{{time}}",JR(i,e))},I8={p:JR,P:B8},H8=/^D+$/,F8=/^Y+$/,G8=["D","DD","YY","YYYY"];function Y8(t){return H8.test(t)}function W8(t){return F8.test(t)}function V8(t,e,r){const a=K8(t,e,r);if(console.warn(a),G8.includes(t))throw new RangeError(a)}function K8(t,e,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const X8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J8=/^'([^]*?)'?$/,Z8=/''/g,eH=/[a-zA-Z]/;function yt(t,e,r){const a=Ki(),i=r?.locale??a.locale??XR,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d=Je(t,r?.in);if(!XI(d))throw new RangeError("Invalid time value");let f=e.match(Q8).map(v=>{const y=v[0];if(y==="p"||y==="P"){const b=I8[y];return b(v,i.formatLong)}return v}).join("").match(X8).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:tH(v)};if(GO[y])return{isToken:!0,value:v};if(y.match(eH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(f=i.localize.preprocessor(d,f));const m={firstWeekContainsDate:l,weekStartsOn:u,locale:i};return f.map(v=>{if(!v.isToken)return v.value;const y=v.value;(!r?.useAdditionalWeekYearTokens&&W8(y)||!r?.useAdditionalDayOfYearTokens&&Y8(y))&&V8(y,e,String(t));const b=GO[y[0]];return b(d,y,i.localize,m)}).join("")}function tH(t){const e=t.match(J8);return e?e[1].replace(Z8,"'"):t}function rH(t,e,r){const a=Ki(),i=r?.locale??a.locale??XR,l=2520,u=td(t,e);if(isNaN(u))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:u}),[f,m]=Xi(r?.in,...u>0?[e,t]:[t,e]),v=n8(m,f),y=(wd(m)-wd(f))/1e3,b=Math.round((v-y)/60);let x;if(b<2)return r?.includeSeconds?v<5?i.formatDistance("lessThanXSeconds",5,d):v<10?i.formatDistance("lessThanXSeconds",10,d):v<20?i.formatDistance("lessThanXSeconds",20,d):v<40?i.formatDistance("halfAMinute",0,d):v<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):b===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",b,d);if(b<45)return i.formatDistance("xMinutes",b,d);if(b<90)return i.formatDistance("aboutXHours",1,d);if(b<HO){const w=Math.round(b/60);return i.formatDistance("aboutXHours",w,d)}else{if(b<l)return i.formatDistance("xDays",1,d);if(b<Pc){const w=Math.round(b/HO);return i.formatDistance("xDays",w,d)}else if(b<Pc*2)return x=Math.round(b/Pc),i.formatDistance("aboutXMonths",x,d)}if(x=r8(m,f),x<12){const w=Math.round(b/Pc);return i.formatDistance("xMonths",w,d)}else{const w=x%12,_=Math.trunc(x/12);return w<3?i.formatDistance("aboutXYears",_,d):w<9?i.formatDistance("overXYears",_,d):i.formatDistance("almostXYears",_+1,d)}}function _d(t,e){return rH(t,VI(t),e)}function nH(t,e){return Je(t,e?.in).getDay()}function aH(t,e,r){const[a,i]=Xi(r?.in,t,e);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}function sH(t,e,r){return js(t,-1,r)}function ZR(t,e,r){const a=Je(t,r?.in);return a.setHours(e),a}function eD(t,e,r){const a=Je(t,r?.in);return a.setMinutes(e),a}function tD(t,e,r){return Hb(t,-e,r)}function iH(t,e,r){return GR(t,-1,r)}const oH={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},lH=(t,e,r)=>{let a;const i=oH[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"en "+a:"hace "+a:a},uH={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},cH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dH={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fH={date:ji({formats:uH,defaultWidth:"full"}),time:ji({formats:cH,defaultWidth:"full"}),dateTime:ji({formats:dH,defaultWidth:"full"})},hH={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},mH={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},pH=(t,e,r,a)=>e.getHours()!==1?mH[t]:hH[t],vH={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},gH={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},yH={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},bH={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},xH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},wH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},_H=(t,e)=>Number(t)+"",SH={ordinalNumber:_H,era:cn({values:vH,defaultWidth:"wide"}),quarter:cn({values:gH,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:cn({values:yH,defaultWidth:"wide"}),day:cn({values:bH,defaultWidth:"wide"}),dayPeriod:cn({values:xH,defaultWidth:"wide",formattingValues:wH,defaultFormattingWidth:"wide"})},EH=/^(\d+)()?/i,jH=/\d+/i,NH={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},TH={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},OH={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},CH={any:[/1/i,/2/i,/3/i,/4/i]},AH={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},RH={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},DH={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},kH={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},MH={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},qH={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},PH={ordinalNumber:KR({matchPattern:EH,parsePattern:jH,valueCallback:function(t){return parseInt(t,10)}}),era:dn({matchPatterns:NH,defaultMatchWidth:"wide",parsePatterns:TH,defaultParseWidth:"any"}),quarter:dn({matchPatterns:OH,defaultMatchWidth:"wide",parsePatterns:CH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:dn({matchPatterns:AH,defaultMatchWidth:"wide",parsePatterns:RH,defaultParseWidth:"any"}),day:dn({matchPatterns:DH,defaultMatchWidth:"wide",parsePatterns:kH,defaultParseWidth:"any"}),dayPeriod:dn({matchPatterns:MH,defaultMatchWidth:"any",parsePatterns:qH,defaultParseWidth:"any"})},Ct={code:"es",formatDistance:lH,formatLong:fH,formatRelative:pH,localize:SH,match:PH,options:{weekStartsOn:1,firstWeekContainsDate:1}},LH={es:Ct},$H=nI({format:yt,startOfWeek:()=>Oa(new Date,{weekStartsOn:1}),getDay:nH,locales:LH}),UH={allDay:"Todo el da",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango.",showMore:t=>`+ ${t} ms`},zH={month:"Mes",week:"Semana",day:"Da",agenda:"Agenda"},sl={step:30,timeslots:2,minTime:new Date(0,0,0,7,0,0),maxTime:new Date(0,0,0,22,0,0),defaultView:"week"};function BH(t,e){switch(e){case"month":return yt(t,"MMMM yyyy",{locale:Ct});case"week":{const r=Oa(t,{weekStartsOn:1}),a=VR(t,{weekStartsOn:1});return aH(r,a)?`${yt(r,"d",{locale:Ct})} - ${yt(a,"d MMMM yyyy",{locale:Ct})}`:`${yt(r,"d MMM",{locale:Ct})} - ${yt(a,"d MMM yyyy",{locale:Ct})}`}case"day":return yt(t,"EEEE, d 'de' MMMM yyyy",{locale:Ct});case"agenda":return yt(t,"MMMM yyyy",{locale:Ct});default:return yt(t,"MMMM yyyy",{locale:Ct})}}function IH({currentDate:t,currentView:e,onNavigate:r,onViewChange:a,eventsToday:i=0,onNewAppointment:l,isRefreshing:u=!1}){const d=["month","week","day","agenda"],f=R.useMemo(()=>BH(t,e),[t,e]),m=R.useMemo(()=>{const v=new Date;return t.toDateString()===v.toDateString()},[t]);return h.jsx("div",{className:"flex flex-col gap-4 mb-6",children:h.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l&&h.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-xl transition-all shadow-sm hover:shadow-md active:scale-[0.98]",children:[h.jsx(Fn,{className:"h-4 w-4"}),h.jsx("span",{children:"Nueva Cita"})]}),h.jsxs("div",{className:"flex items-center bg-slate-100 rounded-xl p-1 shadow-inner",children:[h.jsx("button",{onClick:()=>r("PREV"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Anterior",children:h.jsx(Yy,{className:"h-5 w-5 text-slate-600"})}),h.jsx("button",{onClick:()=>r("TODAY"),disabled:m,className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all ${m?"text-slate-400 cursor-default":"text-indigo-600 hover:bg-white hover:shadow-sm active:scale-95"}`,children:"Hoy"}),h.jsx("button",{onClick:()=>r("NEXT"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Siguiente",children:h.jsx(yl,{className:"h-5 w-5 text-slate-600"})})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-800 capitalize whitespace-nowrap",children:f}),u&&h.jsx(xt,{className:"h-4 w-4 text-slate-400 animate-spin"}),i>0&&h.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-semibold rounded-full border border-indigo-100",children:[h.jsx(en,{className:"h-3.5 w-3.5"}),i," hoy"]})]})]}),h.jsx("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-xl shadow-inner",children:d.map(v=>h.jsx("button",{onClick:()=>a(v),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${e===v?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800 hover:bg-white/50"}`,children:zH[v]},v))})]})})}const df="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/create-calendar-event",HH="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function FH(t){const{data:{session:e}}=await je.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),u=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],f=r.toTimeString().slice(0,5),m=await fetch(df,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"create",calendarId:t.calendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:u,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:f,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id,htmlLink:v.event?.htmlLink}:{success:!1,error:v.error||"Failed to create appointment"}}async function GH(t){const{data:{session:e}}=await je.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(df,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"delete",calendarId:t.calendarId,eventId:t.eventId})}),a=await r.json();return r.ok?{success:!0}:{success:!1,error:a.error||"Failed to delete appointment"}}async function YH(t){const{data:{session:e}}=await je.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),u=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],f=r.toTimeString().slice(0,5),m=await fetch(df,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,oldCalendarId:t.oldCalendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:u,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:f,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id}:{success:!1,error:v.error||"Failed to update appointment"}}async function WH(t){const{data:{session:e}}=await je.auth.getSession();if(!e)throw new Error("No authenticated session");const r=t.newStart.toISOString(),a=t.newEnd.toISOString(),i=t.newStart.toISOString().split("T")[0],l=t.newStart.toTimeString().slice(0,5),u=await fetch(df,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,summary:t.title,startTime:r,endTime:a,description:t.description,logData:{appointmentDate:i,appointmentTime:l}})}),d=await u.json();return u.ok?{success:!0}:{success:!1,error:d.error||"Failed to reschedule appointment"}}async function rD(t){const{data:e,error:r}=await je.from("clients").select("*").eq("salon_id",t).order("name");if(r)throw new Error("Failed to fetch clients");return e||[]}async function nD(t){const{data:e,error:r}=await je.from("services").select("*").eq("salon_id",t).eq("active",!0).order("category").order("display_order");if(r)throw new Error("Failed to fetch services");return e||[]}async function VH(t,e,r,a){const{data:i,error:l}=await je.from("clients").insert({salon_id:t,name:e.trim(),phone:r.trim(),email:a?.trim()||null,source:"manual"}).select().single();if(l)throw l.code==="23505"?new Error("Ya existe un cliente con ese telfono"):new Error("Failed to create client");return i}async function aD(t){const{data:{session:e}}=await je.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t);r.setHours(0,0,0,0);const a=new Date(t);a.setHours(23,59,59,999);const i=await fetch(HH,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({timeMin:r.toISOString(),timeMax:a.toISOString()})});if(!i.ok)throw new Error("Failed to fetch events");return((await i.json()).events||[]).map(u=>({...u,start:new Date(u.start),end:new Date(u.end)}))}function sD(t,e,r,a,i,l){const u=t.filter(d=>d.calendarId===e&&(!l||d.googleEventId!==l));return console.log("Staff events for calendar",e,":",u.map(d=>({title:d.title,start:d.start,end:d.end}))),a.map(d=>{const[f,m]=d.split(":").map(Number),v=new Date(i);v.setHours(f,m,0,0);const y=new Date(v.getTime()+r*60*1e3),b=u.some(x=>{const w=new Date(x.start),_=new Date(x.end),E=v<_&&y>w;return E&&console.log(`Slot ${d} conflicts with event:`,{eventTitle:x.title,eventStart:w.toISOString(),eventEnd:_.toISOString(),slotStart:v.toISOString(),slotEnd:y.toISOString()}),E});return{slot:d,available:!b}})}function KH({event:t,onClose:e,onDelete:r,onEdit:a,canDelete:i=!1,canEdit:l=!1}){const[u,d]=R.useState(!1),[f,m]=R.useState(!1),[v,y]=R.useState(null),b=R.useCallback(E=>{E.key==="Escape"&&e()},[e]),x=R.useCallback(E=>{E.target===E.currentTarget&&e()},[e]);R.useEffect(()=>(t&&(document.addEventListener("keydown",b),document.body.style.overflow="hidden",m(!1),y(null),d(!1)),()=>{document.removeEventListener("keydown",b),document.body.style.overflow="unset"}),[t,b]);const w=async()=>{if(!(!t||!t.googleEventId||!t.calendarId))try{d(!0),y(null);const E=await GH({calendarId:t.calendarId,eventId:t.googleEventId});E.success?(r?.(),e()):y(E.error||"Error al eliminar la cita")}catch(E){y(E instanceof Error?E.message:"Error al eliminar la cita")}finally{d(!1)}};if(!t)return null;const _=t.color||"#4F46E5";return h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:x,role:"dialog","aria-modal":"true","aria-labelledby":"event-title",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-slideUp",children:[h.jsx("div",{className:"h-1.5",style:{backgroundColor:_}}),h.jsx("div",{className:"p-6 pb-4",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{id:"event-title",className:"text-xl font-semibold text-slate-800 leading-tight",children:t.title}),t.staffName&&h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:_}}),h.jsx("span",{className:"text-sm text-slate-500",children:t.staffName})]})]}),h.jsx("button",{onClick:e,className:"p-2 -m-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Cerrar",children:h.jsx(Sr,{className:"h-5 w-5 text-slate-400"})})]})}),h.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(en,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:yt(t.start,"EEEE, d 'de' MMMM",{locale:Ct})}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(Aa,{className:"h-4 w-4 text-slate-400"}),h.jsx("span",{className:"text-sm text-slate-500",children:t.allDay?"Todo el da":`${yt(t.start,"HH:mm")} - ${yt(t.end,"HH:mm")}`})]})]})]}),t.location&&h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(nP,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Ubicacin"}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.location})]})]}),t.staffName&&h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(pn,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Asignado a"}),h.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.staffName})]})]}),t.description&&h.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[h.jsx(Yq,{className:"h-5 w-5 text-slate-400 mt-0.5"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Descripcin"}),h.jsx("p",{className:"text-sm text-slate-500 mt-1 whitespace-pre-wrap break-words",children:t.description})]})]})]}),v&&h.jsx("div",{className:"px-6 pb-4",children:h.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:v})}),h.jsx("div",{className:"px-6 pb-6",children:f?h.jsxs("div",{className:"space-y-3",children:[h.jsx("p",{className:"text-center text-sm text-slate-600",children:"Seguro que quieres eliminar esta cita?"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>m(!1),disabled:u,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors",children:"Cancelar"}),h.jsx("button",{onClick:w,disabled:u,className:"flex-1 py-3 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:u?h.jsxs(h.Fragment,{children:[h.jsx(xt,{className:"h-4 w-4 animate-spin"}),"Eliminando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(ps,{className:"h-4 w-4"}),"Eliminar"]})})]})]}):h.jsxs("div",{className:"flex gap-3",children:[l&&t.googleEventId&&h.jsxs("button",{onClick:()=>{a?.(t),e()},className:"px-4 py-3 bg-indigo-50 text-indigo-600 font-medium rounded-xl hover:bg-indigo-100 transition-colors flex items-center gap-2",children:[h.jsx(HC,{className:"h-4 w-4"}),"Editar"]}),i&&t.googleEventId&&h.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-3 bg-red-50 text-red-600 font-medium rounded-xl hover:bg-red-100 transition-colors flex items-center gap-2",children:[h.jsx(ps,{className:"h-4 w-4"}),"Eliminar"]}),h.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300",children:"Cerrar"})]})})]})})}function XH({staffCalendars:t,selectedStaff:e,onToggleStaff:r,onSelectAll:a,onDeselectAll:i}){const l=R.useMemo(()=>e.length===t.length,[e.length,t.length]),u=e.length===0;return t.length===0?null:h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[h.jsx(ds,{className:"h-4 w-4"}),h.jsx("span",{children:"Calendarios del equipo"}),h.jsxs("span",{className:"text-slate-400",children:["(",e.length,"/",t.length,")"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:a,disabled:l,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Todos"}),h.jsx("span",{className:"text-slate-300",children:"|"}),h.jsx("button",{onClick:i,disabled:u,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Ninguno"})]})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(d=>{const f=e.includes(d.staffId);return h.jsxs("button",{onClick:()=>r(d.staffId),className:`group flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition-all ${f?"text-white shadow-md hover:shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,style:{backgroundColor:f?d.color:void 0},children:[h.jsx("span",{className:`flex items-center justify-center w-5 h-5 rounded-full transition-all ${f?"bg-white/20":""}`,style:{backgroundColor:f?void 0:d.color+"20"},children:f?h.jsx(Hn,{className:"h-3 w-3"}):h.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:d.color}})}),d.staffName]},d.staffId)})})]})}const QH=HI(QB);function iD({events:t,staffCalendars:e=[],isLoading:r=!1,isRefreshing:a=!1,showStaffFilter:i=!1,onEventClick:l,onNewAppointment:u,onEventDelete:d,onEventEdit:f,onEventReschedule:m,canDeleteEvents:v=!1,canEditEvents:y=!1,canDragEvents:b=!1}){const[x,w]=R.useState(new Date),[_,E]=R.useState(sl.defaultView),[S,N]=R.useState(null),[T,O]=R.useState([]),M=R.useMemo(()=>e.map(V=>V.staffId).sort().join(","),[e]),[D,C]=R.useState("");M!==D&&e.length>0&&(O(e.map(V=>V.staffId)),C(M));const L=R.useMemo(()=>i?T.length===0?[]:t.filter(V=>V.staffId&&T.includes(V.staffId)):t,[t,T,i]),P=R.useMemo(()=>{const V=new Date;return L.filter($=>new Date($.start).toDateString()===V.toDateString()).length},[L]),A=R.useCallback(V=>{w($=>{switch(V){case"PREV":return _==="month"?tD($,1):_==="week"?iH($):sH($);case"NEXT":return _==="month"?Hb($,1):_==="week"?GR($,1):js($,1);case"TODAY":default:return new Date}})},[_]),q=R.useCallback(V=>{E(V)},[]),z=R.useCallback(V=>{N(V),l?.(V)},[l]),U=R.useCallback(V=>{O($=>$.includes(V)?$.filter(Q=>Q!==V):[...$,V])},[]),W=R.useCallback(()=>{O(e.map(V=>V.staffId))},[e]),ee=R.useCallback(()=>{O([])},[]),H=R.useCallback(V=>({style:{backgroundColor:V.color||"#4F46E5",borderRadius:"8px",opacity:.95,color:"white",border:"none",display:"block",fontSize:"0.8rem",fontWeight:500,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}}),[]),I=R.useCallback(({event:V,start:$,end:Q})=>{if(!b||!m)return;const oe=new Date;new Date($)<oe||m(V,new Date($),new Date(Q))},[b,m]),re=R.useCallback(({event:V,start:$,end:Q})=>{if(!b||!m)return;const oe=new Date;new Date($)<oe||m(V,new Date($),new Date(Q))},[b,m]),le=R.useCallback(V=>!(!b||!V.googleEventId||new Date(V.start)<new Date),[b]);return h.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[h.jsxs("div",{className:"p-6 pb-0",children:[h.jsx(IH,{currentDate:x,currentView:_,onNavigate:A,onViewChange:q,eventsToday:P,onNewAppointment:u,isRefreshing:a}),i&&e.length>0&&h.jsx(XH,{staffCalendars:e,selectedStaff:T,onToggleStaff:U,onSelectAll:W,onDeselectAll:ee})]}),h.jsxs("div",{className:"relative px-6 pb-6",children:[r&&h.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm flex items-center justify-center z-10 rounded-xl",children:h.jsxs("div",{className:"flex items-center gap-3 bg-white px-6 py-4 rounded-xl shadow-lg border border-slate-100",children:[h.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"text-slate-600 font-medium",children:"Cargando calendario..."})]})}),h.jsx("div",{className:"calendar-container",style:{height:650},children:h.jsx(QH,{localizer:$H,events:L,startAccessor:"start",endAccessor:"end",date:x,view:_,onNavigate:w,onView:V=>q(V),onSelectEvent:z,eventPropGetter:H,messages:UH,culture:"es",views:[bt.MONTH,bt.WEEK,bt.DAY,bt.AGENDA],toolbar:!1,popup:!0,selectable:!1,step:sl.step,timeslots:sl.timeslots,min:sl.minTime,max:sl.maxTime,dayLayoutAlgorithm:"no-overlap",draggableAccessor:le,resizable:b,onEventDrop:I,onEventResize:re})})]}),h.jsx(KH,{event:S,onClose:()=>N(null),onDelete:()=>{N(null),d?.()},onEdit:V=>{N(null),f?.(V)},canDelete:v,canEdit:y})]})}const KO=[{number:1,title:"Cliente",icon:pn},{number:2,title:"Servicio",icon:Rd},{number:3,title:"Profesional",icon:Dd},{number:4,title:"Fecha",icon:en},{number:5,title:"Confirmar",icon:Hn}];function JH(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&t.push(`${e.toString().padStart(2,"0")}:30`);return t}const W0=JH();function ZH({isOpen:t,onClose:e,onSuccess:r,salonId:a,staffList:i}){const[l,u]=R.useState(1),[d,f]=R.useState([]),[m,v]=R.useState([]),[y,b]=R.useState(!0),[x,w]=R.useState(null),[_,E]=R.useState(null),[S,N]=R.useState(null),[T,O]=R.useState(Lr(new Date)),[M,D]=R.useState(null),[C,L]=R.useState(""),[P,A]=R.useState(""),[q,z]=R.useState(""),[U,W]=R.useState(!1),[ee,H]=R.useState(""),[I,re]=R.useState(""),[le,V]=R.useState(""),[$,Q]=R.useState(!1),[oe,fe]=R.useState(!1),[Z,de]=R.useState(null),[,we]=R.useState([]),[Oe,Me]=R.useState(!1),[At,St]=R.useState([]);R.useEffect(()=>{t&&a&&(b(!0),Promise.all([rD(a),nD(a)]).then(([ne,he])=>{f(ne),v(he)}).catch(ne=>{console.error("Error loading data:",ne),de("Error al cargar datos")}).finally(()=>b(!1)))},[t,a]),R.useEffect(()=>{t||(u(1),w(null),E(null),N(null),O(Lr(new Date)),D(null),L(""),A(""),z(""),W(!1),H(""),re(""),V(""),de(null),we([]),St([]))},[t]),R.useEffect(()=>{l===4&&S&&_&&(Me(!0),D(null),aD(T).then(ne=>{we(ne);const he=sD(ne,S.calendarId,_.duration_minutes,W0,T),qe=new Date,nt=YR(T,qe),jt=he.map(at=>{if(nt){const[Gr,Nt]=at.slot.split(":").map(Number),Cs=new Date;if(Cs.setHours(Gr,Nt,0,0),Cs<=qe)return{...at,available:!1}}return at});St(jt)}).catch(ne=>{console.error("Error loading availability:",ne),St(W0.map(he=>({slot:he,available:!0})))}).finally(()=>Me(!1)))},[l,T,S,_]);const Zt=R.useCallback(ne=>{ne.key==="Escape"&&e()},[e]);R.useEffect(()=>(t&&(document.addEventListener("keydown",Zt),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",Zt),document.body.style.overflow="unset"}),[t,Zt]);const Fr=d.filter(ne=>ne.name.toLowerCase().includes(P.toLowerCase())||ne.phone.includes(P)),Ce=m.filter(ne=>ne.name.toLowerCase().includes(q.toLowerCase())||(ne.category?.toLowerCase().includes(q.toLowerCase())??!1)).reduce((ne,he)=>{const qe=he.category||"Otros";return ne[qe]||(ne[qe]=[]),ne[qe].push(he),ne},{}),Xt=()=>{const ne=js(T,-1);ne>=Lr(new Date)&&O(ne)},Te=()=>{O(js(T,1))},Qt=async()=>{if(!(!ee.trim()||!I.trim()))try{Q(!0),de(null);const ne=await VH(a,ee,I,le||void 0);f(he=>[...he,ne].sort((qe,nt)=>qe.name.localeCompare(nt.name))),w(ne),W(!1),H(""),re(""),V(""),u(2)}catch(ne){de(ne instanceof Error?ne.message:"Error al crear cliente")}finally{Q(!1)}},Rt=async()=>{if(!x||!_||!S||!M){de("Faltan datos para crear la cita");return}try{fe(!0),de(null);const[ne,he]=M.split(":").map(Number),qe=eD(ZR(T,ne),he),nt=await FH({calendarId:S.calendarId,client:x,service:_,staffId:S.staffId,staffName:S.staffName,appointmentDate:qe,notes:C.trim()||void 0,salonId:a});nt.success?(r(),e()):de(nt.error||"Error al crear la cita")}catch(ne){de(ne instanceof Error?ne.message:"Error al crear la cita")}finally{fe(!1)}},Et=()=>{switch(l){case 1:return!!x;case 2:return!!_;case 3:return!!S;case 4:return!!M;case 5:return!0;default:return!1}},Dt=()=>{l<5&&Et()&&u(ne=>ne+1)},ue=()=>{l>1&&u(ne=>ne-1)};return t?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ne=>ne.target===ne.currentTarget&&e(),children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h2",{className:"text-lg font-bold text-white",children:"Nueva Cita"}),h.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:KO.map((ne,he)=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${l>=ne.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:l>ne.number?h.jsx(Hn,{className:"h-4 w-4"}):ne.number}),he<KO.length-1&&h.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${l>ne.number?"bg-indigo-600":"bg-slate-600"}`})]},ne.number))}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[y?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(xt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):h.jsxs(h.Fragment,{children:[l===1&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),U?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),h.jsx("input",{type:"text",value:ee,onChange:ne=>H(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",autoFocus:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),h.jsx("input",{type:"tel",value:I,onChange:ne=>re(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email (opcional)"}),h.jsx("input",{type:"email",value:le,onChange:ne=>V(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>W(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{onClick:Qt,disabled:!ee.trim()||!I.trim()||$,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:$?"Creando...":"Crear cliente"})]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:P,onChange:ne=>A(ne.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsxs("button",{onClick:()=>W(!0),className:"flex items-center gap-2 text-sm text-indigo-400 hover:text-indigo-300",children:[h.jsx(Fn,{className:"h-4 w-4"}),"Crear nuevo cliente"]}),h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Fr.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):Fr.map(ne=>h.jsxs("button",{onClick:()=>{w(ne),u(2)},className:`w-full text-left p-3 rounded-lg border transition-colors ${x?.id===ne.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsx("div",{className:"font-medium text-white",children:ne.name}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bl,{className:"h-3 w-3"}),ne.phone]}),ne.email&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Cd,{className:"h-3 w-3"}),ne.email]})]})]},ne.id))})]})]}),l===2&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),h.jsxs("div",{className:"relative",children:[h.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:q,onChange:ne=>z(ne.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(Ce).length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(Ce).map(([ne,he])=>h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:ne}),h.jsx("div",{className:"space-y-2",children:he.map(qe=>h.jsxs("button",{onClick:()=>{E(qe),u(3)},className:`w-full text-left p-3 rounded-lg border transition-colors ${_?.id===qe.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-medium text-white",children:qe.name}),h.jsxs("span",{className:"text-indigo-400 font-semibold",children:[qe.price,""]})]}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[h.jsx(Aa,{className:"h-3 w-3"}),qe.duration_minutes," min"]})]},qe.id))})]},ne))})]}),l===3&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el profesional"}),h.jsx("div",{className:"space-y-2",children:i.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):i.map(ne=>h.jsxs("button",{onClick:()=>{N(ne),u(4)},className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${S?.staffId===ne.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:ne.color},children:ne.staffName.charAt(0).toUpperCase()}),h.jsx("span",{className:"font-medium text-white",children:ne.staffName})]},ne.staffId))})]}),l===4&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),h.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[h.jsx("button",{onClick:Xt,disabled:T<=Lr(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:h.jsx(Yy,{className:"h-5 w-5"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"font-medium text-white",children:yt(T,"EEEE, d 'de' MMMM",{locale:Ct})}),h.jsx("div",{className:"text-sm text-slate-400",children:yt(T,"yyyy")})]}),h.jsx("button",{onClick:Te,className:"p-2 text-slate-400 hover:text-white transition-colors",children:h.jsx(yl,{className:"h-5 w-5"})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),Oe&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[h.jsx(xt,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),h.jsx("span",{children:"Disponible"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),h.jsx("span",{children:"Ocupado"})]})]}),h.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:(At.length>0?At:W0.map(ne=>({slot:ne,available:!0}))).map(({slot:ne,available:he})=>h.jsx("button",{onClick:()=>he&&D(ne),disabled:!he,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${M===ne?"bg-indigo-600 text-white":he?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:ne},ne))}),!Oe&&At.length>0&&!At.some(ne=>ne.available)&&h.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[h.jsx(zl,{className:"h-4 w-4 text-amber-400 mt-0.5"}),h.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),l===5&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los detalles de la cita"}),h.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(pn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),h.jsx("div",{className:"text-white font-medium",children:x?.name}),h.jsx("div",{className:"text-sm text-slate-400",children:x?.phone})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Rd,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),h.jsx("div",{className:"text-white font-medium",children:_?.name}),h.jsxs("div",{className:"text-sm text-slate-400",children:[_?.duration_minutes," min"]})]}),h.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[_?.price,""]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Dd,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),h.jsx("div",{className:"text-white font-medium",children:S?.staffName})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(en,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),h.jsx("div",{className:"text-white font-medium",children:yt(T,"EEEE, d 'de' MMMM",{locale:Ct})}),h.jsx("div",{className:"text-sm text-slate-400",children:M})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),h.jsx("textarea",{value:C,onChange:ne=>L(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]})]})]}),Z&&h.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:Z})]}),h.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[h.jsx("button",{onClick:l===1?e:ue,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:l===1?"Cancelar":"Atrs"}),l<5?h.jsxs("button",{onClick:Dt,disabled:!Et(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",h.jsx(yl,{className:"h-4 w-4"})]}):h.jsx("button",{onClick:Rt,disabled:oe,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:oe?h.jsxs(h.Fragment,{children:[h.jsx(xt,{className:"h-4 w-4 animate-spin"}),"Creando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Hn,{className:"h-4 w-4"}),"Crear Cita"]})})]})]})}):null}const XO=[{number:1,title:"Cliente",icon:pn},{number:2,title:"Servicio",icon:Rd},{number:3,title:"Profesional",icon:Dd},{number:4,title:"Fecha",icon:en},{number:5,title:"Confirmar",icon:Hn}];function e7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&t.push(`${e.toString().padStart(2,"0")}:30`);return t}const V0=e7();function t7(t){if(!t)return{};const e={},r=t.split(`
`);for(const a of r)a.startsWith("Cliente: ")?e.clientName=a.replace("Cliente: ","").trim():a.startsWith("Telfono: ")?e.clientPhone=a.replace("Telfono: ","").trim():a.startsWith("Email: ")?e.clientEmail=a.replace("Email: ","").trim():a.startsWith("Servicio: ")?e.serviceName=a.replace("Servicio: ","").trim():a.startsWith("Notas: ")&&(e.notes=a.replace("Notas: ","").trim());return e}function r7({event:t,onClose:e,onSuccess:r,salonId:a,staffList:i}){const[l,u]=R.useState(1),[d,f]=R.useState([]),[m,v]=R.useState([]),[y,b]=R.useState(!0),[x,w]=R.useState(null),[_,E]=R.useState(null),[S,N]=R.useState(null),[T,O]=R.useState(new Date),[M,D]=R.useState(""),[C,L]=R.useState(null),[P,A]=R.useState(null),[q,z]=R.useState(null),[U,W]=R.useState(Lr(new Date)),[ee,H]=R.useState(null),[I,re]=R.useState(""),[le,V]=R.useState(""),[$,Q]=R.useState(""),[oe,fe]=R.useState(!1),[Z,de]=R.useState(null),[we,Oe]=R.useState(!1),[Me,At]=R.useState([]);R.useEffect(()=>{t&&a&&(b(!0),u(1),de(null),Promise.all([rD(a),nD(a)]).then(([ue,ne])=>{f(ue),v(ne);const he=t7(t.description),qe=ue.find(Nt=>Nt.phone===he.clientPhone||Nt.name===he.clientName);qe&&(L(qe),w(qe));const nt=ne.find(Nt=>Nt.name===he.serviceName);nt&&(A(nt),E(nt));const jt=i.find(Nt=>Nt.staffId===t.staffId||Nt.calendarId===t.calendarId);jt&&(z(jt),N(jt));const at=Lr(new Date(t.start)),Gr=yt(new Date(t.start),"HH:mm");W(at),O(at),H(Gr),D(Gr),he.notes&&re(he.notes)}).catch(ue=>{console.error("Error loading data:",ue),de("Error al cargar datos")}).finally(()=>b(!1)))},[t,a,i]),R.useEffect(()=>{l===4&&q&&P&&t&&(Oe(!0),aD(U).then(ue=>{const ne=sD(ue,q.calendarId,P.duration_minutes,V0,U,t.googleEventId),he=new Date,qe=YR(U,he),nt=ne.map(jt=>{if(qe){const[at,Gr]=jt.slot.split(":").map(Number),Nt=new Date;if(Nt.setHours(at,Gr,0,0),Nt<=he)return{...jt,available:!1}}return jt});At(nt)}).catch(ue=>{console.error("Error loading availability:",ue),At(V0.map(ne=>({slot:ne,available:!0})))}).finally(()=>Oe(!1)))},[l,U,q,P,t]);const St=R.useCallback(ue=>{ue.key==="Escape"&&e()},[e]);R.useEffect(()=>(t&&(document.addEventListener("keydown",St),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",St),document.body.style.overflow="unset"}),[t,St]);const Zt=d.filter(ue=>ue.name.toLowerCase().includes(le.toLowerCase())||ue.phone.includes(le)),Kt=m.filter(ue=>ue.name.toLowerCase().includes($.toLowerCase())||(ue.category?.toLowerCase().includes($.toLowerCase())??!1)).reduce((ue,ne)=>{const he=ne.category||"Otros";return ue[he]||(ue[he]=[]),ue[he].push(ne),ue},{}),Ce=()=>{const ue=js(U,-1);ue>=Lr(new Date)&&(W(ue),H(null))},Xt=()=>{W(js(U,1)),H(null)},Te=()=>C?.id!==x?.id||P?.id!==_?.id||q?.staffId!==S?.staffId||U.getTime()!==T.getTime()||ee!==M,Qt=async()=>{if(!t||!C||!P||!q||!ee){de("Faltan datos para actualizar la cita");return}if(!t.googleEventId){de("No se puede editar esta cita (falta ID de Google Calendar)");return}try{fe(!0),de(null);const[ue,ne]=ee.split(":").map(Number),he=eD(ZR(U,ue),ne),qe=q.calendarId!==S?.calendarId,nt=await YH({eventId:t.googleEventId,calendarId:q.calendarId,oldCalendarId:qe?S?.calendarId:void 0,client:C,service:P,staffId:q.staffId,staffName:q.staffName,appointmentDate:he,notes:I.trim()||void 0,salonId:a});nt.success?(r(),e()):de(nt.error||"Error al actualizar la cita")}catch(ue){de(ue instanceof Error?ue.message:"Error al actualizar la cita")}finally{fe(!1)}},Rt=()=>{switch(l){case 1:return!!C;case 2:return!!P;case 3:return!!q;case 4:return!!ee;case 5:return!0;default:return!1}},Et=()=>{l<5&&Rt()&&u(ue=>ue+1)},Dt=()=>{l>1&&u(ue=>ue-1)};return t?h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ue=>ue.target===ue.currentTarget&&e(),children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(HC,{className:"h-5 w-5 text-indigo-400"}),h.jsx("h2",{className:"text-lg font-bold text-white",children:"Editar Cita"})]}),h.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:XO.map((ue,ne)=>h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${l>=ue.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:l>ue.number?h.jsx(Hn,{className:"h-4 w-4"}):ue.number}),ne<XO.length-1&&h.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${l>ue.number?"bg-indigo-600":"bg-slate-600"}`})]},ue.number))}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[y?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsx(xt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):h.jsxs(h.Fragment,{children:[l===1&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),h.jsxs("div",{className:"relative",children:[h.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:le,onChange:ue=>V(ue.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Zt.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):Zt.map(ue=>h.jsxs("button",{onClick:()=>L(ue),className:`w-full text-left p-3 rounded-lg border transition-colors ${C?.id===ue.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"font-medium text-white",children:ue.name}),x?.id===ue.id&&h.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bl,{className:"h-3 w-3"}),ue.phone]}),ue.email&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Cd,{className:"h-3 w-3"}),ue.email]})]})]},ue.id))})]}),l===2&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),h.jsxs("div",{className:"relative",children:[h.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:$,onChange:ue=>Q(ue.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),h.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(Kt).length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(Kt).map(([ue,ne])=>h.jsxs("div",{children:[h.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:ue}),h.jsx("div",{className:"space-y-2",children:ne.map(he=>h.jsxs("button",{onClick:()=>A(he),className:`w-full text-left p-3 rounded-lg border transition-colors ${P?.id===he.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-medium text-white",children:he.name}),_?.id===he.id&&h.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),h.jsxs("span",{className:"text-indigo-400 font-semibold",children:[he.price,""]})]}),h.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[h.jsx(Aa,{className:"h-3 w-3"}),he.duration_minutes," min"]})]},he.id))})]},ue))})]}),l===3&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el profesional"}),h.jsx("div",{className:"space-y-2",children:i.length===0?h.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):i.map(ue=>h.jsxs("button",{onClick:()=>z(ue),className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${q?.staffId===ue.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[h.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:ue.color},children:ue.staffName.charAt(0).toUpperCase()}),h.jsx("span",{className:"font-medium text-white flex-1",children:ue.staffName}),S?.staffId===ue.staffId&&h.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]},ue.staffId))})]}),l===4&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),h.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[h.jsx("button",{onClick:Ce,disabled:U<=Lr(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:h.jsx(Yy,{className:"h-5 w-5"})}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"font-medium text-white",children:yt(U,"EEEE, d 'de' MMMM",{locale:Ct})}),h.jsx("div",{className:"text-sm text-slate-400",children:yt(U,"yyyy")})]}),h.jsx("button",{onClick:Xt,className:"p-2 text-slate-400 hover:text-white transition-colors",children:h.jsx(yl,{className:"h-5 w-5"})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),we&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[h.jsx(xt,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),h.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),h.jsx("span",{children:"Disponible"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),h.jsx("span",{children:"Ocupado"})]})]}),h.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-48 overflow-y-auto",children:(Me.length>0?Me:V0.map(ue=>({slot:ue,available:!0}))).map(({slot:ue,available:ne})=>h.jsx("button",{onClick:()=>ne&&H(ue),disabled:!ne,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${ee===ue?"bg-indigo-600 text-white":ne?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:ue},ue))}),!we&&Me.length>0&&!Me.some(ue=>ue.available)&&h.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[h.jsx(zl,{className:"h-4 w-4 text-amber-400 mt-0.5"}),h.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),l===5&&h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los cambios de la cita"}),h.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(pn,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[C?.name,C?.id!==x?.id&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),h.jsx("div",{className:"text-sm text-slate-400",children:C?.phone})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Rd,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[P?.name,P?.id!==_?.id&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),h.jsxs("div",{className:"text-sm text-slate-400",children:[P?.duration_minutes," min"]})]}),h.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[P?.price,""]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Dd,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[q?.staffName,q?.staffId!==S?.staffId&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]})]})]}),h.jsx("div",{className:"border-t border-slate-600"}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(en,{className:"h-5 w-5 text-slate-400"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),h.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[yt(U,"EEEE, d 'de' MMMM",{locale:Ct}),(U.getTime()!==T.getTime()||ee!==M)&&h.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),h.jsx("div",{className:"text-sm text-slate-400",children:ee})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),h.jsx("textarea",{value:I,onChange:ue=>re(ue.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]}),!Te()&&h.jsx("div",{className:"p-3 bg-slate-700/50 border border-slate-600 rounded-lg text-slate-400 text-sm text-center",children:"No se han realizado cambios"})]})]}),Z&&h.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:Z})]}),h.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[h.jsx("button",{onClick:l===1?e:Dt,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:l===1?"Cancelar":"Atrs"}),l<5?h.jsxs("button",{onClick:Et,disabled:!Rt(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",h.jsx(yl,{className:"h-4 w-4"})]}):h.jsx("button",{onClick:Qt,disabled:oe||!Te(),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:oe?h.jsxs(h.Fragment,{children:[h.jsx(xt,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Hn,{className:"h-4 w-4"}),"Guardar Cambios"]})})]})]})}):null}const n7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function a7(t,e){const{data:{session:r}}=await je.auth.getSession();if(!r)throw new Error("No authenticated session");const a=await fetch(n7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({timeMin:t.toISOString(),timeMax:e.toISOString()})});if(!a.ok){const u=await a.json();throw new Error(u.error||"Failed to fetch calendar events")}const i=await a.json();if(i.error)throw new Error(i.error);return{events:i.events.map(u=>({...u,start:new Date(u.start),end:new Date(u.end)})),staffList:i.staffList||[],role:i.role,salon:i.salon}}const QO=3,s7=300*1e3;function i7(){const t=new Date,e=tD(t,QO),r=Hb(t,QO),a=Oa(a8(e),{weekStartsOn:1}),i=VR(WR(r),{weekStartsOn:1});return{start:a,end:i}}function oD(){const[t,e]=R.useState([]),[r,a]=R.useState([]),[i,l]=R.useState(null),[u,d]=R.useState(!0),[f,m]=R.useState(!1),[v,y]=R.useState(null),[b,x]=R.useState(null),w=R.useRef(!0),_=R.useRef(null),E=R.useRef(!1),S=R.useCallback(async(T=!1)=>{T?m(!0):d(!0);try{const{start:O,end:M}=i7(),D=await a7(O,M);if(!w.current)return;e(D.events),a(D.staffList),l(D.salon),y(null),x(new Date),_.current={start:O,end:M}}catch(O){if(!w.current)return;const M=O instanceof Error?O.message:"Error al cargar eventos";y(M),console.error("Calendar error:",O)}finally{w.current&&(d(!1),m(!1))}},[]),N=R.useCallback(async()=>{const T=t.length>0||r.length>0;await S(T)},[S,t.length,r.length]);return R.useEffect(()=>(w.current=!0,E.current||(E.current=!0,S(!1)),()=>{w.current=!1}),[S]),R.useEffect(()=>{const T=setInterval(()=>{w.current&&!u&&!f&&S(!0)},s7);return()=>clearInterval(T)},[S,u,f]),{events:t,staffList:r,salon:i,isInitialLoading:u,isRefreshing:f,error:v,lastUpdated:b,refresh:N}}const o7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/manage-users";async function lD(){const{data:t,error:e}=await je.from("salons").select("*").order("name");if(e)throw new Error(e.message);return t||[]}async function l7(t){const{data:e,error:r}=await je.from("salons").insert([{...t,slug:t.slug||t.name.toLowerCase().replace(/\s+/g,"-")}]).select().single();if(r)throw new Error(r.message);return e}async function u7(t,e){const{data:r,error:a}=await je.from("salons").update(e).eq("id",t).select().single();if(a)throw new Error(a.message);return r}async function c7(t){const{error:e}=await je.from("salons").delete().eq("id",t);if(e)throw new Error(e.message)}async function d7(){const{data:t,error:e}=await je.from("profiles").select("*").order("full_name");if(e)throw new Error(e.message);return t||[]}async function ff(t){const{data:{session:e}}=await je.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(o7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Error en la operacin");return a}async function f7(t){return(await ff({action:"create",...t})).user}async function h7(t,e){return(await ff({action:"update",user_id:t,...e})).user}async function m7(t,e){await ff({action:"update_password",user_id:t,password:e})}async function p7(t){await ff({action:"delete",user_id:t})}async function v7(){const[t,e]=await Promise.all([je.from("salons").select("id",{count:"exact",head:!0}),je.from("profiles").select("role")]);if(t.error)throw new Error(t.error.message);if(e.error)throw new Error(e.error.message);const r=e.data||[];return{totalSalons:t.count||0,totalUsers:r.length,totalAdmins:r.filter(a=>a.role==="admin").length,totalStaff:r.filter(a=>a.role==="staff").length}}const JO={username:"",password:"",full_name:"",role:"staff",salon_id:"",google_calendar_id:"",modality:""};function uD({onUpdate:t,salonFilter:e}){const[r,a]=R.useState([]),[i,l]=R.useState([]),[u,d]=R.useState(!0),[f,m]=R.useState(null),[v,y]=R.useState(""),[b,x]=R.useState(e||""),[w,_]=R.useState(!1),[E,S]=R.useState(null),[N,T]=R.useState(JO),[O,M]=R.useState(!1),[D,C]=R.useState(!1),[L,P]=R.useState(null),[A,q]=R.useState(null),[z,U]=R.useState(""),[W,ee]=R.useState(!1),H=async()=>{try{d(!0),m(null);const[Z,de]=await Promise.all([d7(),lD()]);a(Z),l(de)}catch(Z){m(Z instanceof Error?Z.message:"Error al cargar datos")}finally{d(!1)}};R.useEffect(()=>{H()},[]);const I=r.filter(Z=>{if(e&&Z.salon_id!==e||b&&Z.salon_id!==b)return!1;const de=v.toLowerCase();return Z.full_name.toLowerCase().includes(de)||Z.username?.toLowerCase().includes(de)||Z.email?.toLowerCase().includes(de)}),re=Z=>Z?i.find(we=>we.id===Z)?.name||"Desconocido":"Sin saln",le=Z=>{switch(Z){case"superadmin":return"bg-purple-500/20 text-purple-400";case"admin":return"bg-indigo-500/20 text-indigo-400";default:return"bg-slate-500/20 text-slate-400"}},V=()=>{S(null),T({...JO,salon_id:e||i[0]?.id||""}),M(!1),_(!0)},$=Z=>{S(Z),T({username:Z.username||"",password:"",full_name:Z.full_name,role:Z.role==="superadmin"?"admin":Z.role,salon_id:Z.salon_id||"",google_calendar_id:Z.google_calendar_id||"",modality:Z.modality||""}),_(!0)},Q=async Z=>{Z.preventDefault(),C(!0),m(null);try{if(E)await h7(E.id,{full_name:N.full_name,role:N.role,salon_id:N.salon_id,google_calendar_id:N.google_calendar_id||void 0,modality:N.modality||void 0});else{if(!N.password){m("La contrasea es requerida"),C(!1);return}await f7({username:N.username,password:N.password,full_name:N.full_name,role:N.role,salon_id:N.salon_id,google_calendar_id:N.google_calendar_id||void 0,modality:N.modality||void 0})}_(!1),H(),t?.()}catch(de){m(de instanceof Error?de.message:"Error al guardar")}finally{C(!1)}},oe=async()=>{if(!(!A||!z)){ee(!0);try{await m7(A,z),q(null),U("")}catch(Z){m(Z instanceof Error?Z.message:"Error al cambiar contrasea")}finally{ee(!1)}}},fe=async Z=>{try{await p7(Z),P(null),H(),t?.()}catch(de){m(de instanceof Error?de.message:"Error al eliminar")}};return u?h.jsx("div",{className:"p-12 flex justify-center",children:h.jsx(xt,{className:"h-8 w-8 animate-spin text-indigo-400"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:v,onChange:Z=>y(Z.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),!e&&h.jsxs("select",{value:b,onChange:Z=>x(Z.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:[h.jsx("option",{value:"",children:"Todos los salones"}),i.map(Z=>h.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]}),h.jsxs("button",{onClick:V,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[h.jsx(Fn,{className:"h-4 w-4"}),"Nuevo Usuario"]})]}),f&&h.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:f}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Usuario"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Saln"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"Calendar ID"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden sm:table-cell",children:"Modalidad"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),h.jsx("tbody",{children:I.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-slate-400",children:v||b?"No se encontraron usuarios":"No hay usuarios registrados"})}):I.map(Z=>h.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[h.jsx("td",{className:"px-4 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-lg flex items-center justify-center",children:h.jsx(pn,{className:"h-5 w-5 text-slate-300"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-white",children:Z.full_name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("p",{className:"text-xs text-slate-400",children:["@",Z.username]}),h.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${le(Z.role)}`,children:Z.role})]})]})]})}),h.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:h.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-300",children:[h.jsx(fd,{className:"h-3.5 w-3.5 text-slate-400"}),re(Z.salon_id)]})}),h.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:h.jsxs("div",{className:"flex items-center gap-1.5",children:[h.jsx(en,{className:"h-3.5 w-3.5 text-slate-400"}),h.jsx("span",{className:"text-sm text-slate-300 font-mono truncate max-w-[200px]",children:Z.google_calendar_id||"-"})]})}),h.jsx("td",{className:"px-4 py-4 hidden sm:table-cell",children:Z.role==="staff"&&Z.modality?h.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${Z.modality==="peluqueria"?"bg-pink-500/20 text-pink-400":"bg-emerald-500/20 text-emerald-400"}`,children:Z.modality==="peluqueria"?"Peluqueria":"Estetica"}):h.jsx("span",{className:"text-sm text-slate-500",children:"-"})}),h.jsx("td",{className:"px-4 py-4 text-right",children:L===Z.id?h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),h.jsx("button",{onClick:()=>fe(Z.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:h.jsx(Hn,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>P(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:h.jsx(Sr,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("button",{onClick:()=>{q(Z.id),U("")},className:"p-1.5 text-slate-400 hover:text-amber-400 hover:bg-amber-900/30 rounded-lg transition-colors",title:"Cambiar contrasea",children:h.jsx(Xq,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>$(Z),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:h.jsx(FC,{className:"h-4 w-4"})}),Z.role!=="superadmin"&&h.jsx("button",{onClick:()=>P(Z.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Eliminar",children:h.jsx(ps,{className:"h-4 w-4"})})]})})]},Z.id))})]})}),w&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold",children:E?"Editar Usuario":"Nuevo Usuario"}),h.jsx("button",{onClick:()=>_(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:Q,className:"p-4 space-y-4",children:[!E&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre de usuario *"}),h.jsx("input",{type:"text",value:N.username,onChange:Z=>T({...N,username:Z.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")}),placeholder:"usuario123",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Solo letras minsculas, nmeros y guiones bajos"})]}),!E&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Contrasea *"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:O?"text":"password",value:N.password,onChange:Z=>T({...N,password:Z.target.value}),className:"w-full px-3 py-2 pr-10 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),h.jsx("button",{type:"button",onClick:()=>M(!O),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:O?h.jsx(zC,{className:"h-4 w-4"}):h.jsx(BC,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre completo *"}),h.jsx("input",{type:"text",value:N.full_name,onChange:Z=>T({...N,full_name:Z.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Rol *"}),h.jsxs("select",{value:N.role,onChange:Z=>T({...N,role:Z.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",disabled:!!e,children:[!e&&h.jsx("option",{value:"admin",children:"Admin"}),h.jsx("option",{value:"staff",children:"Staff"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Saln *"}),h.jsxs("select",{value:N.salon_id,onChange:Z=>T({...N,salon_id:Z.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0,disabled:!!e,children:[h.jsx("option",{value:"",children:"Seleccionar..."}),i.map(Z=>h.jsx("option",{value:Z.id,children:Z.name},Z.id))]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Google Calendar ID"}),h.jsx("input",{type:"text",value:N.google_calendar_id,onChange:Z=>T({...N,google_calendar_id:Z.target.value}),placeholder:"ejemplo@group.calendar.google.com",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),N.role==="staff"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Modalidad"}),h.jsxs("select",{value:N.modality,onChange:Z=>T({...N,modality:Z.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:[h.jsx("option",{value:"",children:"Sin asignar"}),h.jsx("option",{value:"peluqueria",children:"Peluqueria"}),h.jsx("option",{value:"estetica",children:"Estetica"})]}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Departamento en el que trabaja este miembro del staff"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:D,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&h.jsx(xt,{className:"h-4 w-4 animate-spin"}),E?"Guardar":"Crear"]})]})]})]})}),A&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-sm",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"Cambiar Contrasea"}),h.jsx("button",{onClick:()=>q(null),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nueva contrasea"}),h.jsx("input",{type:"password",value:z,onChange:Z=>U(Z.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",autoFocus:!0})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>q(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsxs("button",{onClick:oe,disabled:W||!z,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[W&&h.jsx(xt,{className:"h-4 w-4 animate-spin"}),"Cambiar"]})]})]})]})})]})}const ZO=[{value:"tariff_change",label:"Cambio de tarifas"},{value:"time_change",label:"Cambio de horarios"},{value:"bug",label:"Reportar error"},{value:"feature",label:"Sugerencia"},{value:"other",label:"Otro"}],e2=[{value:"open",label:"Abierto",color:"bg-blue-500/20 text-blue-400"},{value:"in_progress",label:"En progreso",color:"bg-yellow-500/20 text-yellow-400"},{value:"resolved",label:"Resuelto",color:"bg-green-500/20 text-green-400"},{value:"closed",label:"Cerrado",color:"bg-slate-500/20 text-slate-400"}],t2=[{value:"low",label:"Baja",color:"text-slate-400"},{value:"normal",label:"Normal",color:"text-blue-400"},{value:"high",label:"Alta",color:"text-orange-400"},{value:"urgent",label:"Urgente",color:"text-red-400"}];function cD({salonId:t,showAllSalons:e=!1}){const{profile:r,isSuperAdmin:a}=Ul(),[i,l]=R.useState([]),[u,d]=R.useState(!0),[f,m]=R.useState(null),[v,y]=R.useState(!1),[b,x]=R.useState(!1),[w,_]=R.useState(null),[E,S]=R.useState("other"),[N,T]=R.useState(""),[O,M]=R.useState(""),[D,C]=R.useState("normal"),[L,P]=R.useState(null),[A,q]=R.useState(""),z=async()=>{try{d(!0),m(null);let V=je.from("tickets").select("*").order("created_at",{ascending:!1});t&&!e&&(V=V.eq("salon_id",t));const{data:$,error:Q}=await V;if(Q){console.error("Error fetching tickets:",Q),m("No se pudieron cargar los tickets");return}if(e&&$&&$.length>0){const oe=[...new Set($.map(de=>de.salon_id))],{data:fe}=await je.from("salons").select("id, name").in("id",oe),Z=new Map(fe?.map(de=>[de.id,de.name])||[]);$.forEach(de=>{de.salon_name=Z.get(de.salon_id)||"Desconocido"})}l($||[])}catch(V){console.error("Unexpected error:",V),m("Error inesperado al cargar tickets")}finally{d(!1)}};R.useEffect(()=>{z()},[t,e]);const U=async V=>{if(V.preventDefault(),!r?.salon_id&&!t){m("No se pudo determinar el saln");return}x(!0),m(null);try{const{error:$}=await je.from("tickets").insert({salon_id:t||r?.salon_id,created_by:r?.id,type:E,subject:N.trim(),description:O.trim(),priority:D,status:"open"});if($){console.error("Error creating ticket:",$),m("No se pudo crear el ticket");return}S("other"),T(""),M(""),C("normal"),y(!1),z()}catch($){console.error("Unexpected error:",$),m("Error inesperado")}finally{x(!1)}},W=async(V,$)=>{P(V);try{const Q={status:$};$==="resolved"&&(Q.resolved_at=new Date().toISOString());const{error:oe}=await je.from("tickets").update(Q).eq("id",V);if(oe){console.error("Error updating ticket:",oe),m("No se pudo actualizar el ticket");return}z()}finally{P(null)}},ee=async V=>{if(A.trim())try{const{error:$}=await je.from("tickets").update({admin_notes:A.trim()}).eq("id",V);if($){console.error("Error updating notes:",$);return}q(""),_(null),z()}catch($){console.error("Error:",$)}},H=V=>{const $=e2.find(Q=>Q.value===V);return h.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${$?.color}`,children:$?.label})},I=V=>{const $=t2.find(Q=>Q.value===V);return h.jsx("span",{className:`text-xs ${$?.color}`,children:$?.label})},re=V=>ZO.find($=>$.value===V)?.label||V,le=V=>new Date(V).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:e?"Todos los Tickets":"Mis Tickets"}),h.jsx("p",{className:"text-sm text-slate-400",children:e?"Gestiona las solicitudes de todos los salones":"Enva solicitudes al equipo de Galia"})]}),!e&&h.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Fn,{className:"h-4 w-4"}),"Nuevo Ticket"]})]}),f&&h.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:f}),v&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-white",children:"Nuevo Ticket"}),h.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-white",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:U,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Tipo de solicitud"}),h.jsx("select",{value:E,onChange:V=>S(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:ZO.map(V=>h.jsx("option",{value:V.value,children:V.label},V.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Prioridad"}),h.jsx("select",{value:D,onChange:V=>C(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:t2.map(V=>h.jsx("option",{value:V.value,children:V.label},V.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Asunto"}),h.jsx("input",{type:"text",value:N,onChange:V=>T(V.target.value),placeholder:"Resumen breve del problema",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),h.jsx("textarea",{value:O,onChange:V=>M(V.target.value),placeholder:"Describe con detalle tu solicitud...",rows:4,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none",required:!0})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:b,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[b?h.jsx(xt,{className:"h-4 w-4 animate-spin"}):h.jsx(vP,{className:"h-4 w-4"}),"Enviar Ticket"]})]})]})]})}),w&&a&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-white",children:"Detalle del Ticket"}),h.jsx("button",{onClick:()=>_(null),className:"text-slate-400 hover:text-white",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Saln"}),h.jsx("p",{className:"text-white",children:w.salon_name})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Asunto"}),h.jsx("p",{className:"text-white",children:w.subject})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Descripcin"}),h.jsx("p",{className:"text-white whitespace-pre-wrap",children:w.description})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Tipo"}),h.jsx("p",{className:"text-white",children:re(w.type)})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Prioridad"}),I(w.priority)]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-400",children:"Estado"}),H(w.status)]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas internas"}),h.jsx("textarea",{value:A||w.admin_notes||"",onChange:V=>q(V.target.value),placeholder:"Aade notas sobre este ticket...",rows:3,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Cambiar estado"}),h.jsx("div",{className:"flex gap-2 flex-wrap",children:e2.map(V=>h.jsx("button",{onClick:()=>W(w.id,V.value),disabled:L===w.id,className:`px-3 py-1 rounded text-sm ${w.status===V.value?V.color+" ring-2 ring-offset-2 ring-offset-slate-800 ring-current":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:V.label},V.value))})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cerrar"}),h.jsx("button",{onClick:()=>ee(w.id),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:"Guardar Notas"})]})]})]})}),u?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsx(xt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):i.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(IC,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),h.jsx("p",{className:"text-slate-400",children:"No hay tickets"}),!e&&h.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Crea uno para enviar una solicitud al equipo de Galia"})]}):h.jsx("div",{className:"space-y-3",children:i.map(V=>h.jsxs("div",{onClick:()=>a&&_(V),className:`bg-slate-900 border border-slate-700 rounded-lg p-4 ${a?"cursor-pointer hover:border-slate-600":""}`,children:[h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[H(V.status),I(V.priority),h.jsx("span",{className:"text-xs text-slate-500",children:re(V.type)})]}),h.jsx("h4",{className:"text-white font-medium truncate",children:V.subject}),h.jsx("p",{className:"text-sm text-slate-400 line-clamp-2 mt-1",children:V.description}),e&&V.salon_name&&h.jsx("p",{className:"text-xs text-indigo-400 mt-2",children:V.salon_name})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[h.jsx(Aa,{className:"h-3 w-3"}),le(V.created_at)]}),V.status==="resolved"&&V.resolved_at&&h.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-500 mt-1",children:[h.jsx(vy,{className:"h-3 w-3"}),"Resuelto"]}),a&&h.jsx(kq,{className:"h-4 w-4 text-slate-500 mt-2 ml-auto"})]})]}),V.admin_notes&&h.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[h.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Notas del equipo:"}),h.jsx("p",{className:"text-sm text-slate-300",children:V.admin_notes})]})]},V.id))})]})}const K0=[{value:"waiting",label:"Esperando",color:"bg-blue-500/20 text-blue-400",icon:h.jsx(Aa,{className:"h-3 w-3"})},{value:"contacted",label:"Contactado",color:"bg-yellow-500/20 text-yellow-400",icon:h.jsx(YC,{className:"h-3 w-3"})},{value:"booked",label:"Agendado",color:"bg-green-500/20 text-green-400",icon:h.jsx(Cq,{className:"h-3 w-3"})},{value:"cancelled",label:"Cancelado",color:"bg-red-500/20 text-red-400",icon:h.jsx(gy,{className:"h-3 w-3"})},{value:"expired",label:"Expirado",color:"bg-slate-500/20 text-slate-400",icon:h.jsx(gy,{className:"h-3 w-3"})}];function g7({salonId:t}){const[e,r]=R.useState([]),[a,i]=R.useState(!0),[l,u]=R.useState(null),[d,f]=R.useState(!1),[m,v]=R.useState(!1),[y,b]=R.useState("waiting"),[x,w]=R.useState(""),[_,E]=R.useState(""),[S,N]=R.useState(""),[T,O]=R.useState(""),[M,D]=R.useState(""),[C,L]=R.useState(""),P=async()=>{if(t)try{i(!0),u(null);let I=je.from("waitlist").select("*").eq("salon_id",t).order("created_at",{ascending:!1});y!=="all"&&(I=I.eq("status",y));const{data:re,error:le}=await I;if(le){console.error("Error fetching waitlist:",le),u("No se pudo cargar la lista de espera");return}r(re||[])}catch(I){console.error("Unexpected error:",I),u("Error inesperado")}finally{i(!1)}};R.useEffect(()=>{P()},[t,y]);const A=async I=>{if(I.preventDefault(),!!t){v(!0),u(null);try{const{error:re}=await je.from("waitlist").insert({salon_id:t,customer_name:x.trim(),customer_phone:_.trim(),preferred_date:S||null,preferred_time:T||null,service_type:M.trim()||null,notes:C.trim()||null,status:"waiting",source:"manual"});if(re){console.error("Error creating entry:",re),u("No se pudo aadir a la lista");return}w(""),E(""),N(""),O(""),D(""),L(""),f(!1),P()}catch(re){console.error("Unexpected error:",re),u("Error inesperado")}finally{v(!1)}}},q=async(I,re)=>{try{const le={status:re};re==="contacted"&&(le.contacted_at=new Date().toISOString());const{error:V}=await je.from("waitlist").update(le).eq("id",I);if(V){console.error("Error updating entry:",V),u("No se pudo actualizar");return}P()}catch(le){console.error("Error:",le)}},z=async I=>{if(confirm("Eliminar esta entrada de la lista de espera?"))try{const{error:re}=await je.from("waitlist").delete().eq("id",I);if(re){console.error("Error deleting entry:",re),u("No se pudo eliminar");return}P()}catch(re){console.error("Error:",re)}},U=I=>{const re=K0.find(le=>le.value===I);return h.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${re?.color}`,children:[re?.icon,re?.label]})},W=I=>new Date(I).toLocaleDateString("es-ES",{day:"2-digit",month:"short"}),ee=I=>new Date(I).toLocaleDateString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),H=e.filter(I=>I.status==="waiting").length;return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Lista de Espera"}),h.jsxs("p",{className:"text-sm text-slate-400",children:[H," cliente",H!==1?"s":""," esperando"]})]}),h.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Fn,{className:"h-4 w-4"}),"Aadir"]})]}),l&&h.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:l}),h.jsxs("div",{className:"flex gap-2 mb-6 flex-wrap",children:[h.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${y==="all"?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Todos"}),K0.map(I=>h.jsxs("button",{onClick:()=>b(I.value),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${y===I.value?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[I.icon,I.label]},I.value))]}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[h.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[h.jsx("h4",{className:"text-lg font-semibold text-white",children:"Aadir a Lista de Espera"}),h.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-white",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:A,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre del cliente *"}),h.jsx("input",{type:"text",value:x,onChange:I=>w(I.target.value),placeholder:"Nombre completo",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),h.jsx("input",{type:"tel",value:_,onChange:I=>E(I.target.value),placeholder:"+34 600 000 000",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Fecha preferida"}),h.jsx("input",{type:"date",value:S,onChange:I=>N(I.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Hora preferida"}),h.jsx("input",{type:"time",value:T,onChange:I=>O(I.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Servicio solicitado"}),h.jsx("input",{type:"text",value:M,onChange:I=>D(I.target.value),placeholder:"Ej: Corte y color",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),h.jsx("textarea",{value:C,onChange:I=>L(I.target.value),placeholder:"Informacin adicional...",rows:2,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[m?h.jsx(xt,{className:"h-4 w-4 animate-spin"}):h.jsx(Fn,{className:"h-4 w-4"}),"Aadir"]})]})]})]})}),a?h.jsx("div",{className:"flex justify-center items-center py-12",children:h.jsx(xt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):e.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Aa,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),h.jsx("p",{className:"text-slate-400",children:y==="all"?"No hay nadie en la lista de espera":`No hay entradas con estado "${K0.find(I=>I.value===y)?.label}"`}),h.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Aade clientes que quieran una cita cuando haya hueco"})]}):h.jsx("div",{className:"space-y-3",children:e.map(I=>h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4",children:[h.jsxs("div",{className:"flex justify-between items-start gap-4",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[U(I.status),I.source==="chatbot"&&h.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-purple-500/20 text-purple-400",children:"Chatbot"})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(pn,{className:"h-4 w-4 text-slate-500"}),h.jsx("span",{className:"text-white font-medium",children:I.customer_name})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(Bl,{className:"h-4 w-4 text-slate-500"}),h.jsx("a",{href:`tel:${I.customer_phone}`,className:"text-indigo-400 hover:text-indigo-300 text-sm",children:I.customer_phone})]}),h.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-400",children:[I.preferred_date&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(en,{className:"h-3.5 w-3.5"}),W(I.preferred_date),I.preferred_time&&` a las ${I.preferred_time}`]}),I.service_type&&h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-slate-500",children:"Servicio:"}),I.service_type]})]}),I.notes&&h.jsxs("div",{className:"mt-2 flex items-start gap-1 text-sm text-slate-400",children:[h.jsx(IC,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),h.jsx("span",{children:I.notes})]})]}),h.jsxs("div",{className:"text-right shrink-0",children:[h.jsx("p",{className:"text-xs text-slate-500 mb-2",children:ee(I.created_at)}),h.jsxs("div",{className:"flex gap-1",children:[I.status==="waiting"&&h.jsxs(h.Fragment,{children:[h.jsx("button",{onClick:()=>q(I.id,"contacted"),title:"Marcar como contactado",className:"p-1.5 bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30 rounded transition-colors",children:h.jsx(YC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>q(I.id,"booked"),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:h.jsx(vy,{className:"h-4 w-4"})})]}),I.status==="contacted"&&h.jsx("button",{onClick:()=>q(I.id,"booked"),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:h.jsx(vy,{className:"h-4 w-4"})}),(I.status==="waiting"||I.status==="contacted")&&h.jsx("button",{onClick:()=>q(I.id,"cancelled"),title:"Cancelar",className:"p-1.5 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded transition-colors",children:h.jsx(gy,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>z(I.id),title:"Eliminar",className:"p-1.5 bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white rounded transition-colors",children:h.jsx(ps,{className:"h-4 w-4"})})]})]})]}),I.contacted_at&&h.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 text-xs text-slate-500",children:["Contactado el ",ee(I.contacted_at)]})]},I.id))})]})}const y7=["Corte","Color","Peinado","Tratamiento","Barba","Manicura","Pedicura","Otro"];function b7({salonId:t}){const[e,r]=R.useState([]),[a,i]=R.useState(!0),[l,u]=R.useState(null),[d,f]=R.useState(!1),[m,v]=R.useState(null),[y,b]=R.useState(!1),[x,w]=R.useState("all"),[_,E]=R.useState(!1),[S,N]=R.useState({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),T=async()=>{if(t)try{i(!0),u(null);let U=je.from("services").select("*").eq("salon_id",t).order("display_order",{ascending:!0}).order("name",{ascending:!0});_||(U=U.eq("active",!0));const{data:W,error:ee}=await U;if(ee)throw ee;r(W||[])}catch(U){console.error("Error fetching services:",U),u("No se pudieron cargar los servicios.")}finally{i(!1)}};R.useEffect(()=>{T()},[t,_]);const O=()=>{v(null),N({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),f(!0)},M=U=>{v(U),N({name:U.name,description:U.description||"",duration_minutes:U.duration_minutes,price:U.price,category:U.category||"",active:U.active}),f(!0)},D=async U=>{if(U.preventDefault(),!!t)try{b(!0),u(null);const W={salon_id:t,name:S.name.trim(),description:S.description.trim()||null,duration_minutes:S.duration_minutes,price:S.price,category:S.category||null,active:S.active};if(m){const{error:ee}=await je.from("services").update(W).eq("id",m.id);if(ee)throw ee}else{const ee=e.reduce((I,re)=>Math.max(I,re.display_order),0),{error:H}=await je.from("services").insert({...W,display_order:ee+1});if(H)throw H}f(!1),T()}catch(W){console.error("Error saving service:",W),u("No se pudo guardar el servicio.")}finally{b(!1)}},C=async U=>{try{const{error:W}=await je.from("services").update({active:!U.active}).eq("id",U.id);if(W)throw W;T()}catch(W){console.error("Error toggling service:",W),u("No se pudo actualizar el servicio.")}},L=async U=>{if(confirm(`Eliminar "${U.name}"? Esta accin no se puede deshacer.`))try{const{error:W}=await je.from("services").delete().eq("id",U.id);if(W)throw W;T()}catch(W){console.error("Error deleting service:",W),u("No se pudo eliminar el servicio.")}},P=U=>{if(U<60)return`${U} min`;const W=Math.floor(U/60),ee=U%60;return ee>0?`${W}h ${ee}min`:`${W}h`},A=U=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(U),q=[...new Set(e.map(U=>U.category).filter(Boolean))],z=e.filter(U=>x==="all"?!0:x==="uncategorized"?!U.category:U.category===x);return a&&e.length===0?h.jsx("div",{className:"p-6",children:h.jsx(bl,{text:"Cargando servicios..."})}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Catlogo de Servicios"}),h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Define los servicios que ofrece tu saln. El chatbot usar esta informacin."})]}),h.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Fn,{className:"h-4 w-4"}),"Nuevo Servicio"]})]}),l&&h.jsx("div",{className:"mb-6",children:h.jsx(vs,{title:"Error",message:l,onRetry:T})}),h.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm text-slate-400",children:"Categora:"}),h.jsxs("select",{value:x,onChange:U=>w(U.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-1.5 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"all",children:"Todas"}),q.map(U=>h.jsx("option",{value:U,children:U},U)),h.jsx("option",{value:"uncategorized",children:"Sin categora"})]})]}),h.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-400 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:_,onChange:U=>E(U.target.checked),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Mostrar inactivos"]})]}),z.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(WC,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-400",children:"No hay servicios configurados."}),h.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Crear primer servicio"})]}):h.jsx("div",{className:"grid gap-3",children:z.map(U=>h.jsx("div",{className:`bg-slate-700/50 rounded-lg p-4 border ${U.active?"border-slate-600":"border-slate-700 opacity-60"}`,children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"p-1 text-slate-500 cursor-move",children:h.jsx(Vq,{className:"h-5 w-5"})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h4",{className:"font-medium text-white",children:U.name}),U.category&&h.jsx("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:U.category}),!U.active&&h.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-xs rounded",children:"Inactivo"})]}),U.description&&h.jsx("p",{className:"text-sm text-slate-400 mt-1",children:U.description}),h.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[h.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[h.jsx(Aa,{className:"h-4 w-4"}),P(U.duration_minutes)]}),h.jsxs("span",{className:"flex items-center gap-1 text-green-400 font-medium",children:[h.jsx(UC,{className:"h-4 w-4"}),A(U.price)]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>C(U),className:`p-2 rounded-lg transition-colors ${U.active?"text-green-400 hover:bg-green-500/20":"text-slate-500 hover:bg-slate-600"}`,title:U.active?"Desactivar":"Activar",children:U.active?h.jsx(_P,{className:"h-5 w-5"}):h.jsx(xP,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>M(U),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:h.jsx(GC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>L(U),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:h.jsx(ps,{className:"h-4 w-4"})})]})]})},U.id))}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Servicio":"Nuevo Servicio"}),h.jsx("button",{onClick:()=>f(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),h.jsx("input",{type:"text",value:S.name,onChange:U=>N(W=>({...W,name:U.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ej: Corte de pelo",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),h.jsx("textarea",{value:S.description,onChange:U=>N(W=>({...W,description:U.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Descripcin opcional del servicio"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Duracin (min) *"}),h.jsx("input",{type:"number",value:S.duration_minutes,onChange:U=>N(W=>({...W,duration_minutes:parseInt(U.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"5",step:"5",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Precio () *"}),h.jsx("input",{type:"number",value:S.price,onChange:U=>N(W=>({...W,price:parseFloat(U.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"0",step:"0.50",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Categora"}),h.jsxs("select",{value:S.category,onChange:U=>N(W=>({...W,category:U.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"",children:"Sin categora"}),y7.map(U=>h.jsx("option",{value:U,children:U},U))]})]}),h.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:S.active,onChange:U=>N(W=>({...W,active:U.target.checked})),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Servicio activo (visible para clientes)"]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:y||!S.name.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function x7({salonId:t}){const[e,r]=R.useState([]),[a,i]=R.useState(!0),[l,u]=R.useState(null),[d,f]=R.useState(!1),[m,v]=R.useState(null),[y,b]=R.useState(!1),[x,w]=R.useState(""),[_,E]=R.useState("all"),[S,N]=R.useState({name:"",phone:"",email:"",notes:"",source:"manual"}),T=async()=>{if(t)try{i(!0),u(null);const{data:A,error:q}=await je.from("clients").select("*").eq("salon_id",t).order("last_contact_at",{ascending:!1});if(q)throw q;r(A||[])}catch(A){console.error("Error fetching clients:",A),u("No se pudieron cargar los clientes.")}finally{i(!1)}};R.useEffect(()=>{T()},[t]);const O=()=>{v(null),N({name:"",phone:"",email:"",notes:"",source:"manual"}),f(!0)},M=A=>{v(A),N({name:A.name,phone:A.phone,email:A.email||"",notes:A.notes||"",source:A.source}),f(!0)},D=async A=>{if(A.preventDefault(),!!t)try{b(!0),u(null);const q={salon_id:t,name:S.name.trim(),phone:S.phone.trim(),email:S.email.trim()||null,notes:S.notes.trim()||null,source:S.source};if(m){const{error:z}=await je.from("clients").update(q).eq("id",m.id);if(z)throw z}else{const{error:z}=await je.from("clients").insert(q);if(z)throw z.code==="23505"?new Error("Ya existe un cliente con ese telfono."):z}f(!1),T()}catch(q){console.error("Error saving client:",q),u(q instanceof Error?q.message:"No se pudo guardar el cliente.")}finally{b(!1)}},C=async A=>{if(confirm(`Eliminar a "${A.name}"? Esta accin no se puede deshacer.`))try{const{error:q}=await je.from("clients").delete().eq("id",A.id);if(q)throw q;T()}catch(q){console.error("Error deleting client:",q),u("No se pudo eliminar el cliente.")}},L=A=>{const q={whatsapp:{color:"bg-green-500/20 text-green-400",icon:h.jsx(Vy,{className:"h-3 w-3"}),label:"WhatsApp"},manual:{color:"bg-slate-600 text-slate-300",icon:h.jsx(pn,{className:"h-3 w-3"}),label:"Manual"},web:{color:"bg-blue-500/20 text-blue-400",icon:h.jsx(en,{className:"h-3 w-3"}),label:"Web"}},z=q[A]||q.manual;return h.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${z.color}`,children:[z.icon,z.label]})},P=e.filter(A=>{const q=A.name.toLowerCase().includes(x.toLowerCase())||A.phone.includes(x)||A.email&&A.email.toLowerCase().includes(x.toLowerCase()),z=_==="all"||A.source===_;return q&&z});return a&&e.length===0?h.jsx("div",{className:"p-6",children:h.jsx(bl,{text:"Cargando clientes..."})}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:"Base de Clientes"}),h.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[e.length," clientes registrados"]})]}),h.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[h.jsx(Fn,{className:"h-4 w-4"}),"Nuevo Cliente"]})]}),l&&h.jsx("div",{className:"mb-6",children:h.jsx(vs,{title:"Error",message:l,onRetry:T})}),h.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[h.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[h.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",value:x,onChange:A=>w(A.target.value),placeholder:"Buscar por nombre, telfono o email...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),h.jsxs("select",{value:_,onChange:A=>E(A.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[h.jsx("option",{value:"all",children:"Todas las fuentes"}),h.jsx("option",{value:"whatsapp",children:"WhatsApp"}),h.jsx("option",{value:"manual",children:"Manual"}),h.jsx("option",{value:"web",children:"Web"})]})]}),P.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(pn,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-400",children:x||_!=="all"?"No se encontraron clientes con esos criterios.":"No hay clientes registrados."}),!x&&_==="all"&&h.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Agregar primer cliente"})]}):h.jsx("div",{className:"grid gap-3",children:P.map(A=>h.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h.jsx("h4",{className:"font-medium text-white",children:A.name}),L(A.source),A.total_appointments>0&&h.jsxs("span",{className:"px-2 py-0.5 bg-indigo-500/20 text-indigo-400 text-xs rounded",children:[A.total_appointments," cita",A.total_appointments!==1?"s":""]})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-sm text-slate-400",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Bl,{className:"h-4 w-4"}),A.phone]}),A.email&&h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(Cd,{className:"h-4 w-4"}),A.email]})]}),A.notes&&h.jsx("p",{className:"mt-2 text-sm text-slate-400 italic",children:A.notes}),h.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["ltimo contacto: ",_d(new Date(A.last_contact_at),{addSuffix:!0,locale:Ct})]})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("button",{onClick:()=>M(A),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:h.jsx(GC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>C(A),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:h.jsx(ps,{className:"h-4 w-4"})})]})]})},A.id))}),d&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Cliente":"Nuevo Cliente"}),h.jsx("button",{onClick:()=>f(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),h.jsx("input",{type:"text",value:S.name,onChange:A=>N(q=>({...q,name:A.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),h.jsx("input",{type:"tel",value:S.phone,onChange:A=>N(q=>({...q,phone:A.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:S.email,onChange:A=>N(q=>({...q,email:A.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),h.jsx("textarea",{value:S.notes,onChange:A=>N(q=>({...q,notes:A.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Preferencias, alergias, etc."})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsx("button",{type:"submit",disabled:y||!S.name.trim()||!S.phone.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function w7(){const{signOut:t}=Ul(),[e,r]=R.useState([]),[a,i]=R.useState(!0),[l,u]=R.useState(null),[d,f]=R.useState("calendar"),[,m]=R.useState(0),[v,y]=R.useState(!1),[b,x]=R.useState(null);R.useEffect(()=>{const q=setInterval(()=>m(z=>z+1),3e4);return()=>clearInterval(q)},[]);const{events:w,staffList:_,salon:E,isInitialLoading:S,isRefreshing:N,error:T,refresh:O}=oD(),M=async()=>{try{i(!0),u(null);const{data:q,error:z}=await je.from("logs").select("*").order("created_at",{ascending:!1}).limit(10);if(z){console.error("Error fetching logs:",z),u("No se pudieron cargar los logs.");return}r(q||[])}catch(q){console.error("Unexpected error fetching logs:",q),u("Error inesperado al cargar los logs.")}finally{i(!1)}};R.useEffect(()=>{M()},[]);const D=()=>{O(),M()},C=async(q,z,U)=>{if(!q.googleEventId||!q.calendarId){console.error("Cannot reschedule: missing event ID or calendar ID");return}try{const W=await WH({eventId:q.googleEventId,calendarId:q.calendarId,newStart:z,newEnd:U,title:q.title,description:q.description});W.success?(O(),M()):console.error("Reschedule failed:",W.error)}catch(W){console.error("Error rescheduling appointment:",W)}},L=()=>{O(),M()},P=w.filter(q=>{const z=new Date;return q.start.toDateString()===z.toDateString()||q.end.toDateString()===z.toDateString()}).length,A=e.reduce((q,z)=>q+(z.revenue||0),0);return h.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[h.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold",children:"G"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold",children:E?.name||"Dashboard"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Administracion"}),E&&h.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${E.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[h.jsx(Vy,{className:"h-3 w-3"}),E.whatsapp_connected?`Hace ${E.whatsapp_last_ping?_d(new Date(E.whatsapp_last_ping),{locale:Ct}):"poco"}`:"Desconectado"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:L,disabled:N,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[h.jsx(Ad,{className:`h-4 w-4 ${N?"animate-spin":""}`}),"Actualizar"]}),h.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[h.jsx(Wy,{size:18})," Salir"]})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:h.jsx(UC,{className:"h-5 w-5 text-green-400"})}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-2xl font-bold",children:["$",A.toLocaleString()]}),h.jsx("p",{className:"text-xs text-slate-400",children:"Ingresos"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-blue-500/20 rounded-lg",children:h.jsx(en,{className:"h-5 w-5 text-blue-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:P}),h.jsx("p",{className:"text-xs text-slate-400",children:"Citas Hoy"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:h.jsx(ds,{className:"h-5 w-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:_.length}),h.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:h.jsx(k1,{className:"h-5 w-5 text-purple-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:w.length}),h.jsx("p",{className:"text-xs text-slate-400",children:"Eventos"})]})]})})]}),h.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700 overflow-x-auto",children:[h.jsxs("button",{onClick:()=>f("calendar"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="calendar"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(en,{className:"h-4 w-4"}),"Calendario"]}),h.jsxs("button",{onClick:()=>f("clients"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="clients"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(Uq,{className:"h-4 w-4"}),"Clientes"]}),h.jsxs("button",{onClick:()=>f("staff"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="staff"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(ds,{className:"h-4 w-4"}),"Staff"]}),h.jsxs("button",{onClick:()=>f("services"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="services"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(WC,{className:"h-4 w-4"}),"Servicios"]}),h.jsxs("button",{onClick:()=>f("waitlist"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="waitlist"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(Aa,{className:"h-4 w-4"}),"Espera"]}),h.jsxs("button",{onClick:()=>f("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(VC,{className:"h-4 w-4"}),"Soporte"]}),h.jsxs("button",{onClick:()=>f("logs"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="logs"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(k1,{className:"h-4 w-4"}),"Actividad"]})]}),h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="calendar"&&h.jsxs("div",{className:"p-6",children:[T&&h.jsx("div",{className:"mb-6",children:h.jsx(vs,{title:"Error del calendario",message:T,onRetry:O})}),S?h.jsx("div",{className:"py-12",children:h.jsx(bl,{text:"Cargando calendarios..."})}):_.length===0?h.jsx("div",{className:"py-12 flex justify-center items-center",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-700",children:h.jsx(ds,{className:"h-8 w-8 text-slate-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sin calendarios configurados"}),h.jsx("p",{className:"text-slate-400",children:'No hay miembros del staff con calendarios de Google configurados. Ve a la pestana "Staff" para asignar Calendar IDs.'})]})}):h.jsx("div",{className:"calendar-dark",children:h.jsx(iD,{events:w,staffCalendars:_,isLoading:!1,isRefreshing:N,showStaffFilter:!0,onNewAppointment:()=>y(!0),onEventDelete:D,onEventEdit:q=>x(q),onEventReschedule:C,canDeleteEvents:!0,canEditEvents:!0,canDragEvents:!0})})]}),d==="clients"&&h.jsx(x7,{salonId:E?.id}),d==="staff"&&h.jsx(uD,{salonFilter:E?.id,onUpdate:O}),d==="services"&&h.jsx(b7,{salonId:E?.id}),d==="waitlist"&&h.jsx(g7,{salonId:E?.id}),d==="tickets"&&h.jsx(cD,{salonId:E?.id}),d==="logs"&&h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Actividad Reciente"}),a?h.jsx("div",{className:"py-12",children:h.jsx(bl,{text:"Cargando actividad..."})}):l?h.jsx(vs,{title:"Error al cargar actividad",message:l,onRetry:M}):e.length===0?h.jsx("div",{className:"py-12 text-center text-slate-400",children:h.jsx("p",{children:"No hay actividad registrada"})}):h.jsx("div",{className:"grid gap-3",children:e.map(q=>h.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:h.jsx("div",{className:"flex items-start justify-between gap-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h.jsx("span",{className:"font-medium text-white",children:q.action}),q.source&&h.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${q.source==="whatsapp"?"bg-green-500/20 text-green-400":q.source==="web"?"bg-blue-500/20 text-blue-400":"bg-slate-600 text-slate-300"}`,children:q.source==="whatsapp"?"WhatsApp":q.source==="web"?"Web":"Manual"}),q.revenue>0&&h.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded font-medium",children:["+",q.revenue,""]})]}),q.service_name&&h.jsxs("div",{className:"mt-2 text-sm",children:[h.jsx("span",{className:"text-indigo-400 font-medium",children:q.service_name}),q.appointment_date&&q.appointment_time&&h.jsxs("span",{className:"text-slate-400",children:[" "," ",new Date(q.appointment_date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})," a las ",q.appointment_time]}),q.duration_minutes&&h.jsxs("span",{className:"text-slate-500",children:[" (",q.duration_minutes," min)"]})]}),q.client_name&&h.jsxs("div",{className:"mt-1 text-sm text-slate-400",children:["Cliente: ",h.jsx("span",{className:"text-white",children:q.client_name}),q.client_phone&&h.jsxs("span",{className:"text-slate-500",children:["  ",q.client_phone]})]}),q.details&&!q.service_name&&h.jsx("p",{className:"mt-1 text-sm text-slate-400",children:q.details}),h.jsx("p",{className:"mt-2 text-xs text-slate-500",children:_d(new Date(q.created_at),{addSuffix:!0,locale:Ct})})]})})},q.id))})]})]})]}),E?.id&&h.jsx(ZH,{isOpen:v,onClose:()=>y(!1),onSuccess:D,salonId:E.id,staffList:_}),E?.id&&h.jsx(r7,{event:b,onClose:()=>x(null),onSuccess:D,salonId:E.id,staffList:_})]})}function _7(){const{profile:t,error:e,signOut:r}=Ul(),[,a]=R.useState(0);R.useEffect(()=>{const y=setInterval(()=>a(b=>b+1),3e4);return()=>clearInterval(y)},[]);const{events:i,salon:l,isInitialLoading:u,isRefreshing:d,error:f,refresh:m}=oD(),v=!!t?.google_calendar_id;return h.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[h.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold",children:"G"})}),h.jsxs("div",{children:[h.jsxs("h1",{className:"text-xl font-bold",children:["Hola, ",t?.full_name||"Usuario"]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("p",{className:"text-xs text-slate-400",children:l?.name||"Tu agenda personal"}),l&&h.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${l.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[h.jsx(Vy,{className:"h-3 w-3"}),l.whatsapp_connected?`Hace ${l.whatsapp_last_ping?_d(new Date(l.whatsapp_last_ping),{locale:Ct}):"poco"}`:"Desconectado"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:m,disabled:d,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[h.jsx(Ad,{className:`h-4 w-4 ${d?"animate-spin":""}`}),"Actualizar"]}),h.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[h.jsx(Wy,{size:18})," Salir"]})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e&&h.jsx("div",{className:"mb-6",children:h.jsx(vs,{title:"Error de autenticacion",message:e})}),f&&h.jsx("div",{className:"mb-6",children:h.jsx(vs,{title:"Error del calendario",message:f,onRetry:m})}),h.jsx("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:v?u?h.jsx("div",{className:"p-12",children:h.jsx(bl,{text:"Cargando tu calendario..."})}):h.jsx("div",{className:"p-6 calendar-dark",children:h.jsx(iD,{events:i,isLoading:!1,isRefreshing:d,showStaffFilter:!1})}):h.jsx("div",{className:"p-8 flex justify-center items-center min-h-[400px]",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-amber-500/20",children:h.jsx(zl,{className:"h-8 w-8 text-amber-400"})}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Calendario no configurado"}),h.jsx("p",{className:"text-slate-400",children:"No tienes un calendario de Google asignado. Contacta al administrador para configurar tu calendario."})]})})})]})]})}const r2={name:"",slug:"",phone:"",email:"",address:"",whatsapp_number:""};function S7({onUpdate:t}){const[e,r]=R.useState([]),[a,i]=R.useState(!0),[l,u]=R.useState(null),[d,f]=R.useState(""),[m,v]=R.useState(!1),[y,b]=R.useState(null),[x,w]=R.useState(r2),[_,E]=R.useState(!1),[S,N]=R.useState(null),T=async()=>{try{i(!0),u(null);const A=await lD();r(A)}catch(A){u(A instanceof Error?A.message:"Error al cargar salones")}finally{i(!1)}};R.useEffect(()=>{T()},[]);const O=e.filter(A=>A.name.toLowerCase().includes(d.toLowerCase())||A.slug?.toLowerCase().includes(d.toLowerCase())),M=()=>{b(null),w(r2),v(!0)},D=A=>{b(A),w({name:A.name,slug:A.slug||"",phone:A.phone||"",email:A.email||"",address:A.address||"",whatsapp_number:A.whatsapp_number||""}),v(!0)},C=async A=>{A.preventDefault(),E(!0),u(null);try{y?await u7(y.id,x):await l7(x),v(!1),T(),t?.()}catch(q){u(q instanceof Error?q.message:"Error al guardar")}finally{E(!1)}},L=async A=>{try{await c7(A),N(null),T(),t?.()}catch(q){u(q instanceof Error?q.message:"Error al eliminar")}},P=A=>A.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return a?h.jsx("div",{className:"p-12 flex justify-center",children:h.jsx(xt,{className:"h-8 w-8 animate-spin text-indigo-400"})}):h.jsxs("div",{children:[h.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),h.jsx("input",{type:"text",placeholder:"Buscar salones...",value:d,onChange:A=>f(A.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[h.jsx(Fn,{className:"h-4 w-4"}),"Nuevo Saln"]})]}),l&&h.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:l}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Saln"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Contacto"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"WhatsApp"}),h.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),h.jsx("tbody",{children:O.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:4,className:"px-4 py-12 text-center text-slate-400",children:d?"No se encontraron salones":"No hay salones registrados"})}):O.map(A=>h.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[h.jsx("td",{className:"px-4 py-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-indigo-500/20 rounded-lg flex items-center justify-center",children:h.jsx(fd,{className:"h-5 w-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-white",children:A.name}),h.jsxs("p",{className:"text-xs text-slate-400",children:["/",A.slug]})]})]})}),h.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:h.jsxs("div",{className:"space-y-1",children:[A.phone&&h.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[h.jsx(Bl,{className:"h-3.5 w-3.5 text-slate-400"}),A.phone]}),A.email&&h.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[h.jsx(Cd,{className:"h-3.5 w-3.5 text-slate-400"}),A.email]})]})}),h.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${A.whatsapp_connected?"bg-green-400":"bg-slate-500"}`}),h.jsx("span",{className:"text-sm text-slate-300",children:A.whatsapp_number||"No configurado"})]})}),h.jsx("td",{className:"px-4 py-4 text-right",children:S===A.id?h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),h.jsx("button",{onClick:()=>L(A.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:h.jsx(Hn,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>N(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:h.jsx(Sr,{className:"h-4 w-4"})})]}):h.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[h.jsx("button",{onClick:()=>D(A),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",children:h.jsx(FC,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>N(A.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",children:h.jsx(ps,{className:"h-4 w-4"})})]})})]},A.id))})]})}),m&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[h.jsx("h3",{className:"text-lg font-semibold",children:y?"Editar Saln":"Nuevo Saln"}),h.jsx("button",{onClick:()=>v(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:h.jsx(Sr,{className:"h-5 w-5"})})]}),h.jsxs("form",{onSubmit:C,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre del saln *"}),h.jsx("input",{type:"text",value:x.name,onChange:A=>{w({...x,name:A.target.value,slug:y?x.slug:P(A.target.value)})},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Slug (URL)"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-slate-400",children:"/"}),h.jsx("input",{type:"text",value:x.slug,onChange:A=>w({...x,slug:P(A.target.value)}),className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Telfono"}),h.jsx("input",{type:"tel",value:x.phone,onChange:A=>w({...x,phone:A.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Email"}),h.jsx("input",{type:"email",value:x.email,onChange:A=>w({...x,email:A.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Direccin"}),h.jsx("input",{type:"text",value:x.address,onChange:A=>w({...x,address:A.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"WhatsApp"}),h.jsx("input",{type:"tel",value:x.whatsapp_number,onChange:A=>w({...x,whatsapp_number:A.target.value}),placeholder:"+34612345678",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:_,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[_&&h.jsx(xt,{className:"h-4 w-4 animate-spin"}),y?"Guardar":"Crear"]})]})]})]})})]})}function E7(){const{signOut:t}=Ul(),[e,r]=R.useState(null),[a,i]=R.useState(!0),[l,u]=R.useState(null),[d,f]=R.useState("salons"),m=async()=>{try{i(!0),u(null);const v=await v7();r(v)}catch(v){u(v instanceof Error?v.message:"Error al cargar estadsticas")}finally{i(!1)}};return R.useEffect(()=>{m()},[]),h.jsxs("div",{className:"min-h-screen bg-white text-slate-900",children:[h.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-bold",children:"G"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold",children:"Galia Admin"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Control"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[h.jsx(Ad,{className:`h-4 w-4 ${a?"animate-spin":""}`}),"Actualizar"]}),h.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[h.jsx(Wy,{size:18})," Salir"]})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l&&h.jsx("div",{className:"mb-6",children:h.jsx(vs,{title:"Error",message:l,onRetry:m})}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:h.jsx(fd,{className:"h-5 w-5 text-indigo-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalSalons||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Salones"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:h.jsx(ds,{className:"h-5 w-5 text-green-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalUsers||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Usuarios"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:h.jsx(TP,{className:"h-5 w-5 text-purple-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalAdmins||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Admins"})]})]})}),h.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2.5 bg-amber-500/20 rounded-lg",children:h.jsx(ds,{className:"h-5 w-5 text-amber-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold",children:e?.totalStaff||0}),h.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})})]}),h.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700",children:[h.jsxs("button",{onClick:()=>f("salons"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="salons"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(fd,{className:"h-4 w-4"}),"Salones"]}),h.jsxs("button",{onClick:()=>f("users"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="users"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(ds,{className:"h-4 w-4"}),"Usuarios"]}),h.jsxs("button",{onClick:()=>f("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[h.jsx(VC,{className:"h-4 w-4"}),"Tickets"]})]}),h.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="salons"&&h.jsx(S7,{onUpdate:m}),d==="users"&&h.jsx(uD,{onUpdate:m}),d==="tickets"&&h.jsx(cD,{showAllSalons:!0})]})]})]})}const X0=({children:t,requiredRole:e})=>{const{session:r,profile:a,loading:i}=Ul();if(i)return h.jsx("div",{className:"h-screen flex items-center justify-center text-indigo-600",children:"Cargando Galia..."});if(!r)return h.jsx(il,{to:"/login",replace:!0});if(e&&a?.role!==e){if(e==="admin"&&a?.role==="superadmin")return t;switch(a?.role){case"superadmin":return h.jsx(il,{to:"/superadmin",replace:!0});case"admin":return h.jsx(il,{to:"/admin",replace:!0});default:return h.jsx(il,{to:"/staff",replace:!0})}}return t};function j7(){return h.jsx(DP,{children:h.jsx(xq,{children:h.jsx(Q4,{children:h.jsxs(O4,{children:[h.jsx(xi,{path:"/login",element:h.jsx(MP,{})}),h.jsx(xi,{path:"/superadmin",element:h.jsx(X0,{requiredRole:"superadmin",children:h.jsx(E7,{})})}),h.jsx(xi,{path:"/admin",element:h.jsx(X0,{requiredRole:"admin",children:h.jsx(w7,{})})}),h.jsx(xi,{path:"/staff",element:h.jsx(X0,{requiredRole:"staff",children:h.jsx(_7,{})})}),h.jsx(xi,{path:"*",element:h.jsx(il,{to:"/login",replace:!0})})]})})})})}console.log(" Starting Galia Digital app...");const n2=document.getElementById("root");n2?(console.log(" Root element found, mounting React app..."),PM.createRoot(n2).render(h.jsx(R.StrictMode,{children:h.jsx(j7,{})})),console.log(" React app mounted successfully")):console.error(" Root element not found!");
