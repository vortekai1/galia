function qM(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wn(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),r}var Om={exports:{}},Yo={};var BS;function PM(){if(BS)return Yo;BS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:l}}return Yo.Fragment=e,Yo.jsx=r,Yo.jsxs=r,Yo}var HS;function LM(){return HS||(HS=1,Om.exports=PM()),Om.exports}var f=LM(),Cm={exports:{}},Oe={};var FS;function $M(){if(FS)return Oe;FS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function x($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function j($,X,oe){this.props=$,this.context=X,this.refs=S,this.updater=oe||w}j.prototype.isReactComponent={},j.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},j.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function E(){}E.prototype=j.prototype;function T($,X,oe){this.props=$,this.context=X,this.refs=S,this.updater=oe||w}var O=T.prototype=new E;O.constructor=T,_(O,j.prototype),O.isPureReactComponent=!0;var M=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function L($,X,oe){var ue=oe.ref;return{$$typeof:t,type:$,key:X,ref:ue!==void 0?ue:null,props:oe}}function C($,X){return L($.type,X,$.props)}function q($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function U($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(oe){return X[oe]})}var z=/\/+/g;function W($,X){return typeof $=="object"&&$!==null&&$.key!=null?U(""+$.key):X.toString(36)}function ee($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(D,D):($.status="pending",$.then(function(X){$.status==="pending"&&($.status="fulfilled",$.value=X)},function(X){$.status==="pending"&&($.status="rejected",$.reason=X)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function B($,X,oe,ue,fe){var pe=typeof $;(pe==="undefined"||pe==="boolean")&&($=null);var be=!1;if($===null)be=!0;else switch(pe){case"bigint":case"string":case"number":be=!0;break;case"object":switch($.$$typeof){case t:case e:be=!0;break;case v:return be=$._init,B(be($._payload),X,oe,ue,fe)}}if(be)return fe=fe($),be=ue===""?"."+W($,0):ue,M(fe)?(oe="",be!=null&&(oe=be.replace(z,"$&/")+"/"),B(fe,X,oe,"",function(bt){return bt})):fe!=null&&(q(fe)&&(fe=C(fe,oe+(fe.key==null||$&&$.key===fe.key?"":(""+fe.key).replace(z,"$&/")+"/")+be)),X.push(fe)),1;be=0;var ke=ue===""?".":ue+":";if(M($))for(var Pe=0;Pe<$.length;Pe++)ue=$[Pe],pe=ke+W(ue,Pe),be+=B(ue,X,oe,pe,fe);else if(Pe=x($),typeof Pe=="function")for($=Pe.call($),Pe=0;!(ue=$.next()).done;)ue=ue.value,pe=ke+W(ue,Pe++),be+=B(ue,X,oe,pe,fe);else if(pe==="object"){if(typeof $.then=="function")return B(ee($),X,oe,ue,fe);throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return be}function H($,X,oe){if($==null)return $;var ue=[],fe=0;return B($,ue,"","",function(pe){return X.call(oe,pe,fe++)}),ue}function te($){if($._status===-1){var X=$._result;X=X(),X.then(function(oe){($._status===0||$._status===-1)&&($._status=1,$._result=oe)},function(oe){($._status===0||$._status===-1)&&($._status=2,$._result=oe)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var le=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},V={map:H,forEach:function($,X,oe){H($,function(){X.apply(this,arguments)},oe)},count:function($){var X=0;return H($,function(){X++}),X},toArray:function($){return H($,function(X){return X})||[]},only:function($){if(!q($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Oe.Activity=y,Oe.Children=V,Oe.Component=j,Oe.Fragment=r,Oe.Profiler=i,Oe.PureComponent=T,Oe.StrictMode=a,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function($){return R.H.useMemoCache($)}},Oe.cache=function($){return function(){return $.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function($,X,oe){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var ue=_({},$.props),fe=$.key;if(X!=null)for(pe in X.key!==void 0&&(fe=""+X.key),X)!P.call(X,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&X.ref===void 0||(ue[pe]=X[pe]);var pe=arguments.length-2;if(pe===1)ue.children=oe;else if(1<pe){for(var be=Array(pe),ke=0;ke<pe;ke++)be[ke]=arguments[ke+2];ue.children=be}return L($.type,fe,ue)},Oe.createContext=function($){return $={$$typeof:c,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:l,_context:$},$},Oe.createElement=function($,X,oe){var ue,fe={},pe=null;if(X!=null)for(ue in X.key!==void 0&&(pe=""+X.key),X)P.call(X,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(fe[ue]=X[ue]);var be=arguments.length-2;if(be===1)fe.children=oe;else if(1<be){for(var ke=Array(be),Pe=0;Pe<be;Pe++)ke[Pe]=arguments[Pe+2];fe.children=ke}if($&&$.defaultProps)for(ue in be=$.defaultProps,be)fe[ue]===void 0&&(fe[ue]=be[ue]);return L($,pe,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function($){return{$$typeof:d,render:$}},Oe.isValidElement=q,Oe.lazy=function($){return{$$typeof:v,_payload:{_status:-1,_result:$},_init:te}},Oe.memo=function($,X){return{$$typeof:m,type:$,compare:X===void 0?null:X}},Oe.startTransition=function($){var X=R.T,oe={};R.T=oe;try{var ue=$(),fe=R.S;fe!==null&&fe(oe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(D,le)}catch(pe){le(pe)}finally{X!==null&&oe.types!==null&&(X.types=oe.types),R.T=X}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function($){return R.H.use($)},Oe.useActionState=function($,X,oe){return R.H.useActionState($,X,oe)},Oe.useCallback=function($,X){return R.H.useCallback($,X)},Oe.useContext=function($){return R.H.useContext($)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function($,X){return R.H.useDeferredValue($,X)},Oe.useEffect=function($,X){return R.H.useEffect($,X)},Oe.useEffectEvent=function($){return R.H.useEffectEvent($)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function($,X,oe){return R.H.useImperativeHandle($,X,oe)},Oe.useInsertionEffect=function($,X){return R.H.useInsertionEffect($,X)},Oe.useLayoutEffect=function($,X){return R.H.useLayoutEffect($,X)},Oe.useMemo=function($,X){return R.H.useMemo($,X)},Oe.useOptimistic=function($,X){return R.H.useOptimistic($,X)},Oe.useReducer=function($,X,oe){return R.H.useReducer($,X,oe)},Oe.useRef=function($){return R.H.useRef($)},Oe.useState=function($){return R.H.useState($)},Oe.useSyncExternalStore=function($,X,oe){return R.H.useSyncExternalStore($,X,oe)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.1",Oe}var GS;function Cr(){return GS||(GS=1,Cm.exports=$M()),Cm.exports}var A=Cr();const Y=Qt(A);var Am={exports:{}},Vo={},Rm={exports:{}},Dm={};var WS;function UM(){return WS||(WS=1,(function(t){function e(B,H){var te=B.length;B.push(H);e:for(;0<te;){var le=te-1>>>1,V=B[le];if(0<i(V,H))B[le]=H,B[te]=V,te=le;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var H=B[0],te=B.pop();if(te!==H){B[0]=te;e:for(var le=0,V=B.length,$=V>>>1;le<$;){var X=2*(le+1)-1,oe=B[X],ue=X+1,fe=B[ue];if(0>i(oe,te))ue<V&&0>i(fe,oe)?(B[le]=fe,B[ue]=te,le=ue):(B[le]=oe,B[X]=te,le=X);else if(ue<V&&0>i(fe,te))B[le]=fe,B[ue]=te,le=ue;else break e}}return H}function i(B,H){var te=B.sortIndex-H.sortIndex;return te!==0?te:B.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],v=1,y=null,b=3,x=!1,w=!1,_=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(B){for(var H=r(m);H!==null;){if(H.callback===null)a(m);else if(H.startTime<=B)a(m),H.sortIndex=H.expirationTime,e(h,H);else break;H=r(m)}}function M(B){if(_=!1,O(B),!w)if(r(h)!==null)w=!0,D||(D=!0,U());else{var H=r(m);H!==null&&ee(M,H.startTime-B)}}var D=!1,R=-1,P=5,L=-1;function C(){return S?!0:!(t.unstable_now()-L<P)}function q(){if(S=!1,D){var B=t.unstable_now();L=B;var H=!0;try{e:{w=!1,_&&(_=!1,E(R),R=-1),x=!0;var te=b;try{t:{for(O(B),y=r(h);y!==null&&!(y.expirationTime>B&&C());){var le=y.callback;if(typeof le=="function"){y.callback=null,b=y.priorityLevel;var V=le(y.expirationTime<=B);if(B=t.unstable_now(),typeof V=="function"){y.callback=V,O(B),H=!0;break t}y===r(h)&&a(h),O(B)}else a(h);y=r(h)}if(y!==null)H=!0;else{var $=r(m);$!==null&&ee(M,$.startTime-B),H=!1}}break e}finally{y=null,b=te,x=!1}H=void 0}}finally{H?U():D=!1}}}var U;if(typeof T=="function")U=function(){T(q)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=q,U=function(){W.postMessage(null)}}else U=function(){j(q,0)};function ee(B,H){R=j(function(){B(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(B){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var te=b;b=H;try{return B()}finally{b=te}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=b;b=B;try{return H()}finally{b=te}},t.unstable_scheduleCallback=function(B,H,te){var le=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=te+V,B={id:v++,callback:H,priorityLevel:B,startTime:te,expirationTime:V,sortIndex:-1},te>le?(B.sortIndex=te,e(m,B),r(h)===null&&B===r(m)&&(_?(E(R),R=-1):_=!0,ee(M,te-le))):(B.sortIndex=V,e(h,B),w||x||(w=!0,D||(D=!0,U()))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var H=b;return function(){var te=b;b=H;try{return B.apply(this,arguments)}finally{b=te}}}})(Dm)),Dm}var YS;function zM(){return YS||(YS=1,Rm.exports=UM()),Rm.exports}var km={exports:{}},Vt={};var VS;function IM(){if(VS)return Vt;VS=1;var t=Cr();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:h,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Vt.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,v)},Vt.flushSync=function(h){var m=c.T,v=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=m,a.p=v,a.d.f()}},Vt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(h,m))},Vt.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Vt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):v==="script"&&a.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Vt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(h)},Vt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin);a.d.L(h,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Vt.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(h)},Vt.requestFormReset=function(h){a.d.r(h)},Vt.unstable_batchedUpdates=function(h,m){return h(m)},Vt.useFormState=function(h,m,v){return c.H.useFormState(h,m,v)},Vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vt.version="19.2.1",Vt}var KS;function lO(){if(KS)return km.exports;KS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),km.exports=IM(),km.exports}var XS;function BM(){if(XS)return Vo;XS=1;var t=zM(),e=Cr(),r=lO();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(a(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(a(188));return s!==n?null:n}for(var o=n,u=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return h(p),n;if(g===u)return h(p),s;g=g.sibling}throw Error(a(188))}if(o.return!==u.return)o=p,u=g;else{for(var N=!1,k=p.child;k;){if(k===o){N=!0,o=p,u=g;break}if(k===u){N=!0,u=p,o=g;break}k=k.sibling}if(!N){for(k=g.child;k;){if(k===o){N=!0,o=g,u=p;break}if(k===u){N=!0,u=g,o=p;break}k=k.sibling}if(!N)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var z=Symbol.for("react.client.reference");function W(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case j:return"Profiler";case S:return"StrictMode";case M:return"Suspense";case D:return"SuspenseList";case L:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case T:return n.displayName||"Context";case E:return(n._context.displayName||"Context")+".Consumer";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:W(n.type)||"Memo";case P:s=n._payload,n=n._init;try{return W(n(s))}catch{}}return null}var ee=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},le=[],V=-1;function $(n){return{current:n}}function X(n){0>V||(n.current=le[V],le[V]=null,V--)}function oe(n,s){V++,le[V]=n.current,n.current=s}var ue=$(null),fe=$(null),pe=$(null),be=$(null);function ke(n,s){switch(oe(pe,s),oe(fe,n),oe(ue,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?dS(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=dS(s),n=fS(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(ue),oe(ue,n)}function Pe(){X(ue),X(fe),X(pe)}function bt(n){n.memoizedState!==null&&oe(be,n);var s=ue.current,o=fS(s,n.type);s!==o&&(oe(fe,n),oe(ue,o))}function vt(n){fe.current===n&&(X(ue),X(fe)),be.current===n&&(X(be),Ho._currentValue=te)}var Wt,pr;function xt(n){if(Wt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Wt=s&&s[1]||"",pr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+n+pr}var Ae=!1;function Pt(n,s){if(!n||Ae)return"";Ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var J=Z}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(Z){J=Z}n.call(ie.prototype)}}else{try{throw Error()}catch(Z){J=Z}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&J&&typeof Z.stack=="string")return[Z.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),N=g[0],k=g[1];if(N&&k){var I=N.split(`
`),Q=k.split(`
`);for(p=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===I.length||p===Q.length)for(u=I.length-1,p=Q.length-1;1<=u&&0<=p&&I[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(I[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||I[u]!==Q[p]){var ne=`
`+I[u].replace(" at new "," at ");return n.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",n.displayName)),ne}while(1<=u&&0<=p);break}}}finally{Ae=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?xt(o):""}function De(n,s){switch(n.tag){case 26:case 27:case 5:return xt(n.type);case 16:return xt("Lazy");case 13:return n.child!==s&&s!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Pt(n.type,!1);case 11:return Pt(n.type.render,!1);case 1:return Pt(n.type,!0);case 31:return xt("Activity");default:return""}}function re(n){try{var s="",o=null;do s+=De(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xe=Object.prototype.hasOwnProperty,_e=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,st=t.unstable_shouldYield,it=t.unstable_requestPaint,Ze=t.unstable_now,de=t.unstable_getCurrentPriorityLevel,ae=t.unstable_ImmediatePriority,ge=t.unstable_UserBlockingPriority,Ee=t.unstable_NormalPriority,dt=t.unstable_LowPriority,rr=t.unstable_IdlePriority,Vr=t.log,vr=t.unstable_setDisableYieldValue,ft=null,ze=null;function gr(n){if(typeof Vr=="function"&&vr(n),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(ft,n)}catch{}}var Yt=Math.clz32?Math.clz32:wD,bD=Math.log,xD=Math.LN2;function wD(n){return n>>>=0,n===0?32:31-(bD(n)/xD|0)|0}var sc=256,ic=262144,oc=4194304;function Ua(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function lc(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var p=0,g=n.suspendedLanes,N=n.pingedLanes;n=n.warmLanes;var k=u&134217727;return k!==0?(u=k&~g,u!==0?p=Ua(u):(N&=k,N!==0?p=Ua(N):o||(o=k&~n,o!==0&&(p=Ua(o))))):(k=u&~g,k!==0?p=Ua(k):N!==0?p=Ua(N):o||(o=u&~n,o!==0&&(p=Ua(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function to(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function _D(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wb(){var n=oc;return oc<<=1,(oc&62914560)===0&&(oc=4194304),n}function vf(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function ro(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function SD(n,s,o,u,p,g){var N=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var k=n.entanglements,I=n.expirationTimes,Q=n.hiddenUpdates;for(o=N&~o;0<o;){var ne=31-Yt(o),ie=1<<ne;k[ne]=0,I[ne]=-1;var J=Q[ne];if(J!==null)for(Q[ne]=null,ne=0;ne<J.length;ne++){var Z=J[ne];Z!==null&&(Z.lane&=-536870913)}o&=~ie}u!==0&&Yb(n,u,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(N&~s))}function Yb(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Yt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Vb(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Yt(o),p=1<<u;p&s|n[u]&s&&(n[u]|=s),o&=~p}}function Kb(n,s){var o=s&-s;return o=(o&42)!==0?1:gf(o),(o&(n.suspendedLanes|s))!==0?0:o}function gf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function yf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Xb(){var n=H.p;return n!==0?n:(n=window.event,n===void 0?32:qS(n.type))}function Qb(n,s){var o=H.p;try{return H.p=n,s()}finally{H.p=o}}var ea=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ea,nr="__reactProps$"+ea,Ds="__reactContainer$"+ea,bf="__reactEvents$"+ea,ED="__reactListeners$"+ea,jD="__reactHandles$"+ea,Jb="__reactResources$"+ea,no="__reactMarker$"+ea;function xf(n){delete n[Lt],delete n[nr],delete n[bf],delete n[ED],delete n[jD]}function ks(n){var s=n[Lt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Ds]||o[Lt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=bS(n);n!==null;){if(o=n[Lt])return o;n=bS(n)}return s}n=o,o=n.parentNode}return null}function Ms(n){if(n=n[Lt]||n[Ds]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function ao(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function qs(n){var s=n[Jb];return s||(s=n[Jb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(n){n[no]=!0}var Zb=new Set,ex={};function za(n,s){Ps(n,s),Ps(n+"Capture",s)}function Ps(n,s){for(ex[n]=s,n=0;n<s.length;n++)Zb.add(s[n])}var ND=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tx={},rx={};function TD(n){return xe.call(rx,n)?!0:xe.call(tx,n)?!1:ND.test(n)?rx[n]=!0:(tx[n]=!0,!1)}function cc(n,s,o){if(TD(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function uc(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function En(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Ar(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function nx(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function OD(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(N){o=""+N,g.call(this,N)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(N){o=""+N},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function wf(n){if(!n._valueTracker){var s=nx(n)?"checked":"value";n._valueTracker=OD(n,s,""+n[s])}}function ax(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=nx(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function dc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var CD=/[\n"\\]/g;function Rr(n){return n.replace(CD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function _f(n,s,o,u,p,g,N,k){n.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.type=N:n.removeAttribute("type"),s!=null?N==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ar(s)):n.value!==""+Ar(s)&&(n.value=""+Ar(s)):N!=="submit"&&N!=="reset"||n.removeAttribute("value"),s!=null?Sf(n,N,Ar(s)):o!=null?Sf(n,N,Ar(o)):u!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+Ar(k):n.removeAttribute("name")}function sx(n,s,o,u,p,g,N,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){wf(n);return}o=o!=null?""+Ar(o):"",s=s!=null?""+Ar(s):o,k||s===n.value||(n.value=s),n.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=k?n.checked:!!u,n.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.name=N),wf(n)}function Sf(n,s,o){s==="number"&&dc(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ls(n,s,o,u){if(n=n.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=s.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Ar(o),s=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function ix(n,s,o){if(s!=null&&(s=""+Ar(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Ar(o):""}function ox(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(a(92));if(ee(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ar(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),wf(n)}function $s(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var AD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lx(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||AD.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function cx(n,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&lx(n,p,u)}else for(var g in s)s.hasOwnProperty(g)&&lx(n,g,s[g])}function Ef(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fc(n){return DD.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function jn(){}var jf=null;function Nf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Us=null,zs=null;function ux(n){var s=Ms(n);if(s&&(n=s.stateNode)){var o=n[nr]||null;e:switch(n=s.stateNode,s.type){case"input":if(_f(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rr(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var p=u[nr]||null;if(!p)throw Error(a(90));_f(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&ax(u)}break e;case"textarea":ix(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ls(n,!!o.multiple,s,!1)}}}var Tf=!1;function dx(n,s,o){if(Tf)return n(s,o);Tf=!0;try{var u=n(s);return u}finally{if(Tf=!1,(Us!==null||zs!==null)&&(Zc(),Us&&(s=Us,n=zs,zs=Us=null,ux(s),n)))for(s=0;s<n.length;s++)ux(n[s])}}function so(n,s){var o=n.stateNode;if(o===null)return null;var u=o[nr]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Of=!1;if(Nn)try{var io={};Object.defineProperty(io,"passive",{get:function(){Of=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Of=!1}var ta=null,Cf=null,hc=null;function fx(){if(hc)return hc;var n,s=Cf,o=s.length,u,p="value"in ta?ta.value:ta.textContent,g=p.length;for(n=0;n<o&&s[n]===p[n];n++);var N=o-n;for(u=1;u<=N&&s[o-u]===p[g-u];u++);return hc=p.slice(n,1<u?1-u:void 0)}function mc(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function pc(){return!0}function hx(){return!1}function ar(n){function s(o,u,p,g,N){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(o=n[k],this[k]=o?o(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pc:hx,this.isPropagationStopped=hx,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),s}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=ar(Ia),oo=y({},Ia,{view:0,detail:0}),kD=ar(oo),Af,Rf,lo,gc=y({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lo&&(lo&&n.type==="mousemove"?(Af=n.screenX-lo.screenX,Rf=n.screenY-lo.screenY):Rf=Af=0,lo=n),Af)},movementY:function(n){return"movementY"in n?n.movementY:Rf}}),mx=ar(gc),MD=y({},gc,{dataTransfer:0}),qD=ar(MD),PD=y({},oo,{relatedTarget:0}),Df=ar(PD),LD=y({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),$D=ar(LD),UD=y({},Ia,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),zD=ar(UD),ID=y({},Ia,{data:0}),px=ar(ID),BD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GD(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=FD[n])?!!s[n]:!1}function kf(){return GD}var WD=y({},oo,{key:function(n){if(n.key){var s=BD[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=mc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?HD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(n){return n.type==="keypress"?mc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),YD=ar(WD),VD=y({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vx=ar(VD),KD=y({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),XD=ar(KD),QD=y({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),JD=ar(QD),ZD=y({},gc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ek=ar(ZD),tk=y({},Ia,{newState:0,oldState:0}),rk=ar(tk),nk=[9,13,27,32],Mf=Nn&&"CompositionEvent"in window,co=null;Nn&&"documentMode"in document&&(co=document.documentMode);var ak=Nn&&"TextEvent"in window&&!co,gx=Nn&&(!Mf||co&&8<co&&11>=co),yx=" ",bx=!1;function xx(n,s){switch(n){case"keyup":return nk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wx(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Is=!1;function sk(n,s){switch(n){case"compositionend":return wx(s);case"keypress":return s.which!==32?null:(bx=!0,yx);case"textInput":return n=s.data,n===yx&&bx?null:n;default:return null}}function ik(n,s){if(Is)return n==="compositionend"||!Mf&&xx(n,s)?(n=fx(),hc=Cf=ta=null,Is=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return gx&&s.locale!=="ko"?null:s.data;default:return null}}var ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _x(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ok[n.type]:s==="textarea"}function Sx(n,s,o,u){Us?zs?zs.push(u):zs=[u]:Us=u,s=iu(s,"onChange"),0<s.length&&(o=new vc("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var uo=null,fo=null;function lk(n){sS(n,0)}function yc(n){var s=ao(n);if(ax(s))return n}function Ex(n,s){if(n==="change")return s}var jx=!1;if(Nn){var qf;if(Nn){var Pf="oninput"in document;if(!Pf){var Nx=document.createElement("div");Nx.setAttribute("oninput","return;"),Pf=typeof Nx.oninput=="function"}qf=Pf}else qf=!1;jx=qf&&(!document.documentMode||9<document.documentMode)}function Tx(){uo&&(uo.detachEvent("onpropertychange",Ox),fo=uo=null)}function Ox(n){if(n.propertyName==="value"&&yc(fo)){var s=[];Sx(s,fo,n,Nf(n)),dx(lk,s)}}function ck(n,s,o){n==="focusin"?(Tx(),uo=s,fo=o,uo.attachEvent("onpropertychange",Ox)):n==="focusout"&&Tx()}function uk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yc(fo)}function dk(n,s){if(n==="click")return yc(s)}function fk(n,s){if(n==="input"||n==="change")return yc(s)}function hk(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var yr=typeof Object.is=="function"?Object.is:hk;function ho(n,s){if(yr(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!xe.call(s,p)||!yr(n[p],s[p]))return!1}return!0}function Cx(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ax(n,s){var o=Cx(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Cx(o)}}function Rx(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Rx(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Dx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=dc(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=dc(n.document)}return s}function Lf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var mk=Nn&&"documentMode"in document&&11>=document.documentMode,Bs=null,$f=null,mo=null,Uf=!1;function kx(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uf||Bs==null||Bs!==dc(u)||(u=Bs,"selectionStart"in u&&Lf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),mo&&ho(mo,u)||(mo=u,u=iu($f,"onSelect"),0<u.length&&(s=new vc("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Bs)))}function Ba(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Hs={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},zf={},Mx={};Nn&&(Mx=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Ha(n){if(zf[n])return zf[n];if(!Hs[n])return n;var s=Hs[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Mx)return zf[n]=s[o];return n}var qx=Ha("animationend"),Px=Ha("animationiteration"),Lx=Ha("animationstart"),pk=Ha("transitionrun"),vk=Ha("transitionstart"),gk=Ha("transitioncancel"),$x=Ha("transitionend"),Ux=new Map,If="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");If.push("scrollEnd");function Kr(n,s){Ux.set(n,s),za(s,[n])}var bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Dr=[],Fs=0,Bf=0;function xc(){for(var n=Fs,s=Bf=Fs=0;s<n;){var o=Dr[s];Dr[s++]=null;var u=Dr[s];Dr[s++]=null;var p=Dr[s];Dr[s++]=null;var g=Dr[s];if(Dr[s++]=null,u!==null&&p!==null){var N=u.pending;N===null?p.next=p:(p.next=N.next,N.next=p),u.pending=p}g!==0&&zx(o,p,g)}}function wc(n,s,o,u){Dr[Fs++]=n,Dr[Fs++]=s,Dr[Fs++]=o,Dr[Fs++]=u,Bf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hf(n,s,o,u){return wc(n,s,o,u),_c(n)}function Fa(n,s){return wc(n,null,null,s),_c(n)}function zx(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&s!==null&&(p=31-Yt(o),n=g.hiddenUpdates,u=n[p],u===null?n[p]=[s]:u.push(s),s.lane=o|536870912),g):null}function _c(n){if(50<Po)throw Po=0,Jh=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Gs={};function yk(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function br(n,s,o,u){return new yk(n,s,o,u)}function Ff(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Tn(n,s){var o=n.alternate;return o===null?(o=br(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Ix(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Sc(n,s,o,u,p,g){var N=0;if(u=n,typeof n=="function")Ff(n)&&(N=1);else if(typeof n=="string")N=SM(n,o,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case L:return n=br(31,o,s,p),n.elementType=L,n.lanes=g,n;case _:return Ga(o.children,p,g,s);case S:N=8,p|=24;break;case j:return n=br(12,o,s,p|2),n.elementType=j,n.lanes=g,n;case M:return n=br(13,o,s,p),n.elementType=M,n.lanes=g,n;case D:return n=br(19,o,s,p),n.elementType=D,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:N=10;break e;case E:N=9;break e;case O:N=11;break e;case R:N=14;break e;case P:N=16,u=null;break e}N=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return s=br(N,o,s,p),s.elementType=n,s.type=u,s.lanes=g,s}function Ga(n,s,o,u){return n=br(7,n,u,s),n.lanes=o,n}function Gf(n,s,o){return n=br(6,n,null,s),n.lanes=o,n}function Bx(n){var s=br(18,null,null,0);return s.stateNode=n,s}function Wf(n,s,o){return s=br(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Hx=new WeakMap;function kr(n,s){if(typeof n=="object"&&n!==null){var o=Hx.get(n);return o!==void 0?o:(s={value:n,source:s,stack:re(s)},Hx.set(n,s),s)}return{value:n,source:s,stack:re(s)}}var Ws=[],Ys=0,Ec=null,po=0,Mr=[],qr=0,ra=null,on=1,ln="";function On(n,s){Ws[Ys++]=po,Ws[Ys++]=Ec,Ec=n,po=s}function Fx(n,s,o){Mr[qr++]=on,Mr[qr++]=ln,Mr[qr++]=ra,ra=n;var u=on;n=ln;var p=32-Yt(u)-1;u&=~(1<<p),o+=1;var g=32-Yt(s)+p;if(30<g){var N=p-p%5;g=(u&(1<<N)-1).toString(32),u>>=N,p-=N,on=1<<32-Yt(s)+p|o<<p|u,ln=g+n}else on=1<<g|o<<p|u,ln=n}function Yf(n){n.return!==null&&(On(n,1),Fx(n,1,0))}function Vf(n){for(;n===Ec;)Ec=Ws[--Ys],Ws[Ys]=null,po=Ws[--Ys],Ws[Ys]=null;for(;n===ra;)ra=Mr[--qr],Mr[qr]=null,ln=Mr[--qr],Mr[qr]=null,on=Mr[--qr],Mr[qr]=null}function Gx(n,s){Mr[qr++]=on,Mr[qr++]=ln,Mr[qr++]=ra,on=s.id,ln=s.overflow,ra=n}var $t=null,tt=null,Ue=!1,na=null,Pr=!1,Kf=Error(a(519));function aa(n){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vo(kr(s,n)),Kf}function Wx(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Lt]=n,s[nr]=u,o){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(o=0;o<$o.length;o++)qe($o[o],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),sx(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),ox(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||cS(s.textContent,o)?(u.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),u.onScroll!=null&&qe("scroll",s),u.onScrollEnd!=null&&qe("scrollend",s),u.onClick!=null&&(s.onclick=jn),s=!0):s=!1,s||aa(n,!0)}function Yx(n){for($t=n.return;$t;)switch($t.tag){case 5:case 31:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:$t=$t.return}}function Vs(n){if(n!==$t)return!1;if(!Ue)return Yx(n),Ue=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||hm(n.type,n.memoizedProps)),o=!o),o&&tt&&aa(n),Yx(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=yS(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=yS(n)}else s===27?(s=tt,ya(n.type)?(n=ym,ym=null,tt=n):tt=s):tt=$t?$r(n.stateNode.nextSibling):null;return!0}function Wa(){tt=$t=null,Ue=!1}function Xf(){var n=na;return n!==null&&(lr===null?lr=n:lr.push.apply(lr,n),na=null),n}function vo(n){na===null?na=[n]:na.push(n)}var Qf=$(null),Ya=null,Cn=null;function sa(n,s,o){oe(Qf,s._currentValue),s._currentValue=o}function An(n){n._currentValue=Qf.current,X(Qf)}function Jf(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Zf(n,s,o,u){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var N=p.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=p;for(var I=0;I<s.length;I++)if(k.context===s[I]){g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),Jf(g.return,o,n),u||(N=null);break e}g=k.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(a(341));N.lanes|=o,g=N.alternate,g!==null&&(g.lanes|=o),Jf(N,o,n),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===n){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function Ks(n,s,o,u){n=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var k=p.type;yr(p.pendingProps.value,N.value)||(n!==null?n.push(k):n=[k])}}else if(p===be.current){if(N=p.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Ho):n=[Ho])}p=p.return}n!==null&&Zf(s,n,o,u),s.flags|=262144}function jc(n){for(n=n.firstContext;n!==null;){if(!yr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Va(n){Ya=n,Cn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ut(n){return Vx(Ya,n)}function Nc(n,s){return Ya===null&&Va(n),Vx(n,s)}function Vx(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Cn===null){if(n===null)throw Error(a(308));Cn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Cn=Cn.next=s;return o}var bk=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},xk=t.unstable_scheduleCallback,wk=t.unstable_NormalPriority,wt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eh(){return{controller:new bk,data:new Map,refCount:0}}function go(n){n.refCount--,n.refCount===0&&xk(wk,function(){n.controller.abort()})}var yo=null,th=0,Xs=0,Qs=null;function _k(n,s){if(yo===null){var o=yo=[];th=0,Xs=am(),Qs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return th++,s.then(Kx,Kx),s}function Kx(){if(--th===0&&yo!==null){Qs!==null&&(Qs.status="fulfilled");var n=yo;yo=null,Xs=0,Qs=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function Sk(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Xx=B.S;B.S=function(n,s){k_=Ze(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&_k(n,s),Xx!==null&&Xx(n,s)};var Ka=$(null);function rh(){var n=Ka.current;return n!==null?n:Qe.pooledCache}function Tc(n,s){s===null?oe(Ka,Ka.current):oe(Ka,s.pool)}function Qx(){var n=rh();return n===null?null:{parent:wt._currentValue,pool:n}}var Js=Error(a(460)),nh=Error(a(474)),Oc=Error(a(542)),Cc={then:function(){}};function Jx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Zx(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(jn,jn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,tw(n),n;default:if(typeof s.status=="string")s.then(jn,jn);else{if(n=Qe,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,tw(n),n}throw Qa=s,Js}}function Xa(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Qa=o,Js):o}}var Qa=null;function ew(){if(Qa===null)throw Error(a(459));var n=Qa;return Qa=null,n}function tw(n){if(n===Js||n===Oc)throw Error(a(483))}var Zs=null,bo=0;function Ac(n){var s=bo;return bo+=1,Zs===null&&(Zs=[]),Zx(Zs,n,s)}function xo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Rc(n,s){throw s.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function rw(n){function s(G,F){if(n){var K=G.deletions;K===null?(G.deletions=[F],G.flags|=16):K.push(F)}}function o(G,F){if(!n)return null;for(;F!==null;)s(G,F),F=F.sibling;return null}function u(G){for(var F=new Map;G!==null;)G.key!==null?F.set(G.key,G):F.set(G.index,G),G=G.sibling;return F}function p(G,F){return G=Tn(G,F),G.index=0,G.sibling=null,G}function g(G,F,K){return G.index=K,n?(K=G.alternate,K!==null?(K=K.index,K<F?(G.flags|=67108866,F):K):(G.flags|=67108866,F)):(G.flags|=1048576,F)}function N(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function k(G,F,K,se){return F===null||F.tag!==6?(F=Gf(K,G.mode,se),F.return=G,F):(F=p(F,K),F.return=G,F)}function I(G,F,K,se){var we=K.type;return we===_?ne(G,F,K.props.children,se,K.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===P&&Xa(we)===F.type)?(F=p(F,K.props),xo(F,K),F.return=G,F):(F=Sc(K.type,K.key,K.props,null,G.mode,se),xo(F,K),F.return=G,F)}function Q(G,F,K,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=Wf(K,G.mode,se),F.return=G,F):(F=p(F,K.children||[]),F.return=G,F)}function ne(G,F,K,se,we){return F===null||F.tag!==7?(F=Ga(K,G.mode,se,we),F.return=G,F):(F=p(F,K),F.return=G,F)}function ie(G,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Gf(""+F,G.mode,K),F.return=G,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return K=Sc(F.type,F.key,F.props,null,G.mode,K),xo(K,F),K.return=G,K;case w:return F=Wf(F,G.mode,K),F.return=G,F;case P:return F=Xa(F),ie(G,F,K)}if(ee(F)||U(F))return F=Ga(F,G.mode,K,null),F.return=G,F;if(typeof F.then=="function")return ie(G,Ac(F),K);if(F.$$typeof===T)return ie(G,Nc(G,F),K);Rc(G,F)}return null}function J(G,F,K,se){var we=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return we!==null?null:k(G,F,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===we?I(G,F,K,se):null;case w:return K.key===we?Q(G,F,K,se):null;case P:return K=Xa(K),J(G,F,K,se)}if(ee(K)||U(K))return we!==null?null:ne(G,F,K,se,null);if(typeof K.then=="function")return J(G,F,Ac(K),se);if(K.$$typeof===T)return J(G,F,Nc(G,K),se);Rc(G,K)}return null}function Z(G,F,K,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(K)||null,k(F,G,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return G=G.get(se.key===null?K:se.key)||null,I(F,G,se,we);case w:return G=G.get(se.key===null?K:se.key)||null,Q(F,G,se,we);case P:return se=Xa(se),Z(G,F,K,se,we)}if(ee(se)||U(se))return G=G.get(K)||null,ne(F,G,se,we,null);if(typeof se.then=="function")return Z(G,F,K,Ac(se),we);if(se.$$typeof===T)return Z(G,F,K,Nc(F,se),we);Rc(F,se)}return null}function me(G,F,K,se){for(var we=null,Ie=null,ve=F,Re=F=0,$e=null;ve!==null&&Re<K.length;Re++){ve.index>Re?($e=ve,ve=null):$e=ve.sibling;var Be=J(G,ve,K[Re],se);if(Be===null){ve===null&&(ve=$e);break}n&&ve&&Be.alternate===null&&s(G,ve),F=g(Be,F,Re),Ie===null?we=Be:Ie.sibling=Be,Ie=Be,ve=$e}if(Re===K.length)return o(G,ve),Ue&&On(G,Re),we;if(ve===null){for(;Re<K.length;Re++)ve=ie(G,K[Re],se),ve!==null&&(F=g(ve,F,Re),Ie===null?we=ve:Ie.sibling=ve,Ie=ve);return Ue&&On(G,Re),we}for(ve=u(ve);Re<K.length;Re++)$e=Z(ve,G,Re,K[Re],se),$e!==null&&(n&&$e.alternate!==null&&ve.delete($e.key===null?Re:$e.key),F=g($e,F,Re),Ie===null?we=$e:Ie.sibling=$e,Ie=$e);return n&&ve.forEach(function(Sa){return s(G,Sa)}),Ue&&On(G,Re),we}function Se(G,F,K,se){if(K==null)throw Error(a(151));for(var we=null,Ie=null,ve=F,Re=F=0,$e=null,Be=K.next();ve!==null&&!Be.done;Re++,Be=K.next()){ve.index>Re?($e=ve,ve=null):$e=ve.sibling;var Sa=J(G,ve,Be.value,se);if(Sa===null){ve===null&&(ve=$e);break}n&&ve&&Sa.alternate===null&&s(G,ve),F=g(Sa,F,Re),Ie===null?we=Sa:Ie.sibling=Sa,Ie=Sa,ve=$e}if(Be.done)return o(G,ve),Ue&&On(G,Re),we;if(ve===null){for(;!Be.done;Re++,Be=K.next())Be=ie(G,Be.value,se),Be!==null&&(F=g(Be,F,Re),Ie===null?we=Be:Ie.sibling=Be,Ie=Be);return Ue&&On(G,Re),we}for(ve=u(ve);!Be.done;Re++,Be=K.next())Be=Z(ve,G,Re,Be.value,se),Be!==null&&(n&&Be.alternate!==null&&ve.delete(Be.key===null?Re:Be.key),F=g(Be,F,Re),Ie===null?we=Be:Ie.sibling=Be,Ie=Be);return n&&ve.forEach(function(MM){return s(G,MM)}),Ue&&On(G,Re),we}function Ke(G,F,K,se){if(typeof K=="object"&&K!==null&&K.type===_&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:e:{for(var we=K.key;F!==null;){if(F.key===we){if(we=K.type,we===_){if(F.tag===7){o(G,F.sibling),se=p(F,K.props.children),se.return=G,G=se;break e}}else if(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===P&&Xa(we)===F.type){o(G,F.sibling),se=p(F,K.props),xo(se,K),se.return=G,G=se;break e}o(G,F);break}else s(G,F);F=F.sibling}K.type===_?(se=Ga(K.props.children,G.mode,se,K.key),se.return=G,G=se):(se=Sc(K.type,K.key,K.props,null,G.mode,se),xo(se,K),se.return=G,G=se)}return N(G);case w:e:{for(we=K.key;F!==null;){if(F.key===we)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){o(G,F.sibling),se=p(F,K.children||[]),se.return=G,G=se;break e}else{o(G,F);break}else s(G,F);F=F.sibling}se=Wf(K,G.mode,se),se.return=G,G=se}return N(G);case P:return K=Xa(K),Ke(G,F,K,se)}if(ee(K))return me(G,F,K,se);if(U(K)){if(we=U(K),typeof we!="function")throw Error(a(150));return K=we.call(K),Se(G,F,K,se)}if(typeof K.then=="function")return Ke(G,F,Ac(K),se);if(K.$$typeof===T)return Ke(G,F,Nc(G,K),se);Rc(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(o(G,F.sibling),se=p(F,K),se.return=G,G=se):(o(G,F),se=Gf(K,G.mode,se),se.return=G,G=se),N(G)):o(G,F)}return function(G,F,K,se){try{bo=0;var we=Ke(G,F,K,se);return Zs=null,we}catch(ve){if(ve===Js||ve===Oc)throw ve;var Ie=br(29,ve,null,G.mode);return Ie.lanes=se,Ie.return=G,Ie}finally{}}}var Ja=rw(!0),nw=rw(!1),ia=!1;function ah(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function oa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function la(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(He&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=_c(n),zx(n,null,o),s}return wc(n,u,s,o),_c(n)}function wo(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Vb(n,o)}}function ih(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=N:g=g.next=N,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var oh=!1;function _o(){if(oh){var n=Qs;if(n!==null)throw n}}function So(n,s,o,u){oh=!1;var p=n.updateQueue;ia=!1;var g=p.firstBaseUpdate,N=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var I=k,Q=I.next;I.next=null,N===null?g=Q:N.next=Q,N=I;var ne=n.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==N&&(k===null?ne.firstBaseUpdate=Q:k.next=Q,ne.lastBaseUpdate=I))}if(g!==null){var ie=p.baseState;N=0,ne=Q=I=null,k=g;do{var J=k.lane&-536870913,Z=J!==k.lane;if(Z?(Le&J)===J:(u&J)===J){J!==0&&J===Xs&&(oh=!0),ne!==null&&(ne=ne.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var me=n,Se=k;J=s;var Ke=o;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){ie=me.call(Ke,ie,J);break e}ie=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,J=typeof me=="function"?me.call(Ke,ie,J):me,J==null)break e;ie=y({},ie,J);break e;case 2:ia=!0}}J=k.callback,J!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[J]:Z.push(J))}else Z={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(Q=ne=Z,I=ie):ne=ne.next=Z,N|=J;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);ne===null&&(I=ie),p.baseState=I,p.firstBaseUpdate=Q,p.lastBaseUpdate=ne,g===null&&(p.shared.lanes=0),ha|=N,n.lanes=N,n.memoizedState=ie}}function aw(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function sw(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)aw(o[n],s)}var ei=$(null),Dc=$(0);function iw(n,s){n=Un,oe(Dc,n),oe(ei,s),Un=n|s.baseLanes}function lh(){oe(Dc,Un),oe(ei,ei.current)}function ch(){Un=Dc.current,X(ei),X(Dc)}var xr=$(null),Lr=null;function ca(n){var s=n.alternate;oe(gt,gt.current&1),oe(xr,n),Lr===null&&(s===null||ei.current!==null||s.memoizedState!==null)&&(Lr=n)}function uh(n){oe(gt,gt.current),oe(xr,n),Lr===null&&(Lr=n)}function ow(n){n.tag===22?(oe(gt,gt.current),oe(xr,n),Lr===null&&(Lr=n)):ua()}function ua(){oe(gt,gt.current),oe(xr,xr.current)}function wr(n){X(xr),Lr===n&&(Lr=null),X(gt)}var gt=$(0);function kc(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||vm(o)||gm(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Rn=0,Ce=null,Ye=null,_t=null,Mc=!1,ti=!1,Za=!1,qc=0,Eo=0,ri=null,Ek=0;function ht(){throw Error(a(321))}function dh(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!yr(n[o],s[o]))return!1;return!0}function fh(n,s,o,u,p,g){return Rn=g,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?Fw:Th,Za=!1,g=o(u,p),Za=!1,ti&&(g=cw(s,o,u,p)),lw(n),g}function lw(n){B.H=To;var s=Ye!==null&&Ye.next!==null;if(Rn=0,_t=Ye=Ce=null,Mc=!1,Eo=0,ri=null,s)throw Error(a(300));n===null||St||(n=n.dependencies,n!==null&&jc(n)&&(St=!0))}function cw(n,s,o,u){Ce=n;var p=0;do{if(ti&&(ri=null),Eo=0,ti=!1,25<=p)throw Error(a(301));if(p+=1,_t=Ye=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=Gw,g=s(o,u)}while(ti);return g}function jk(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?jo(s):s,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ce.flags|=1024),s}function hh(){var n=qc!==0;return qc=0,n}function mh(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function ph(n){if(Mc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Mc=!1}Rn=0,_t=Ye=Ce=null,ti=!1,Eo=qc=0,ri=null}function tr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ce.memoizedState=_t=n:_t=_t.next=n,_t}function yt(){if(Ye===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=_t===null?Ce.memoizedState:_t.next;if(s!==null)_t=s,Ye=n;else{if(n===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?Ce.memoizedState=_t=n:_t=_t.next=n}return _t}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(n){var s=Eo;return Eo+=1,ri===null&&(ri=[]),n=Zx(ri,n,s),s=Ce,(_t===null?s.memoizedState:_t.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Fw:Th),n}function Lc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return jo(n);if(n.$$typeof===T)return Ut(n)}throw Error(a(438,String(n)))}function vh(n){var s=null,o=Ce.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Pc(),Ce.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=C;return s.index++,o}function Dn(n,s){return typeof s=="function"?s(n):s}function $c(n){var s=yt();return gh(s,Ye,n)}function gh(n,s,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var p=n.baseQueue,g=u.pending;if(g!==null){if(p!==null){var N=p.next;p.next=g.next,g.next=N}s.baseQueue=p=g,u.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{s=p.next;var k=N=null,I=null,Q=s,ne=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(Le&ie)===ie:(Rn&ie)===ie){var J=Q.revertLane;if(J===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===Xs&&(ne=!0);else if((Rn&J)===J){Q=Q.next,J===Xs&&(ne=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(k=I=ie,N=g):I=I.next=ie,Ce.lanes|=J,ha|=J;ie=Q.action,Za&&o(g,ie),g=Q.hasEagerState?Q.eagerState:o(g,ie)}else J={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(k=I=J,N=g):I=I.next=J,Ce.lanes|=ie,ha|=ie;Q=Q.next}while(Q!==null&&Q!==s);if(I===null?N=g:I.next=k,!yr(g,n.memoizedState)&&(St=!0,ne&&(o=Qs,o!==null)))throw o;n.memoizedState=g,n.baseState=N,n.baseQueue=I,u.lastRenderedState=g}return p===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function yh(n){var s=yt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var N=p=p.next;do g=n(g,N.action),N=N.next;while(N!==p);yr(g,s.memoizedState)||(St=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function uw(n,s,o){var u=Ce,p=yt(),g=Ue;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=s();var N=!yr((Ye||p).memoizedState,o);if(N&&(p.memoizedState=o,St=!0),p=p.queue,wh(hw.bind(null,u,p,n),[n]),p.getSnapshot!==s||N||_t!==null&&_t.memoizedState.tag&1){if(u.flags|=2048,ni(9,{destroy:void 0},fw.bind(null,u,p,o,s),null),Qe===null)throw Error(a(349));g||(Rn&127)!==0||dw(u,s,o)}return o}function dw(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ce.updateQueue,s===null?(s=Pc(),Ce.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function fw(n,s,o,u){s.value=o,s.getSnapshot=u,mw(s)&&pw(n)}function hw(n,s,o){return o(function(){mw(s)&&pw(n)})}function mw(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!yr(n,o)}catch{return!0}}function pw(n){var s=Fa(n,2);s!==null&&cr(s,n,2)}function bh(n){var s=tr();if(typeof n=="function"){var o=n;if(n=o(),Za){gr(!0);try{o()}finally{gr(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:n},s}function vw(n,s,o,u){return n.baseState=o,gh(n,Ye,typeof u=="function"?u:Dn)}function Nk(n,s,o,u,p){if(Ic(n))throw Error(a(485));if(n=s.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};B.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,gw(s,g)):(g.next=o.next,s.pending=o.next=g)}}function gw(n,s){var o=s.action,u=s.payload,p=n.state;if(s.isTransition){var g=B.T,N={};B.T=N;try{var k=o(p,u),I=B.S;I!==null&&I(N,k),yw(n,s,k)}catch(Q){xh(n,s,Q)}finally{g!==null&&N.types!==null&&(g.types=N.types),B.T=g}}else try{g=o(p,u),yw(n,s,g)}catch(Q){xh(n,s,Q)}}function yw(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){bw(n,s,u)},function(u){return xh(n,s,u)}):bw(n,s,o)}function bw(n,s,o){s.status="fulfilled",s.value=o,xw(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,gw(n,o)))}function xh(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,xw(s),s=s.next;while(s!==u)}n.action=null}function xw(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function ww(n,s){return s}function _w(n,s){if(Ue){var o=Qe.formState;if(o!==null){e:{var u=Ce;if(Ue){if(tt){t:{for(var p=tt,g=Pr;p.nodeType!==8;){if(!g){p=null;break t}if(p=$r(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){tt=$r(p.nextSibling),u=p.data==="F!";break e}}aa(u)}u=!1}u&&(s=o[0])}}return o=tr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ww,lastRenderedState:s},o.queue=u,o=Iw.bind(null,Ce,u),u.dispatch=o,u=bh(!1),g=Nh.bind(null,Ce,!1,u.queue),u=tr(),p={state:s,dispatch:null,action:n,pending:null},u.queue=p,o=Nk.bind(null,Ce,p,g,o),p.dispatch=o,u.memoizedState=n,[s,o,!1]}function Sw(n){var s=yt();return Ew(s,Ye,n)}function Ew(n,s,o){if(s=gh(n,s,ww)[0],n=$c(Dn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=jo(s)}catch(N){throw N===Js?Oc:N}else u=s;s=yt();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(Ce.flags|=2048,ni(9,{destroy:void 0},Tk.bind(null,p,o),null)),[u,g,n]}function Tk(n,s){n.action=s}function jw(n){var s=yt(),o=Ye;if(o!==null)return Ew(s,o,n);yt(),s=s.memoizedState,o=yt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function ni(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=Pc(),Ce.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function Nw(){return yt().memoizedState}function Uc(n,s,o,u){var p=tr();Ce.flags|=n,p.memoizedState=ni(1|s,{destroy:void 0},o,u===void 0?null:u)}function zc(n,s,o,u){var p=yt();u=u===void 0?null:u;var g=p.memoizedState.inst;Ye!==null&&u!==null&&dh(u,Ye.memoizedState.deps)?p.memoizedState=ni(s,g,o,u):(Ce.flags|=n,p.memoizedState=ni(1|s,g,o,u))}function Tw(n,s){Uc(8390656,8,n,s)}function wh(n,s){zc(2048,8,n,s)}function Ok(n){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=Pc(),Ce.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Ow(n){var s=yt().memoizedState;return Ok({ref:s,nextImpl:n}),function(){if((He&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Cw(n,s){return zc(4,2,n,s)}function Aw(n,s){return zc(4,4,n,s)}function Rw(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Dw(n,s,o){o=o!=null?o.concat([n]):null,zc(4,4,Rw.bind(null,s,n),o)}function _h(){}function kw(n,s){var o=yt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&dh(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function Mw(n,s){var o=yt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&dh(s,u[1]))return u[0];if(u=n(),Za){gr(!0);try{n()}finally{gr(!1)}}return o.memoizedState=[u,s],u}function Sh(n,s,o){return o===void 0||(Rn&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=q_(),Ce.lanes|=n,ha|=n,o)}function qw(n,s,o,u){return yr(o,s)?o:ei.current!==null?(n=Sh(n,o,u),yr(n,s)||(St=!0),n):(Rn&42)===0||(Rn&1073741824)!==0&&(Le&261930)===0?(St=!0,n.memoizedState=o):(n=q_(),Ce.lanes|=n,ha|=n,s)}function Pw(n,s,o,u,p){var g=H.p;H.p=g!==0&&8>g?g:8;var N=B.T,k={};B.T=k,Nh(n,!1,s,o);try{var I=p(),Q=B.S;if(Q!==null&&Q(k,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ne=Sk(I,u);No(n,s,ne,Er(n))}else No(n,s,u,Er(n))}catch(ie){No(n,s,{then:function(){},status:"rejected",reason:ie},Er())}finally{H.p=g,N!==null&&k.types!==null&&(N.types=k.types),B.T=N}}function Ck(){}function Eh(n,s,o,u){if(n.tag!==5)throw Error(a(476));var p=Lw(n).queue;Pw(n,p,s,te,o===null?Ck:function(){return $w(n),o(u)})}function Lw(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:te},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function $w(n){var s=Lw(n);s.next===null&&(s=n.alternate.memoizedState),No(n,s.next.queue,{},Er())}function jh(){return Ut(Ho)}function Uw(){return yt().memoizedState}function zw(){return yt().memoizedState}function Ak(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Er();n=oa(o);var u=la(s,n,o);u!==null&&(cr(u,s,o),wo(u,s,o)),s={cache:eh()},n.payload=s;return}s=s.return}}function Rk(n,s,o){var u=Er();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ic(n)?Bw(s,o):(o=Hf(n,s,o,u),o!==null&&(cr(o,n,u),Hw(o,s,u)))}function Iw(n,s,o){var u=Er();No(n,s,o,u)}function No(n,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ic(n))Bw(s,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var N=s.lastRenderedState,k=g(N,o);if(p.hasEagerState=!0,p.eagerState=k,yr(k,N))return wc(n,s,p,0),Qe===null&&xc(),!1}catch{}finally{}if(o=Hf(n,s,p,u),o!==null)return cr(o,n,u),Hw(o,s,u),!0}return!1}function Nh(n,s,o,u){if(u={lane:2,revertLane:am(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ic(n)){if(s)throw Error(a(479))}else s=Hf(n,o,u,2),s!==null&&cr(s,n,2)}function Ic(n){var s=n.alternate;return n===Ce||s!==null&&s===Ce}function Bw(n,s){ti=Mc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Hw(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Vb(n,o)}}var To={readContext:Ut,use:Lc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};To.useEffectEvent=ht;var Fw={readContext:Ut,use:Lc,useCallback:function(n,s){return tr().memoizedState=[n,s===void 0?null:s],n},useContext:Ut,useEffect:Tw,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Uc(4194308,4,Rw.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Uc(4194308,4,n,s)},useInsertionEffect:function(n,s){Uc(4,2,n,s)},useMemo:function(n,s){var o=tr();s=s===void 0?null:s;var u=n();if(Za){gr(!0);try{n()}finally{gr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=tr();if(o!==void 0){var p=o(s);if(Za){gr(!0);try{o(s)}finally{gr(!1)}}}else p=s;return u.memoizedState=u.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},u.queue=n,n=n.dispatch=Rk.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var s=tr();return n={current:n},s.memoizedState=n},useState:function(n){n=bh(n);var s=n.queue,o=Iw.bind(null,Ce,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:_h,useDeferredValue:function(n,s){var o=tr();return Sh(o,n,s)},useTransition:function(){var n=bh(!1);return n=Pw.bind(null,Ce,n.queue,!0,!1),tr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Ce,p=tr();if(Ue){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Qe===null)throw Error(a(349));(Le&127)!==0||dw(u,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,Tw(hw.bind(null,u,g,n),[n]),u.flags|=2048,ni(9,{destroy:void 0},fw.bind(null,u,g,o,s),null),o},useId:function(){var n=tr(),s=Qe.identifierPrefix;if(Ue){var o=ln,u=on;o=(u&~(1<<32-Yt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=qc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=Ek++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:jh,useFormState:_w,useActionState:_w,useOptimistic:function(n){var s=tr();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Nh.bind(null,Ce,!0,o),o.dispatch=s,[n,s]},useMemoCache:vh,useCacheRefresh:function(){return tr().memoizedState=Ak.bind(null,Ce)},useEffectEvent:function(n){var s=tr(),o={impl:n};return s.memoizedState=o,function(){if((He&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Th={readContext:Ut,use:Lc,useCallback:kw,useContext:Ut,useEffect:wh,useImperativeHandle:Dw,useInsertionEffect:Cw,useLayoutEffect:Aw,useMemo:Mw,useReducer:$c,useRef:Nw,useState:function(){return $c(Dn)},useDebugValue:_h,useDeferredValue:function(n,s){var o=yt();return qw(o,Ye.memoizedState,n,s)},useTransition:function(){var n=$c(Dn)[0],s=yt().memoizedState;return[typeof n=="boolean"?n:jo(n),s]},useSyncExternalStore:uw,useId:Uw,useHostTransitionStatus:jh,useFormState:Sw,useActionState:Sw,useOptimistic:function(n,s){var o=yt();return vw(o,Ye,n,s)},useMemoCache:vh,useCacheRefresh:zw};Th.useEffectEvent=Ow;var Gw={readContext:Ut,use:Lc,useCallback:kw,useContext:Ut,useEffect:wh,useImperativeHandle:Dw,useInsertionEffect:Cw,useLayoutEffect:Aw,useMemo:Mw,useReducer:yh,useRef:Nw,useState:function(){return yh(Dn)},useDebugValue:_h,useDeferredValue:function(n,s){var o=yt();return Ye===null?Sh(o,n,s):qw(o,Ye.memoizedState,n,s)},useTransition:function(){var n=yh(Dn)[0],s=yt().memoizedState;return[typeof n=="boolean"?n:jo(n),s]},useSyncExternalStore:uw,useId:Uw,useHostTransitionStatus:jh,useFormState:jw,useActionState:jw,useOptimistic:function(n,s){var o=yt();return Ye!==null?vw(o,Ye,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:vh,useCacheRefresh:zw};Gw.useEffectEvent=Ow;function Oh(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ch={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Er(),p=oa(u);p.payload=s,o!=null&&(p.callback=o),s=la(n,p,u),s!==null&&(cr(s,n,u),wo(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Er(),p=oa(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=la(n,p,u),s!==null&&(cr(s,n,u),wo(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Er(),u=oa(o);u.tag=2,s!=null&&(u.callback=s),s=la(n,u,o),s!==null&&(cr(s,n,o),wo(s,n,o))}};function Ww(n,s,o,u,p,g,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,N):s.prototype&&s.prototype.isPureReactComponent?!ho(o,u)||!ho(p,g):!0}function Yw(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Ch.enqueueReplaceState(s,s.state,null)}function es(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=y({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function Vw(n){bc(n)}function Kw(n){console.error(n)}function Xw(n){bc(n)}function Bc(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Qw(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Ah(n,s,o){return o=oa(o),o.tag=3,o.payload={element:null},o.callback=function(){Bc(n,s)},o}function Jw(n){return n=oa(n),n.tag=3,n}function Zw(n,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;n.payload=function(){return p(g)},n.callback=function(){Qw(s,o,u)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(n.callback=function(){Qw(s,o,u),typeof p!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function Dk(n,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Ks(s,o,p,!0),o=xr.current,o!==null){switch(o.tag){case 31:case 13:return Lr===null?eu():o.alternate===null&&mt===0&&(mt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Cc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),tm(n,u,p)),!1;case 22:return o.flags|=65536,u===Cc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),tm(n,u,p)),!1}throw Error(a(435,o.tag))}return tm(n,u,p),eu(),!1}if(Ue)return s=xr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Kf&&(n=Error(a(422),{cause:u}),vo(kr(n,o)))):(u!==Kf&&(s=Error(a(423),{cause:u}),vo(kr(s,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,u=kr(u,o),p=Ah(n.stateNode,u,p),ih(n,p),mt!==4&&(mt=2)),!1;var g=Error(a(520),{cause:u});if(g=kr(g,o),qo===null?qo=[g]:qo.push(g),mt!==4&&(mt=2),s===null)return!0;u=kr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Ah(o.stateNode,u,n),ih(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ma===null||!ma.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Jw(p),Zw(p,n,o,u),ih(o,p),!1}o=o.return}while(o!==null);return!1}var Rh=Error(a(461)),St=!1;function zt(n,s,o,u){s.child=n===null?nw(s,null,o,u):Ja(s,n.child,o,u)}function e_(n,s,o,u,p){o=o.render;var g=s.ref;if("ref"in u){var N={};for(var k in u)k!=="ref"&&(N[k]=u[k])}else N=u;return Va(s),u=fh(n,s,o,N,g,p),k=hh(),n!==null&&!St?(mh(n,s,p),kn(n,s,p)):(Ue&&k&&Yf(s),s.flags|=1,zt(n,s,u,p),s.child)}function t_(n,s,o,u,p){if(n===null){var g=o.type;return typeof g=="function"&&!Ff(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,r_(n,s,g,u,p)):(n=Sc(o.type,null,u,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Uh(n,p)){var N=g.memoizedProps;if(o=o.compare,o=o!==null?o:ho,o(N,u)&&n.ref===s.ref)return kn(n,s,p)}return s.flags|=1,n=Tn(g,u),n.ref=s.ref,n.return=s,s.child=n}function r_(n,s,o,u,p){if(n!==null){var g=n.memoizedProps;if(ho(g,u)&&n.ref===s.ref)if(St=!1,s.pendingProps=u=g,Uh(n,p))(n.flags&131072)!==0&&(St=!0);else return s.lanes=n.lanes,kn(n,s,p)}return Dh(n,s,o,u,p)}function n_(n,s,o,u){var p=u.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(u=s.child=n.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,s.child=null;return a_(n,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tc(s,g!==null?g.cachePool:null),g!==null?iw(s,g):lh(),ow(s);else return u=s.lanes=536870912,a_(n,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Tc(s,g.cachePool),iw(s,g),ua(),s.memoizedState=null):(n!==null&&Tc(s,null),lh(),ua());return zt(n,s,p,o),s.child}function Oo(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function a_(n,s,o,u,p){var g=rh();return g=g===null?null:{parent:wt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&Tc(s,null),lh(),ow(s),n!==null&&Ks(n,s,u,!0),s.childLanes=p,null}function Hc(n,s){return s=Gc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function s_(n,s,o){return Ja(s,n.child,null,o),n=Hc(s,s.pendingProps),n.flags|=2,wr(s),s.memoizedState=null,n}function kk(n,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ue){if(u.mode==="hidden")return n=Hc(s,u),s.lanes=536870912,Oo(null,n);if(uh(s),(n=tt)?(n=gS(n,Pr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ra!==null?{id:on,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},o=Bx(n),o.return=s,s.child=o,$t=s,tt=null)):n=null,n===null)throw aa(s);return s.lanes=536870912,null}return Hc(s,u)}var g=n.memoizedState;if(g!==null){var N=g.dehydrated;if(uh(s),p)if(s.flags&256)s.flags&=-257,s=s_(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(a(558));else if(St||Ks(n,s,o,!1),p=(o&n.childLanes)!==0,St||p){if(u=Qe,u!==null&&(N=Kb(u,o),N!==0&&N!==g.retryLane))throw g.retryLane=N,Fa(n,N),cr(u,n,N),Rh;eu(),s=s_(n,s,o)}else n=g.treeContext,tt=$r(N.nextSibling),$t=s,Ue=!0,na=null,Pr=!1,n!==null&&Gx(s,n),s=Hc(s,u),s.flags|=4096;return s}return n=Tn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Fc(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Dh(n,s,o,u,p){return Va(s),o=fh(n,s,o,u,void 0,p),u=hh(),n!==null&&!St?(mh(n,s,p),kn(n,s,p)):(Ue&&u&&Yf(s),s.flags|=1,zt(n,s,o,p),s.child)}function i_(n,s,o,u,p,g){return Va(s),s.updateQueue=null,o=cw(s,u,o,p),lw(n),u=hh(),n!==null&&!St?(mh(n,s,g),kn(n,s,g)):(Ue&&u&&Yf(s),s.flags|=1,zt(n,s,o,g),s.child)}function o_(n,s,o,u,p){if(Va(s),s.stateNode===null){var g=Gs,N=o.contextType;typeof N=="object"&&N!==null&&(g=Ut(N)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ch,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},ah(s),N=o.contextType,g.context=typeof N=="object"&&N!==null?Ut(N):Gs,g.state=s.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(Oh(s,o,N,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&Ch.enqueueReplaceState(g,g.state,null),So(s,u,g,p),_o(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var k=s.memoizedProps,I=es(o,k);g.props=I;var Q=g.context,ne=o.contextType;N=Gs,typeof ne=="object"&&ne!==null&&(N=Ut(ne));var ie=o.getDerivedStateFromProps;ne=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,ne||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||Q!==N)&&Yw(s,g,u,N),ia=!1;var J=s.memoizedState;g.state=J,So(s,u,g,p),_o(),Q=s.memoizedState,k||J!==Q||ia?(typeof ie=="function"&&(Oh(s,o,ie,u),Q=s.memoizedState),(I=ia||Ww(s,o,I,u,J,Q,N))?(ne||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=N,u=I):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,sh(n,s),N=s.memoizedProps,ne=es(o,N),g.props=ne,ie=s.pendingProps,J=g.context,Q=o.contextType,I=Gs,typeof Q=="object"&&Q!==null&&(I=Ut(Q)),k=o.getDerivedStateFromProps,(Q=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==ie||J!==I)&&Yw(s,g,u,I),ia=!1,J=s.memoizedState,g.state=J,So(s,u,g,p),_o();var Z=s.memoizedState;N!==ie||J!==Z||ia||n!==null&&n.dependencies!==null&&jc(n.dependencies)?(typeof k=="function"&&(Oh(s,o,k,u),Z=s.memoizedState),(ne=ia||Ww(s,o,ne,u,J,Z,I)||n!==null&&n.dependencies!==null&&jc(n.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,I)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=I,u=ne):(typeof g.componentDidUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,Fc(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=Ja(s,n.child,null,p),s.child=Ja(s,null,o,p)):zt(n,s,o,p),s.memoizedState=g.state,n=s.child):n=kn(n,s,p),n}function l_(n,s,o,u){return Wa(),s.flags|=256,zt(n,s,o,u),s.child}var kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mh(n){return{baseLanes:n,cachePool:Qx()}}function qh(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Sr),n}function c_(n,s,o){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,N;if((N=g)||(N=n!==null&&n.memoizedState===null?!1:(gt.current&2)!==0),N&&(p=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ue){if(p?ca(s):ua(),(n=tt)?(n=gS(n,Pr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:ra!==null?{id:on,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},o=Bx(n),o.return=s,s.child=o,$t=s,tt=null)):n=null,n===null)throw aa(s);return gm(n)?s.lanes=32:s.lanes=536870912,null}var k=u.children;return u=u.fallback,p?(ua(),p=s.mode,k=Gc({mode:"hidden",children:k},p),u=Ga(u,p,o,null),k.return=s,u.return=s,k.sibling=u,s.child=k,u=s.child,u.memoizedState=Mh(o),u.childLanes=qh(n,N,o),s.memoizedState=kh,Oo(null,u)):(ca(s),Ph(s,k))}var I=n.memoizedState;if(I!==null&&(k=I.dehydrated,k!==null)){if(g)s.flags&256?(ca(s),s.flags&=-257,s=Lh(n,s,o)):s.memoizedState!==null?(ua(),s.child=n.child,s.flags|=128,s=null):(ua(),k=u.fallback,p=s.mode,u=Gc({mode:"visible",children:u.children},p),k=Ga(k,p,o,null),k.flags|=2,u.return=s,k.return=s,u.sibling=k,s.child=u,Ja(s,n.child,null,o),u=s.child,u.memoizedState=Mh(o),u.childLanes=qh(n,N,o),s.memoizedState=kh,s=Oo(null,u));else if(ca(s),gm(k)){if(N=k.nextSibling&&k.nextSibling.dataset,N)var Q=N.dgst;N=Q,u=Error(a(419)),u.stack="",u.digest=N,vo({value:u,source:null,stack:null}),s=Lh(n,s,o)}else if(St||Ks(n,s,o,!1),N=(o&n.childLanes)!==0,St||N){if(N=Qe,N!==null&&(u=Kb(N,o),u!==0&&u!==I.retryLane))throw I.retryLane=u,Fa(n,u),cr(N,n,u),Rh;vm(k)||eu(),s=Lh(n,s,o)}else vm(k)?(s.flags|=192,s.child=n.child,s=null):(n=I.treeContext,tt=$r(k.nextSibling),$t=s,Ue=!0,na=null,Pr=!1,n!==null&&Gx(s,n),s=Ph(s,u.children),s.flags|=4096);return s}return p?(ua(),k=u.fallback,p=s.mode,I=n.child,Q=I.sibling,u=Tn(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,Q!==null?k=Tn(Q,k):(k=Ga(k,p,o,null),k.flags|=2),k.return=s,u.return=s,u.sibling=k,s.child=u,Oo(null,u),u=s.child,k=n.child.memoizedState,k===null?k=Mh(o):(p=k.cachePool,p!==null?(I=wt._currentValue,p=p.parent!==I?{parent:I,pool:I}:p):p=Qx(),k={baseLanes:k.baseLanes|o,cachePool:p}),u.memoizedState=k,u.childLanes=qh(n,N,o),s.memoizedState=kh,Oo(n.child,u)):(ca(s),o=n.child,n=o.sibling,o=Tn(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(N=s.deletions,N===null?(s.deletions=[n],s.flags|=16):N.push(n)),s.child=o,s.memoizedState=null,o)}function Ph(n,s){return s=Gc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Gc(n,s){return n=br(22,n,null,s),n.lanes=0,n}function Lh(n,s,o){return Ja(s,n.child,null,o),n=Ph(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function u_(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Jf(n.return,s,o)}function $h(n,s,o,u,p,g){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:g}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=u,N.tail=o,N.tailMode=p,N.treeForkCount=g)}function d_(n,s,o){var u=s.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var N=gt.current,k=(N&2)!==0;if(k?(N=N&1|2,s.flags|=128):N&=1,oe(gt,N),zt(n,s,u,o),u=Ue?po:0,!k&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&u_(n,o,s);else if(n.tag===19)u_(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)n=o.alternate,n!==null&&kc(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),$h(s,!1,p,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&kc(n)===null){s.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}$h(s,!0,o,null,g,u);break;case"together":$h(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function kn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ha|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Ks(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,o=Tn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Tn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Uh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&jc(n)))}function Mk(n,s,o){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),sa(s,wt,n.memoizedState.cache),Wa();break;case 27:case 5:bt(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:sa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,uh(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ca(s),s.flags|=128,null):(o&s.child.childLanes)!==0?c_(n,s,o):(ca(s),n=kn(n,s,o),n!==null?n.sibling:null);ca(s);break;case 19:var p=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Ks(n,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return d_(n,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),oe(gt,gt.current),u)break;return null;case 22:return s.lanes=0,n_(n,s,o,s.pendingProps);case 24:sa(s,wt,n.memoizedState.cache)}return kn(n,s,o)}function f_(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)St=!0;else{if(!Uh(n,o)&&(s.flags&128)===0)return St=!1,Mk(n,s,o);St=(n.flags&131072)!==0}else St=!1,Ue&&(s.flags&1048576)!==0&&Fx(s,po,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Xa(s.elementType),s.type=n,typeof n=="function")Ff(n)?(u=es(n,u),s.tag=1,s=o_(null,s,n,u,o)):(s.tag=0,s=Dh(null,s,n,u,o));else{if(n!=null){var p=n.$$typeof;if(p===O){s.tag=11,s=e_(null,s,n,u,o);break e}else if(p===R){s.tag=14,s=t_(null,s,n,u,o);break e}}throw s=W(n)||n,Error(a(306,s,""))}}return s;case 0:return Dh(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=es(u,s.pendingProps),o_(n,s,u,p,o);case 3:e:{if(ke(s,s.stateNode.containerInfo),n===null)throw Error(a(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,sh(n,s),So(s,u,null,o);var N=s.memoizedState;if(u=N.cache,sa(s,wt,u),u!==g.cache&&Zf(s,[wt],o,!0),_o(),u=N.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=l_(n,s,u,o);break e}else if(u!==p){p=kr(Error(a(424)),s),vo(p),s=l_(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(tt=$r(n.firstChild),$t=s,Ue=!0,na=null,Pr=!0,o=nw(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Wa(),u===p){s=kn(n,s,o);break e}zt(n,s,u,o)}s=s.child}return s;case 26:return Fc(n,s),n===null?(o=SS(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ue||(o=s.type,n=s.pendingProps,u=ou(pe.current).createElement(o),u[Lt]=s,u[nr]=n,It(u,o,n),kt(u),s.stateNode=u):s.memoizedState=SS(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return bt(s),n===null&&Ue&&(u=s.stateNode=xS(s.type,s.pendingProps,pe.current),$t=s,Pr=!0,p=tt,ya(s.type)?(ym=p,tt=$r(u.firstChild)):tt=p),zt(n,s,s.pendingProps.children,o),Fc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ue&&((p=u=tt)&&(u=uM(u,s.type,s.pendingProps,Pr),u!==null?(s.stateNode=u,$t=s,tt=$r(u.firstChild),Pr=!1,p=!0):p=!1),p||aa(s)),bt(s),p=s.type,g=s.pendingProps,N=n!==null?n.memoizedProps:null,u=g.children,hm(p,g)?u=null:N!==null&&hm(p,N)&&(s.flags|=32),s.memoizedState!==null&&(p=fh(n,s,jk,null,null,o),Ho._currentValue=p),Fc(n,s),zt(n,s,u,o),s.child;case 6:return n===null&&Ue&&((n=o=tt)&&(o=dM(o,s.pendingProps,Pr),o!==null?(s.stateNode=o,$t=s,tt=null,n=!0):n=!1),n||aa(s)),null;case 13:return c_(n,s,o);case 4:return ke(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Ja(s,null,u,o):zt(n,s,u,o),s.child;case 11:return e_(n,s,s.type,s.pendingProps,o);case 7:return zt(n,s,s.pendingProps,o),s.child;case 8:return zt(n,s,s.pendingProps.children,o),s.child;case 12:return zt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,sa(s,s.type,u.value),zt(n,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Va(s),p=Ut(p),u=u(p),s.flags|=1,zt(n,s,u,o),s.child;case 14:return t_(n,s,s.type,s.pendingProps,o);case 15:return r_(n,s,s.type,s.pendingProps,o);case 19:return d_(n,s,o);case 31:return kk(n,s,o);case 22:return n_(n,s,o,s.pendingProps);case 24:return Va(s),u=Ut(wt),n===null?(p=rh(),p===null&&(p=Qe,g=eh(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:u,cache:p},ah(s),sa(s,wt,p)):((n.lanes&o)!==0&&(sh(n,s),So(s,null,null,o),_o()),p=n.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),sa(s,wt,u)):(u=g.cache,sa(s,wt,u),u!==p.cache&&Zf(s,[wt],o,!0))),zt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Mn(n){n.flags|=4}function zh(n,s,o,u,p){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(U_())n.flags|=8192;else throw Qa=Cc,nh}else n.flags&=-16777217}function h_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!OS(s))if(U_())n.flags|=8192;else throw Qa=Cc,nh}function Wc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Wb():536870912,n.lanes|=s,oi|=s)}function Co(n,s){if(!Ue)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function qk(n,s,o){var u=s.pendingProps;switch(Vf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),An(wt),Pe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Vs(s)?Mn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xf())),rt(s),null;case 26:var p=s.type,g=s.memoizedState;return n===null?(Mn(s),g!==null?(rt(s),h_(s,g)):(rt(s),zh(s,p,null,u,o))):g?g!==n.memoizedState?(Mn(s),rt(s),h_(s,g)):(rt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Mn(s),rt(s),zh(s,p,n,u,o)),null;case 27:if(vt(s),o=pe.current,p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Mn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return rt(s),null}n=ue.current,Vs(s)?Wx(s):(n=xS(p,u,o),s.stateNode=n,Mn(s))}return rt(s),null;case 5:if(vt(s),p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Mn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return rt(s),null}if(g=ue.current,Vs(s))Wx(s);else{var N=ou(pe.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?N.createElement("select",{is:u.is}):N.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?N.createElement(p,{is:u.is}):N.createElement(p)}}g[Lt]=s,g[nr]=u;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=g;e:switch(It(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Mn(s)}}return rt(s),zh(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Mn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(n=pe.current,Vs(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,p=$t,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}n[Lt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||cS(n.nodeValue,o)),n||aa(s,!0)}else n=ou(n).createTextNode(u),n[Lt]=s,s.stateNode=n}return rt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=Vs(s),o!==null){if(n===null){if(!u)throw Error(a(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Lt]=s}else Wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),n=!1}else o=Xf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(wr(s),s):(wr(s),null);if((s.flags&128)!==0)throw Error(a(558))}return rt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Vs(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Lt]=s}else Wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),p=!1}else p=Xf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(wr(s),s):(wr(s),null)}return wr(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Wc(s,s.updateQueue),rt(s),null);case 4:return Pe(),n===null&&lm(s.stateNode.containerInfo),rt(s),null;case 10:return An(s.type),rt(s),null;case 19:if(X(gt),u=s.memoizedState,u===null)return rt(s),null;if(p=(s.flags&128)!==0,g=u.rendering,g===null)if(p)Co(u,!1);else{if(mt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=kc(n),g!==null){for(s.flags|=128,Co(u,!1),n=g.updateQueue,s.updateQueue=n,Wc(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Ix(o,n),o=o.sibling;return oe(gt,gt.current&1|2),Ue&&On(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Ze()>Qc&&(s.flags|=128,p=!0,Co(u,!1),s.lanes=4194304)}else{if(!p)if(n=kc(g),n!==null){if(s.flags|=128,p=!0,n=n.updateQueue,s.updateQueue=n,Wc(s,n),Co(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Ue)return rt(s),null}else 2*Ze()-u.renderingStartTime>Qc&&o!==536870912&&(s.flags|=128,p=!0,Co(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(n=u.last,n!==null?n.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ze(),n.sibling=null,o=gt.current,oe(gt,p?o&1|2:o&1),Ue&&On(s,u.treeForkCount),n):(rt(s),null);case 22:case 23:return wr(s),ch(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),o=s.updateQueue,o!==null&&Wc(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&X(Ka),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),An(wt),rt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function Pk(n,s){switch(Vf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return An(wt),Pe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return vt(s),null;case 31:if(s.memoizedState!==null){if(wr(s),s.alternate===null)throw Error(a(340));Wa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(wr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Wa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return X(gt),null;case 4:return Pe(),null;case 10:return An(s.type),null;case 22:case 23:return wr(s),ch(),n!==null&&X(Ka),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return An(wt),null;case 25:return null;default:return null}}function m_(n,s){switch(Vf(s),s.tag){case 3:An(wt),Pe();break;case 26:case 27:case 5:vt(s);break;case 4:Pe();break;case 31:s.memoizedState!==null&&wr(s);break;case 13:wr(s);break;case 19:X(gt);break;case 10:An(s.type);break;case 22:case 23:wr(s),ch(),n!==null&&X(Ka);break;case 24:An(wt)}}function Ao(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&n)===n){u=void 0;var g=o.create,N=o.inst;u=g(),N.destroy=u}o=o.next}while(o!==p)}}catch(k){Ge(s,s.return,k)}}function da(n,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&n)===n){var N=u.inst,k=N.destroy;if(k!==void 0){N.destroy=void 0,p=s;var I=o,Q=k;try{Q()}catch(ne){Ge(p,I,ne)}}}u=u.next}while(u!==g)}}catch(ne){Ge(s,s.return,ne)}}function p_(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{sw(s,o)}catch(u){Ge(n,n.return,u)}}}function v_(n,s,o){o.props=es(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Ge(n,s,u)}}function Ro(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(p){Ge(n,s,p)}}function cn(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ge(n,s,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ge(n,s,p)}else o.current=null}function g_(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ge(n,n.return,p)}}function Ih(n,s,o){try{var u=n.stateNode;aM(u,n.type,o,s),u[nr]=s}catch(p){Ge(n,n.return,p)}}function y_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ya(n.type)||n.tag===4}function Bh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||y_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ya(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=jn));else if(u!==4&&(u===27&&ya(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Hh(n,s,o),n=n.sibling;n!==null;)Hh(n,s,o),n=n.sibling}function Yc(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&ya(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Yc(n,s,o),n=n.sibling;n!==null;)Yc(n,s,o),n=n.sibling}function b_(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);It(s,u,o),s[Lt]=n,s[nr]=o}catch(g){Ge(n,n.return,g)}}var qn=!1,Et=!1,Fh=!1,x_=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Lk(n,s){if(n=n.containerInfo,dm=mu,n=Dx(n),Lf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var N=0,k=-1,I=-1,Q=0,ne=0,ie=n,J=null;t:for(;;){for(var Z;ie!==o||p!==0&&ie.nodeType!==3||(k=N+p),ie!==g||u!==0&&ie.nodeType!==3||(I=N+u),ie.nodeType===3&&(N+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)J=ie,ie=Z;for(;;){if(ie===n)break t;if(J===o&&++Q===p&&(k=N),J===g&&++ne===u&&(I=N),(Z=ie.nextSibling)!==null)break;ie=J,J=ie.parentNode}ie=Z}o=k===-1||I===-1?null:{start:k,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(fm={focusedElem:n,selectionRange:o},mu=!1,Mt=s;Mt!==null;)if(s=Mt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Mt=n;else for(;Mt!==null;){switch(s=Mt,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=es(o.type,p);n=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Se){Ge(o,o.return,Se)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)pm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":pm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,Mt=n;break}Mt=s.return}}function w_(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ln(n,o),u&4&&Ao(5,o);break;case 1:if(Ln(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(N){Ge(o,o.return,N)}else{var p=es(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(p,s,n.__reactInternalSnapshotBeforeUpdate)}catch(N){Ge(o,o.return,N)}}u&64&&p_(o),u&512&&Ro(o,o.return);break;case 3:if(Ln(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{sw(n,s)}catch(N){Ge(o,o.return,N)}}break;case 27:s===null&&u&4&&b_(o);case 26:case 5:Ln(n,o),s===null&&u&4&&g_(o),u&512&&Ro(o,o.return);break;case 12:Ln(n,o);break;case 31:Ln(n,o),u&4&&E_(n,o);break;case 13:Ln(n,o),u&4&&j_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Wk.bind(null,o),fM(n,o))));break;case 22:if(u=o.memoizedState!==null||qn,!u){s=s!==null&&s.memoizedState!==null||Et,p=qn;var g=Et;qn=u,(Et=s)&&!g?$n(n,o,(o.subtreeFlags&8772)!==0):Ln(n,o),qn=p,Et=g}break;case 30:break;default:Ln(n,o)}}function __(n){var s=n.alternate;s!==null&&(n.alternate=null,__(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&xf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,sr=!1;function Pn(n,s,o){for(o=o.child;o!==null;)S_(n,s,o),o=o.sibling}function S_(n,s,o){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(ft,o)}catch{}switch(o.tag){case 26:Et||cn(o,s),Pn(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Et||cn(o,s);var u=ot,p=sr;ya(o.type)&&(ot=o.stateNode,sr=!1),Pn(n,s,o),zo(o.stateNode),ot=u,sr=p;break;case 5:Et||cn(o,s);case 6:if(u=ot,p=sr,ot=null,Pn(n,s,o),ot=u,sr=p,ot!==null)if(sr)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(g){Ge(o,s,g)}else try{ot.removeChild(o.stateNode)}catch(g){Ge(o,s,g)}break;case 18:ot!==null&&(sr?(n=ot,pS(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),pi(n)):pS(ot,o.stateNode));break;case 4:u=ot,p=sr,ot=o.stateNode.containerInfo,sr=!0,Pn(n,s,o),ot=u,sr=p;break;case 0:case 11:case 14:case 15:da(2,o,s),Et||da(4,o,s),Pn(n,s,o);break;case 1:Et||(cn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&v_(o,s,u)),Pn(n,s,o);break;case 21:Pn(n,s,o);break;case 22:Et=(u=Et)||o.memoizedState!==null,Pn(n,s,o),Et=u;break;default:Pn(n,s,o)}}function E_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{pi(n)}catch(o){Ge(s,s.return,o)}}}function j_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{pi(n)}catch(o){Ge(s,s.return,o)}}function $k(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new x_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new x_),s;default:throw Error(a(435,n.tag))}}function Vc(n,s){var o=$k(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=Yk.bind(null,n,u);u.then(p,p)}})}function ir(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=n,N=s,k=N;e:for(;k!==null;){switch(k.tag){case 27:if(ya(k.type)){ot=k.stateNode,sr=!1;break e}break;case 5:ot=k.stateNode,sr=!1;break e;case 3:case 4:ot=k.stateNode.containerInfo,sr=!0;break e}k=k.return}if(ot===null)throw Error(a(160));S_(g,N,p),ot=null,sr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)N_(s,n),s=s.sibling}var Xr=null;function N_(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ir(s,n),or(n),u&4&&(da(3,n,n.return),Ao(3,n),da(5,n,n.return));break;case 1:ir(s,n),or(n),u&512&&(Et||o===null||cn(o,o.return)),u&64&&qn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Xr;if(ir(s,n),or(n),u&512&&(Et||o===null||cn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[no]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),It(g,u,o),g[Lt]=n,kt(g),u=g;break e;case"link":var N=NS("link","href",p).get(u+(o.href||""));if(N){for(var k=0;k<N.length;k++)if(g=N[k],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(k,1);break t}}g=p.createElement(u),It(g,u,o),p.head.appendChild(g);break;case"meta":if(N=NS("meta","content",p).get(u+(o.content||""))){for(k=0;k<N.length;k++)if(g=N[k],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(k,1);break t}}g=p.createElement(u),It(g,u,o),p.head.appendChild(g);break;default:throw Error(a(468,u))}g[Lt]=n,kt(g),u=g}n.stateNode=u}else TS(p,n.type,n.stateNode);else n.stateNode=jS(p,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?TS(p,n.type,n.stateNode):jS(p,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Ih(n,n.memoizedProps,o.memoizedProps)}break;case 27:ir(s,n),or(n),u&512&&(Et||o===null||cn(o,o.return)),o!==null&&u&4&&Ih(n,n.memoizedProps,o.memoizedProps);break;case 5:if(ir(s,n),or(n),u&512&&(Et||o===null||cn(o,o.return)),n.flags&32){p=n.stateNode;try{$s(p,"")}catch(me){Ge(n,n.return,me)}}u&4&&n.stateNode!=null&&(p=n.memoizedProps,Ih(n,p,o!==null?o.memoizedProps:p)),u&1024&&(Fh=!0);break;case 6:if(ir(s,n),or(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(me){Ge(n,n.return,me)}}break;case 3:if(uu=null,p=Xr,Xr=lu(s.containerInfo),ir(s,n),Xr=p,or(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{pi(s.containerInfo)}catch(me){Ge(n,n.return,me)}Fh&&(Fh=!1,T_(n));break;case 4:u=Xr,Xr=lu(n.stateNode.containerInfo),ir(s,n),or(n),Xr=u;break;case 12:ir(s,n),or(n);break;case 31:ir(s,n),or(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Vc(n,u)));break;case 13:ir(s,n),or(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xc=Ze()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Vc(n,u)));break;case 22:p=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,Q=qn,ne=Et;if(qn=Q||p,Et=ne||I,ir(s,n),Et=ne,qn=Q,or(n),u&8192)e:for(s=n.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||I||qn||Et||ts(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){I=o=s;try{if(g=I.stateNode,p)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{k=I.stateNode;var ie=I.memoizedProps.style,J=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(me){Ge(I,I.return,me)}}}else if(s.tag===6){if(o===null){I=s;try{I.stateNode.nodeValue=p?"":I.memoizedProps}catch(me){Ge(I,I.return,me)}}}else if(s.tag===18){if(o===null){I=s;try{var Z=I.stateNode;p?vS(Z,!0):vS(I.stateNode,!1)}catch(me){Ge(I,I.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Vc(n,o))));break;case 19:ir(s,n),or(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Vc(n,u)));break;case 30:break;case 21:break;default:ir(s,n),or(n)}}function or(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(y_(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,g=Bh(n);Yc(n,g,p);break;case 5:var N=o.stateNode;o.flags&32&&($s(N,""),o.flags&=-33);var k=Bh(n);Yc(n,k,N);break;case 3:case 4:var I=o.stateNode.containerInfo,Q=Bh(n);Hh(n,Q,I);break;default:throw Error(a(161))}}catch(ne){Ge(n,n.return,ne)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function T_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;T_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ln(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)w_(n,s.alternate,s),s=s.sibling}function ts(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:da(4,s,s.return),ts(s);break;case 1:cn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&v_(s,s.return,o),ts(s);break;case 27:zo(s.stateNode);case 26:case 5:cn(s,s.return),ts(s);break;case 22:s.memoizedState===null&&ts(s);break;case 30:ts(s);break;default:ts(s)}n=n.sibling}}function $n(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=n,g=s,N=g.flags;switch(g.tag){case 0:case 11:case 15:$n(p,g,o),Ao(4,g);break;case 1:if($n(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){Ge(u,u.return,Q)}if(u=g,p=u.updateQueue,p!==null){var k=u.stateNode;try{var I=p.shared.hiddenCallbacks;if(I!==null)for(p.shared.hiddenCallbacks=null,p=0;p<I.length;p++)aw(I[p],k)}catch(Q){Ge(u,u.return,Q)}}o&&N&64&&p_(g),Ro(g,g.return);break;case 27:b_(g);case 26:case 5:$n(p,g,o),o&&u===null&&N&4&&g_(g),Ro(g,g.return);break;case 12:$n(p,g,o);break;case 31:$n(p,g,o),o&&N&4&&E_(p,g);break;case 13:$n(p,g,o),o&&N&4&&j_(p,g);break;case 22:g.memoizedState===null&&$n(p,g,o),Ro(g,g.return);break;case 30:break;default:$n(p,g,o)}s=s.sibling}}function Gh(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&go(o))}function Wh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&go(n))}function Qr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)O_(n,s,o,u),s=s.sibling}function O_(n,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Qr(n,s,o,u),p&2048&&Ao(9,s);break;case 1:Qr(n,s,o,u);break;case 3:Qr(n,s,o,u),p&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&go(n)));break;case 12:if(p&2048){Qr(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,N=g.id,k=g.onPostCommit;typeof k=="function"&&k(N,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Ge(s,s.return,I)}}else Qr(n,s,o,u);break;case 31:Qr(n,s,o,u);break;case 13:Qr(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,N=s.alternate,s.memoizedState!==null?g._visibility&2?Qr(n,s,o,u):Do(n,s):g._visibility&2?Qr(n,s,o,u):(g._visibility|=2,ai(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Gh(N,s);break;case 24:Qr(n,s,o,u),p&2048&&Wh(s.alternate,s);break;default:Qr(n,s,o,u)}}function ai(n,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,N=s,k=o,I=u,Q=N.flags;switch(N.tag){case 0:case 11:case 15:ai(g,N,k,I,p),Ao(8,N);break;case 23:break;case 22:var ne=N.stateNode;N.memoizedState!==null?ne._visibility&2?ai(g,N,k,I,p):Do(g,N):(ne._visibility|=2,ai(g,N,k,I,p)),p&&Q&2048&&Gh(N.alternate,N);break;case 24:ai(g,N,k,I,p),p&&Q&2048&&Wh(N.alternate,N);break;default:ai(g,N,k,I,p)}s=s.sibling}}function Do(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,p=u.flags;switch(u.tag){case 22:Do(o,u),p&2048&&Gh(u.alternate,u);break;case 24:Do(o,u),p&2048&&Wh(u.alternate,u);break;default:Do(o,u)}s=s.sibling}}var ko=8192;function si(n,s,o){if(n.subtreeFlags&ko)for(n=n.child;n!==null;)C_(n,s,o),n=n.sibling}function C_(n,s,o){switch(n.tag){case 26:si(n,s,o),n.flags&ko&&n.memoizedState!==null&&EM(o,Xr,n.memoizedState,n.memoizedProps);break;case 5:si(n,s,o);break;case 3:case 4:var u=Xr;Xr=lu(n.stateNode.containerInfo),si(n,s,o),Xr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=ko,ko=16777216,si(n,s,o),ko=u):si(n,s,o));break;default:si(n,s,o)}}function A_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Mo(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Mt=u,D_(u,n)}A_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)R_(n),n=n.sibling}function R_(n){switch(n.tag){case 0:case 11:case 15:Mo(n),n.flags&2048&&da(9,n,n.return);break;case 3:Mo(n);break;case 12:Mo(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Kc(n)):Mo(n);break;default:Mo(n)}}function Kc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Mt=u,D_(u,n)}A_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:da(8,s,s.return),Kc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Kc(s));break;default:Kc(s)}n=n.sibling}}function D_(n,s){for(;Mt!==null;){var o=Mt;switch(o.tag){case 0:case 11:case 15:da(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:go(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Mt=u;else e:for(o=n;Mt!==null;){u=Mt;var p=u.sibling,g=u.return;if(__(u),u===o){Mt=null;break e}if(p!==null){p.return=g,Mt=p;break e}Mt=g}}}var Uk={getCacheForType:function(n){var s=Ut(wt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Ut(wt).controller.signal}},zk=typeof WeakMap=="function"?WeakMap:Map,He=0,Qe=null,Me=null,Le=0,Fe=0,_r=null,fa=!1,ii=!1,Yh=!1,Un=0,mt=0,ha=0,rs=0,Vh=0,Sr=0,oi=0,qo=null,lr=null,Kh=!1,Xc=0,k_=0,Qc=1/0,Jc=null,ma=null,Ot=0,pa=null,li=null,zn=0,Xh=0,Qh=null,M_=null,Po=0,Jh=null;function Er(){return(He&2)!==0&&Le!==0?Le&-Le:B.T!==null?am():Xb()}function q_(){if(Sr===0)if((Le&536870912)===0||Ue){var n=ic;ic<<=1,(ic&3932160)===0&&(ic=262144),Sr=n}else Sr=536870912;return n=xr.current,n!==null&&(n.flags|=32),Sr}function cr(n,s,o){(n===Qe&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&(ci(n,0),va(n,Le,Sr,!1)),ro(n,o),((He&2)===0||n!==Qe)&&(n===Qe&&((He&2)===0&&(rs|=o),mt===4&&va(n,Le,Sr,!1)),un(n))}function P_(n,s,o){if((He&6)!==0)throw Error(a(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||to(n,s),p=u?Hk(n,s):em(n,s,!0),g=u;do{if(p===0){ii&&!u&&va(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!Ik(o)){p=em(n,s,!1),g=!1;continue}if(p===2){if(g=s,n.errorRecoveryDisabledLanes&g)var N=0;else N=n.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var k=n;p=qo;var I=k.current.memoizedState.isDehydrated;if(I&&(ci(k,N).flags|=256),N=em(k,N,!1),N!==2){if(Yh&&!I){k.errorRecoveryDisabledLanes|=g,rs|=g,p=4;break e}g=lr,lr=p,g!==null&&(lr===null?lr=g:lr.push.apply(lr,g))}p=N}if(g=!1,p!==2)continue}}if(p===1){ci(n,0),va(n,s,0,!0);break}e:{switch(u=n,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:va(u,s,Sr,!fa);break e;case 2:lr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(p=Xc+300-Ze(),10<p)){if(va(u,s,Sr,!fa),lc(u,0,!0)!==0)break e;zn=s,u.timeoutHandle=hS(L_.bind(null,u,o,lr,Jc,Kh,s,Sr,rs,oi,fa,g,"Throttled",-0,0),p);break e}L_(u,o,lr,Jc,Kh,s,Sr,rs,oi,fa,g,null,-0,0)}}break}while(!0);un(n)}function L_(n,s,o,u,p,g,N,k,I,Q,ne,ie,J,Z){if(n.timeoutHandle=-1,ie=s.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},C_(s,g,ie);var me=(g&62914560)===g?Xc-Ze():(g&4194048)===g?k_-Ze():0;if(me=jM(ie,me),me!==null){zn=g,n.cancelPendingCommit=me(G_.bind(null,n,s,g,o,u,p,N,k,I,ne,ie,null,J,Z)),va(n,g,N,!Q);return}}G_(n,s,g,o,u,p,N,k,I)}function Ik(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!yr(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function va(n,s,o,u){s&=~Vh,s&=~rs,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var p=s;0<p;){var g=31-Yt(p),N=1<<g;u[g]=-1,p&=~N}o!==0&&Yb(n,o,s)}function Zc(){return(He&6)===0?(Lo(0),!1):!0}function Zh(){if(Me!==null){if(Fe===0)var n=Me.return;else n=Me,Cn=Ya=null,ph(n),Zs=null,bo=0,n=Me;for(;n!==null;)m_(n.alternate,n),n=n.return;Me=null}}function ci(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,oM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),zn=0,Zh(),Qe=n,Me=o=Tn(n.current,null),Le=s,Fe=0,_r=null,fa=!1,ii=to(n,s),Yh=!1,oi=Sr=Vh=rs=ha=mt=0,lr=qo=null,Kh=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var p=31-Yt(u),g=1<<p;s|=n[p],u&=~g}return Un=s,xc(),o}function $_(n,s){Ce=null,B.H=To,s===Js||s===Oc?(s=ew(),Fe=3):s===nh?(s=ew(),Fe=4):Fe=s===Rh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,_r=s,Me===null&&(mt=1,Bc(n,kr(s,n.current)))}function U_(){var n=xr.current;return n===null?!0:(Le&4194048)===Le?Lr===null:(Le&62914560)===Le||(Le&536870912)!==0?n===Lr:!1}function z_(){var n=B.H;return B.H=To,n===null?To:n}function I_(){var n=B.A;return B.A=Uk,n}function eu(){mt=4,fa||(Le&4194048)!==Le&&xr.current!==null||(ii=!0),(ha&134217727)===0&&(rs&134217727)===0||Qe===null||va(Qe,Le,Sr,!1)}function em(n,s,o){var u=He;He|=2;var p=z_(),g=I_();(Qe!==n||Le!==s)&&(Jc=null,ci(n,s)),s=!1;var N=mt;e:do try{if(Fe!==0&&Me!==null){var k=Me,I=_r;switch(Fe){case 8:Zh(),N=6;break e;case 3:case 2:case 9:case 6:xr.current===null&&(s=!0);var Q=Fe;if(Fe=0,_r=null,ui(n,k,I,Q),o&&ii){N=0;break e}break;default:Q=Fe,Fe=0,_r=null,ui(n,k,I,Q)}}Bk(),N=mt;break}catch(ne){$_(n,ne)}while(!0);return s&&n.shellSuspendCounter++,Cn=Ya=null,He=u,B.H=p,B.A=g,Me===null&&(Qe=null,Le=0,xc()),N}function Bk(){for(;Me!==null;)B_(Me)}function Hk(n,s){var o=He;He|=2;var u=z_(),p=I_();Qe!==n||Le!==s?(Jc=null,Qc=Ze()+500,ci(n,s)):ii=to(n,s);e:do try{if(Fe!==0&&Me!==null){s=Me;var g=_r;t:switch(Fe){case 1:Fe=0,_r=null,ui(n,s,g,1);break;case 2:case 9:if(Jx(g)){Fe=0,_r=null,H_(s);break}s=function(){Fe!==2&&Fe!==9||Qe!==n||(Fe=7),un(n)},g.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Jx(g)?(Fe=0,_r=null,H_(s)):(Fe=0,_r=null,ui(n,s,g,7));break;case 5:var N=null;switch(Me.tag){case 26:N=Me.memoizedState;case 5:case 27:var k=Me;if(N?OS(N):k.stateNode.complete){Fe=0,_r=null;var I=k.sibling;if(I!==null)Me=I;else{var Q=k.return;Q!==null?(Me=Q,tu(Q)):Me=null}break t}}Fe=0,_r=null,ui(n,s,g,5);break;case 6:Fe=0,_r=null,ui(n,s,g,6);break;case 8:Zh(),mt=6;break e;default:throw Error(a(462))}}Fk();break}catch(ne){$_(n,ne)}while(!0);return Cn=Ya=null,B.H=u,B.A=p,He=o,Me!==null?0:(Qe=null,Le=0,xc(),mt)}function Fk(){for(;Me!==null&&!st();)B_(Me)}function B_(n){var s=f_(n.alternate,n,Un);n.memoizedProps=n.pendingProps,s===null?tu(n):Me=s}function H_(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=i_(o,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=i_(o,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:ph(s);default:m_(o,s),s=Me=Ix(s,Un),s=f_(o,s,Un)}n.memoizedProps=n.pendingProps,s===null?tu(n):Me=s}function ui(n,s,o,u){Cn=Ya=null,ph(s),Zs=null,bo=0;var p=s.return;try{if(Dk(n,p,s,o,Le)){mt=1,Bc(n,kr(o,n.current)),Me=null;return}}catch(g){if(p!==null)throw Me=p,g;mt=1,Bc(n,kr(o,n.current)),Me=null;return}s.flags&32768?(Ue||u===1?n=!0:ii||(Le&536870912)!==0?n=!1:(fa=n=!0,(u===2||u===9||u===3||u===6)&&(u=xr.current,u!==null&&u.tag===13&&(u.flags|=16384))),F_(s,n)):tu(s)}function tu(n){var s=n;do{if((s.flags&32768)!==0){F_(s,fa);return}n=s.return;var o=qk(s.alternate,s,Un);if(o!==null){Me=o;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=n}while(s!==null);mt===0&&(mt=5)}function F_(n,s){do{var o=Pk(n.alternate,n);if(o!==null){o.flags&=32767,Me=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Me=n;return}Me=n=o}while(n!==null);mt=6,Me=null}function G_(n,s,o,u,p,g,N,k,I){n.cancelPendingCommit=null;do ru();while(Ot!==0);if((He&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(g=s.lanes|s.childLanes,g|=Bf,SD(n,o,g,N,k,I),n===Qe&&(Me=Qe=null,Le=0),li=s,pa=n,zn=o,Xh=g,Qh=p,M_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Vk(Ee,function(){return X_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,p=H.p,H.p=2,N=He,He|=4;try{Lk(n,s,o)}finally{He=N,H.p=p,B.T=u}}Ot=1,W_(),Y_(),V_()}}function W_(){if(Ot===1){Ot=0;var n=pa,s=li,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=H.p;H.p=2;var p=He;He|=4;try{N_(s,n);var g=fm,N=Dx(n.containerInfo),k=g.focusedElem,I=g.selectionRange;if(N!==k&&k&&k.ownerDocument&&Rx(k.ownerDocument.documentElement,k)){if(I!==null&&Lf(k)){var Q=I.start,ne=I.end;if(ne===void 0&&(ne=Q),"selectionStart"in k)k.selectionStart=Q,k.selectionEnd=Math.min(ne,k.value.length);else{var ie=k.ownerDocument||document,J=ie&&ie.defaultView||window;if(J.getSelection){var Z=J.getSelection(),me=k.textContent.length,Se=Math.min(I.start,me),Ke=I.end===void 0?Se:Math.min(I.end,me);!Z.extend&&Se>Ke&&(N=Ke,Ke=Se,Se=N);var G=Ax(k,Se),F=Ax(k,Ke);if(G&&F&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var K=ie.createRange();K.setStart(G.node,G.offset),Z.removeAllRanges(),Se>Ke?(Z.addRange(K),Z.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),Z.addRange(K))}}}}for(ie=[],Z=k;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ie.length;k++){var se=ie[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}mu=!!dm,fm=dm=null}finally{He=p,H.p=u,B.T=o}}n.current=s,Ot=2}}function Y_(){if(Ot===2){Ot=0;var n=pa,s=li,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=H.p;H.p=2;var p=He;He|=4;try{w_(n,s.alternate,s)}finally{He=p,H.p=u,B.T=o}}Ot=3}}function V_(){if(Ot===4||Ot===3){Ot=0,it();var n=pa,s=li,o=zn,u=M_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ot=5:(Ot=0,li=pa=null,K_(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(ma=null),yf(o),s=s.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(ft,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=B.T,p=H.p,H.p=2,B.T=null;try{for(var g=n.onRecoverableError,N=0;N<u.length;N++){var k=u[N];g(k.value,{componentStack:k.stack})}}finally{B.T=s,H.p=p}}(zn&3)!==0&&ru(),un(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===Jh?Po++:(Po=0,Jh=n):Po=0,Lo(0)}}function K_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,go(s)))}function ru(){return W_(),Y_(),V_(),X_()}function X_(){if(Ot!==5)return!1;var n=pa,s=Xh;Xh=0;var o=yf(zn),u=B.T,p=H.p;try{H.p=32>o?32:o,B.T=null,o=Qh,Qh=null;var g=pa,N=zn;if(Ot=0,li=pa=null,zn=0,(He&6)!==0)throw Error(a(331));var k=He;if(He|=4,R_(g.current),O_(g,g.current,N,o),He=k,Lo(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(ft,g)}catch{}return!0}finally{H.p=p,B.T=u,K_(n,s)}}function Q_(n,s,o){s=kr(o,s),s=Ah(n.stateNode,s,2),n=la(n,s,2),n!==null&&(ro(n,2),un(n))}function Ge(n,s,o){if(n.tag===3)Q_(n,n,o);else for(;s!==null;){if(s.tag===3){Q_(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ma===null||!ma.has(u))){n=kr(o,n),o=Jw(2),u=la(s,o,2),u!==null&&(Zw(o,u,s,n),ro(u,2),un(u));break}}s=s.return}}function tm(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new zk;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Yh=!0,p.add(o),n=Gk.bind(null,n,s,o),s.then(n,n))}function Gk(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Qe===n&&(Le&o)===o&&(mt===4||mt===3&&(Le&62914560)===Le&&300>Ze()-Xc?(He&2)===0&&ci(n,0):Vh|=o,oi===Le&&(oi=0)),un(n)}function J_(n,s){s===0&&(s=Wb()),n=Fa(n,s),n!==null&&(ro(n,s),un(n))}function Wk(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),J_(n,o)}function Yk(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),J_(n,o)}function Vk(n,s){return _e(n,s)}var nu=null,di=null,rm=!1,au=!1,nm=!1,ga=0;function un(n){n!==di&&n.next===null&&(di===null?nu=di=n:di=di.next=n),au=!0,rm||(rm=!0,Xk())}function Lo(n,s){if(!nm&&au){nm=!0;do for(var o=!1,u=nu;u!==null;){if(n!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var N=u.suspendedLanes,k=u.pingedLanes;g=(1<<31-Yt(42|n)+1)-1,g&=p&~(N&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,rS(u,g))}else g=Le,g=lc(u,u===Qe?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||to(u,g)||(o=!0,rS(u,g));u=u.next}while(o);nm=!1}}function Kk(){Z_()}function Z_(){au=rm=!1;var n=0;ga!==0&&iM()&&(n=ga);for(var s=Ze(),o=null,u=nu;u!==null;){var p=u.next,g=eS(u,s);g===0?(u.next=null,o===null?nu=p:o.next=p,p===null&&(di=o)):(o=u,(n!==0||(g&3)!==0)&&(au=!0)),u=p}Ot!==0&&Ot!==5||Lo(n),ga!==0&&(ga=0)}function eS(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var N=31-Yt(g),k=1<<N,I=p[N];I===-1?((k&o)===0||(k&u)!==0)&&(p[N]=_D(k,s)):I<=s&&(n.expiredLanes|=k),g&=~k}if(s=Qe,o=Le,o=lc(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Xe(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||to(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Xe(u),yf(o)){case 2:case 8:o=ge;break;case 32:o=Ee;break;case 268435456:o=rr;break;default:o=Ee}return u=tS.bind(null,n),o=_e(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Xe(u),n.callbackPriority=2,n.callbackNode=null,2}function tS(n,s){if(Ot!==0&&Ot!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ru()&&n.callbackNode!==o)return null;var u=Le;return u=lc(n,n===Qe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(P_(n,u,s),eS(n,Ze()),n.callbackNode!=null&&n.callbackNode===o?tS.bind(null,n):null)}function rS(n,s){if(ru())return null;P_(n,s,!0)}function Xk(){lM(function(){(He&6)!==0?_e(ae,Kk):Z_()})}function am(){if(ga===0){var n=Xs;n===0&&(n=sc,sc<<=1,(sc&261888)===0&&(sc=256)),ga=n}return ga}function nS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fc(""+n)}function aS(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function Qk(n,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var g=nS((p[nr]||null).action),N=u.submitter;N&&(s=(s=N[nr]||null)?nS(s.formAction):N.getAttribute("formAction"),s!==null&&(g=s,N=null));var k=new vc("action","action",null,u,p);n.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ga!==0){var I=N?aS(p,N):new FormData(p);Eh(o,{pending:!0,data:I,method:p.method,action:g},null,I)}}else typeof g=="function"&&(k.preventDefault(),I=N?aS(p,N):new FormData(p),Eh(o,{pending:!0,data:I,method:p.method,action:g},g,I))},currentTarget:p}]})}}for(var sm=0;sm<If.length;sm++){var im=If[sm],Jk=im.toLowerCase(),Zk=im[0].toUpperCase()+im.slice(1);Kr(Jk,"on"+Zk)}Kr(qx,"onAnimationEnd"),Kr(Px,"onAnimationIteration"),Kr(Lx,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(pk,"onTransitionRun"),Kr(vk,"onTransitionStart"),Kr(gk,"onTransitionCancel"),Kr($x,"onTransitionEnd"),Ps("onMouseEnter",["mouseout","mouseover"]),Ps("onMouseLeave",["mouseout","mouseover"]),Ps("onPointerEnter",["pointerout","pointerover"]),Ps("onPointerLeave",["pointerout","pointerover"]),za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),za("onBeforeInput",["compositionend","keypress","textInput","paste"]),za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function sS(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var N=u.length-1;0<=N;N--){var k=u[N],I=k.instance,Q=k.currentTarget;if(k=k.listener,I!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=Q;try{g(p)}catch(ne){bc(ne)}p.currentTarget=null,g=I}else for(N=0;N<u.length;N++){if(k=u[N],I=k.instance,Q=k.currentTarget,k=k.listener,I!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=Q;try{g(p)}catch(ne){bc(ne)}p.currentTarget=null,g=I}}}}function qe(n,s){var o=s[bf];o===void 0&&(o=s[bf]=new Set);var u=n+"__bubble";o.has(u)||(iS(s,n,2,!1),o.add(u))}function om(n,s,o){var u=0;s&&(u|=4),iS(o,n,u,s)}var su="_reactListening"+Math.random().toString(36).slice(2);function lm(n){if(!n[su]){n[su]=!0,Zb.forEach(function(o){o!=="selectionchange"&&(eM.has(o)||om(o,!1,n),om(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[su]||(s[su]=!0,om("selectionchange",!1,s))}}function iS(n,s,o,u){switch(qS(s)){case 2:var p=OM;break;case 8:p=CM;break;default:p=Sm}o=p.bind(null,s,o,n),p=void 0,!Of||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(s,o,{capture:!0,passive:p}):n.addEventListener(s,o,!0):p!==void 0?n.addEventListener(s,o,{passive:p}):n.addEventListener(s,o,!1)}function cm(n,s,o,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var k=u.stateNode.containerInfo;if(k===p)break;if(N===4)for(N=u.return;N!==null;){var I=N.tag;if((I===3||I===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;k!==null;){if(N=ks(k),N===null)return;if(I=N.tag,I===5||I===6||I===26||I===27){u=g=N;continue e}k=k.parentNode}}u=u.return}dx(function(){var Q=g,ne=Nf(o),ie=[];e:{var J=Ux.get(n);if(J!==void 0){var Z=vc,me=n;switch(n){case"keypress":if(mc(o)===0)break e;case"keydown":case"keyup":Z=YD;break;case"focusin":me="focus",Z=Df;break;case"focusout":me="blur",Z=Df;break;case"beforeblur":case"afterblur":Z=Df;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=mx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=qD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=XD;break;case qx:case Px:case Lx:Z=$D;break;case $x:Z=JD;break;case"scroll":case"scrollend":Z=kD;break;case"wheel":Z=ek;break;case"copy":case"cut":case"paste":Z=zD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=vx;break;case"toggle":case"beforetoggle":Z=rk}var Se=(s&4)!==0,Ke=!Se&&(n==="scroll"||n==="scrollend"),G=Se?J!==null?J+"Capture":null:J;Se=[];for(var F=Q,K;F!==null;){var se=F;if(K=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||K===null||G===null||(se=so(F,G),se!=null&&Se.push(Uo(F,se,K))),Ke)break;F=F.return}0<Se.length&&(J=new Z(J,me,null,o,ne),ie.push({event:J,listeners:Se}))}}if((s&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",J&&o!==jf&&(me=o.relatedTarget||o.fromElement)&&(ks(me)||me[Ds]))break e;if((Z||J)&&(J=ne.window===ne?ne:(J=ne.ownerDocument)?J.defaultView||J.parentWindow:window,Z?(me=o.relatedTarget||o.toElement,Z=Q,me=me?ks(me):null,me!==null&&(Ke=l(me),Se=me.tag,me!==Ke||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(Z=null,me=Q),Z!==me)){if(Se=mx,se="onMouseLeave",G="onMouseEnter",F="mouse",(n==="pointerout"||n==="pointerover")&&(Se=vx,se="onPointerLeave",G="onPointerEnter",F="pointer"),Ke=Z==null?J:ao(Z),K=me==null?J:ao(me),J=new Se(se,F+"leave",Z,o,ne),J.target=Ke,J.relatedTarget=K,se=null,ks(ne)===Q&&(Se=new Se(G,F+"enter",me,o,ne),Se.target=K,Se.relatedTarget=Ke,se=Se),Ke=se,Z&&me)t:{for(Se=tM,G=Z,F=me,K=0,se=G;se;se=Se(se))K++;se=0;for(var we=F;we;we=Se(we))se++;for(;0<K-se;)G=Se(G),K--;for(;0<se-K;)F=Se(F),se--;for(;K--;){if(G===F||F!==null&&G===F.alternate){Se=G;break t}G=Se(G),F=Se(F)}Se=null}else Se=null;Z!==null&&oS(ie,J,Z,Se,!1),me!==null&&Ke!==null&&oS(ie,Ke,me,Se,!0)}}e:{if(J=Q?ao(Q):window,Z=J.nodeName&&J.nodeName.toLowerCase(),Z==="select"||Z==="input"&&J.type==="file")var Ie=Ex;else if(_x(J))if(jx)Ie=fk;else{Ie=uk;var ve=ck}else Z=J.nodeName,!Z||Z.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Ef(Q.elementType)&&(Ie=Ex):Ie=dk;if(Ie&&(Ie=Ie(n,Q))){Sx(ie,Ie,o,ne);break e}ve&&ve(n,J,Q),n==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&Sf(J,"number",J.value)}switch(ve=Q?ao(Q):window,n){case"focusin":(_x(ve)||ve.contentEditable==="true")&&(Bs=ve,$f=Q,mo=null);break;case"focusout":mo=$f=Bs=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,kx(ie,o,ne);break;case"selectionchange":if(mk)break;case"keydown":case"keyup":kx(ie,o,ne)}var Re;if(Mf)e:{switch(n){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Is?xx(n,o)&&($e="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(gx&&o.locale!=="ko"&&(Is||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Is&&(Re=fx()):(ta=ne,Cf="value"in ta?ta.value:ta.textContent,Is=!0)),ve=iu(Q,$e),0<ve.length&&($e=new px($e,n,null,o,ne),ie.push({event:$e,listeners:ve}),Re?$e.data=Re:(Re=wx(o),Re!==null&&($e.data=Re)))),(Re=ak?sk(n,o):ik(n,o))&&($e=iu(Q,"onBeforeInput"),0<$e.length&&(ve=new px("onBeforeInput","beforeinput",null,o,ne),ie.push({event:ve,listeners:$e}),ve.data=Re)),Qk(ie,n,Q,o,ne)}sS(ie,s)})}function Uo(n,s,o){return{instance:n,listener:s,currentTarget:o}}function iu(n,s){for(var o=s+"Capture",u=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=so(n,o),p!=null&&u.unshift(Uo(n,p,g)),p=so(n,s),p!=null&&u.push(Uo(n,p,g))),n.tag===3)return u;n=n.return}return[]}function tM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function oS(n,s,o,u,p){for(var g=s._reactName,N=[];o!==null&&o!==u;){var k=o,I=k.alternate,Q=k.stateNode;if(k=k.tag,I!==null&&I===u)break;k!==5&&k!==26&&k!==27||Q===null||(I=Q,p?(Q=so(o,g),Q!=null&&N.unshift(Uo(o,Q,I))):p||(Q=so(o,g),Q!=null&&N.push(Uo(o,Q,I)))),o=o.return}N.length!==0&&n.push({event:s,listeners:N})}var rM=/\r\n?/g,nM=/\u0000|\uFFFD/g;function lS(n){return(typeof n=="string"?n:""+n).replace(rM,`
`).replace(nM,"")}function cS(n,s){return s=lS(s),lS(n)===s}function Ve(n,s,o,u,p,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||$s(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&$s(n,""+u);break;case"className":uc(n,"class",u);break;case"tabIndex":uc(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":uc(n,o,u);break;case"style":cx(n,u,g);break;case"data":if(s!=="object"){uc(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=fc(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ve(n,s,"name",p.name,p,null),Ve(n,s,"formEncType",p.formEncType,p,null),Ve(n,s,"formMethod",p.formMethod,p,null),Ve(n,s,"formTarget",p.formTarget,p,null)):(Ve(n,s,"encType",p.encType,p,null),Ve(n,s,"method",p.method,p,null),Ve(n,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=fc(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=jn);break;case"onScroll":u!=null&&qe("scroll",n);break;case"onScrollEnd":u!=null&&qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=fc(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":qe("beforetoggle",n),qe("toggle",n),cc(n,"popover",u);break;case"xlinkActuate":En(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":En(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":En(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":En(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":En(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":En(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":En(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":En(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":En(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":cc(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=RD.get(o)||o,cc(n,o,u))}}function um(n,s,o,u,p,g){switch(o){case"style":cx(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?$s(n,u):(typeof u=="number"||typeof u=="bigint")&&$s(n,""+u);break;case"onScroll":u!=null&&qe("scroll",n);break;case"onScrollEnd":u!=null&&qe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ex.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=n[nr]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,p);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):cc(n,o,u)}}}function It(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",n),qe("load",n);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var N=o[g];if(N!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ve(n,s,g,N,o,null)}}p&&Ve(n,s,"srcSet",o.srcSet,o,null),u&&Ve(n,s,"src",o.src,o,null);return;case"input":qe("invalid",n);var k=g=N=p=null,I=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":p=ne;break;case"type":N=ne;break;case"checked":I=ne;break;case"defaultChecked":Q=ne;break;case"value":g=ne;break;case"defaultValue":k=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(a(137,s));break;default:Ve(n,s,u,ne,o,null)}}sx(n,g,k,I,Q,N,p,!1);return;case"select":qe("invalid",n),u=N=g=null;for(p in o)if(o.hasOwnProperty(p)&&(k=o[p],k!=null))switch(p){case"value":g=k;break;case"defaultValue":N=k;break;case"multiple":u=k;default:Ve(n,s,p,k,o,null)}s=g,o=N,n.multiple=!!u,s!=null?Ls(n,!!u,s,!1):o!=null&&Ls(n,!!u,o,!0);return;case"textarea":qe("invalid",n),g=p=u=null;for(N in o)if(o.hasOwnProperty(N)&&(k=o[N],k!=null))switch(N){case"value":u=k;break;case"defaultValue":p=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:Ve(n,s,N,k,o,null)}ox(n,u,p,g);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(n,s,I,u,o,null)}return;case"dialog":qe("beforetoggle",n),qe("toggle",n),qe("cancel",n),qe("close",n);break;case"iframe":case"object":qe("load",n);break;case"video":case"audio":for(u=0;u<$o.length;u++)qe($o[u],n);break;case"image":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"embed":case"source":case"link":qe("error",n),qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ve(n,s,Q,u,o,null)}return;default:if(Ef(s)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&um(n,s,ne,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&Ve(n,s,k,u,o,null))}function aM(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,N=null,k=null,I=null,Q=null,ne=null;for(Z in o){var ie=o[Z];if(o.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":I=ie;default:u.hasOwnProperty(Z)||Ve(n,s,Z,null,u,ie)}}for(var J in u){var Z=u[J];if(ie=o[J],u.hasOwnProperty(J)&&(Z!=null||ie!=null))switch(J){case"type":g=Z;break;case"name":p=Z;break;case"checked":Q=Z;break;case"defaultChecked":ne=Z;break;case"value":N=Z;break;case"defaultValue":k=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,s));break;default:Z!==ie&&Ve(n,s,J,Z,u,ie)}}_f(n,N,k,I,Q,ne,g,p);return;case"select":Z=N=k=J=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":Z=I;default:u.hasOwnProperty(g)||Ve(n,s,g,null,u,I)}for(p in u)if(g=u[p],I=o[p],u.hasOwnProperty(p)&&(g!=null||I!=null))switch(p){case"value":J=g;break;case"defaultValue":k=g;break;case"multiple":N=g;default:g!==I&&Ve(n,s,p,g,u,I)}s=k,o=N,u=Z,J!=null?Ls(n,!!o,J,!1):!!u!=!!o&&(s!=null?Ls(n,!!o,s,!0):Ls(n,!!o,o?[]:"",!1));return;case"textarea":Z=J=null;for(k in o)if(p=o[k],o.hasOwnProperty(k)&&p!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ve(n,s,k,null,u,p)}for(N in u)if(p=u[N],g=o[N],u.hasOwnProperty(N)&&(p!=null||g!=null))switch(N){case"value":J=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Ve(n,s,N,p,u,g)}ix(n,J,Z);return;case"option":for(var me in o)if(J=o[me],o.hasOwnProperty(me)&&J!=null&&!u.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:Ve(n,s,me,null,u,J)}for(I in u)if(J=u[I],Z=o[I],u.hasOwnProperty(I)&&J!==Z&&(J!=null||Z!=null))switch(I){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ve(n,s,I,J,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)J=o[Se],o.hasOwnProperty(Se)&&J!=null&&!u.hasOwnProperty(Se)&&Ve(n,s,Se,null,u,J);for(Q in u)if(J=u[Q],Z=o[Q],u.hasOwnProperty(Q)&&J!==Z&&(J!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:Ve(n,s,Q,J,u,Z)}return;default:if(Ef(s)){for(var Ke in o)J=o[Ke],o.hasOwnProperty(Ke)&&J!==void 0&&!u.hasOwnProperty(Ke)&&um(n,s,Ke,void 0,u,J);for(ne in u)J=u[ne],Z=o[ne],!u.hasOwnProperty(ne)||J===Z||J===void 0&&Z===void 0||um(n,s,ne,J,u,Z);return}}for(var G in o)J=o[G],o.hasOwnProperty(G)&&J!=null&&!u.hasOwnProperty(G)&&Ve(n,s,G,null,u,J);for(ie in u)J=u[ie],Z=o[ie],!u.hasOwnProperty(ie)||J===Z||J==null&&Z==null||Ve(n,s,ie,J,u,Z)}function uS(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],g=p.transferSize,N=p.initiatorType,k=p.duration;if(g&&k&&uS(N)){for(N=0,k=p.responseEnd,u+=1;u<o.length;u++){var I=o[u],Q=I.startTime;if(Q>k)break;var ne=I.transferSize,ie=I.initiatorType;ne&&uS(ie)&&(I=I.responseEnd,N+=ne*(I<k?1:(k-Q)/(I-Q)))}if(--u,s+=8*(g+N)/(p.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var dm=null,fm=null;function ou(n){return n.nodeType===9?n:n.ownerDocument}function dS(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fS(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function hm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var mm=null;function iM(){var n=window.event;return n&&n.type==="popstate"?n===mm?!1:(mm=n,!0):(mm=null,!1)}var hS=typeof setTimeout=="function"?setTimeout:void 0,oM=typeof clearTimeout=="function"?clearTimeout:void 0,mS=typeof Promise=="function"?Promise:void 0,lM=typeof queueMicrotask=="function"?queueMicrotask:typeof mS<"u"?function(n){return mS.resolve(null).then(n).catch(cM)}:hS;function cM(n){setTimeout(function(){throw n})}function ya(n){return n==="head"}function pS(n,s){var o=s,u=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(p),pi(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")zo(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,zo(o);for(var g=o.firstChild;g;){var N=g.nextSibling,k=g.nodeName;g[no]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=N}}else o==="body"&&zo(n.ownerDocument.body);o=p}while(o);pi(s)}function vS(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function pm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":pm(o),xf(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function uM(n,s,o,u){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[no])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=$r(n.nextSibling),n===null)break}return null}function dM(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=$r(n.nextSibling),n===null))return null;return n}function gS(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=$r(n.nextSibling),n===null))return null;return n}function vm(n){return n.data==="$?"||n.data==="$~"}function gm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function fM(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function $r(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var ym=null;function yS(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return $r(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function bS(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function xS(n,s,o){switch(s=ou(o),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function zo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);xf(n)}var Ur=new Map,wS=new Set;function lu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var In=H.d;H.d={f:hM,r:mM,D:pM,C:vM,L:gM,m:yM,X:xM,S:bM,M:wM};function hM(){var n=In.f(),s=Zc();return n||s}function mM(n){var s=Ms(n);s!==null&&s.tag===5&&s.type==="form"?$w(s):In.r(n)}var fi=typeof document>"u"?null:document;function _S(n,s,o){var u=fi;if(u&&typeof s=="string"&&s){var p=Rr(s);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),wS.has(p)||(wS.add(p),n={rel:n,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),It(s,"link",n),kt(s),u.head.appendChild(s)))}}function pM(n){In.D(n),_S("dns-prefetch",n,null)}function vM(n,s){In.C(n,s),_S("preconnect",n,s)}function gM(n,s,o){In.L(n,s,o);var u=fi;if(u&&n&&s){var p='link[rel="preload"][as="'+Rr(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Rr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Rr(o.imageSizes)+'"]')):p+='[href="'+Rr(n)+'"]';var g=p;switch(s){case"style":g=hi(n);break;case"script":g=mi(n)}Ur.has(g)||(n=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Ur.set(g,n),u.querySelector(p)!==null||s==="style"&&u.querySelector(Io(g))||s==="script"&&u.querySelector(Bo(g))||(s=u.createElement("link"),It(s,"link",n),kt(s),u.head.appendChild(s)))}}function yM(n,s){In.m(n,s);var o=fi;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Rr(u)+'"][href="'+Rr(n)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=mi(n)}if(!Ur.has(g)&&(n=y({rel:"modulepreload",href:n},s),Ur.set(g,n),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bo(g)))return}u=o.createElement("link"),It(u,"link",n),kt(u),o.head.appendChild(u)}}}function bM(n,s,o){In.S(n,s,o);var u=fi;if(u&&n){var p=qs(u).hoistableStyles,g=hi(n);s=s||"default";var N=p.get(g);if(!N){var k={loading:0,preload:null};if(N=u.querySelector(Io(g)))k.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Ur.get(g))&&bm(n,o);var I=N=u.createElement("link");kt(I),It(I,"link",n),I._p=new Promise(function(Q,ne){I.onload=Q,I.onerror=ne}),I.addEventListener("load",function(){k.loading|=1}),I.addEventListener("error",function(){k.loading|=2}),k.loading|=4,cu(N,s,u)}N={type:"stylesheet",instance:N,count:1,state:k},p.set(g,N)}}}function xM(n,s){In.X(n,s);var o=fi;if(o&&n){var u=qs(o).hoistableScripts,p=mi(n),g=u.get(p);g||(g=o.querySelector(Bo(p)),g||(n=y({src:n,async:!0},s),(s=Ur.get(p))&&xm(n,s),g=o.createElement("script"),kt(g),It(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function wM(n,s){In.M(n,s);var o=fi;if(o&&n){var u=qs(o).hoistableScripts,p=mi(n),g=u.get(p);g||(g=o.querySelector(Bo(p)),g||(n=y({src:n,async:!0,type:"module"},s),(s=Ur.get(p))&&xm(n,s),g=o.createElement("script"),kt(g),It(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function SS(n,s,o,u){var p=(p=pe.current)?lu(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=hi(o.href),o=qs(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=hi(o.href);var g=qs(p).hoistableStyles,N=g.get(n);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,N),(g=p.querySelector(Io(n)))&&!g._p&&(N.instance=g,N.state.loading=5),Ur.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Ur.set(n,o),g||_M(p,n,o,N.state))),s&&u===null)throw Error(a(528,""));return N}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=mi(o),o=qs(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function hi(n){return'href="'+Rr(n)+'"'}function Io(n){return'link[rel="stylesheet"]['+n+"]"}function ES(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function _M(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),It(s,"link",o),kt(s),n.head.appendChild(s))}function mi(n){return'[src="'+Rr(n)+'"]'}function Bo(n){return"script[async]"+n}function jS(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Rr(o.href)+'"]');if(u)return s.instance=u,kt(u),u;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),kt(u),It(u,"style",p),cu(u,o.precedence,n),s.instance=u;case"stylesheet":p=hi(o.href);var g=n.querySelector(Io(p));if(g)return s.state.loading|=4,s.instance=g,kt(g),g;u=ES(o),(p=Ur.get(p))&&bm(u,p),g=(n.ownerDocument||n).createElement("link"),kt(g);var N=g;return N._p=new Promise(function(k,I){N.onload=k,N.onerror=I}),It(g,"link",u),s.state.loading|=4,cu(g,o.precedence,n),s.instance=g;case"script":return g=mi(o.src),(p=n.querySelector(Bo(g)))?(s.instance=p,kt(p),p):(u=o,(p=Ur.get(g))&&(u=y({},o),xm(u,p)),n=n.ownerDocument||n,p=n.createElement("script"),kt(p),It(p,"link",u),n.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,cu(u,o.precedence,n));return s.instance}function cu(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,N=0;N<u.length;N++){var k=u[N];if(k.dataset.precedence===s)g=k;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function bm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function xm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var uu=null;function NS(n,s,o){if(uu===null){var u=new Map,p=uu=new Map;p.set(o,u)}else p=uu,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[no]||g[Lt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(s)||"";N=n+N;var k=u.get(N);k?k.push(g):u.set(N,[g])}}return u}function TS(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function SM(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function OS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function EM(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=hi(u.href),g=s.querySelector(Io(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=du.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,kt(g);return}g=s.ownerDocument||s,u=ES(u),(p=Ur.get(p))&&bm(u,p),g=g.createElement("link"),kt(g);var N=g;N._p=new Promise(function(k,I){N.onload=k,N.onerror=I}),It(g,"link",u),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=du.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var wm=0;function jM(n,s){return n.stylesheets&&n.count===0&&hu(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&hu(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&wm===0&&(wm=62500*sM());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&hu(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>wm?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var fu=null;function hu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,fu=new Map,s.forEach(NM,n),fu=null,du.call(n))}function NM(n,s){if(!(s.state.loading&4)){var o=fu.get(n);if(o)var u=o.get(null);else{o=new Map,fu.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var N=p[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),u=N)}u&&o.set(null,u)}p=s.instance,N=p.getAttribute("data-precedence"),g=o.get(N)||u,g===u&&o.set(null,p),o.set(N,p),this.count++,u=du.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),s.state.loading|=4}}var Ho={$$typeof:T,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function TM(n,s,o,u,p,g,N,k,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vf(0),this.hiddenUpdates=vf(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function CS(n,s,o,u,p,g,N,k,I,Q,ne,ie){return n=new TM(n,s,o,N,I,Q,ne,ie,k),s=1,g===!0&&(s|=24),g=br(3,null,null,s),n.current=g,g.stateNode=n,s=eh(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},ah(g),n}function AS(n){return n?(n=Gs,n):Gs}function RS(n,s,o,u,p,g){p=AS(p),u.context===null?u.context=p:u.pendingContext=p,u=oa(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=la(n,u,s),o!==null&&(cr(o,n,s),wo(o,n,s))}function DS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function _m(n,s){DS(n,s),(n=n.alternate)&&DS(n,s)}function kS(n){if(n.tag===13||n.tag===31){var s=Fa(n,67108864);s!==null&&cr(s,n,67108864),_m(n,67108864)}}function MS(n){if(n.tag===13||n.tag===31){var s=Er();s=gf(s);var o=Fa(n,s);o!==null&&cr(o,n,s),_m(n,s)}}var mu=!0;function OM(n,s,o,u){var p=B.T;B.T=null;var g=H.p;try{H.p=2,Sm(n,s,o,u)}finally{H.p=g,B.T=p}}function CM(n,s,o,u){var p=B.T;B.T=null;var g=H.p;try{H.p=8,Sm(n,s,o,u)}finally{H.p=g,B.T=p}}function Sm(n,s,o,u){if(mu){var p=Em(u);if(p===null)cm(n,s,u,pu,o),PS(n,u);else if(RM(p,n,s,o,u))u.stopPropagation();else if(PS(n,u),s&4&&-1<AM.indexOf(n)){for(;p!==null;){var g=Ms(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=Ua(g.pendingLanes);if(N!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;N;){var I=1<<31-Yt(N);k.entanglements[1]|=I,N&=~I}un(g),(He&6)===0&&(Qc=Ze()+500,Lo(0))}}break;case 31:case 13:k=Fa(g,2),k!==null&&cr(k,g,2),Zc(),_m(g,2)}if(g=Em(u),g===null&&cm(n,s,u,pu,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else cm(n,s,u,null,o)}}function Em(n){return n=Nf(n),jm(n)}var pu=null;function jm(n){if(pu=null,n=ks(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return pu=n,null}function qS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case ae:return 2;case ge:return 8;case Ee:case dt:return 32;case rr:return 268435456;default:return 32}default:return 32}}var Nm=!1,ba=null,xa=null,wa=null,Fo=new Map,Go=new Map,_a=[],AM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PS(n,s){switch(n){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Fo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(s.pointerId)}}function Wo(n,s,o,u,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=Ms(s),s!==null&&kS(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function RM(n,s,o,u,p){switch(s){case"focusin":return ba=Wo(ba,n,s,o,u,p),!0;case"dragenter":return xa=Wo(xa,n,s,o,u,p),!0;case"mouseover":return wa=Wo(wa,n,s,o,u,p),!0;case"pointerover":var g=p.pointerId;return Fo.set(g,Wo(Fo.get(g)||null,n,s,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,Go.set(g,Wo(Go.get(g)||null,n,s,o,u,p)),!0}return!1}function LS(n){var s=ks(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Qb(n.priority,function(){MS(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,Qb(n.priority,function(){MS(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Em(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);jf=u,o.target.dispatchEvent(u),jf=null}else return s=Ms(o),s!==null&&kS(s),n.blockedOn=o,!1;s.shift()}return!0}function $S(n,s,o){vu(n)&&o.delete(s)}function DM(){Nm=!1,ba!==null&&vu(ba)&&(ba=null),xa!==null&&vu(xa)&&(xa=null),wa!==null&&vu(wa)&&(wa=null),Fo.forEach($S),Go.forEach($S)}function gu(n,s){n.blockedOn===s&&(n.blockedOn=null,Nm||(Nm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DM)))}var yu=null;function US(n){yu!==n&&(yu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yu===n&&(yu=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],p=n[s+2];if(typeof u!="function"){if(jm(u||o)===null)continue;break}var g=Ms(o);g!==null&&(n.splice(s,3),s-=3,Eh(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function pi(n){function s(I){return gu(I,n)}ba!==null&&gu(ba,n),xa!==null&&gu(xa,n),wa!==null&&gu(wa,n),Fo.forEach(s),Go.forEach(s);for(var o=0;o<_a.length;o++){var u=_a[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<_a.length&&(o=_a[0],o.blockedOn===null);)LS(o),o.blockedOn===null&&_a.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],N=p[nr]||null;if(typeof g=="function")N||US(o);else if(N){var k=null;if(g&&g.hasAttribute("formAction")){if(p=g,N=g[nr]||null)k=N.formAction;else if(jm(p)!==null)continue}else k=N.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),US(o)}}}function zS(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return p=N})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Tm(n){this._internalRoot=n}bu.prototype.render=Tm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,u=Er();RS(o,u,n,s,null,null)},bu.prototype.unmount=Tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;RS(n.current,2,null,n,null,null),Zc(),s[Ds]=null}};function bu(n){this._internalRoot=n}bu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Xb();n={blockedOn:null,target:n,priority:s};for(var o=0;o<_a.length&&s!==0&&s<_a[o].priority;o++);_a.splice(o,0,n),o===0&&LS(n)}};var IS=e.version;if(IS!=="19.2.1")throw Error(a(527,IS,"19.2.1"));H.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var kM={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{ft=xu.inject(kM),ze=xu}catch{}}return Vo.createRoot=function(n,s){if(!i(n))throw Error(a(299));var o=!1,u="",p=Vw,g=Kw,N=Xw;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=CS(n,1,!1,null,null,o,u,null,p,g,N,zS),n[Ds]=s.current,lm(n),new Tm(s)},Vo.hydrateRoot=function(n,s,o){if(!i(n))throw Error(a(299));var u=!1,p="",g=Vw,N=Kw,k=Xw,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(I=o.formState)),s=CS(n,1,!0,s,o??null,u,p,I,g,N,k,zS),s.context=AS(null),o=s.current,u=Er(),u=gf(u),p=oa(u),p.callback=null,la(o,p,u),o=u,s.current.lanes=o,ro(s,o),un(s),n[Ds]=s.current,lm(n),new bu(s)},Vo.version="19.2.1",Vo}var QS;function HM(){if(QS)return Am.exports;QS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Am.exports=BM(),Am.exports}var FM=HM();var JS="popstate";function GM(t={}){function e(a,i){let{pathname:l,search:c,hash:d}=a.location;return J0("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:xl(i)}return YM(e,r,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WM(){return Math.random().toString(36).substring(2,10)}function ZS(t,e){return{usr:t.state,key:t.key,idx:e}}function J0(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ui(e):e,state:r,key:e&&e.key||a||WM()}}function xl({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ui(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function YM(t,e,r,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,c=i.history,d="POP",h=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){d="POP";let S=v(),j=S==null?null:S-m;m=S,h&&h({action:d,location:_.location,delta:j})}function b(S,j){d="PUSH";let E=J0(_.location,S,j);m=v()+1;let T=ZS(E,m),O=_.createHref(E);try{c.pushState(T,"",O)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(O)}l&&h&&h({action:d,location:_.location,delta:1})}function x(S,j){d="REPLACE";let E=J0(_.location,S,j);m=v();let T=ZS(E,m),O=_.createHref(E);c.replaceState(T,"",O),l&&h&&h({action:d,location:_.location,delta:0})}function w(S){return VM(S)}let _={get action(){return d},get location(){return t(i,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(JS,y),h=S,()=>{i.removeEventListener(JS,y),h=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let j=w(S);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:x,go(S){return c.go(S)}};return _}function VM(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ct(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:xl(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function cO(t,e,r="/"){return KM(t,e,r,!1)}function KM(t,e,r,a){let i=typeof e=="string"?Ui(e):e,l=Wn(i.pathname||"/",r);if(l==null)return null;let c=uO(t);XM(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=o4(l);d=s4(c[h],m,a)}return d}function uO(t,e=[],r=[],a="",i=!1){let l=(c,d,h=i,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&h)return;ct(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let y=Gn([a,v.relativePath]),b=r.concat(v);c.children&&c.children.length>0&&(ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),uO(c.children,e,b,y,h)),!(c.path==null&&!c.index)&&e.push({path:y,score:n4(y,c.index),routesMeta:b})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let h of dO(c.path))l(c,d,!0,h)}),e}function dO(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let c=dO(a.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function XM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:a4(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var QM=/^:[\w-]+$/,JM=3,ZM=2,e4=1,t4=10,r4=-2,e1=t=>t==="*";function n4(t,e){let r=t.split("/"),a=r.length;return r.some(e1)&&(a+=r4),e&&(a+=ZM),r.filter(i=>!e1(i)).reduce((i,l)=>i+(QM.test(l)?JM:l===""?e4:t4),a)}function a4(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function s4(t,e,r=!1){let{routesMeta:a}=t,i={},l="/",c=[];for(let d=0;d<a.length;++d){let h=a[d],m=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=ad({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),b=h.route;if(!y&&m&&r&&!a[a.length-1].route.index&&(y=ad({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:Gn([l,y.pathname]),pathnameBase:f4(Gn([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=Gn([l,y.pathnameBase]))}return c}function ad(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=i4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:y},b)=>{if(v==="*"){let w=d[b]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const x=d[b];return y&&!x?m[v]=void 0:m[v]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function i4(t,e=!1,r=!0){Br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function o4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Wn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}var l4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c4=t=>l4.test(t);function u4(t,e="/"){let{pathname:r,search:a="",hash:i=""}=typeof t=="string"?Ui(t):t,l;if(r)if(c4(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?l=t1(r.substring(1),"/"):l=t1(r,e)}else l=e;return{pathname:l,search:h4(a),hash:m4(i)}}function t1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Mm(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Ry(t){let e=d4(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function Dy(t,e,r,a=!1){let i;typeof t=="string"?i=Ui(t):(i={...t},ct(!i.pathname||!i.pathname.includes("?"),Mm("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Mm("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Mm("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=r;else{let y=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}d=y>=0?e[y]:"/"}let h=u4(i,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var Gn=t=>t.join("/").replace(/\/\/+/g,"/"),f4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,m4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function p4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function v4(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fO=["POST","PUT","PATCH","DELETE"];new Set(fO);var g4=["GET",...fO];new Set(g4);var zi=A.createContext(null);zi.displayName="DataRouter";var Td=A.createContext(null);Td.displayName="DataRouterState";A.createContext(!1);var hO=A.createContext({isTransitioning:!1});hO.displayName="ViewTransition";var y4=A.createContext(new Map);y4.displayName="Fetchers";var b4=A.createContext(null);b4.displayName="Await";var Wr=A.createContext(null);Wr.displayName="Navigation";var $l=A.createContext(null);$l.displayName="Location";var _n=A.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var ky=A.createContext(null);ky.displayName="RouteError";function x4(t,{relative:e}={}){ct(Ii(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=A.useContext(Wr),{hash:i,pathname:l,search:c}=Ul(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:Gn([r,l])),a.createHref({pathname:d,search:c,hash:i})}function Ii(){return A.useContext($l)!=null}function ka(){return ct(Ii(),"useLocation() may be used only in the context of a <Router> component."),A.useContext($l).location}var mO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pO(t){A.useContext(Wr).static||A.useLayoutEffect(t)}function My(){let{isDataRoute:t}=A.useContext(_n);return t?k4():w4()}function w4(){ct(Ii(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(zi),{basename:e,navigator:r}=A.useContext(Wr),{matches:a}=A.useContext(_n),{pathname:i}=ka(),l=JSON.stringify(Ry(a)),c=A.useRef(!1);return pO(()=>{c.current=!0}),A.useCallback((h,m={})=>{if(Br(c.current,mO),!c.current)return;if(typeof h=="number"){r.go(h);return}let v=Dy(h,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Gn([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,l,i,t])}A.createContext(null);function Ul(t,{relative:e}={}){let{matches:r}=A.useContext(_n),{pathname:a}=ka(),i=JSON.stringify(Ry(r));return A.useMemo(()=>Dy(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function _4(t,e){return vO(t,e)}function vO(t,e,r,a,i){ct(Ii(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(Wr),{matches:c}=A.useContext(_n),d=c[c.length-1],h=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",y=d&&d.route;{let E=y&&y.path||"";gO(m,!y||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let b=ka(),x;if(e){let E=typeof e=="string"?Ui(e):e;ct(v==="/"||E.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${E.pathname}" was given in the \`location\` prop.`),x=E}else x=b;let w=x.pathname||"/",_=w;if(v!=="/"){let E=v.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=cO(t,{pathname:_});Br(y||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Br(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=T4(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},h,E.params),pathname:Gn([v,l.encodeLocation?l.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?v:Gn([v,l.encodeLocation?l.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),c,r,a,i);return e&&j?A.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},j):j}function S4(){let t=D4(),e=p4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:i},r):null,c)}var E4=A.createElement(S4,null),j4=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(_n.Provider,{value:this.props.routeContext},A.createElement(ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function N4({routeContext:t,match:e,children:r}){let a=A.useContext(zi);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(_n.Provider,{value:t},r)}function T4(t,e=[],r=null,a=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,c=r?.errors;if(c!=null){let v=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ct(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,h=-1;if(r)for(let v=0;v<l.length;v++){let y=l[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=v),y.route.id){let{loaderData:b,errors:x}=r,w=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||w){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let m=r&&a?(v,y)=>{a(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:v4(r.matches),errorInfo:y})}:void 0;return l.reduceRight((v,y,b)=>{let x,w=!1,_=null,S=null;r&&(x=c&&y.route.id?c[y.route.id]:void 0,_=y.route.errorElement||E4,d&&(h<0&&b===0?(gO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):h===b&&(w=!0,S=y.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,b+1)),E=()=>{let T;return x?T=_:w?T=S:y.route.Component?T=A.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=v,A.createElement(N4,{match:y,routeContext:{outlet:v,matches:j,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?A.createElement(j4,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:E(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:m}):E()},null)}function qy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function O4(t){let e=A.useContext(zi);return ct(e,qy(t)),e}function C4(t){let e=A.useContext(Td);return ct(e,qy(t)),e}function A4(t){let e=A.useContext(_n);return ct(e,qy(t)),e}function Py(t){let e=A4(t),r=e.matches[e.matches.length-1];return ct(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function R4(){return Py("useRouteId")}function D4(){let t=A.useContext(ky),e=C4("useRouteError"),r=Py("useRouteError");return t!==void 0?t:e.errors?.[r]}function k4(){let{router:t}=O4("useNavigate"),e=Py("useNavigate"),r=A.useRef(!1);return pO(()=>{r.current=!0}),A.useCallback(async(i,l={})=>{Br(r.current,mO),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var r1={};function gO(t,e,r){!e&&!r1[t]&&(r1[t]=!0,Br(!1,r))}A.memo(M4);function M4({routes:t,future:e,state:r,unstable_onError:a}){return vO(t,void 0,r,a,e)}function ul({to:t,replace:e,state:r,relative:a}){ct(Ii(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Wr);Br(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(_n),{pathname:c}=ka(),d=My(),h=Dy(t,Ry(l),c,a==="path"),m=JSON.stringify(h);return A.useEffect(()=>{d(JSON.parse(m),{replace:e,state:r,relative:a})},[d,m,a,e,r]),null}function _i(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q4({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){ct(!Ii(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[d,i,l,c]);typeof r=="string"&&(r=Ui(r));let{pathname:m="/",search:v="",hash:y="",state:b=null,key:x="default"}=r,w=A.useMemo(()=>{let _=Wn(m,d);return _==null?null:{location:{pathname:_,search:v,hash:y,state:b,key:x},navigationType:a}},[d,m,v,y,b,x,a]);return Br(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:A.createElement(Wr.Provider,{value:h},A.createElement($l.Provider,{children:e,value:w}))}function P4({children:t,location:e}){return _4(Z0(t),e)}function Z0(t,e=[]){let r=[];return A.Children.forEach(t,(a,i)=>{if(!A.isValidElement(a))return;let l=[...e,i];if(a.type===A.Fragment){r.push.apply(r,Z0(a.props.children,l));return}ct(a.type===_i,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Z0(a.props.children,l)),r.push(c)}),r}var Uu="get",zu="application/x-www-form-urlencoded";function Od(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function L4(t){return Od(t)&&t.tagName.toLowerCase()==="button"}function $4(t){return Od(t)&&t.tagName.toLowerCase()==="form"}function U4(t){return Od(t)&&t.tagName.toLowerCase()==="input"}function z4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function I4(t,e){return t.button===0&&(!e||e==="_self")&&!z4(t)}var _u=null;function B4(){if(_u===null)try{new FormData(document.createElement("form"),0),_u=!1}catch{_u=!0}return _u}var H4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(t){return t!=null&&!H4.has(t)?(Br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zu}"`),null):t}function F4(t,e){let r,a,i,l,c;if($4(t)){let d=t.getAttribute("action");a=d?Wn(d,e):null,r=t.getAttribute("method")||Uu,i=qm(t.getAttribute("enctype"))||zu,l=new FormData(t)}else if(L4(t)||U4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(a=h?Wn(h,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||Uu,i=qm(t.getAttribute("formenctype"))||qm(d.getAttribute("enctype"))||zu,l=new FormData(d,t),!B4()){let{name:m,type:v,value:y}=t;if(v==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,y)}}else{if(Od(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Uu,a=null,i=zu,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ly(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function G4(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&Wn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function W4(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function V4(t,e,r){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await W4(l,r);return c.links?c.links():[]}return[]}));return J4(a.flat(1).filter(Y4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function n1(t,e,r,a,i,l){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,d=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,m)=>c(h,m)||d(h,m)):l==="data"?e.filter((h,m)=>{let v=a.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function K4(t,e,{includeHydrateFallback:r}={}){return X4(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function X4(t){return[...new Set(t)]}function Q4(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function J4(t,e){let r=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(Q4(i));return r.has(l)||(r.add(l),a.push({key:l,link:i})),a},[])}function yO(){let t=A.useContext(zi);return Ly(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Z4(){let t=A.useContext(Td);return Ly(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var $y=A.createContext(void 0);$y.displayName="FrameworkContext";function bO(){let t=A.useContext($y);return Ly(t,"You must render this element inside a <HydratedRouter> element"),t}function e3(t,e){let r=A.useContext($y),[a,i]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=j=>{j.forEach(E=>{c(E.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(a){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[a]);let x=()=>{i(!0)},w=()=>{i(!1),c(!1)};return r?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Ko(d,x),onBlur:Ko(h,w),onMouseEnter:Ko(m,x),onMouseLeave:Ko(v,w),onTouchStart:Ko(y,x)}]:[!1,b,{}]}function Ko(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function t3({page:t,...e}){let{router:r}=yO(),a=A.useMemo(()=>cO(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?A.createElement(n3,{page:t,matches:a,...e}):null}function r3(t){let{manifest:e,routeModules:r}=bO(),[a,i]=A.useState([]);return A.useEffect(()=>{let l=!1;return V4(t,e,r).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,r]),a}function n3({page:t,matches:e,...r}){let a=ka(),{manifest:i,routeModules:l}=bO(),{basename:c}=yO(),{loaderData:d,matches:h}=Z4(),m=A.useMemo(()=>n1(t,e,h,i,a,"data"),[t,e,h,i,a]),v=A.useMemo(()=>n1(t,e,h,i,a,"assets"),[t,e,h,i,a]),y=A.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let w=new Set,_=!1;if(e.forEach(j=>{let E=i.routes[j.route.id];!E||!E.hasLoader||(!m.some(T=>T.route.id===j.route.id)&&j.route.id in d&&l[j.route.id]?.shouldRevalidate||E.hasClientLoader?_=!0:w.add(j.route.id))}),w.size===0)return[];let S=G4(t,c,"data");return _&&w.size>0&&S.searchParams.set("_routes",e.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[S.pathname+S.search]},[c,d,a,i,m,e,t,l]),b=A.useMemo(()=>K4(v,i),[v,i]),x=r3(v);return A.createElement(A.Fragment,null,y.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),x.map(({key:w,link:_})=>A.createElement("link",{key:w,nonce:r.nonce,..._})))}function a3(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var xO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xO&&(window.__reactRouterVersion="7.10.1")}catch{}function s3({basename:t,children:e,unstable_useTransitions:r,window:a}){let i=A.useRef();i.current==null&&(i.current=GM({window:a,v5Compat:!0}));let l=i.current,[c,d]=A.useState({action:l.action,location:l.location}),h=A.useCallback(m=>{r===!1?d(m):A.startTransition(()=>d(m))},[r]);return A.useLayoutEffect(()=>l.listen(h),[l,h]),A.createElement(q4,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r===!0})}var wO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_O=A.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:i,reloadDocument:l,replace:c,state:d,target:h,to:m,preventScrollReset:v,viewTransition:y,...b},x){let{basename:w,unstable_useTransitions:_}=A.useContext(Wr),S=typeof m=="string"&&wO.test(m),j,E=!1;if(typeof m=="string"&&S&&(j=m,xO))try{let C=new URL(window.location.href),q=m.startsWith("//")?new URL(C.protocol+m):new URL(m),U=Wn(q.pathname,w);q.origin===C.origin&&U!=null?m=U+q.search+q.hash:E=!0}catch{Br(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=x4(m,{relative:i}),[O,M,D]=e3(a,b),R=c3(m,{replace:c,state:d,target:h,preventScrollReset:v,relative:i,viewTransition:y,unstable_useTransitions:_});function P(C){e&&e(C),C.defaultPrevented||R(C)}let L=A.createElement("a",{...b,...D,href:j||T,onClick:E||l?e:P,ref:a3(x,M),target:h,"data-discover":!S&&r==="render"?"true":void 0});return O&&!S?A.createElement(A.Fragment,null,L,A.createElement(t3,{page:T})):L});_O.displayName="Link";var i3=A.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:i=!1,style:l,to:c,viewTransition:d,children:h,...m},v){let y=Ul(c,{relative:m.relative}),b=ka(),x=A.useContext(Td),{navigator:w,basename:_}=A.useContext(Wr),S=x!=null&&m3(y)&&d===!0,j=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,E=b.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(E=E.toLowerCase(),T=T?T.toLowerCase():null,j=j.toLowerCase()),T&&_&&(T=Wn(T,_)||T);const O=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let M=E===j||!i&&E.startsWith(j)&&E.charAt(O)==="/",D=T!=null&&(T===j||!i&&T.startsWith(j)&&T.charAt(j.length)==="/"),R={isActive:M,isPending:D,isTransitioning:S},P=M?e:void 0,L;typeof a=="function"?L=a(R):L=[a,M?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(R):l;return A.createElement(_O,{...m,"aria-current":P,className:L,ref:v,style:C,to:c,viewTransition:d},typeof h=="function"?h(R):h)});i3.displayName="NavLink";var o3=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:i,state:l,method:c=Uu,action:d,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,...b},x)=>{let{unstable_useTransitions:w}=A.useContext(Wr),_=f3(),S=h3(d,{relative:m}),j=c.toLowerCase()==="get"?"get":"post",E=typeof d=="string"&&wO.test(d),T=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let M=O.nativeEvent.submitter,D=M?.getAttribute("formmethod")||c,R=()=>_(M||O.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:i,state:l,relative:m,preventScrollReset:v,viewTransition:y});w&&r!==!1?A.startTransition(()=>R()):R()};return A.createElement("form",{ref:x,method:j,action:S,onSubmit:a?h:T,...b,"data-discover":!E&&t==="render"?"true":void 0})});o3.displayName="Form";function l3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SO(t){let e=A.useContext(zi);return ct(e,l3(t)),e}function c3(t,{target:e,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let h=My(),m=ka(),v=Ul(t,{relative:l});return A.useCallback(y=>{if(I4(y,e)){y.preventDefault();let b=r!==void 0?r:xl(m)===xl(v),x=()=>h(t,{replace:b,state:a,preventScrollReset:i,relative:l,viewTransition:c});d?A.startTransition(()=>x()):x()}},[m,h,v,r,a,e,t,i,l,c,d])}var u3=0,d3=()=>`__${String(++u3)}__`;function f3(){let{router:t}=SO("useSubmit"),{basename:e}=A.useContext(Wr),r=R4(),a=t.fetch,i=t.navigate;return A.useCallback(async(l,c={})=>{let{action:d,method:h,encType:m,formData:v,body:y}=F4(l,e);if(c.navigate===!1){let b=c.fetcherKey||d3();await a(b,r,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,i,e,r])}function h3(t,{relative:e}={}){let{basename:r}=A.useContext(Wr),a=A.useContext(_n);ct(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...Ul(t||".",{relative:e})},c=ka();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(v=>v==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Gn([r,l.pathname])),xl(l)}function m3(t,{relative:e}={}){let r=A.useContext(hO);ct(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=SO("useViewTransitionState"),i=Ul(t,{relative:e});if(!r.isTransitioning)return!1;let l=Wn(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Wn(r.nextLocation.pathname,a)||r.nextLocation.pathname;return ad(i.pathname,c)!=null||ad(i.pathname,l)!=null}var p3=lO();const EO=Qt(p3);var Bn={},Su={},ey=function(t,e){return ey=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},ey(t,e)};function jO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ey(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sd=function(){return sd=Object.assign||function(e){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},sd.apply(this,arguments)};function Bi(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(r[a[i]]=t[a[i]]);return r}function NO(t,e,r,a){var i=arguments.length,l=i<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,a);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(i<3?c(l):i>3?c(e,r,l):c(e,r))||l);return i>3&&l&&Object.defineProperty(e,r,l),l}function TO(t,e){return function(r,a){e(r,a,t)}}function OO(t,e,r,a,i,l){function c(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var d=a.kind,h=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?a.static?t:t.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),y,b=!1,x=r.length-1;x>=0;x--){var w={};for(var _ in a)w[_]=_==="access"?{}:a[_];for(var _ in a.access)w.access[_]=a.access[_];w.addInitializer=function(j){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(j||null))};var S=(0,r[x])(d==="accessor"?{get:v.get,set:v.set}:v[h],w);if(d==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(y=c(S.get))&&(v.get=y),(y=c(S.set))&&(v.set=y),(y=c(S.init))&&i.unshift(y)}else(y=c(S))&&(d==="field"?i.unshift(y):v[h]=y)}m&&Object.defineProperty(m,a.name,v),b=!0}function CO(t,e,r){for(var a=arguments.length>2,i=0;i<e.length;i++)r=a?e[i].call(t,r):e[i].call(t);return a?r:void 0}function AO(t){return typeof t=="symbol"?t:"".concat(t)}function RO(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function DO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function he(t,e,r,a){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(y){c(y)}}function h(v){try{m(a.throw(v))}catch(y){c(y)}}function m(v){v.done?l(v.value):i(v.value).then(d,h)}m((a=a.apply(t,e||[])).next())})}function kO(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,i,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(v){return h([m,v])}}function h(m){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(a=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(v){m=[6,v],i=0}finally{a=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Cd=Object.create?(function(t,e,r,a){a===void 0&&(a=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,i)}):(function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]});function MO(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Cd(e,t,r)}function id(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uy(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var a=r.call(t),i,l=[],c;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)l.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}return l}function qO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Uy(arguments[e]));return t}function PO(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var a=Array(t),i=0,e=0;e<r;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,i++)a[i]=l[c];return a}function LO(t,e,r){if(r||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}function $O(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(x){return function(w){return Promise.resolve(w).then(x,y)}}function d(x,w){a[x]&&(i[x]=function(_){return new Promise(function(S,j){l.push([x,_,S,j])>1||h(x,_)})},w&&(i[x]=w(i[x])))}function h(x,w){try{m(a[x](w))}catch(_){b(l[0][3],_)}}function m(x){x.value instanceof Oi?Promise.resolve(x.value.v).then(v,y):b(l[0][2],x)}function v(x){h("next",x)}function y(x){h("throw",x)}function b(x,w){x(w),l.shift(),l.length&&h(l[0][0],l[0][1])}}function UO(t){var e,r;return e={},a("next"),a("throw",function(i){throw i}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(i,l){e[i]=t[i]?function(c){return(r=!r)?{value:Oi(t[i](c)),done:!1}:l?l(c):c}:l}}function zO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof id=="function"?id(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(l){r[l]=t[l]&&function(c){return new Promise(function(d,h){c=t[l](c),i(d,h,c.done,c.value)})}}function i(l,c,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},c)}}function IO(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var v3=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ty=function(t){return ty=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},ty(t)};function BO(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=ty(t),a=0;a<r.length;a++)r[a]!=="default"&&Cd(e,t,r[a]);return v3(e,t),e}function HO(t){return t&&t.__esModule?t:{default:t}}function FO(t,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(t):a?a.value:e.get(t)}function GO(t,e,r,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function WO(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function YO(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:a,async:r})}else r&&t.stack.push({async:!0});return e}var g3=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function VO(t){function e(l){t.error=t.hasError?new g3(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,a=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&a===1)return a=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(l).then(i,function(c){return e(c),i()})}else a|=1}catch(c){e(c)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function KO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,i,l,c){return a?e?".jsx":".js":i&&(!l||!c)?r:i+l+"."+c.toLowerCase()+"js"}):t}const y3={__extends:jO,__assign:sd,__rest:Bi,__decorate:NO,__param:TO,__esDecorate:OO,__runInitializers:CO,__propKey:AO,__setFunctionName:RO,__metadata:DO,__awaiter:he,__generator:kO,__createBinding:Cd,__exportStar:MO,__values:id,__read:Uy,__spread:qO,__spreadArrays:PO,__spreadArray:LO,__await:Oi,__asyncGenerator:$O,__asyncDelegator:UO,__asyncValues:zO,__makeTemplateObject:IO,__importStar:BO,__importDefault:HO,__classPrivateFieldGet:FO,__classPrivateFieldSet:GO,__classPrivateFieldIn:WO,__addDisposableResource:YO,__disposeResources:VO,__rewriteRelativeImportExtension:KO},b3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:YO,get __assign(){return sd},__asyncDelegator:UO,__asyncGenerator:$O,__asyncValues:zO,__await:Oi,__awaiter:he,__classPrivateFieldGet:FO,__classPrivateFieldIn:WO,__classPrivateFieldSet:GO,__createBinding:Cd,__decorate:NO,__disposeResources:VO,__esDecorate:OO,__exportStar:MO,__extends:jO,__generator:kO,__importDefault:HO,__importStar:BO,__makeTemplateObject:IO,__metadata:DO,__param:TO,__propKey:AO,__read:Uy,__rest:Bi,__rewriteRelativeImportExtension:KO,__runInitializers:CO,__setFunctionName:RO,__spread:qO,__spreadArray:LO,__spreadArrays:PO,__values:id,default:y3},Symbol.toStringTag,{value:"Module"})),x3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Ad=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},XO=class extends Ad{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},ry=class extends Ad{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ny=class extends Ad{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var od;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(od||(od={}));class w3{constructor(e,{headers:r={},customFetch:a,region:i=od.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=x3(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return he(this,arguments,void 0,function*(r,a={}){var i;let l,c;try{const{headers:d,method:h,body:m,signal:v,timeout:y}=a;let b={},{region:x}=a;x||(x=this.region);const w=new URL(`${this.url}/${r}`);x&&x!=="any"&&(b["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let _;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(b["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(b["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let S=v;y&&(c=new AbortController,l=setTimeout(()=>c.abort(),y),v?(S=c.signal,v.addEventListener("abort",()=>c.abort())):S=c.signal);const j=yield this.fetch(w.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:_,signal:S}).catch(M=>{throw new XO(M)}),E=j.headers.get("x-relay-error");if(E&&E==="true")throw new ry(j);if(!j.ok)throw new ny(j);let T=((i=j.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield j.json():T==="application/octet-stream"||T==="application/pdf"?O=yield j.blob():T==="text/event-stream"?O=j:T==="multipart/form-data"?O=yield j.formData():O=yield j.text(),{data:O,error:null,response:j}}catch(d){return{data:null,error:d,response:d instanceof ny||d instanceof ry?d.context:void 0}}finally{l&&clearTimeout(l)}})}}const _3=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return od},FunctionsClient:w3,FunctionsError:Ad,FunctionsFetchError:XO,FunctionsHttpError:ny,FunctionsRelayError:ry},Symbol.toStringTag,{value:"Module"})),QO=wn(_3);var Kt={};const Hi=wn(b3);var Eu={},ju={},Nu={},Tu={},Ou={},Cu={},a1;function JO(){if(a1)return Cu;a1=1,Object.defineProperty(Cu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Cu.default=t,Cu}var s1;function ZO(){if(s1)return Ou;s1=1,Object.defineProperty(Ou,"__esModule",{value:!0});const e=Hi.__importDefault(JO());let r=class{constructor(i){var l,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,v,y,b;let x=null,w=null,_=null,S=h.status,j=h.statusText;if(h.ok){if(this.method!=="HEAD"){const M=await h.text();M===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?w=M:w=JSON.parse(M))}const T=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&O&&O.length>1&&(_=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,S=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await h.text();try{x=JSON.parse(T),Array.isArray(x)&&h.status===404&&(w=[],x=null,S=200,j="OK")}catch{h.status===404&&T===""?(S=204,j="No Content"):x={message:T}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,S=200,j="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:w,count:_,status:S,statusText:j}});return this.shouldThrowOnError||(d=d.catch(h=>{var m,v,y,b,x,w;let _="";const S=h?.cause;if(S){const j=(m=S?.message)!==null&&m!==void 0?m:"",E=(v=S?.code)!==null&&v!==void 0?v:"";_=`${(y=h?.name)!==null&&y!==void 0?y:"FetchError"}: ${h?.message}`,_+=`

Caused by: ${(b=S?.name)!==null&&b!==void 0?b:"Error"}: ${j}`,E&&(_+=` (${E})`),S?.stack&&(_+=`
${S.stack}`)}else _=(x=h?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(w=h?.name)!==null&&w!==void 0?w:"FetchError"}: ${h?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(i,l)}returns(){return this}overrideTypes(){return this}};return Ou.default=r,Ou}var i1;function eC(){if(i1)return Tu;i1=1,Object.defineProperty(Tu,"__esModule",{value:!0});const e=Hi.__importDefault(ZO());let r=class extends e.default{select(i){let l=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var v;const y=[i?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Tu.default=r,Tu}var o1;function zy(){if(o1)return Nu;o1=1,Object.defineProperty(Nu,"__esModule",{value:!0});const e=Hi.__importDefault(eC()),r=new RegExp("[,()]");let a=class extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${v}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}};return Nu.default=a,Nu}var l1;function tC(){if(l1)return ju;l1=1,Object.defineProperty(ju,"__esModule",{value:!0});const e=Hi.__importDefault(zy());let r=class{constructor(i,{headers:l={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(i,l){const{head:c=!1,count:d}=l??{},h=c?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(y.length>0){const b=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var l;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return ju.default=r,ju}var c1;function S3(){if(c1)return Eu;c1=1,Object.defineProperty(Eu,"__esModule",{value:!0});const t=Hi,e=t.__importDefault(tC()),r=t.__importDefault(zy());let a=class rC{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new rC(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:m}={}){var v;let y;const b=new URL(`${this.url}/rpc/${l}`);let x;d||h?(y=d?"HEAD":"GET",Object.entries(c).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{b.searchParams.append(_,S)})):(y="POST",x=c);const w=new Headers(this.headers);return m&&w.set("Prefer",`count=${m}`),new r.default({method:y,url:b,headers:w,schema:this.schemaName,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Eu.default=a,Eu}var u1;function nC(){if(u1)return Kt;u1=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const t=Hi,e=t.__importDefault(S3());Kt.PostgrestClient=e.default;const r=t.__importDefault(tC());Kt.PostgrestQueryBuilder=r.default;const a=t.__importDefault(zy());Kt.PostgrestFilterBuilder=a.default;const i=t.__importDefault(eC());Kt.PostgrestTransformBuilder=i.default;const l=t.__importDefault(ZO());Kt.PostgrestBuilder=l.default;const c=t.__importDefault(JO());return Kt.PostgrestError=c.default,Kt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default},Kt}class aC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const E3="2.87.1",j3=`realtime-js/${E3}`,sC="1.0.0",N3="2.0.0",d1=sC,ay=1e4,T3=1e3,O3=100;var us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(us||(us={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tn||(tn={}));var sy;(function(t){t.websocket="websocket"})(sy||(sy={}));var ds;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ds||(ds={}));class C3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,a){var i,l;const c=e.topic,d=(i=e.ref)!==null&&i!==void 0?i:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+m.length+y.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(x),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,h.length),w.setUint8(_++,d.length),w.setUint8(_++,c.length),w.setUint8(_++,m.length),w.setUint8(_++,y.length),w.setUint8(_++,r),Array.from(h,j=>w.setUint8(_++,j.charCodeAt(0))),Array.from(d,j=>w.setUint8(_++,j.charCodeAt(0))),Array.from(c,j=>w.setUint8(_++,j.charCodeAt(0))),Array.from(m,j=>w.setUint8(_++,j.charCodeAt(0))),Array.from(y,j=>w.setUint8(_++,j.charCodeAt(0)));var S=new Uint8Array(x.byteLength+a.byteLength);return S.set(new Uint8Array(x),0),S.set(new Uint8Array(a),x.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[i,l,c,d,h]=a;return r({join_ref:i,ref:l,topic:c,event:d,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),i=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,a){const i=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=a.decode(e.slice(h,h+i));h=h+i;const v=a.decode(e.slice(h,h+l));h=h+l;const y=a.decode(e.slice(h,h+c));h=h+c;const b=e.slice(h,e.byteLength),x=d===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,w={type:this.BROADCAST_EVENT,event:v,payload:x};return c>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class iC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const f1=(t,e,r={})=>{var a;const i=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=A3(c,t,e,i),l),{}):{}},A3=(t,e,r,a)=>{const i=e.find(d=>d.name===t),l=i?.type,c=r[t];return l&&!a.includes(l)?oC(l,c):iy(c)},oC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return M3(e,r)}switch(t){case et.bool:return R3(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return D3(e);case et.json:case et.jsonb:return k3(e);case et.timestamp:return q3(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return iy(e);default:return iy(e)}},iy=t=>t,R3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},D3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},k3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},M3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>oC(e,d))}return t},q3=t=>typeof t=="string"?t.replace(" ","T"):t,lC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Pm{constructor(e,r,a={},i=ay){this.channel=e,this.event=r,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(oy||(oy={}));let cC=class Iu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Iu.syncState(this.state,i,l,c),this.pendingDiffs.forEach(h=>{this.state=Iu.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Iu.syncDiff(this.state,i,l,c),d())}),this.onJoin((i,l,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:c})}),this.onLeave((i,l,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,i){const l=this.cloneDeep(e),c=this.transformState(r),d={},h={};return this.map(l,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const y=l[m];if(y){const b=v.map(S=>S.presence_ref),x=y.map(S=>S.presence_ref),w=v.filter(S=>x.indexOf(S.presence_ref)<0),_=y.filter(S=>b.indexOf(S.presence_ref)<0);w.length>0&&(d[m]=w),_.length>0&&(h[m]=_)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:h},a,i)}static syncDiff(e,r,a,i){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(d,h)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),v.length>0){const y=e[d].map(x=>x.presence_ref),b=v.filter(x=>y.indexOf(x.presence_ref)<0);e[d].unshift(...b)}a(d,v,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),e[d]=m,i(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const i=e[a];return"metas"in i?r[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[a]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ly;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(ly||(ly={}));var ji;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ji||(ji={}));var hn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));const P3=jt;let uC=class dl{constructor(e,r={config:{}},a){var i,l;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Pm(this,tn.join,this.params,this.timeout),this.rejoinTimer=new iC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new cC(this),this.broadcastEndpointURL=lC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[ji.PRESENCE]&&this.bindings[ji.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(hn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(hn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(hn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(w=_?.length)!==null&&w!==void 0?w:0,j=[];for(let E=0;E<S;E++){const T=_[E],{filter:{event:O,schema:M,table:D,filter:R}}=T,P=x&&x[E];if(P&&P.event===O&&dl.isFilterValueEqual(P.schema,M)&&dl.isFilterValueEqual(P.table,D)&&dl.isFilterValueEqual(P.filter,R))j.push(Object.assign(Object.assign({},T),{id:P.id}));else{this.unsubscribe(),this.state=jt.errored,e?.(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(hn.SUBSCRIBED);return}}).receive("error",x=>{this.state=jt.errored,e?.(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===jt.joined&&e===ji.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Pm(this,tn.leave,{},e),a.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),c}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Pm(this,e,r,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>O3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var i,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:v}=tn;if(a&&[d,h,m,v].indexOf(c)>=0&&a!==this._joinRef())return;let b=this._onMessage(c,r,a);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,_,S;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(_=x.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(x=>x.callback(b,a)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var w,_,S,j,E,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const O=x.id,M=(w=x.filter)===null||w===void 0?void 0:w.event;return O&&((_=r.ids)===null||_===void 0?void 0:_.includes(O))&&(M==="*"||M?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const O=(E=(j=x?.filter)===null||j===void 0?void 0:j.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return O==="*"||O===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:_,table:S,commit_timestamp:j,type:E,errors:T}=w;b=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:j,eventType:E,new:{},old:{},errors:T}),this._getPayloadRecords(w))}x.callback(b,a)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&dl.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=f1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=f1(e.columns,e.old_record)),r}};const Lm=()=>{},Au={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},L3=[1e3,2e3,5e3,1e4],$3=1e4,U3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let z3=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ay,this.transport=null,this.heartbeatIntervalMs=Au.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Lm,this.ref=0,this.reconnectTimer=null,this.vsn=d1,this.logger=Lm,this.conn=null,this.sendBuffer=[],this.serializer=new C3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${sy.websocket}`,this.httpEndpoint=lC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case us.connecting:return ds.Connecting;case us.open:return ds.Open;case us.closing:return ds.Closing;default:return ds.Closed}}isConnected(){return this.connectionState()===ds.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new uC(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:a,payload:i,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${a} (${l})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(T3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Au.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:c}=r,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${a} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===us.open||this.conn.readyState===us.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${a}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([U3],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:j3};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new iC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Au.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,i,l,c,d,h,m,v,y,b,x;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:ay,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Au.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:Lm,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:d1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(w=>L3[w-1]||$3),this.vsn){case sC:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((w,_)=>_(JSON.stringify(w))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((w,_)=>_(JSON.parse(w)));break;case N3:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const I3=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:P3,get REALTIME_LISTEN_TYPES(){return ji},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return ly},get REALTIME_PRESENCE_LISTEN_EVENTS(){return oy},get REALTIME_SUBSCRIBE_STATES(){return hn},RealtimeChannel:uC,RealtimeClient:z3,RealtimePresence:cC,WebSocketFactory:aC},Symbol.toStringTag,{value:"Module"})),dC=wn(I3);class zl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class fC extends zl{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ld extends zl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Iy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),B3=()=>Response,cy=t=>{if(Array.isArray(t))return t.map(r=>cy(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=cy(a)}),e},H3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},F3=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),$m=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},G3=(t,e,r)=>he(void 0,void 0,void 0,function*(){const a=yield B3();t instanceof a&&!r?.noResolveJson?t.json().then(i=>{const l=t.status||500,c=i?.statusCode||l+"";e(new fC($m(i),l,c))}).catch(i=>{e(new ld($m(i),i))}):e(new ld($m(t),t))}),W3=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(H3(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Il(t,e,r,a,i,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,W3(e,a,i,l)).then(h=>{if(!h.ok)throw h;return a?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>G3(h,d,a))})})}function wl(t,e,r,a){return he(this,void 0,void 0,function*(){return Il(t,"GET",e,r,a)})}function en(t,e,r,a,i){return he(this,void 0,void 0,function*(){return Il(t,"POST",e,a,i,r)})}function uy(t,e,r,a,i){return he(this,void 0,void 0,function*(){return Il(t,"PUT",e,a,i,r)})}function Y3(t,e,r,a){return he(this,void 0,void 0,function*(){return Il(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function By(t,e,r,a,i){return he(this,void 0,void 0,function*(){return Il(t,"DELETE",e,a,i,r)})}class V3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return he(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}var hC;class K3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[hC]="BlobDownloadBuilder",this.promise=null}asStream(){return new V3(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return he(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}hC=Symbol.toStringTag;const X3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Q3{constructor(e,r={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=Iy(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,i){return he(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},h1),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),y=yield(e=="PUT"?uy:en)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}upload(e,r,a){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,i){return he(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:h1.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",m.cacheControl)):(h=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield uy(this.fetch,d.toString(),h,{headers:v});return{data:{path:l,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(lt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return he(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const l=yield en(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new zl("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}update(e,r,a){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return he(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}copy(e,r,a){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,a){return he(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield en(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,a){return he(this,void 0,void 0,function*(){try{const i=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>wl(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new K3(h,this.shouldThrowOnError)}info(e){return he(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield wl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:cy(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}exists(e){return he(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Y3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a)&&a instanceof ld){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),i=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${m}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(e,r,a){return he(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},X3),r),{prefix:e||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}listV2(e,r){return he(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const mC="2.87.1",pC={"X-Client-Info":`storage-js/${mC}`};class J3{constructor(e,r={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pC),r),this.fetch=Iy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return he(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield wl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(e){return he(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return he(this,void 0,void 0,function*(){try{return{data:yield uy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}emptyBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var _l=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Z3(t,e,r){const a=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&a.searchParams.set(i,l);return a.toString()}async function e5(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function t5(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:i,body:l,headers:c}){const d=Z3(t.baseUrl,a,i),h=await e5(t.auth),m=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),v=await m.text(),y=(m.headers.get("content-type")||"").includes("application/json"),b=y&&v?JSON.parse(v):v;if(!m.ok){const x=y?b:void 0,w=x?.error;throw new _l(w?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:w?.type,icebergCode:w?.code,details:x})}return{status:m.status,headers:m.headers,data:b}}}}function Ru(t){return t.join("")}var r5=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ru(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ru(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ru(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ru(t.namespace)}`}),!0}catch(e){if(e instanceof _l&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof _l&&r.status===409)return;throw r}}};function vi(t){return t.join("")}var n5=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vi(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof _l&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof _l&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},a5=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=t5({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new r5(this.client,e),this.tableOps=new n5(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class vC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},pC),r),this.fetch=Iy(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(e){return he(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield wl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield By(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}from(e){if(!F3(e))throw new zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new a5({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>he(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(l,c){const d=l[c];return typeof d!="function"?d:(...h)=>he(this,void 0,void 0,function*(){try{return{data:yield d.apply(l,h),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}})}})}}const Hy={"X-Client-Info":`storage-js/${mC}`,"Content-Type":"application/json"};class Fy extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Bu extends Fy{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class gC extends Fy{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var dy;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(dy||(dy={}));const Rd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),s5=()=>Response,yC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},i5=t=>Array.from(new Float32Array(t)),o5=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},m1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l5=(t,e,r)=>he(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||i+"";e(new Bu(m1(c),i,d))}).catch(()=>{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Bu(d,i,c))});else{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Bu(d,i,c))}}else e(new gC(m1(t),t))}),c5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return a?(yC(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),r)):i};function u5(t,e,r,a,i,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,c5(e,a,i,l)).then(h=>{if(!h.ok)throw h;if(a?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>l5(h,d,a))})})}function Nr(t,e,r,a,i){return he(this,void 0,void 0,function*(){return u5(t,"POST",e,a,i,r)})}class bC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hy),r),this.fetch=Rd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}})}listIndexes(e){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return he(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}})}}class xC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hy),r),this.fetch=Rd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return he(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}listVectors(e){return he(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Nr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}queryVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return he(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}}class wC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hy),r),this.fetch=Rd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Nr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}listBuckets(){return he(this,arguments,void 0,function*(e={}){try{return{data:yield Nr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Nr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}}class _C extends wC{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new SC(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return he(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return he(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return he(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return he(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class SC extends bC{constructor(e,r,a,i){super(e,r,i),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return he(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return he(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return he(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return he(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new EC(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class EC extends xC{constructor(e,r,a,i,l){super(e,r,l),this.vectorBucketName=a,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return he(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return he(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return he(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return he(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return he(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class d5 extends J3{constructor(e,r={},a,i){super(e,r,a,i)}from(e){return new Q3(this.url,this.headers,e,this.fetch)}get vectors(){return new _C(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vC(this.url+"/iceberg",this.headers,this.fetch)}}const f5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:vC,StorageApiError:fC,StorageClient:d5,StorageError:zl,StorageUnknownError:ld,StorageVectorsApiError:Bu,StorageVectorsClient:_C,StorageVectorsError:Fy,get StorageVectorsErrorCode(){return dy},StorageVectorsUnknownError:gC,VectorBucketApi:wC,VectorBucketScope:SC,VectorDataApi:xC,VectorIndexApi:bC,VectorIndexScope:EC,isPlainObject:yC,isStorageError:lt,isStorageVectorsError:dr,normalizeToFloat32:i5,resolveFetch:Rd,resolveResponse:s5,validateVectorDimension:o5},Symbol.toStringTag,{value:"Module"})),h5=wn(f5);var Um={},Xo={},p1;function m5(){return p1||(p1=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.version=void 0,Xo.version="2.87.1"),Xo}var v1;function p5(){return v1||(v1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=m5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Um)),Um}var zm={},g1;function v5(){return g1||(g1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...l)=>i(...l):(...l)=>fetch(...l);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const a=(i,l,c)=>{const d=(0,t.resolveFetch)(c),h=(0,t.resolveHeadersConstructor)();return async(m,v)=>{var y;const b=(y=await l())!==null&&y!==void 0?y:i;let x=new h(v?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${b}`),d(m,Object.assign(Object.assign({},v),{headers:x}))}};t.fetchWithAuth=a})(zm)),zm}var Hn={},y1;function g5(){if(y1)return Hn;y1=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.isBrowser=void 0,Hn.uuid=t,Hn.ensureTrailingSlash=e,Hn.applySettingDefaults=a,Hn.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var c=Math.random()*16|0,d=l=="x"?c:c&3|8;return d.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";Hn.isBrowser=r;function a(l,c){var d,h;const{db:m,auth:v,realtime:y,global:b}=l,{db:x,auth:w,realtime:_,global:S}=c,j={db:Object.assign(Object.assign({},x),m),auth:Object.assign(Object.assign({},w),v),realtime:Object.assign(Object.assign({},_),y),storage:{},global:Object.assign(Object.assign(Object.assign({},S),b),{headers:Object.assign(Object.assign({},(d=S?.headers)!==null&&d!==void 0?d:{}),(h=b?.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return l.accessToken?j.accessToken=l.accessToken:delete j.accessToken,j}function i(l){const c=l?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Hn}var Qo={};const jC="2.87.1",Si=30*1e3,fy=3,Im=fy*Si,y5="http://localhost:9999",b5="supabase.auth.token",x5={"X-Client-Info":`gotrue-js/${jC}`},hy="X-Supabase-Api-Version",NC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},w5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_5=600*1e3;let Ci=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let TC=class extends Ci{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function OC(t){return ye(t)&&t.name==="AuthApiError"}let Ta=class extends Ci{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Jn=class extends Ci{constructor(e,r,a,i){super(e,a,i),this.name=r,this.status=a}},ur=class extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function CC(t){return ye(t)&&t.name==="AuthSessionMissingError"}let is=class extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},fl=class extends Jn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},hl=class extends Jn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function AC(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}let my=class extends Jn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},cd=class extends Jn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Hu(t){return ye(t)&&t.name==="AuthRetryableFetchError"}let py=class extends Jn{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function S5(t){return ye(t)&&t.name==="AuthWeakPasswordError"}let ud=class extends Jn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),b1=` 	
\r=`.split(""),E5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<b1.length;e+=1)t[b1[e].charCodeAt(0)]=-2;for(let e=0;e<dd.length;e+=1)t[dd[e].charCodeAt(0)]=e;return t})();function x1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(dd[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(dd[a]),e.queuedBits-=6}}function RC(t,e,r){const a=E5[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function w1(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=c=>{T5(c,a,r)};for(let c=0;c<t.length;c+=1)RC(t.charCodeAt(c),i,l);return e.join("")}function j5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function N5(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}j5(a,e)}}function T5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ni(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)RC(t.charCodeAt(i),r,a);return new Uint8Array(e)}function O5(t){const e=[];return N5(t,r=>e.push(r)),new Uint8Array(e)}function hs(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>x1(i,r,a)),x1(null,r,a),e.join("")}function C5(t){return Math.round(Date.now()/1e3)+t}function A5(){return Symbol("auth-callback")}const Ht=()=>typeof window<"u"&&typeof document<"u",ns={tested:!1,writable:!1},DC=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ns.tested)return ns.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ns.tested=!0,ns.writable=!0}catch{ns.tested=!0,ns.writable=!1}return ns.writable};function R5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((a,i)=>{e[i]=a}),e}const kC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),D5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ei=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},as=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bt=async(t,e)=>{await t.removeItem(e)};class Dd{constructor(){this.promise=new Dd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Dd.promiseConstructor=Promise;function Bm(t){const e=t.split(".");if(e.length!==3)throw new ud("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!w5.test(e[a]))throw new ud("JWT not in base64url format");return{header:JSON.parse(w1(e[0])),payload:JSON.parse(w1(e[1])),signature:Ni(e[2]),raw:{header:e[0],payload:e[1]}}}async function k5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function M5(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){a(c);return}}catch(c){if(!e(l,c)){i(c);return}}})()})}function q5(t){return("0"+t.toString(16)).substr(-2)}function P5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,q5).join("")}async function L5(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function $5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await L5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gi(t,e,r=!1){const a=P5();let i=a;r&&(i+="/PASSWORD_RECOVERY"),await Ei(t,`${e}-code-verifier`,i);const l=await $5(a);return[l,a===l?"plain":"s256"]}const U5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function z5(t){const e=t.headers.get(hy);if(!e||!e.match(U5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function I5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function B5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yi(t){if(!H5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function F5(t,e){return new Proxy(t,{get:(r,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,i)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,i)}})}function _1(t){return JSON.parse(JSON.stringify(t))}const os=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),G5=[502,503,504];async function S1(t){var e;if(!D5(t))throw new cd(os(t),0);if(G5.includes(t.status))throw new cd(os(t),t.status);let r;try{r=await t.json()}catch(l){throw new Ta(os(l),l)}let a;const i=z5(t);if(i&&i.getTime()>=NC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new py(os(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new ur}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new py(os(r),t.status,r.weak_password.reasons);throw new TC(os(r),t.status||500,a)}const W5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),r))};async function je(t,e,r,a){var i;const l=Object.assign({},a?.headers);l[hy]||(l[hy]=NC["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const c=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await Y5(t,e,r+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function Y5(t,e,r,a,i,l){const c=W5(e,a,i,l);let d;try{d=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new cd(os(h),0)}if(d.ok||await S1(d),a?.noResolveJson)return d;try{return await d.json()}catch(h){await S1(h)}}function Zr(t){var e;let r=null;X5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=C5(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function E1(t){const e=Zr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Oa(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function V5(t){return{data:t,error:null}}function K5(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l}=t,c=Bi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function j1(t){return t}function X5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fu=["global","local","others"];let Gy=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=kC(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Fu[0]){if(Fu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fu.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Oa})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=Bi(e,["options"]),i=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:K5,redirectTo:r?.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oa})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:j1});if(v.error)throw v.error;const y=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);m[`${S}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ye(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){yi(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oa})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){yi(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Oa})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){yi(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Oa})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){yi(e.userId);try{const{data:r,error:a}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:a}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(e){yi(e.userId),yi(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:j1});if(v.error)throw v.error;const y=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);m[`${S}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ye(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ye(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}};function N1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ls={debug:!!(globalThis&&DC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let MC=class extends Wy{};class Q5 extends Wy{}async function qC(t,e,r){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new MC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ls.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const T1={};async function J5(t,e,r){var a;const i=(a=T1[t])!==null&&a!==void 0?a:Promise.resolve(),l=Promise.race([i.catch(()=>null),e>=0?new Promise((c,d)=>{setTimeout(()=>{d(new Q5(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return T1[t]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await l}function Z5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function PC(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function eq(t){return parseInt(t,16)}function tq(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function rq(t){var e;const{chainId:r,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:v,uri:y,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=PC(t.address),w=v?`${v}://${a}`:a,_=t.statement?`${t.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${x}

${_}`;let j=`URI: ${y}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(i&&(j+=`
Expiration Time: ${i.toISOString()}`),d&&(j+=`
Not Before: ${d.toISOString()}`),h&&(j+=`
Request ID: ${h}`),m){let E=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);E+=`
- ${T}`}j+=E}return`${S}
${j}`}class Nt extends Error{constructor({message:e,code:r,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class fd extends Nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function nq({error:t,options:e}){var r,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(LC(c)){if(l.rp.id!==c)return new Nt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function aq({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(LC(a)){if(r.rpId!==a)return new Nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class sq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const iq=new sq;function oq(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,i=Bi(t,["challenge","user","excludeCredentials"]),l=Ni(e).buffer,c=Object.assign(Object.assign({},r),{id:Ni(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const m=a[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ni(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function lq(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=Bi(t,["challenge","allowCredentials"]),i=Ni(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ni(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function cq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:hs(new Uint8Array(t.response.attestationObject)),clientDataJSON:hs(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function uq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hs(new Uint8Array(i.authenticatorData)),clientDataJSON:hs(new Uint8Array(i.clientDataJSON)),signature:hs(new Uint8Array(i.signature)),userHandle:i.userHandle?hs(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function LC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function O1(){var t,e;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function dq(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fd("Browser returned unexpected credential type",e)}:{data:null,error:new fd("Empty credential response",e)}}catch(e){return{data:null,error:nq({error:e,options:t})}}}async function fq(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new fd("Browser returned unexpected credential type",e)}:{data:null,error:new fd("Empty credential response",e)}}catch(e){return{data:null,error:aq({error:e,options:t})}}}const hq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mq={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function hd(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const c=i[l];if(c!==void 0)if(Array.isArray(c))a[l]=c;else if(r(c))a[l]=c;else if(e(c)){const d=a[l];e(d)?a[l]=hd(d,c):a[l]=hd(c)}else a[l]=c}return a}function pq(t,e){return hd(hq,t,e||{})}function vq(t,e){return hd(mq,t,e||{})}class gq{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:i},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:d};const h=i??iq.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=pq(c.webauthn.credential_options.publicKey,l?.create),{data:v,error:y}=await dq({publicKey:m,signal:h});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const m=vq(c.webauthn.credential_options.publicKey,l?.request),{data:v,error:y}=await fq(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(c){return ye(c)?{data:null,error:c}:{data:null,error:new Ta("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ci("rpId is required for WebAuthn authentication")};try{if(!O1())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:i},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:a,credential_response:h.credential_response}})}catch(c){return ye(c)?{data:null,error:c}:{data:null,error:new Ta("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ci("rpId is required for WebAuthn registration")};try{if(!O1())return{data:null,error:new Ta("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:i},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ye(c)?{data:null,error:c}:{data:null,error:new Ta("Unexpected error in register",c)}}}}Z5();const yq={url:y5,storageKey:b5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:x5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function C1(t,e,r){return await r()}const bi={};let Yy=class vy{get jwks(){var e,r;return(r=(e=bi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=bi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){bi[this.storageKey]=Object.assign(Object.assign({},bi[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},yq),e);if(this.storageKey=l.storageKey,this.instanceID=(r=vy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ht()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Gy({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=kC(l.fetch),this.lock=l.lock||C1,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Ht()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=qC:this.lock=C1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new gq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:DC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=N1(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=N1(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${jC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Ht()&&(r=R5(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Ht()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),AC(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?this._returnResult({error:r}):this._returnResult({error:new Ta("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,i;try{const l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zr}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,a,i;try{let l;if("email"in e){const{email:v,password:y,options:b}=e;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await gi(this.storage,this.storageKey)),l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:y,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Zr})}else if("phone"in e){const{phone:v,password:y,options:b}=e;l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Zr})}else throw new fl("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await Bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:E1})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:E1})}else throw new fl("You must provide either an email or phone number and a password");const{data:a,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const l=new is;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,i,l,c,d,h,m,v,y,b;let x,w;if("message"in e)x=e.message,w=e.signature;else{const{chain:_,wallet:S,statement:j,options:E}=e;let T;if(Ht())if(typeof S=="object")T=S;else{const L=window;if("ethereum"in L&&typeof L.ethereum=="object"&&"request"in L.ethereum&&typeof L.ethereum.request=="function")T=L.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const O=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),M=await T.request({method:"eth_requestAccounts"}).then(L=>L).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=PC(M[0]);let R=(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!R){const L=await T.request({method:"eth_chainId"});R=eq(L)}const P={domain:O.host,address:D,statement:j,uri:O.href,version:"1",chainId:R,nonce:(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(l=E?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=E?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=E?.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=rq(P),w=await T.request({method:"personal_sign",params:[tq(x),D]})}try{const{data:_,error:S}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Zr});if(S)throw S;if(!_||!_.session||!_.user){const j=new is;return this._returnResult({data:{user:null,session:null},error:j})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(ye(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,a,i,l,c,d,h,m,v,y,b,x;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:S,wallet:j,statement:E,options:T}=e;let O;if(Ht())if(typeof j=="object")O=j;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))O=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=j}const M=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const D=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),E?{statement:E}:null));let R;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")R=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)R=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)w=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(i=(a=T?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=T?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const D=await O.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:S,error:j}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:hs(_)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Zr});if(j)throw j;if(!S||!S.session||!S.user){const E=new is;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:j})}catch(S){if(ye(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await as(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(r??"").split("/");try{const{data:l,error:c}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Zr});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new is;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:c})}catch(l){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:a,token:i,access_token:l,nonce:c}=e,d=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Zr}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new is;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,i,l,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await gi(this.storage,this.storageKey));const{error:y}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:v}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new fl("You must provide either an email or phone number.")}catch(d){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,a;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:Zr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,a,i,l,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await gi(this.storage,this.storageKey));const m=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:V5});return!((l=m.data)===null||l===void 0)&&l.url&&Ht()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new ur;const{error:i}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ye(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:c}=await je(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:c,error:d}=await je(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new fl("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Im:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await as(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Hm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=F5(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oa}):await this._useSession(async r=>{var a,i,l;const{data:c,error:d}=r;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ur}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:Oa})})}catch(r){if(ye(r))return CC(r)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new ur;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await gi(this.storage,this.storageKey));const{data:m,error:v}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:Oa});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ur;const r=Date.now()/1e3;let a=r,i=!0,l=null;const{payload:c}=Bm(e.access_token);if(c.exp&&(a=c.exp,i=a<=r),i){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new ur;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ht())throw new hl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new my("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new my("No code detected.");const{data:E,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!c||!m)throw new hl("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(d);let b=v+y;h&&(b=parseInt(h));const x=b-v;x*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const w=b-y;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,v);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const j={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:y,expires_at:b,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:e.type},error:null})}catch(a){if(ye(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const c=(a=i.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(OC(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=A5(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,i;try{const{data:{session:l},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await gi(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:i}=await this._useSession(async l=>{var c,d,h,m,v;const{data:y,error:b}=l;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(ye(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:c,provider:d,token:h,access_token:m,nonce:v}=e,y=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Zr}),{data:b,error:x}=y;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new is}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(i){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:c}=r;if(c)throw c;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await M5(async i=>(i>0&&await k5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zr})),(i,l)=>{const c=200*Math.pow(2,i);return l&&Hu(l)&&Date.now()+c-a<Si})}catch(a){if(this._debug(r,"error",a),ye(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Ht()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await as(this.storage,this.storageKey);if(i&&this.userStorage){let c=await as(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await Ei(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Hm()}else if(i&&!i.user&&!i.user){const c=await as(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Bt(this.storage,this.storageKey+"-user"),await Ei(this.storage,this.storageKey,i)):i.user=Hm()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Im;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Im}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Hu(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Dd;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new ur;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),ye(l)){const c={data:null,error:l};return Hu(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Bt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await Ei(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=_1(i);await Ei(this.storage,this.storageKey,l)}else{const i=_1(r);await Ei(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Si}ms, refresh threshold is ${fy} ticks`),i<=fy&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const i=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,c]=await gi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await je(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?cq(e.webauthn.credential_response):uq(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:oq(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:lq(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Bm(a.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new ur})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new ur});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new ur});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ur})})}catch(e){if(ye(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ur})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(d=>d.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+_5>i)return a;const{data:l,error:c}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});a=x.session.access_token}const{header:i,payload:l,signature:c,raw:{header:d,payload:h}}=Bm(a);r?.allowExpired||I5(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:l,header:i,signature:c},error:null}}const v=B5(i.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,O5(`${d}.${h}`)))throw new ud("Invalid JWT signature");return{data:{claims:l,header:i,signature:c},error:null}}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}};Yy.nextInstanceID={};const bq=Gy,xq=Yy,wq=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:bq,AuthApiError:TC,AuthClient:xq,AuthError:Ci,AuthImplicitGrantRedirectError:hl,AuthInvalidCredentialsError:fl,AuthInvalidJwtError:ud,AuthInvalidTokenResponseError:is,AuthPKCEGrantCodeExchangeError:my,AuthRetryableFetchError:cd,AuthSessionMissingError:ur,AuthUnknownError:Ta,AuthWeakPasswordError:py,CustomAuthError:Jn,GoTrueAdminApi:Gy,GoTrueClient:Yy,NavigatorLockAcquireTimeoutError:MC,SIGN_OUT_SCOPES:Fu,isAuthApiError:OC,isAuthError:ye,isAuthImplicitGrantRedirectError:AC,isAuthRetryableFetchError:Hu,isAuthSessionMissingError:CC,isAuthWeakPasswordError:S5,lockInternals:ls,navigatorLock:qC,processLock:J5},Symbol.toStringTag,{value:"Module"})),$C=wn(wq);var A1;function _q(){if(A1)return Qo;A1=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.SupabaseAuthClient=void 0;const t=$C;let e=class extends t.AuthClient{constructor(a){super(a)}};return Qo.SupabaseAuthClient=e,Qo}var R1;function D1(){if(R1)return Su;R1=1,Object.defineProperty(Su,"__esModule",{value:!0});const t=QO,e=nC(),r=dC,a=h5,i=p5(),l=v5(),c=g5(),d=_q();class h{constructor(v,y,b){var x,w,_;this.supabaseUrl=v,this.supabaseKey=y;const S=(0,c.validateSupabaseUrl)(v);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const j=`sb-${S.hostname.split(".")[0]}-auth-token`,E={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:j}),global:i.DEFAULT_GLOBAL_OPTIONS},T=(0,c.applySettingDefaults)(b??{},E);this.storageKey=(x=T.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(w=T.global.headers)!==null&&w!==void 0?w:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(O,M)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(M)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=T.auth)!==null&&_!==void 0?_:{},this.headers,T.global.fetch),this.fetch=(0,l.fetchWithAuth)(y,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(O=>this.realtime.setAuth(O)).catch(O=>console.warn("Failed to set initial Realtime auth token:",O)),this.rest=new e.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,y={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,y,b)}channel(v,y={config:{}}){return this.realtime.channel(v,y)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,y;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(y=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,storageKey:_,flowType:S,lock:j,debug:E,throwOnError:T},O,M){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),O),storageKey:_,autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,flowType:S,lock:j,debug:E,throwOnError:T,fetch:M,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,b)=>{this._handleTokenChanged(y,"CLIENT",b?.access_token)})}_handleTokenChanged(v,y,b){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Su.default=h,Su}var k1;function Sq(){return k1||(k1=1,(function(t){var e=Bn&&Bn.__createBinding||(Object.create?(function(v,y,b,x){x===void 0&&(x=b);var w=Object.getOwnPropertyDescriptor(y,b);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[b]}}),Object.defineProperty(v,x,w)}):(function(v,y,b,x){x===void 0&&(x=b),v[x]=y[b]})),r=Bn&&Bn.__exportStar||function(v,y){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(y,b)&&e(y,v,b)},a=Bn&&Bn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=a(D1());r($C,t);var l=nC();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var c=QO;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(dC,t);var d=D1();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return a(d).default}});const h=(v,y,b)=>new i.default(v,y,b);t.createClient=h;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const y=v.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Bn)),Bn}var UC=Sq();const zC=Qt(UC),Eq=qM({__proto__:null,default:zC},[UC]),{PostgrestError:p9,FunctionsHttpError:v9,FunctionsFetchError:g9,FunctionsRelayError:y9,FunctionsError:b9,FunctionRegion:x9,SupabaseClient:w9,createClient:jq,GoTrueAdminApi:_9,GoTrueClient:S9,AuthAdminApi:E9,AuthClient:j9,navigatorLock:N9,NavigatorLockAcquireTimeoutError:T9,lockInternals:O9,processLock:C9,SIGN_OUT_SCOPES:A9,AuthError:R9,AuthApiError:D9,AuthUnknownError:k9,CustomAuthError:M9,AuthSessionMissingError:q9,AuthInvalidTokenResponseError:P9,AuthInvalidCredentialsError:L9,AuthImplicitGrantRedirectError:$9,AuthPKCEGrantCodeExchangeError:U9,AuthRetryableFetchError:z9,AuthWeakPasswordError:I9,AuthInvalidJwtError:B9,isAuthError:H9,isAuthApiError:F9,isAuthSessionMissingError:G9,isAuthImplicitGrantRedirectError:W9,isAuthRetryableFetchError:Y9,isAuthWeakPasswordError:V9,RealtimePresence:K9,RealtimeChannel:X9,RealtimeClient:Q9,REALTIME_LISTEN_TYPES:J9,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:Z9,REALTIME_PRESENCE_LISTEN_EVENTS:eF,REALTIME_SUBSCRIBE_STATES:tF,REALTIME_CHANNEL_STATES:rF}=zC||Eq,Nq="https://qtbdvbhewbrgvweeruhz.supabase.co",Tq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0YmR2Ymhld2JyZ3Z3ZWVydWh6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzODQxODgsImV4cCI6MjA4MDk2MDE4OH0.GwOJ29umkje7Ko6ShUeNmHP_TkgIXByGphthll8QzCY";console.log(" Checking environment variables...");console.log("VITE_SUPABASE_URL:"," Set");console.log("VITE_SUPABASE_ANON_KEY:"," Set");const Te=jq(Nq,Tq),IC=A.createContext(void 0),Oq=({children:t})=>{const[e,r]=A.useState(null),[a,i]=A.useState(null),[l,c]=A.useState(!0),[d,h]=A.useState(null);A.useEffect(()=>{Te.auth.getSession().then(({data:{session:x}})=>{r(x),x?m(x.user.id):c(!1)});const{data:{subscription:b}}=Te.auth.onAuthStateChange((x,w)=>{r(w),w?m(w.user.id):(i(null),c(!1))});return()=>b.unsubscribe()},[]);const m=async b=>{try{h(null);const{data:x,error:w}=await Te.from("profiles").select("*").eq("id",b).single();if(w){console.error("Error fetching profile:",w),h("No se pudo cargar el perfil de usuario"),i(null);return}if(!x){h("Perfil de usuario no encontrado"),i(null);return}if(!x.id||!x.role||!x.full_name){console.error("Invalid profile data structure:",x),h("Datos de perfil invlidos"),i(null);return}if(x.role!=="superadmin"&&!x.salon_id){console.error("Missing salon_id for non-superadmin user:",x),h("Usuario sin saln asignado"),i(null);return}i(x)}catch(x){console.error("Unexpected error fetching profile:",x),h("Error inesperado al cargar el perfil"),i(null)}finally{c(!1)}},v=async()=>{await Te.auth.signOut(),i(null),r(null)},y={session:e,profile:a,loading:l,error:d,isSuperAdmin:a?.role==="superadmin",isAdmin:a?.role==="admin"||a?.role==="superadmin",signOut:v};return f.jsx(IC.Provider,{value:y,children:t})},Bl=()=>{const t=A.useContext(IC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const Cq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Aq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),M1=t=>{const e=Aq(t);return e.charAt(0).toUpperCase()+e.slice(1)},BC=(...t)=>t.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),Rq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Dq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kq=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...d},h)=>A.createElement("svg",{ref:h,...Dq,width:e,height:e,stroke:t,strokeWidth:a?Number(r)*24/Number(e):r,className:BC("lucide",i),...!l&&!Rq(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,v])=>A.createElement(m,v)),...Array.isArray(l)?l:[l]]));const Ne=(t,e)=>{const r=A.forwardRef(({className:a,...i},l)=>A.createElement(kq,{ref:l,iconNode:e,className:BC(`lucide-${Cq(M1(t))}`,`lucide-${t}`,a),...i}));return r.displayName=M1(t),r};const Mq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],q1=Ne("activity",Mq);const qq=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],md=Ne("building-2",qq);const Pq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Lq=Ne("calendar-check",Pq);const $q=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nn=Ne("calendar",$q);const Uq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Yn=Ne("check",Uq);const zq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],HC=Ne("chevron-down",zq);const Iq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vy=Ne("chevron-left",Iq);const Bq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ai=Ne("chevron-right",Bq);const Hq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ca=Ne("circle-alert",Hq);const Fq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pd=Ne("circle-check-big",Fq);const Gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Wq=Ne("circle-user",Gq);const Yq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gy=Ne("circle-x",Yq);const Vq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sn=Ne("clock",Vq);const Kq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],FC=Ne("dollar-sign",Kq);const Xq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GC=Ne("eye-off",Xq);const Qq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],WC=Ne("eye",Qq);const Jq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Zq=Ne("file-text",Jq);const e6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],t6=Ne("grip-vertical",e6);const r6=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],n6=Ne("key",r6);const a6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tt=Ne("loader-circle",a6);const s6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],i6=Ne("lock",s6);const o6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ky=Ne("log-out",o6);const l6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kd=Ne("mail",l6);const c6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],u6=Ne("map-pin",c6);const d6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Xy=Ne("message-circle",d6);const f6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],YC=Ne("message-square",f6);const h6=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],VC=Ne("pen-line",h6);const m6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],KC=Ne("pen",m6);const p6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],XC=Ne("pencil",p6);const v6=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],QC=Ne("phone-call",v6);const g6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Hl=Ne("phone",g6);const y6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vn=Ne("plus",y6);const b6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Md=Ne("refresh-cw",b6);const x6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],w6=Ne("save",x6);const _6=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Fl=Ne("scissors",_6);const S6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],gs=Ne("search",S6);const E6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],j6=Ne("send",E6);const N6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T6=Ne("settings",N6);const O6=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],C6=Ne("store",O6);const A6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],JC=Ne("tag",A6);const R6=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],ZC=Ne("ticket",R6);const D6=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],yy=Ne("toggle-left",D6);const k6=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],by=Ne("toggle-right",k6);const M6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ys=Ne("trash-2",M6);const q6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],P6=Ne("triangle-alert",q6);const L6=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$6=Ne("user-cog",L6);const U6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qd=Ne("user-check",U6);const z6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bn=Ne("user",z6);const I6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ms=Ne("users",I6);const B6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tr=Ne("x",B6);class H6 extends A.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",children:f.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-lg border border-slate-200",children:[f.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[f.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:f.jsx(P6,{className:"h-6 w-6 text-yellow-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Algo sali mal"}),f.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"La aplicacin encontr un error inesperado. Por favor, recarga la pgina o contacta al soporte."}),this.state.error&&f.jsxs("details",{className:"text-xs text-slate-500 mb-4",children:[f.jsx("summary",{className:"cursor-pointer font-medium mb-1",children:"Detalles tcnicos"}),f.jsx("pre",{className:"mt-2 p-2 bg-slate-100 rounded overflow-auto",children:this.state.error.toString()})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition",children:"Intentar de nuevo"}),f.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-300 transition",children:"Recargar pgina"})]})]})}):this.props.children}}const F6="@galia.local";function G6(){const[t,e]=A.useState(""),[r,a]=A.useState(""),[i,l]=A.useState(!1),[c,d]=A.useState(!1),[h,m]=A.useState(null),v=My(),y=async b=>{b.preventDefault(),d(!0),m(null);const x=t.includes("@")?t:`${t}${F6}`;try{const{data:{user:w},error:_}=await Te.auth.signInWithPassword({email:x,password:r});if(_){m(_.message==="Invalid login credentials"?"Credenciales invlidas. Por favor verifica tu usuario y contrasea.":_.message),d(!1);return}if(w){const{data:S,error:j}=await Te.from("profiles").select("role").eq("id",w.id).single();if(j){m("No se pudo cargar tu perfil. Contacta al administrador."),d(!1);return}if(!S){m("Perfil no encontrado. Contacta al administrador."),d(!1);return}switch(S.role){case"superadmin":v("/superadmin");break;case"admin":v("/admin");break;default:v("/staff")}}}catch(w){m("Error inesperado. Por favor intenta de nuevo."),console.error("Login error:",w)}finally{d(!1)}};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-4",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-indigo-900/50 rounded-full opacity-50 blur-3xl"}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-900/50 rounded-full opacity-50 blur-3xl"})]}),f.jsxs("div",{className:"relative w-full max-w-md",children:[f.jsxs("div",{className:"bg-slate-800 backdrop-blur-xl rounded-2xl shadow-xl shadow-black/20 border border-slate-700 p-8 sm:p-10",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg shadow-indigo-500/30 mb-4",children:f.jsx("span",{className:"text-2xl font-bold text-white",children:"G"})}),f.jsx("h1",{className:"text-2xl font-semibold text-white tracking-tight",children:"Bienvenido"}),f.jsx("p",{className:"text-slate-400 mt-1",children:"Ingresa a tu cuenta para continuar"})]}),h&&f.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[f.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-red-500/20 flex items-center justify-center mt-0.5",children:f.jsx(Ca,{className:"h-3.5 w-3.5 text-red-400"})}),f.jsx("p",{className:"text-sm text-red-400 leading-relaxed",children:h})]}),f.jsxs("form",{onSubmit:y,className:"space-y-5",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Usuario"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:f.jsx(bn,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),f.jsx("input",{type:"text",value:t,onChange:b=>e(b.target.value.toLowerCase().trim()),placeholder:"tu_usuario",className:"w-full pl-11 pr-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"username"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Contrasea"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:f.jsx(i6,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),f.jsx("input",{type:i?"text":"password",value:r,onChange:b=>a(b.target.value),placeholder:"",className:"w-full pl-11 pr-12 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"current-password"}),f.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 pr-3.5 flex items-center text-slate-500 hover:text-slate-300 transition-colors",children:i?f.jsx(GC,{className:"h-5 w-5"}):f.jsx(WC,{className:"h-5 w-5"})})]})]}),f.jsx("button",{type:"submit",disabled:c,className:"w-full py-3.5 bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white font-medium rounded-xl shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 focus:ring-4 focus:ring-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2",children:c?f.jsxs(f.Fragment,{children:[f.jsx(Tt,{className:"h-5 w-5 animate-spin"}),f.jsx("span",{children:"Ingresando..."})]}):"Iniciar Sesin"})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700",children:f.jsxs("p",{className:"text-center text-sm text-slate-400",children:["Problemas para acceder?"," ",f.jsx("a",{href:"#",className:"text-indigo-400 hover:text-indigo-300 font-medium hover:underline",children:"Contacta soporte"})]})})]}),f.jsxs("p",{className:"text-center text-xs text-slate-500 mt-6",children:["GALia Digital  ",new Date().getFullYear()]})]})]})}function Ri({size:t="md",text:e}){const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return f.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[f.jsx(Tt,{className:`${r[t]} animate-spin text-indigo-600`}),e&&f.jsx("p",{className:"text-sm text-slate-600",children:e})]})}function bs({title:t="Error",message:e,onRetry:r}){return f.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:f.jsx("div",{className:"max-w-md w-full p-6 bg-red-50 border border-red-200 rounded-xl",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(Ca,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:t}),f.jsx("p",{className:"text-sm text-red-700 mb-4",children:e}),r&&f.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition",children:[f.jsx(Md,{className:"h-4 w-4"}),"Reintentar"]})]})]})})})}function Kn(t){"@babel/helpers - typeof";return Kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kn(t)}function W6(t,e){if(Kn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(Kn(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eA(t){var e=W6(t,"string");return Kn(e)=="symbol"?e:e+""}function fs(t,e,r){return(e=eA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function Je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P1(Object(r),!0).forEach(function(a){fs(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Pd(t,e){if(t==null)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;r[a]=t[a]}return r}function xn(t,e){if(t==null)return{};var r,a,i=Pd(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L1(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,eA(a.key),a)}}function Dt(t,e,r){return e&&L1(t.prototype,e),r&&L1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function vd(t){return vd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vd(t)}function tA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tA=function(){return!!t})()}function Y6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V6(t,e){if(e&&(Kn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y6(t)}function Jt(t,e,r){return e=vd(e),V6(t,tA()?Reflect.construct(e,r||[],vd(t).constructor):e.apply(t,r))}function gd(t,e){return gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},gd(t,e)}function Zt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gd(t,e)}function rA(t){if(Array.isArray(t))return t}function K6(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,i,l,c,d=[],h=!0,m=!1;try{if(l=(r=r.call(t)).next,e!==0)for(;!(h=(a=l.call(r)).done)&&(d.push(a.value),d.length!==e);h=!0);}catch(v){m=!0,i=v}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw i}}return d}}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function Qy(t,e){if(t){if(typeof t=="string")return xy(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xy(t,e):void 0}}function nA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xs(t,e){return rA(t)||K6(t,e)||Qy(t,e)||nA()}function aA(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=aA(t[e]))&&(a&&(a+=" "),a+=r);else for(e in t)t[e]&&(a&&(a+=" "),a+=e);return a}function ut(){for(var t,e,r=0,a="";r<arguments.length;)(t=arguments[r++])&&(e=aA(t))&&(a&&(a+=" "),a+=e);return a}const X6=Object.freeze(Object.defineProperty({__proto__:null,clsx:ut,default:ut},Symbol.toStringTag,{value:"Module"}));function pt(){return pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},pt.apply(null,arguments)}var Fm,$1;function Q6(){if($1)return Fm;$1=1;var t=function(e,r,a,i,l,c,d,h){if(!e){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[a,i,l,c,d,h],y=0;m=new Error(r.replace(/%s/g,function(){return v[y++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Fm=t,Fm}var J6=Q6();const Sl=Qt(J6);var Z6=function(){};function eP(t,e){var r={};return Object.keys(t).forEach(function(a){r[Gu(a)]=Z6}),r}function U1(t,e){return t[e]!==void 0}function Gu(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function tP(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function rP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,gd(t,e)}function sA(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function iA(t){function e(r){var a=this.constructor.getDerivedStateFromProps(t,r);return a??null}this.setState(e.bind(this))}function oA(t,e){try{var r=this.props,a=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}sA.__suppressDeprecationWarning=!0;iA.__suppressDeprecationWarning=!0;oA.__suppressDeprecationWarning=!0;function nP(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,a=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||a!==null||i!==null){var l=t.displayName||t.name,c=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+c+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=sA,e.componentWillReceiveProps=iA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=oA;var d=e.componentDidUpdate;e.componentDidUpdate=function(m,v,y){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;d.call(this,m,v,b)}}return t}var aP="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function lA(t,e,r){r===void 0&&(r=[]);var a=t.displayName||t.name||"Component",i=tP(t),l=Object.keys(e),c=l.map(Gu);i||!r.length||Sl(!1);var d=(function(m){rP(v,m);function v(){for(var b,x=arguments.length,w=new Array(x),_=0;_<x;_++)w[_]=arguments[_];b=m.call.apply(m,[this].concat(w))||this,b.handlers=Object.create(null),l.forEach(function(j){var E=e[j],T=function(M){if(b.props[E]){var D;b._notifying=!0;for(var R=arguments.length,P=new Array(R>1?R-1:0),L=1;L<R;L++)P[L-1]=arguments[L];(D=b.props)[E].apply(D,[M].concat(P)),b._notifying=!1}b.unmounted||b.setState(function(C){var q,U=C.values;return{values:pt(Object.create(null),U,(q={},q[j]=M,q))}})};b.handlers[E]=T}),r.length&&(b.attachRef=function(j){b.inner=j});var S=Object.create(null);return l.forEach(function(j){S[j]=b.props[Gu(j)]}),b.state={values:S,prevProps:{}},b}var y=v.prototype;return y.shouldComponentUpdate=function(){return!this._notifying},v.getDerivedStateFromProps=function(x,w){var _=w.values,S=w.prevProps,j={values:pt(Object.create(null),_),prevProps:{}};return l.forEach(function(E){j.prevProps[E]=x[E],!U1(x,E)&&U1(S,E)&&(j.values[E]=x[Gu(E)])}),j},y.componentWillUnmount=function(){this.unmounted=!0},y.render=function(){var x=this,w=this.props,_=w.innerRef,S=Pd(w,["innerRef"]);c.forEach(function(E){delete S[E]});var j={};return l.forEach(function(E){var T=x.props[E];j[E]=T!==void 0?T:x.state.values[E]}),Y.createElement(t,pt({},S,j,this.handlers,{ref:_||this.attachRef}))},v})(Y.Component);nP(d),d.displayName="Uncontrolled("+a+")",d.propTypes=pt({innerRef:function(){}},eP(e)),r.forEach(function(m){d.prototype[m]=function(){var y;return(y=this.inner)[m].apply(y,arguments)}});var h=d;return Y.forwardRef&&(h=Y.forwardRef(function(m,v){return Y.createElement(d,pt({},m,{innerRef:v,__source:{fileName:aP,lineNumber:128},__self:this}))}),h.propTypes=d.propTypes),h.ControlledComponent=t,h.deferControlTo=function(m,v,y){return v===void 0&&(v={}),lA(m,pt({},e,v),y)},h}var Gm={exports:{}},Wm,z1;function sP(){if(z1)return Wm;z1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Wm=t,Wm}var Ym,I1;function iP(){if(I1)return Ym;I1=1;var t=sP();function e(){}function r(){}return r.resetWarningCache=e,Ym=function(){function a(c,d,h,m,v,y){if(y!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function i(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return l.PropTypes=l,l},Ym}var B1;function Jy(){return B1||(B1=1,Gm.exports=iP()()),Gm.exports}var oP=Jy();const ce=Qt(oP);var yd="milliseconds",El="seconds",jl="minutes",Nl="hours",ws="day",Di="week",Tl="month",_s="year",Ss="decade",Es="century",cA={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},lP={month:1,year:12,decade:120,century:1200};function cP(t){return[31,uP(t),31,30,31,30,31,31,30,31,30,31]}function uP(t){return t%4===0&&t%100!==0||t%400===0?29:28}function an(t,e,r){switch(t=new Date(t),r){case yd:case El:case jl:case Nl:case ws:case Di:return dP(t,e*cA[r]);case Tl:case _s:case Ss:case Es:return fP(t,e*lP[r])}throw new TypeError('Invalid units: "'+r+'"')}function dP(t,e){var r=new Date(+t+e);return hP(t,r)}function fP(t,e){var r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),l=r*12+a+e,c=Math.trunc(l/12),d=l%12,h=Math.min(i,cP(c)[d]),m=new Date(t);return m.setFullYear(c),m.setDate(1),m.setMonth(d),m.setDate(h),m}function hP(t,e){var r=t.getTimezoneOffset(),a=e.getTimezoneOffset(),i=a-r;return new Date(+e+i*cA.minutes)}function Ol(t,e,r){return an(t,-e,r)}function Gt(t,e,r){switch(t=new Date(t),e){case Es:case Ss:case _s:t=xd(t,0);case Tl:t=mA(t,1);case Di:case ws:t=Rl(t,0);case Nl:t=ki(t,0);case jl:t=Al(t,0);case El:t=Cl(t,0)}return e===Ss&&(t=Ol(t,js(t)%10,"year")),e===Es&&(t=Ol(t,js(t)%100,"year")),e===Di&&(t=pA(t,0,r)),t}function bd(t,e,r){switch(t=new Date(t),t=Gt(t,e,r),e){case Es:case Ss:case _s:case Tl:case Di:t=an(t,1,e),t=Ol(t,1,ws),t.setHours(23,59,59,999);break;case ws:t.setHours(23,59,59,999);break;case Nl:case jl:case El:t=an(t,1,e),t=Ol(t,1,yd)}return t}var Fi=Wi(function(t,e){return t===e}),Zy=Wi(function(t,e){return t!==e}),Ld=Wi(function(t,e){return t>e}),Gl=Wi(function(t,e){return t>=e}),eb=Wi(function(t,e){return t<e}),Gi=Wi(function(t,e){return t<=e});function uA(){return new Date(Math.min.apply(Math,arguments))}function dA(){return new Date(Math.max.apply(Math,arguments))}function fA(t,e,r,a){return a=a||"day",(!e||Gl(t,e,a))&&(!r||Gi(t,r,a))}var Cl=Ma("Milliseconds"),Al=Ma("Seconds"),ki=Ma("Minutes"),Rl=Ma("Hours"),hA=Ma("Day"),mA=Ma("Date"),xd=Ma("Month"),js=Ma("FullYear");function mP(t,e){return e===void 0?js(Gt(t,Ss)):an(t,e+10,_s)}function pP(t,e){return e===void 0?js(Gt(t,Es)):an(t,e+100,_s)}function pA(t,e,r){var a=(hA(t)+7-(r||0))%7;return e===void 0?a:an(t,e-a,ws)}function vP(t,e,r,a){var i,l,c;switch(r){case yd:case El:case jl:case Nl:case ws:case Di:i=e.getTime()-t.getTime();break;case Tl:case _s:case Ss:case Es:i=(js(e)-js(t))*12+xd(e)-xd(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case yd:l=1;break;case El:l=1e3;break;case jl:l=1e3*60;break;case Nl:l=1e3*60*60;break;case ws:l=1e3*60*60*24;break;case Di:l=1e3*60*60*24*7;break;case Tl:l=1;break;case _s:l=12;break;case Ss:l=120;break;case Es:l=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return c=i/l,a?c:Math.round(c)}function Ma(t){var e=(function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(t);return function(r,a){if(a===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](a),e&&i["get"+t]()!=a&&(t==="Hours"||a>=e&&i.getHours()-r.getHours()<Math.floor(a/e))&&i["set"+t](a+e),i}}function Wi(t){return function(e,r,a){return t(+Gt(e,a),+Gt(r,a))}}const H1=Object.freeze(Object.defineProperty({__proto__:null,add:an,century:pP,date:mA,day:hA,decade:mP,diff:vP,endOf:bd,eq:Fi,gt:Ld,gte:Gl,hours:Rl,inRange:fA,lt:eb,lte:Gi,max:dA,milliseconds:Cl,min:uA,minutes:ki,month:xd,neq:Zy,seconds:Al,startOf:Gt,subtract:Ol,weekday:pA,year:js},Symbol.toStringTag,{value:"Module"}));function gP(t){if(Array.isArray(t))return xy(t)}function vA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wu(t){return gP(t)||vA(t)||Qy(t)||yP()}var Vm,F1;function gA(){if(F1)return Vm;F1=1;function t(e,r,a){var i=-1,l=e.length;r<0&&(r=-r>l?0:l+r),a=a>l?l:a,a<0&&(a+=l),l=r>a?0:a-r>>>0,r>>>=0;for(var c=Array(l);++i<l;)c[i]=e[i+r];return c}return Vm=t,Vm}var Km,G1;function Wl(){if(G1)return Km;G1=1;function t(e,r){return e===r||e!==e&&r!==r}return Km=t,Km}var Xm,W1;function yA(){if(W1)return Xm;W1=1;var t=typeof wu=="object"&&wu&&wu.Object===Object&&wu;return Xm=t,Xm}var Qm,Y1;function Sn(){if(Y1)return Qm;Y1=1;var t=yA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Qm=r,Qm}var Jm,V1;function Yi(){if(V1)return Jm;V1=1;var t=Sn(),e=t.Symbol;return Jm=e,Jm}var Zm,K1;function bP(){if(K1)return Zm;K1=1;var t=Yi(),e=Object.prototype,r=e.hasOwnProperty,a=e.toString,i=t?t.toStringTag:void 0;function l(c){var d=r.call(c,i),h=c[i];try{c[i]=void 0;var m=!0}catch{}var v=a.call(c);return m&&(d?c[i]=h:delete c[i]),v}return Zm=l,Zm}var ep,X1;function xP(){if(X1)return ep;X1=1;var t=Object.prototype,e=t.toString;function r(a){return e.call(a)}return ep=r,ep}var tp,Q1;function Vi(){if(Q1)return tp;Q1=1;var t=Yi(),e=bP(),r=xP(),a="[object Null]",i="[object Undefined]",l=t?t.toStringTag:void 0;function c(d){return d==null?d===void 0?i:a:l&&l in Object(d)?e(d):r(d)}return tp=c,tp}var rp,J1;function Zn(){if(J1)return rp;J1=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return rp=t,rp}var np,Z1;function tb(){if(Z1)return np;Z1=1;var t=Vi(),e=Zn(),r="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",l="[object Proxy]";function c(d){if(!e(d))return!1;var h=t(d);return h==a||h==i||h==r||h==l}return np=c,np}var ap,eE;function rb(){if(eE)return ap;eE=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return ap=e,ap}var sp,tE;function Yl(){if(tE)return sp;tE=1;var t=tb(),e=rb();function r(a){return a!=null&&e(a.length)&&!t(a)}return sp=r,sp}var ip,rE;function nb(){if(rE)return ip;rE=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(a,i){var l=typeof a;return i=i??t,!!i&&(l=="number"||l!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return ip=r,ip}var op,nE;function $d(){if(nE)return op;nE=1;var t=Wl(),e=Yl(),r=nb(),a=Zn();function i(l,c,d){if(!a(d))return!1;var h=typeof c;return(h=="number"?e(d)&&r(c,d.length):h=="string"&&c in d)?t(d[c],l):!1}return op=i,op}var lp,aE;function wP(){if(aE)return lp;aE=1;var t=/\s/;function e(r){for(var a=r.length;a--&&t.test(r.charAt(a)););return a}return lp=e,lp}var cp,sE;function _P(){if(sE)return cp;sE=1;var t=wP(),e=/^\s+/;function r(a){return a&&a.slice(0,t(a)+1).replace(e,"")}return cp=r,cp}var up,iE;function qa(){if(iE)return up;iE=1;function t(e){return e!=null&&typeof e=="object"}return up=t,up}var dp,oE;function Vl(){if(oE)return dp;oE=1;var t=Vi(),e=qa(),r="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&t(i)==r}return dp=a,dp}var fp,lE;function SP(){if(lE)return fp;lE=1;var t=_P(),e=Zn(),r=Vl(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function h(m){if(typeof m=="number")return m;if(r(m))return a;if(e(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=e(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=t(m);var y=l.test(m);return y||c.test(m)?d(m.slice(2),y?2:8):i.test(m)?a:+m}return fp=h,fp}var hp,cE;function bA(){if(cE)return hp;cE=1;var t=SP(),e=1/0,r=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var l=i<0?-1:1;return l*r}return i===i?i:0}return hp=a,hp}var mp,uE;function xA(){if(uE)return mp;uE=1;var t=bA();function e(r){var a=t(r),i=a%1;return a===a?i?a-i:a:0}return mp=e,mp}var pp,dE;function EP(){if(dE)return pp;dE=1;var t=gA(),e=$d(),r=xA(),a=Math.ceil,i=Math.max;function l(c,d,h){(h?e(c,d,h):d===void 0)?d=1:d=i(r(d),0);var m=c==null?0:c.length;if(!m||d<1)return[];for(var v=0,y=0,b=Array(a(m/d));v<m;)b[y++]=t(c,v,v+=d);return b}return pp=l,pp}var jP=EP();const NP=Qt(jP);function Pa(t){return t&&t.ownerDocument||document}function ab(t){var e=Pa(t);return e&&e.defaultView||window}function sb(t,e){return ab(t).getComputedStyle(t,e)}var TP=/([A-Z])/g;function wA(t){return t.replace(TP,"-$1").toLowerCase()}var OP=/^ms-/;function Du(t){return wA(t).replace(OP,"-ms-")}var CP=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function _A(t){return!!(t&&CP.test(t))}function Ft(t,e){var r="",a="";if(typeof e=="string")return t.style.getPropertyValue(Du(e))||sb(t).getPropertyValue(Du(e));Object.keys(e).forEach(function(i){var l=e[i];!l&&l!==0?t.style.removeProperty(Du(i)):_A(i)?a+=i+"("+l+") ":r+=Du(i)+": "+l+";"}),a&&(r+="transform: "+a+";"),t.style.cssText+=";"+r}function Xn(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const AP=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"}));function SA(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function Ud(t){return"window"in t&&t.window===t?t:SA(t)&&t.defaultView||!1}function EA(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(a,i){var l=Ud(a);if(i===void 0)return l?l[t]:a[e];l?l.scrollTo(l[t],i):a[e]=i}return r}const zd=EA("pageXOffset"),Mi=EA("pageYOffset");function rn(t){var e=Pa(t),r={top:0,left:0,height:0,width:0},a=e&&e.documentElement;return!a||!Xn(a,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+Mi(a)-(a.clientTop||0),left:r.left+zd(a)-(a.clientLeft||0),width:r.width,height:r.height}),r}var RP=function(e){return!!e&&"offsetParent"in e};function ib(t){for(var e=Pa(t),r=t&&t.offsetParent;RP(r)&&r.nodeName!=="HTML"&&Ft(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var DP=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function Id(t,e){var r={top:0,left:0},a;if(Ft(t,"position")==="fixed")a=t.getBoundingClientRect();else{var i=e||ib(t);a=rn(t),DP(i)!=="html"&&(r=rn(i));var l=String(Ft(i,"borderTopWidth")||0);r.top+=parseInt(l,10)-Mi(i)||0;var c=String(Ft(i,"borderLeftWidth")||0);r.left+=parseInt(c,10)-zd(i)||0}var d=String(Ft(t,"marginTop")||0),h=String(Ft(t,"marginLeft")||0);return pt({},a,{top:a.top-r.top-(parseInt(d,10)||0),left:a.left-r.left-(parseInt(h,10)||0)})}const ob=!!(typeof window<"u"&&window.document&&window.document.createElement);var fE=new Date().getTime();function kP(t){var e=new Date().getTime(),r=Math.max(0,16-(e-fE)),a=setTimeout(t,r);return fE=e,a}var MP=["","webkit","moz","o","ms"],wy="clearTimeout",_y=kP,hE=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};ob&&MP.some(function(t){var e=hE(t,"request");return e in window&&(wy=hE(t,"cancel"),_y=function(a){return window[e](a)}),!!_y});var Dl=function(e){typeof window[wy]=="function"&&window[wy](e)},Kl=_y,vp;function Bd(t,e){if(!vp){var r=document.body,a=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;vp=function(l,c){return a.call(l,c)}}return vp(t,e)}var qP=Function.prototype.bind.call(Function.prototype.call,[].slice);function Hd(t,e){return qP(t.querySelectorAll(e))}var Sy=!1,Ey=!1;try{var gp={get passive(){return Sy=!0},get once(){return Ey=Sy=!0}};ob&&(window.addEventListener("test",gp,gp),window.removeEventListener("test",gp,!0))}catch{}function lb(t,e,r,a){if(a&&typeof a!="boolean"&&!Ey){var i=a.once,l=a.capture,c=r;!Ey&&i&&(c=r.__once||function d(h){this.removeEventListener(e,d,l),r.call(this,h)},r.__once=c),t.addEventListener(e,c,Sy?a:l)}t.addEventListener(e,r,a)}function PP(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t},[t]),e}function mE(t){const e=PP(t);return A.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function pE(){return A.useState(null)}function LP(){const t=A.useRef(!0),e=A.useRef(()=>t.current);return A.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function $P(t){const e=LP();return[t[0],A.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var fr="top",Hr="bottom",Fr="right",hr="left",cb="auto",Xl=[fr,Hr,Fr,hr],qi="start",kl="end",UP="clippingParents",jA="viewport",Jo="popper",zP="reference",vE=Xl.reduce(function(t,e){return t.concat([e+"-"+qi,e+"-"+kl])},[]),ub=[].concat(Xl,[cb]).reduce(function(t,e){return t.concat([e,e+"-"+qi,e+"-"+kl])},[]),IP="beforeRead",BP="read",HP="afterRead",FP="beforeMain",GP="main",WP="afterMain",YP="beforeWrite",VP="write",KP="afterWrite",XP=[IP,BP,HP,FP,GP,WP,YP,VP,KP];function gn(t){return t.split("-")[0]}function Or(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ns(t){var e=Or(t).Element;return t instanceof e||t instanceof Element}function yn(t){var e=Or(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function db(t){if(typeof ShadowRoot>"u")return!1;var e=Or(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ps=Math.max,wd=Math.min,Pi=Math.round;function jy(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function NA(){return!/^((?!chrome|android).)*safari/i.test(jy())}function Li(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var a=t.getBoundingClientRect(),i=1,l=1;e&&yn(t)&&(i=t.offsetWidth>0&&Pi(a.width)/t.offsetWidth||1,l=t.offsetHeight>0&&Pi(a.height)/t.offsetHeight||1);var c=Ns(t)?Or(t):window,d=c.visualViewport,h=!NA()&&r,m=(a.left+(h&&d?d.offsetLeft:0))/i,v=(a.top+(h&&d?d.offsetTop:0))/l,y=a.width/i,b=a.height/l;return{width:y,height:b,top:v,right:m+y,bottom:v+b,left:m,x:m,y:v}}function fb(t){var e=Li(t),r=t.offsetWidth,a=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:a}}function TA(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&db(r)){var a=e;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Aa(t){return t?(t.nodeName||"").toLowerCase():null}function Qn(t){return Or(t).getComputedStyle(t)}function QP(t){return["table","td","th"].indexOf(Aa(t))>=0}function La(t){return((Ns(t)?t.ownerDocument:t.document)||window.document).documentElement}function Fd(t){return Aa(t)==="html"?t:t.assignedSlot||t.parentNode||(db(t)?t.host:null)||La(t)}function gE(t){return!yn(t)||Qn(t).position==="fixed"?null:t.offsetParent}function JP(t){var e=/firefox/i.test(jy()),r=/Trident/i.test(jy());if(r&&yn(t)){var a=Qn(t);if(a.position==="fixed")return null}var i=Fd(t);for(db(i)&&(i=i.host);yn(i)&&["html","body"].indexOf(Aa(i))<0;){var l=Qn(i);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return i;i=i.parentNode}return null}function Ql(t){for(var e=Or(t),r=gE(t);r&&QP(r)&&Qn(r).position==="static";)r=gE(r);return r&&(Aa(r)==="html"||Aa(r)==="body"&&Qn(r).position==="static")?e:r||JP(t)||e}function hb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function gl(t,e,r){return ps(t,wd(e,r))}function ZP(t,e,r){var a=gl(t,e,r);return a>r?r:a}function OA(){return{top:0,right:0,bottom:0,left:0}}function CA(t){return Object.assign({},OA(),t)}function AA(t,e){return e.reduce(function(r,a){return r[a]=t,r},{})}var eL=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,CA(typeof e!="number"?e:AA(e,Xl))};function tL(t){var e,r=t.state,a=t.name,i=t.options,l=r.elements.arrow,c=r.modifiersData.popperOffsets,d=gn(r.placement),h=hb(d),m=[hr,Fr].indexOf(d)>=0,v=m?"height":"width";if(!(!l||!c)){var y=eL(i.padding,r),b=fb(l),x=h==="y"?fr:hr,w=h==="y"?Hr:Fr,_=r.rects.reference[v]+r.rects.reference[h]-c[h]-r.rects.popper[v],S=c[h]-r.rects.reference[h],j=Ql(l),E=j?h==="y"?j.clientHeight||0:j.clientWidth||0:0,T=_/2-S/2,O=y[x],M=E-b[v]-y[w],D=E/2-b[v]/2+T,R=gl(O,D,M),P=h;r.modifiersData[a]=(e={},e[P]=R,e.centerOffset=R-D,e)}}function rL(t){var e=t.state,r=t.options,a=r.element,i=a===void 0?"[data-popper-arrow]":a;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||TA(e.elements.popper,i)&&(e.elements.arrow=i))}const nL={name:"arrow",enabled:!0,phase:"main",fn:tL,effect:rL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $i(t){return t.split("-")[1]}var aL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sL(t,e){var r=t.x,a=t.y,i=e.devicePixelRatio||1;return{x:Pi(r*i)/i||0,y:Pi(a*i)/i||0}}function yE(t){var e,r=t.popper,a=t.popperRect,i=t.placement,l=t.variation,c=t.offsets,d=t.position,h=t.gpuAcceleration,m=t.adaptive,v=t.roundOffsets,y=t.isFixed,b=c.x,x=b===void 0?0:b,w=c.y,_=w===void 0?0:w,S=typeof v=="function"?v({x,y:_}):{x,y:_};x=S.x,_=S.y;var j=c.hasOwnProperty("x"),E=c.hasOwnProperty("y"),T=hr,O=fr,M=window;if(m){var D=Ql(r),R="clientHeight",P="clientWidth";if(D===Or(r)&&(D=La(r),Qn(D).position!=="static"&&d==="absolute"&&(R="scrollHeight",P="scrollWidth")),D=D,i===fr||(i===hr||i===Fr)&&l===kl){O=Hr;var L=y&&D===M&&M.visualViewport?M.visualViewport.height:D[R];_-=L-a.height,_*=h?1:-1}if(i===hr||(i===fr||i===Hr)&&l===kl){T=Fr;var C=y&&D===M&&M.visualViewport?M.visualViewport.width:D[P];x-=C-a.width,x*=h?1:-1}}var q=Object.assign({position:d},m&&aL),U=v===!0?sL({x,y:_},Or(r)):{x,y:_};if(x=U.x,_=U.y,h){var z;return Object.assign({},q,(z={},z[O]=E?"0":"",z[T]=j?"0":"",z.transform=(M.devicePixelRatio||1)<=1?"translate("+x+"px, "+_+"px)":"translate3d("+x+"px, "+_+"px, 0)",z))}return Object.assign({},q,(e={},e[O]=E?_+"px":"",e[T]=j?x+"px":"",e.transform="",e))}function iL(t){var e=t.state,r=t.options,a=r.gpuAcceleration,i=a===void 0?!0:a,l=r.adaptive,c=l===void 0?!0:l,d=r.roundOffsets,h=d===void 0?!0:d,m={placement:gn(e.placement),variation:$i(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yE(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yE(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const oL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:iL,data:{}};var ku={passive:!0};function lL(t){var e=t.state,r=t.instance,a=t.options,i=a.scroll,l=i===void 0?!0:i,c=a.resize,d=c===void 0?!0:c,h=Or(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(v){v.addEventListener("scroll",r.update,ku)}),d&&h.addEventListener("resize",r.update,ku),function(){l&&m.forEach(function(v){v.removeEventListener("scroll",r.update,ku)}),d&&h.removeEventListener("resize",r.update,ku)}}const cL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:lL,data:{}};var uL={left:"right",right:"left",bottom:"top",top:"bottom"};function Yu(t){return t.replace(/left|right|bottom|top/g,function(e){return uL[e]})}var dL={start:"end",end:"start"};function bE(t){return t.replace(/start|end/g,function(e){return dL[e]})}function mb(t){var e=Or(t),r=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:r,scrollTop:a}}function pb(t){return Li(La(t)).left+mb(t).scrollLeft}function fL(t,e){var r=Or(t),a=La(t),i=r.visualViewport,l=a.clientWidth,c=a.clientHeight,d=0,h=0;if(i){l=i.width,c=i.height;var m=NA();(m||!m&&e==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:l,height:c,x:d+pb(t),y:h}}function hL(t){var e,r=La(t),a=mb(t),i=(e=t.ownerDocument)==null?void 0:e.body,l=ps(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=ps(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),d=-a.scrollLeft+pb(t),h=-a.scrollTop;return Qn(i||r).direction==="rtl"&&(d+=ps(r.clientWidth,i?i.clientWidth:0)-l),{width:l,height:c,x:d,y:h}}function vb(t){var e=Qn(t),r=e.overflow,a=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+a)}function RA(t){return["html","body","#document"].indexOf(Aa(t))>=0?t.ownerDocument.body:yn(t)&&vb(t)?t:RA(Fd(t))}function yl(t,e){var r;e===void 0&&(e=[]);var a=RA(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),l=Or(a),c=i?[l].concat(l.visualViewport||[],vb(a)?a:[]):a,d=e.concat(c);return i?d:d.concat(yl(Fd(c)))}function Ny(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mL(t,e){var r=Li(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function xE(t,e,r){return e===jA?Ny(fL(t,r)):Ns(e)?mL(e,r):Ny(hL(La(t)))}function pL(t){var e=yl(Fd(t)),r=["absolute","fixed"].indexOf(Qn(t).position)>=0,a=r&&yn(t)?Ql(t):t;return Ns(a)?e.filter(function(i){return Ns(i)&&TA(i,a)&&Aa(i)!=="body"}):[]}function vL(t,e,r,a){var i=e==="clippingParents"?pL(t):[].concat(e),l=[].concat(i,[r]),c=l[0],d=l.reduce(function(h,m){var v=xE(t,m,a);return h.top=ps(v.top,h.top),h.right=wd(v.right,h.right),h.bottom=wd(v.bottom,h.bottom),h.left=ps(v.left,h.left),h},xE(t,c,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function DA(t){var e=t.reference,r=t.element,a=t.placement,i=a?gn(a):null,l=a?$i(a):null,c=e.x+e.width/2-r.width/2,d=e.y+e.height/2-r.height/2,h;switch(i){case fr:h={x:c,y:e.y-r.height};break;case Hr:h={x:c,y:e.y+e.height};break;case Fr:h={x:e.x+e.width,y:d};break;case hr:h={x:e.x-r.width,y:d};break;default:h={x:e.x,y:e.y}}var m=i?hb(i):null;if(m!=null){var v=m==="y"?"height":"width";switch(l){case qi:h[m]=h[m]-(e[v]/2-r[v]/2);break;case kl:h[m]=h[m]+(e[v]/2-r[v]/2);break}}return h}function Ml(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=a===void 0?t.placement:a,l=r.strategy,c=l===void 0?t.strategy:l,d=r.boundary,h=d===void 0?UP:d,m=r.rootBoundary,v=m===void 0?jA:m,y=r.elementContext,b=y===void 0?Jo:y,x=r.altBoundary,w=x===void 0?!1:x,_=r.padding,S=_===void 0?0:_,j=CA(typeof S!="number"?S:AA(S,Xl)),E=b===Jo?zP:Jo,T=t.rects.popper,O=t.elements[w?E:b],M=vL(Ns(O)?O:O.contextElement||La(t.elements.popper),h,v,c),D=Li(t.elements.reference),R=DA({reference:D,element:T,placement:i}),P=Ny(Object.assign({},T,R)),L=b===Jo?P:D,C={top:M.top-L.top+j.top,bottom:L.bottom-M.bottom+j.bottom,left:M.left-L.left+j.left,right:L.right-M.right+j.right},q=t.modifiersData.offset;if(b===Jo&&q){var U=q[i];Object.keys(C).forEach(function(z){var W=[Fr,Hr].indexOf(z)>=0?1:-1,ee=[fr,Hr].indexOf(z)>=0?"y":"x";C[z]+=U[ee]*W})}return C}function gL(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=r.boundary,l=r.rootBoundary,c=r.padding,d=r.flipVariations,h=r.allowedAutoPlacements,m=h===void 0?ub:h,v=$i(a),y=v?d?vE:vE.filter(function(w){return $i(w)===v}):Xl,b=y.filter(function(w){return m.indexOf(w)>=0});b.length===0&&(b=y);var x=b.reduce(function(w,_){return w[_]=Ml(t,{placement:_,boundary:i,rootBoundary:l,padding:c})[gn(_)],w},{});return Object.keys(x).sort(function(w,_){return x[w]-x[_]})}function yL(t){if(gn(t)===cb)return[];var e=Yu(t);return[bE(t),e,bE(e)]}function bL(t){var e=t.state,r=t.options,a=t.name;if(!e.modifiersData[a]._skip){for(var i=r.mainAxis,l=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!0:c,h=r.fallbackPlacements,m=r.padding,v=r.boundary,y=r.rootBoundary,b=r.altBoundary,x=r.flipVariations,w=x===void 0?!0:x,_=r.allowedAutoPlacements,S=e.options.placement,j=gn(S),E=j===S,T=h||(E||!w?[Yu(S)]:yL(S)),O=[S].concat(T).reduce(function(ue,fe){return ue.concat(gn(fe)===cb?gL(e,{placement:fe,boundary:v,rootBoundary:y,padding:m,flipVariations:w,allowedAutoPlacements:_}):fe)},[]),M=e.rects.reference,D=e.rects.popper,R=new Map,P=!0,L=O[0],C=0;C<O.length;C++){var q=O[C],U=gn(q),z=$i(q)===qi,W=[fr,Hr].indexOf(U)>=0,ee=W?"width":"height",B=Ml(e,{placement:q,boundary:v,rootBoundary:y,altBoundary:b,padding:m}),H=W?z?Fr:hr:z?Hr:fr;M[ee]>D[ee]&&(H=Yu(H));var te=Yu(H),le=[];if(l&&le.push(B[U]<=0),d&&le.push(B[H]<=0,B[te]<=0),le.every(function(ue){return ue})){L=q,P=!1;break}R.set(q,le)}if(P)for(var V=w?3:1,$=function(fe){var pe=O.find(function(be){var ke=R.get(be);if(ke)return ke.slice(0,fe).every(function(Pe){return Pe})});if(pe)return L=pe,"break"},X=V;X>0;X--){var oe=$(X);if(oe==="break")break}e.placement!==L&&(e.modifiersData[a]._skip=!0,e.placement=L,e.reset=!0)}}const xL={name:"flip",enabled:!0,phase:"main",fn:bL,requiresIfExists:["offset"],data:{_skip:!1}};function wE(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function _E(t){return[fr,Fr,Hr,hr].some(function(e){return t[e]>=0})}function wL(t){var e=t.state,r=t.name,a=e.rects.reference,i=e.rects.popper,l=e.modifiersData.preventOverflow,c=Ml(e,{elementContext:"reference"}),d=Ml(e,{altBoundary:!0}),h=wE(c,a),m=wE(d,i,l),v=_E(h),y=_E(m);e.modifiersData[r]={referenceClippingOffsets:h,popperEscapeOffsets:m,isReferenceHidden:v,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":y})}const _L={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:wL};function SL(t,e,r){var a=gn(t),i=[hr,fr].indexOf(a)>=0?-1:1,l=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,c=l[0],d=l[1];return c=c||0,d=(d||0)*i,[hr,Fr].indexOf(a)>=0?{x:d,y:c}:{x:c,y:d}}function EL(t){var e=t.state,r=t.options,a=t.name,i=r.offset,l=i===void 0?[0,0]:i,c=ub.reduce(function(v,y){return v[y]=SL(y,e.rects,l),v},{}),d=c[e.placement],h=d.x,m=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=m),e.modifiersData[a]=c}const jL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:EL};function NL(t){var e=t.state,r=t.name;e.modifiersData[r]=DA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const TL={name:"popperOffsets",enabled:!0,phase:"read",fn:NL,data:{}};function OL(t){return t==="x"?"y":"x"}function CL(t){var e=t.state,r=t.options,a=t.name,i=r.mainAxis,l=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!1:c,h=r.boundary,m=r.rootBoundary,v=r.altBoundary,y=r.padding,b=r.tether,x=b===void 0?!0:b,w=r.tetherOffset,_=w===void 0?0:w,S=Ml(e,{boundary:h,rootBoundary:m,padding:y,altBoundary:v}),j=gn(e.placement),E=$i(e.placement),T=!E,O=hb(j),M=OL(O),D=e.modifiersData.popperOffsets,R=e.rects.reference,P=e.rects.popper,L=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,C=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(D){if(l){var z,W=O==="y"?fr:hr,ee=O==="y"?Hr:Fr,B=O==="y"?"height":"width",H=D[O],te=H+S[W],le=H-S[ee],V=x?-P[B]/2:0,$=E===qi?R[B]:P[B],X=E===qi?-P[B]:-R[B],oe=e.elements.arrow,ue=x&&oe?fb(oe):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:OA(),pe=fe[W],be=fe[ee],ke=gl(0,R[B],ue[B]),Pe=T?R[B]/2-V-ke-pe-C.mainAxis:$-ke-pe-C.mainAxis,bt=T?-R[B]/2+V+ke+be+C.mainAxis:X+ke+be+C.mainAxis,vt=e.elements.arrow&&Ql(e.elements.arrow),Wt=vt?O==="y"?vt.clientTop||0:vt.clientLeft||0:0,pr=(z=q?.[O])!=null?z:0,xt=H+Pe-pr-Wt,Ae=H+bt-pr,Pt=gl(x?wd(te,xt):te,H,x?ps(le,Ae):le);D[O]=Pt,U[O]=Pt-H}if(d){var De,re=O==="x"?fr:hr,xe=O==="x"?Hr:Fr,_e=D[M],Xe=M==="y"?"height":"width",st=_e+S[re],it=_e-S[xe],Ze=[fr,hr].indexOf(j)!==-1,de=(De=q?.[M])!=null?De:0,ae=Ze?st:_e-R[Xe]-P[Xe]-de+C.altAxis,ge=Ze?_e+R[Xe]+P[Xe]-de-C.altAxis:it,Ee=x&&Ze?ZP(ae,_e,ge):gl(x?ae:st,_e,x?ge:it);D[M]=Ee,U[M]=Ee-_e}e.modifiersData[a]=U}}const AL={name:"preventOverflow",enabled:!0,phase:"main",fn:CL,requiresIfExists:["offset"]};function RL(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function DL(t){return t===Or(t)||!yn(t)?mb(t):RL(t)}function kL(t){var e=t.getBoundingClientRect(),r=Pi(e.width)/t.offsetWidth||1,a=Pi(e.height)/t.offsetHeight||1;return r!==1||a!==1}function ML(t,e,r){r===void 0&&(r=!1);var a=yn(e),i=yn(e)&&kL(e),l=La(e),c=Li(t,i,r),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(a||!a&&!r)&&((Aa(e)!=="body"||vb(l))&&(d=DL(e)),yn(e)?(h=Li(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):l&&(h.x=pb(l))),{x:c.left+d.scrollLeft-h.x,y:c.top+d.scrollTop-h.y,width:c.width,height:c.height}}function qL(t){var e=new Map,r=new Set,a=[];t.forEach(function(l){e.set(l.name,l)});function i(l){r.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(d){if(!r.has(d)){var h=e.get(d);h&&i(h)}}),a.push(l)}return t.forEach(function(l){r.has(l.name)||i(l)}),a}function PL(t){var e=qL(t);return XP.reduce(function(r,a){return r.concat(e.filter(function(i){return i.phase===a}))},[])}function LL(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function $L(t){var e=t.reduce(function(r,a){var i=r[a.name];return r[a.name]=i?Object.assign({},i,a,{options:Object.assign({},i.options,a.options),data:Object.assign({},i.data,a.data)}):a,r},{});return Object.keys(e).map(function(r){return e[r]})}var SE={placement:"bottom",modifiers:[],strategy:"absolute"};function EE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function UL(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,a=r===void 0?[]:r,i=e.defaultOptions,l=i===void 0?SE:i;return function(d,h,m){m===void 0&&(m=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},SE,l),modifiersData:{},elements:{reference:d,popper:h},attributes:{},styles:{}},y=[],b=!1,x={state:v,setOptions:function(j){var E=typeof j=="function"?j(v.options):j;_(),v.options=Object.assign({},l,v.options,E),v.scrollParents={reference:Ns(d)?yl(d):d.contextElement?yl(d.contextElement):[],popper:yl(h)};var T=PL($L([].concat(a,v.options.modifiers)));return v.orderedModifiers=T.filter(function(O){return O.enabled}),w(),x.update()},forceUpdate:function(){if(!b){var j=v.elements,E=j.reference,T=j.popper;if(EE(E,T)){v.rects={reference:ML(E,Ql(T),v.options.strategy==="fixed"),popper:fb(T)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(C){return v.modifiersData[C.name]=Object.assign({},C.data)});for(var O=0;O<v.orderedModifiers.length;O++){if(v.reset===!0){v.reset=!1,O=-1;continue}var M=v.orderedModifiers[O],D=M.fn,R=M.options,P=R===void 0?{}:R,L=M.name;typeof D=="function"&&(v=D({state:v,options:P,name:L,instance:x})||v)}}}},update:LL(function(){return new Promise(function(S){x.forceUpdate(),S(v)})}),destroy:function(){_(),b=!0}};if(!EE(d,h))return x;x.setOptions(m).then(function(S){!b&&m.onFirstUpdate&&m.onFirstUpdate(S)});function w(){v.orderedModifiers.forEach(function(S){var j=S.name,E=S.options,T=E===void 0?{}:E,O=S.effect;if(typeof O=="function"){var M=O({state:v,name:j,instance:x,options:T}),D=function(){};y.push(M||D)}})}function _(){y.forEach(function(S){return S()}),y=[]}return x}}var zL=UL({defaultModifiers:[_L,TL,oL,cL,jL,xL,AL,nL]}),jE=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},IL={name:"applyStyles",enabled:!1},BL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var a=r.elements,i=a.reference,l=a.popper;if("removeAttribute"in i){var c=(i.getAttribute("aria-describedby")||"").split(",").filter(function(d){return d.trim()!==l.id});c.length?i.setAttribute("aria-describedby",c.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,a=e.state,i=a.elements,l=i.popper,c=i.reference,d=(r=l.getAttribute("role"))==null?void 0:r.toLowerCase();if(l.id&&d==="tooltip"&&"setAttribute"in c){var h=c.getAttribute("aria-describedby");if(h&&h.split(",").indexOf(l.id)!==-1)return;c.setAttribute("aria-describedby",h?h+","+l.id:l.id)}}},HL=[];function FL(t,e,r){var a=r===void 0?{}:r,i=a.enabled,l=i===void 0?!0:i,c=a.placement,d=c===void 0?"bottom":c,h=a.strategy,m=h===void 0?"absolute":h,v=a.modifiers,y=v===void 0?HL:v,b=Pd(a,["enabled","placement","strategy","modifiers"]),x=A.useRef(),w=A.useCallback(function(){var O;(O=x.current)==null||O.update()},[]),_=A.useCallback(function(){var O;(O=x.current)==null||O.forceUpdate()},[]),S=$P(A.useState({placement:d,update:w,forceUpdate:_,attributes:{},styles:{popper:jE(m),arrow:{}}})),j=S[0],E=S[1],T=A.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(M){var D=M.state,R={},P={};Object.keys(D.elements).forEach(function(L){R[L]=D.styles[L],P[L]=D.attributes[L]}),E({state:D,styles:R,attributes:P,update:w,forceUpdate:_,placement:D.placement})}}},[w,_,E]);return A.useEffect(function(){!x.current||!l||x.current.setOptions({placement:d,strategy:m,modifiers:[].concat(y,[T,IL])})},[m,d,T,l]),A.useEffect(function(){if(!(!l||t==null||e==null))return x.current=zL(t,e,pt({},b,{placement:d,strategy:m,modifiers:[].concat(y,[BL,T])})),function(){x.current!=null&&(x.current.destroy(),x.current=void 0,E(function(O){return pt({},O,{attributes:{},styles:{popper:jE(m)}})}))}},[l,t,e]),j}function gb(t,e,r,a){var i=a&&typeof a!="boolean"?a.capture:a;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function vn(t,e,r,a){return lb(t,e,r,a),function(){gb(t,e,r,a)}}const GL=Object.freeze(Object.defineProperty({__proto__:null,default:vn},Symbol.toStringTag,{value:"Module"}));var yp,NE;function WL(){if(NE)return yp;NE=1;var t=function(){};return yp=t,yp}var YL=WL();const VL=Qt(YL);function KL(t){return t&&"setState"in t?EO.findDOMNode(t):t??null}const XL=(function(t){return Pa(KL(t))});var QL=27,TE=function(){};function JL(t){return t.button===0}function ZL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var OE=function(e){return e&&("current"in e?e.current:e)};function e$(t,e,r){var a=r===void 0?{}:r,i=a.disabled,l=a.clickTrigger,c=l===void 0?"click":l,d=A.useRef(!1),h=e||TE,m=A.useCallback(function(b){var x,w=OE(t);VL(!!w,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),d.current=!w||ZL(b)||!JL(b)||!!Xn(w,(x=b.composedPath==null?void 0:b.composedPath()[0])!=null?x:b.target)},[t]),v=mE(function(b){d.current||h(b)}),y=mE(function(b){b.keyCode===QL&&h(b)});A.useEffect(function(){if(!(i||t==null)){var b=window.event,x=XL(OE(t)),w=vn(x,c,m,!0),_=vn(x,c,function(E){if(E===b){b=void 0;return}v(E)}),S=vn(x,"keyup",function(E){if(E===b){b=void 0;return}y(E)}),j=[];return"ontouchstart"in x.documentElement&&(j=[].slice.call(x.body.children).map(function(E){return vn(E,"mousemove",TE)})),function(){w(),_(),S(),j.forEach(function(E){return E()})}}},[t,i,c,m,v,y])}function t$(t){var e={};return Array.isArray(t)?(t?.forEach(function(r){e[r.name]=r}),e):t||e}function r$(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function n$(t){var e,r,a,i,l=t.enabled,c=t.enableEvents,d=t.placement,h=t.flip,m=t.offset,v=t.fixed,y=t.containerPadding,b=t.arrowElement,x=t.popperConfig,w=x===void 0?{}:x,_=t$(w.modifiers);return pt({},w,{placement:d,enabled:l,strategy:v?"fixed":w.strategy,modifiers:r$(pt({},_,{eventListeners:{enabled:c},preventOverflow:pt({},_.preventOverflow,{options:y?pt({padding:y},(e=_.preventOverflow)==null?void 0:e.options):(r=_.preventOverflow)==null?void 0:r.options}),offset:{options:pt({offset:m},(a=_.offset)==null?void 0:a.options)},arrow:pt({},_.arrow,{enabled:!!b,options:pt({},(i=_.arrow)==null?void 0:i.options,{element:b})}),flip:pt({enabled:!!h},_.flip)}))})}function kA(t){t===void 0&&(t=Pa());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Gd(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Wd(t,e){t.classList?t.classList.add(e):Gd(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function CE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Yd(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=CE(t.className,e):t.setAttribute("class",CE(t.className&&t.className.baseVal||"",e))}var Mu;function Jl(t){if((!Mu&&Mu!==0||t)&&ob){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Mu=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Mu}var bp=function(e){var r;return typeof document>"u"?null:e==null?Pa().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function AE(t,e){var r=A.useState(function(){return bp(t)}),a=r[0],i=r[1];if(!a){var l=bp(t);l&&i(l)}return A.useEffect(function(){},[e,a]),A.useEffect(function(){var c=bp(t);c!==a&&i(c)},[t,a]),a}const RE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function a$(t,e){const r=RE(t),a=RE(e);return i=>{r&&r(i),a&&a(i)}}function s$(t,e){return A.useMemo(()=>a$(t,e),[t,e])}var yb=Y.forwardRef(function(t,e){var r=t.flip,a=t.offset,i=t.placement,l=t.containerPadding,c=l===void 0?5:l,d=t.popperConfig,h=d===void 0?{}:d,m=t.transition,v=pE(),y=v[0],b=v[1],x=pE(),w=x[0],_=x[1],S=s$(b,e),j=AE(t.container),E=AE(t.target),T=A.useState(!t.show),O=T[0],M=T[1],D=FL(E,y,n$({placement:i,enableEvents:!!t.show,containerPadding:c||5,flip:r,offset:a,arrowElement:w,popperConfig:h})),R=D.styles,P=D.attributes,L=Pd(D,["styles","attributes"]);t.show?O&&M(!1):!t.transition&&!O&&M(!0);var C=function(){M(!0),t.onExited&&t.onExited.apply(t,arguments)},q=t.show||m&&!O;if(e$(y,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!q)return null;var U=t.children(pt({},L,{show:!!t.show,props:pt({},P.popper,{style:R.popper,ref:S}),arrowProps:pt({},P.arrow,{style:R.arrow,ref:_})}));if(m){var z=t.onExit,W=t.onExiting,ee=t.onEnter,B=t.onEntering,H=t.onEntered;U=Y.createElement(m,{in:t.show,appear:!0,onExit:z,onExiting:W,onExited:C,onEnter:ee,onEntering:B,onEntered:H},U)}return j?EO.createPortal(U,j):null});yb.displayName="Overlay";yb.propTypes={show:ce.bool,placement:ce.oneOf(ub),target:ce.any,container:ce.any,flip:ce.bool,children:ce.func.isRequired,containerPadding:ce.number,popperConfig:ce.object,rootClose:ce.bool,rootCloseEvent:ce.oneOf(["click","mousedown"]),rootCloseDisabled:ce.bool,onHide:function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(e.rootClose){var l;return(l=ce.func).isRequired.apply(l,[e].concat(a))}return ce.func.apply(ce,[e].concat(a))},transition:ce.elementType,onEnter:ce.func,onEntering:ce.func,onEntered:ce.func,onExit:ce.func,onExiting:ce.func,onExited:ce.func};var xp,DE;function i$(){if(DE)return xp;DE=1;function t(){this.__data__=[],this.size=0}return xp=t,xp}var wp,kE;function Vd(){if(kE)return wp;kE=1;var t=Wl();function e(r,a){for(var i=r.length;i--;)if(t(r[i][0],a))return i;return-1}return wp=e,wp}var _p,ME;function o$(){if(ME)return _p;ME=1;var t=Vd(),e=Array.prototype,r=e.splice;function a(i){var l=this.__data__,c=t(l,i);if(c<0)return!1;var d=l.length-1;return c==d?l.pop():r.call(l,c,1),--this.size,!0}return _p=a,_p}var Sp,qE;function l$(){if(qE)return Sp;qE=1;var t=Vd();function e(r){var a=this.__data__,i=t(a,r);return i<0?void 0:a[i][1]}return Sp=e,Sp}var Ep,PE;function c$(){if(PE)return Ep;PE=1;var t=Vd();function e(r){return t(this.__data__,r)>-1}return Ep=e,Ep}var jp,LE;function u$(){if(LE)return jp;LE=1;var t=Vd();function e(r,a){var i=this.__data__,l=t(i,r);return l<0?(++this.size,i.push([r,a])):i[l][1]=a,this}return jp=e,jp}var Np,$E;function Kd(){if($E)return Np;$E=1;var t=i$(),e=o$(),r=l$(),a=c$(),i=u$();function l(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Np=l,Np}var Tp,UE;function d$(){if(UE)return Tp;UE=1;var t=Kd();function e(){this.__data__=new t,this.size=0}return Tp=e,Tp}var Op,zE;function f$(){if(zE)return Op;zE=1;function t(e){var r=this.__data__,a=r.delete(e);return this.size=r.size,a}return Op=t,Op}var Cp,IE;function h$(){if(IE)return Cp;IE=1;function t(e){return this.__data__.get(e)}return Cp=t,Cp}var Ap,BE;function m$(){if(BE)return Ap;BE=1;function t(e){return this.__data__.has(e)}return Ap=t,Ap}var Rp,HE;function p$(){if(HE)return Rp;HE=1;var t=Sn(),e=t["__core-js_shared__"];return Rp=e,Rp}var Dp,FE;function v$(){if(FE)return Dp;FE=1;var t=p$(),e=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!e&&e in a}return Dp=r,Dp}var kp,GE;function MA(){if(GE)return kp;GE=1;var t=Function.prototype,e=t.toString;function r(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return kp=r,kp}var Mp,WE;function g$(){if(WE)return Mp;WE=1;var t=tb(),e=v$(),r=Zn(),a=MA(),i=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,h=c.toString,m=d.hasOwnProperty,v=RegExp("^"+h.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(b){if(!r(b)||e(b))return!1;var x=t(b)?v:l;return x.test(a(b))}return Mp=y,Mp}var qp,YE;function y$(){if(YE)return qp;YE=1;function t(e,r){return e?.[r]}return qp=t,qp}var Pp,VE;function Cs(){if(VE)return Pp;VE=1;var t=g$(),e=y$();function r(a,i){var l=e(a,i);return t(l)?l:void 0}return Pp=r,Pp}var Lp,KE;function bb(){if(KE)return Lp;KE=1;var t=Cs(),e=Sn(),r=t(e,"Map");return Lp=r,Lp}var $p,XE;function Xd(){if(XE)return $p;XE=1;var t=Cs(),e=t(Object,"create");return $p=e,$p}var Up,QE;function b$(){if(QE)return Up;QE=1;var t=Xd();function e(){this.__data__=t?t(null):{},this.size=0}return Up=e,Up}var zp,JE;function x$(){if(JE)return zp;JE=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return zp=t,zp}var Ip,ZE;function w$(){if(ZE)return Ip;ZE=1;var t=Xd(),e="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function i(l){var c=this.__data__;if(t){var d=c[l];return d===e?void 0:d}return a.call(c,l)?c[l]:void 0}return Ip=i,Ip}var Bp,ej;function _$(){if(ej)return Bp;ej=1;var t=Xd(),e=Object.prototype,r=e.hasOwnProperty;function a(i){var l=this.__data__;return t?l[i]!==void 0:r.call(l,i)}return Bp=a,Bp}var Hp,tj;function S$(){if(tj)return Hp;tj=1;var t=Xd(),e="__lodash_hash_undefined__";function r(a,i){var l=this.__data__;return this.size+=this.has(a)?0:1,l[a]=t&&i===void 0?e:i,this}return Hp=r,Hp}var Fp,rj;function E$(){if(rj)return Fp;rj=1;var t=b$(),e=x$(),r=w$(),a=_$(),i=S$();function l(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Fp=l,Fp}var Gp,nj;function j$(){if(nj)return Gp;nj=1;var t=E$(),e=Kd(),r=bb();function a(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Gp=a,Gp}var Wp,aj;function N$(){if(aj)return Wp;aj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Wp=t,Wp}var Yp,sj;function Qd(){if(sj)return Yp;sj=1;var t=N$();function e(r,a){var i=r.__data__;return t(a)?i[typeof a=="string"?"string":"hash"]:i.map}return Yp=e,Yp}var Vp,ij;function T$(){if(ij)return Vp;ij=1;var t=Qd();function e(r){var a=t(this,r).delete(r);return this.size-=a?1:0,a}return Vp=e,Vp}var Kp,oj;function O$(){if(oj)return Kp;oj=1;var t=Qd();function e(r){return t(this,r).get(r)}return Kp=e,Kp}var Xp,lj;function C$(){if(lj)return Xp;lj=1;var t=Qd();function e(r){return t(this,r).has(r)}return Xp=e,Xp}var Qp,cj;function A$(){if(cj)return Qp;cj=1;var t=Qd();function e(r,a){var i=t(this,r),l=i.size;return i.set(r,a),this.size+=i.size==l?0:1,this}return Qp=e,Qp}var Jp,uj;function xb(){if(uj)return Jp;uj=1;var t=j$(),e=T$(),r=O$(),a=C$(),i=A$();function l(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Jp=l,Jp}var Zp,dj;function R$(){if(dj)return Zp;dj=1;var t=Kd(),e=bb(),r=xb(),a=200;function i(l,c){var d=this.__data__;if(d instanceof t){var h=d.__data__;if(!e||h.length<a-1)return h.push([l,c]),this.size=++d.size,this;d=this.__data__=new r(h)}return d.set(l,c),this.size=d.size,this}return Zp=i,Zp}var ev,fj;function wb(){if(fj)return ev;fj=1;var t=Kd(),e=d$(),r=f$(),a=h$(),i=m$(),l=R$();function c(d){var h=this.__data__=new t(d);this.size=h.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=i,c.prototype.set=l,ev=c,ev}var tv,hj;function D$(){if(hj)return tv;hj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return tv=e,tv}var rv,mj;function k$(){if(mj)return rv;mj=1;function t(e){return this.__data__.has(e)}return rv=t,rv}var nv,pj;function M$(){if(pj)return nv;pj=1;var t=xb(),e=D$(),r=k$();function a(i){var l=-1,c=i==null?0:i.length;for(this.__data__=new t;++l<c;)this.add(i[l])}return a.prototype.add=a.prototype.push=e,a.prototype.has=r,nv=a,nv}var av,vj;function q$(){if(vj)return av;vj=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(e[a],a,e))return!0;return!1}return av=t,av}var sv,gj;function P$(){if(gj)return sv;gj=1;function t(e,r){return e.has(r)}return sv=t,sv}var iv,yj;function qA(){if(yj)return iv;yj=1;var t=M$(),e=q$(),r=P$(),a=1,i=2;function l(c,d,h,m,v,y){var b=h&a,x=c.length,w=d.length;if(x!=w&&!(b&&w>x))return!1;var _=y.get(c),S=y.get(d);if(_&&S)return _==d&&S==c;var j=-1,E=!0,T=h&i?new t:void 0;for(y.set(c,d),y.set(d,c);++j<x;){var O=c[j],M=d[j];if(m)var D=b?m(M,O,j,d,c,y):m(O,M,j,c,d,y);if(D!==void 0){if(D)continue;E=!1;break}if(T){if(!e(d,function(R,P){if(!r(T,P)&&(O===R||v(O,R,h,m,y)))return T.push(P)})){E=!1;break}}else if(!(O===M||v(O,M,h,m,y))){E=!1;break}}return y.delete(c),y.delete(d),E}return iv=l,iv}var ov,bj;function PA(){if(bj)return ov;bj=1;var t=Sn(),e=t.Uint8Array;return ov=e,ov}var lv,xj;function L$(){if(xj)return lv;xj=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i,l){a[++r]=[l,i]}),a}return lv=t,lv}var cv,wj;function $$(){if(wj)return cv;wj=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i){a[++r]=i}),a}return cv=t,cv}var uv,_j;function U$(){if(_j)return uv;_j=1;var t=Yi(),e=PA(),r=Wl(),a=qA(),i=L$(),l=$$(),c=1,d=2,h="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Map]",b="[object Number]",x="[object RegExp]",w="[object Set]",_="[object String]",S="[object Symbol]",j="[object ArrayBuffer]",E="[object DataView]",T=t?t.prototype:void 0,O=T?T.valueOf:void 0;function M(D,R,P,L,C,q,U){switch(P){case E:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case j:return!(D.byteLength!=R.byteLength||!q(new e(D),new e(R)));case h:case m:case b:return r(+D,+R);case v:return D.name==R.name&&D.message==R.message;case x:case _:return D==R+"";case y:var z=i;case w:var W=L&c;if(z||(z=l),D.size!=R.size&&!W)return!1;var ee=U.get(D);if(ee)return ee==R;L|=d,U.set(D,R);var B=a(z(D),z(R),L,C,q,U);return U.delete(D),B;case S:if(O)return O.call(D)==O.call(R)}return!1}return uv=M,uv}var dv,Sj;function _b(){if(Sj)return dv;Sj=1;function t(e,r){for(var a=-1,i=r.length,l=e.length;++a<i;)e[l+a]=r[a];return e}return dv=t,dv}var fv,Ej;function Yr(){if(Ej)return fv;Ej=1;var t=Array.isArray;return fv=t,fv}var hv,jj;function LA(){if(jj)return hv;jj=1;var t=_b(),e=Yr();function r(a,i,l){var c=i(a);return e(a)?c:t(c,l(a))}return hv=r,hv}var mv,Nj;function z$(){if(Nj)return mv;Nj=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=0,c=[];++a<i;){var d=e[a];r(d,a,e)&&(c[l++]=d)}return c}return mv=t,mv}var pv,Tj;function $A(){if(Tj)return pv;Tj=1;function t(){return[]}return pv=t,pv}var vv,Oj;function Sb(){if(Oj)return vv;Oj=1;var t=z$(),e=$A(),r=Object.prototype,a=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,l=i?function(c){return c==null?[]:(c=Object(c),t(i(c),function(d){return a.call(c,d)}))}:e;return vv=l,vv}var gv,Cj;function I$(){if(Cj)return gv;Cj=1;function t(e,r){for(var a=-1,i=Array(e);++a<e;)i[a]=r(a);return i}return gv=t,gv}var yv,Aj;function B$(){if(Aj)return yv;Aj=1;var t=Vi(),e=qa(),r="[object Arguments]";function a(i){return e(i)&&t(i)==r}return yv=a,yv}var bv,Rj;function Eb(){if(Rj)return bv;Rj=1;var t=B$(),e=qa(),r=Object.prototype,a=r.hasOwnProperty,i=r.propertyIsEnumerable,l=t((function(){return arguments})())?t:function(c){return e(c)&&a.call(c,"callee")&&!i.call(c,"callee")};return bv=l,bv}var ml={exports:{}},xv,Dj;function H$(){if(Dj)return xv;Dj=1;function t(){return!1}return xv=t,xv}ml.exports;var kj;function Jd(){return kj||(kj=1,(function(t,e){var r=Sn(),a=H$(),i=e&&!e.nodeType&&e,l=i&&!0&&t&&!t.nodeType&&t,c=l&&l.exports===i,d=c?r.Buffer:void 0,h=d?d.isBuffer:void 0,m=h||a;t.exports=m})(ml,ml.exports)),ml.exports}var wv,Mj;function F$(){if(Mj)return wv;Mj=1;var t=Vi(),e=rb(),r=qa(),a="[object Arguments]",i="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",m="[object Map]",v="[object Number]",y="[object Object]",b="[object RegExp]",x="[object Set]",w="[object String]",_="[object WeakMap]",S="[object ArrayBuffer]",j="[object DataView]",E="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",P="[object Uint8ClampedArray]",L="[object Uint16Array]",C="[object Uint32Array]",q={};q[E]=q[T]=q[O]=q[M]=q[D]=q[R]=q[P]=q[L]=q[C]=!0,q[a]=q[i]=q[S]=q[l]=q[j]=q[c]=q[d]=q[h]=q[m]=q[v]=q[y]=q[b]=q[x]=q[w]=q[_]=!1;function U(z){return r(z)&&e(z.length)&&!!q[t(z)]}return wv=U,wv}var _v,qj;function Zd(){if(qj)return _v;qj=1;function t(e){return function(r){return e(r)}}return _v=t,_v}var pl={exports:{}};pl.exports;var Pj;function jb(){return Pj||(Pj=1,(function(t,e){var r=yA(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l&&r.process,d=(function(){try{var h=i&&i.require&&i.require("util").types;return h||c&&c.binding&&c.binding("util")}catch{}})();t.exports=d})(pl,pl.exports)),pl.exports}var Sv,Lj;function Nb(){if(Lj)return Sv;Lj=1;var t=F$(),e=Zd(),r=jb(),a=r&&r.isTypedArray,i=a?e(a):t;return Sv=i,Sv}var Ev,$j;function UA(){if($j)return Ev;$j=1;var t=I$(),e=Eb(),r=Yr(),a=Jd(),i=nb(),l=Nb(),c=Object.prototype,d=c.hasOwnProperty;function h(m,v){var y=r(m),b=!y&&e(m),x=!y&&!b&&a(m),w=!y&&!b&&!x&&l(m),_=y||b||x||w,S=_?t(m.length,String):[],j=S.length;for(var E in m)(v||d.call(m,E))&&!(_&&(E=="length"||x&&(E=="offset"||E=="parent")||w&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||i(E,j)))&&S.push(E);return S}return Ev=h,Ev}var jv,Uj;function Tb(){if(Uj)return jv;Uj=1;var t=Object.prototype;function e(r){var a=r&&r.constructor,i=typeof a=="function"&&a.prototype||t;return r===i}return jv=e,jv}var Nv,zj;function zA(){if(zj)return Nv;zj=1;function t(e,r){return function(a){return e(r(a))}}return Nv=t,Nv}var Tv,Ij;function G$(){if(Ij)return Tv;Ij=1;var t=zA(),e=t(Object.keys,Object);return Tv=e,Tv}var Ov,Bj;function W$(){if(Bj)return Ov;Bj=1;var t=Tb(),e=G$(),r=Object.prototype,a=r.hasOwnProperty;function i(l){if(!t(l))return e(l);var c=[];for(var d in Object(l))a.call(l,d)&&d!="constructor"&&c.push(d);return c}return Ov=i,Ov}var Cv,Hj;function Zl(){if(Hj)return Cv;Hj=1;var t=UA(),e=W$(),r=Yl();function a(i){return r(i)?t(i):e(i)}return Cv=a,Cv}var Av,Fj;function IA(){if(Fj)return Av;Fj=1;var t=LA(),e=Sb(),r=Zl();function a(i){return t(i,r,e)}return Av=a,Av}var Rv,Gj;function Y$(){if(Gj)return Rv;Gj=1;var t=IA(),e=1,r=Object.prototype,a=r.hasOwnProperty;function i(l,c,d,h,m,v){var y=d&e,b=t(l),x=b.length,w=t(c),_=w.length;if(x!=_&&!y)return!1;for(var S=x;S--;){var j=b[S];if(!(y?j in c:a.call(c,j)))return!1}var E=v.get(l),T=v.get(c);if(E&&T)return E==c&&T==l;var O=!0;v.set(l,c),v.set(c,l);for(var M=y;++S<x;){j=b[S];var D=l[j],R=c[j];if(h)var P=y?h(R,D,j,c,l,v):h(D,R,j,l,c,v);if(!(P===void 0?D===R||m(D,R,d,h,v):P)){O=!1;break}M||(M=j=="constructor")}if(O&&!M){var L=l.constructor,C=c.constructor;L!=C&&"constructor"in l&&"constructor"in c&&!(typeof L=="function"&&L instanceof L&&typeof C=="function"&&C instanceof C)&&(O=!1)}return v.delete(l),v.delete(c),O}return Rv=i,Rv}var Dv,Wj;function V$(){if(Wj)return Dv;Wj=1;var t=Cs(),e=Sn(),r=t(e,"DataView");return Dv=r,Dv}var kv,Yj;function K$(){if(Yj)return kv;Yj=1;var t=Cs(),e=Sn(),r=t(e,"Promise");return kv=r,kv}var Mv,Vj;function X$(){if(Vj)return Mv;Vj=1;var t=Cs(),e=Sn(),r=t(e,"Set");return Mv=r,Mv}var qv,Kj;function Q$(){if(Kj)return qv;Kj=1;var t=Cs(),e=Sn(),r=t(e,"WeakMap");return qv=r,qv}var Pv,Xj;function ef(){if(Xj)return Pv;Xj=1;var t=V$(),e=bb(),r=K$(),a=X$(),i=Q$(),l=Vi(),c=MA(),d="[object Map]",h="[object Object]",m="[object Promise]",v="[object Set]",y="[object WeakMap]",b="[object DataView]",x=c(t),w=c(e),_=c(r),S=c(a),j=c(i),E=l;return(t&&E(new t(new ArrayBuffer(1)))!=b||e&&E(new e)!=d||r&&E(r.resolve())!=m||a&&E(new a)!=v||i&&E(new i)!=y)&&(E=function(T){var O=l(T),M=O==h?T.constructor:void 0,D=M?c(M):"";if(D)switch(D){case x:return b;case w:return d;case _:return m;case S:return v;case j:return y}return O}),Pv=E,Pv}var Lv,Qj;function J$(){if(Qj)return Lv;Qj=1;var t=wb(),e=qA(),r=U$(),a=Y$(),i=ef(),l=Yr(),c=Jd(),d=Nb(),h=1,m="[object Arguments]",v="[object Array]",y="[object Object]",b=Object.prototype,x=b.hasOwnProperty;function w(_,S,j,E,T,O){var M=l(_),D=l(S),R=M?v:i(_),P=D?v:i(S);R=R==m?y:R,P=P==m?y:P;var L=R==y,C=P==y,q=R==P;if(q&&c(_)){if(!c(S))return!1;M=!0,L=!1}if(q&&!L)return O||(O=new t),M||d(_)?e(_,S,j,E,T,O):r(_,S,R,j,E,T,O);if(!(j&h)){var U=L&&x.call(_,"__wrapped__"),z=C&&x.call(S,"__wrapped__");if(U||z){var W=U?_.value():_,ee=z?S.value():S;return O||(O=new t),T(W,ee,j,E,O)}}return q?(O||(O=new t),a(_,S,j,E,T,O)):!1}return Lv=w,Lv}var $v,Jj;function Ob(){if(Jj)return $v;Jj=1;var t=J$(),e=qa();function r(a,i,l,c,d){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:t(a,i,l,c,r,d)}return $v=r,$v}var Uv,Zj;function BA(){if(Zj)return Uv;Zj=1;var t=Ob();function e(r,a){return t(r,a)}return Uv=e,Uv}var Z$=BA();const eU=Qt(Z$);function vs(t,e){var r=Ud(t);return r?r.innerHeight:e?t.clientHeight:rn(t).height}function ec(t,e,r){t.closest&&!r&&t.closest(e);var a=t;do{if(Bd(a,e))return a;a=a.parentElement}while(a&&a!==r&&a.nodeType===document.ELEMENT_NODE);return null}const tU=Object.freeze(Object.defineProperty({__proto__:null,default:ec},Symbol.toStringTag,{value:"Module"}));var zv,eN;function rU(){if(eN)return zv;eN=1;function t(e,r,a,i){for(var l=e.length,c=a+(i?1:-1);i?c--:++c<l;)if(r(e[c],c,e))return c;return-1}return zv=t,zv}var Iv,tN;function nU(){if(tN)return Iv;tN=1;var t=wb(),e=Ob(),r=1,a=2;function i(l,c,d,h){var m=d.length,v=m,y=!h;if(l==null)return!v;for(l=Object(l);m--;){var b=d[m];if(y&&b[2]?b[1]!==l[b[0]]:!(b[0]in l))return!1}for(;++m<v;){b=d[m];var x=b[0],w=l[x],_=b[1];if(y&&b[2]){if(w===void 0&&!(x in l))return!1}else{var S=new t;if(h)var j=h(w,_,x,l,c,S);if(!(j===void 0?e(_,w,r|a,h,S):j))return!1}}return!0}return Iv=i,Iv}var Bv,rN;function HA(){if(rN)return Bv;rN=1;var t=Zn();function e(r){return r===r&&!t(r)}return Bv=e,Bv}var Hv,nN;function aU(){if(nN)return Hv;nN=1;var t=HA(),e=Zl();function r(a){for(var i=e(a),l=i.length;l--;){var c=i[l],d=a[c];i[l]=[c,d,t(d)]}return i}return Hv=r,Hv}var Fv,aN;function FA(){if(aN)return Fv;aN=1;function t(e,r){return function(a){return a==null?!1:a[e]===r&&(r!==void 0||e in Object(a))}}return Fv=t,Fv}var Gv,sN;function sU(){if(sN)return Gv;sN=1;var t=nU(),e=aU(),r=FA();function a(i){var l=e(i);return l.length==1&&l[0][2]?r(l[0][0],l[0][1]):function(c){return c===i||t(c,i,l)}}return Gv=a,Gv}var Wv,iN;function Cb(){if(iN)return Wv;iN=1;var t=Yr(),e=Vl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(l,c){if(t(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:a.test(l)||!r.test(l)||c!=null&&l in Object(c)}return Wv=i,Wv}var Yv,oN;function iU(){if(oN)return Yv;oN=1;var t=xb(),e="Expected a function";function r(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var l=function(){var c=arguments,d=i?i.apply(this,c):c[0],h=l.cache;if(h.has(d))return h.get(d);var m=a.apply(this,c);return l.cache=h.set(d,m)||h,m};return l.cache=new(r.Cache||t),l}return r.Cache=t,Yv=r,Yv}var Vv,lN;function oU(){if(lN)return Vv;lN=1;var t=iU(),e=500;function r(a){var i=t(a,function(c){return l.size===e&&l.clear(),c}),l=i.cache;return i}return Vv=r,Vv}var Kv,cN;function lU(){if(cN)return Kv;cN=1;var t=oU(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=t(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(e,function(c,d,h,m){l.push(h?m.replace(r,"$1"):d||c)}),l});return Kv=a,Kv}var Xv,uN;function Ab(){if(uN)return Xv;uN=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=Array(i);++a<i;)l[a]=r(e[a],a,e);return l}return Xv=t,Xv}var Qv,dN;function cU(){if(dN)return Qv;dN=1;var t=Yi(),e=Ab(),r=Yr(),a=Vl(),i=t?t.prototype:void 0,l=i?i.toString:void 0;function c(d){if(typeof d=="string")return d;if(r(d))return e(d,c)+"";if(a(d))return l?l.call(d):"";var h=d+"";return h=="0"&&1/d==-1/0?"-0":h}return Qv=c,Qv}var Jv,fN;function uU(){if(fN)return Jv;fN=1;var t=cU();function e(r){return r==null?"":t(r)}return Jv=e,Jv}var Zv,hN;function tf(){if(hN)return Zv;hN=1;var t=Yr(),e=Cb(),r=lU(),a=uU();function i(l,c){return t(l)?l:e(l,c)?[l]:r(a(l))}return Zv=i,Zv}var eg,mN;function tc(){if(mN)return eg;mN=1;var t=Vl();function e(r){if(typeof r=="string"||t(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return eg=e,eg}var tg,pN;function rf(){if(pN)return tg;pN=1;var t=tf(),e=tc();function r(a,i){i=t(i,a);for(var l=0,c=i.length;a!=null&&l<c;)a=a[e(i[l++])];return l&&l==c?a:void 0}return tg=r,tg}var rg,vN;function dU(){if(vN)return rg;vN=1;var t=rf();function e(r,a,i){var l=r==null?void 0:t(r,a);return l===void 0?i:l}return rg=e,rg}var ng,gN;function fU(){if(gN)return ng;gN=1;function t(e,r){return e!=null&&r in Object(e)}return ng=t,ng}var ag,yN;function hU(){if(yN)return ag;yN=1;var t=tf(),e=Eb(),r=Yr(),a=nb(),i=rb(),l=tc();function c(d,h,m){h=t(h,d);for(var v=-1,y=h.length,b=!1;++v<y;){var x=l(h[v]);if(!(b=d!=null&&m(d,x)))break;d=d[x]}return b||++v!=y?b:(y=d==null?0:d.length,!!y&&i(y)&&a(x,y)&&(r(d)||e(d)))}return ag=c,ag}var sg,bN;function mU(){if(bN)return sg;bN=1;var t=fU(),e=hU();function r(a,i){return a!=null&&e(a,i,t)}return sg=r,sg}var ig,xN;function pU(){if(xN)return ig;xN=1;var t=Ob(),e=dU(),r=mU(),a=Cb(),i=HA(),l=FA(),c=tc(),d=1,h=2;function m(v,y){return a(v)&&i(y)?l(c(v),y):function(b){var x=e(b,v);return x===void 0&&x===y?r(b,v):t(y,x,d|h)}}return ig=m,ig}var og,wN;function nf(){if(wN)return og;wN=1;function t(e){return e}return og=t,og}var lg,_N;function vU(){if(_N)return lg;_N=1;function t(e){return function(r){return r?.[e]}}return lg=t,lg}var cg,SN;function gU(){if(SN)return cg;SN=1;var t=rf();function e(r){return function(a){return t(a,r)}}return cg=e,cg}var ug,EN;function yU(){if(EN)return ug;EN=1;var t=vU(),e=gU(),r=Cb(),a=tc();function i(l){return r(l)?t(a(l)):e(l)}return ug=i,ug}var dg,jN;function af(){if(jN)return dg;jN=1;var t=sU(),e=pU(),r=nf(),a=Yr(),i=yU();function l(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?a(c)?e(c[0],c[1]):t(c):i(c)}return dg=l,dg}var fg,NN;function GA(){if(NN)return fg;NN=1;var t=rU(),e=af(),r=xA(),a=Math.max;function i(l,c,d){var h=l==null?0:l.length;if(!h)return-1;var m=d==null?0:r(d);return m<0&&(m=a(h+m,0)),t(l,e(c,3),m)}return fg=i,fg}var bU=GA();const xU=Qt(bU);var hg,TN;function wU(){if(TN)return hg;TN=1;var t=Math.ceil,e=Math.max;function r(a,i,l,c){for(var d=-1,h=e(t((i-a)/(l||1)),0),m=Array(h);h--;)m[c?h:++d]=a,a+=l;return m}return hg=r,hg}var mg,ON;function _U(){if(ON)return mg;ON=1;var t=wU(),e=$d(),r=bA();function a(i){return function(l,c,d){return d&&typeof d!="number"&&e(l,c,d)&&(c=d=void 0),l=r(l),c===void 0?(c=l,l=0):c=r(c),d=d===void 0?l<c?1:-1:r(d),t(l,c,d,i)}}return mg=a,mg}var pg,CN;function SU(){if(CN)return pg;CN=1;var t=_U(),e=t();return pg=e,pg}var EU=SU();const jU=Qt(EU);var AN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function NU(t,e){return!!(t===e||AN(t)&&AN(e))}function TU(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!NU(t[r],e[r]))return!1;return!0}function WA(t,e){e===void 0&&(e=TU);var r=null;function a(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var c=t.apply(this,i);return r={lastResult:c,lastArgs:i,lastThis:this},c}return a.clear=function(){r=null},a}function ql(t,e){var r=Ud(t);return r?r.innerWidth:e?t.clientWidth:rn(t).width}var vg,RN;function OU(){if(RN)return vg;RN=1;var t=Yi(),e=Eb(),r=Yr(),a=t?t.isConcatSpreadable:void 0;function i(l){return r(l)||e(l)||!!(a&&l&&l[a])}return vg=i,vg}var gg,DN;function YA(){if(DN)return gg;DN=1;var t=_b(),e=OU();function r(a,i,l,c,d){var h=-1,m=a.length;for(l||(l=e),d||(d=[]);++h<m;){var v=a[h];i>0&&l(v)?i>1?r(v,i-1,l,c,d):t(d,v):c||(d[d.length]=v)}return d}return gg=r,gg}var yg,kN;function CU(){if(kN)return yg;kN=1;function t(e){return function(r,a,i){for(var l=-1,c=Object(r),d=i(r),h=d.length;h--;){var m=d[e?h:++l];if(a(c[m],m,c)===!1)break}return r}}return yg=t,yg}var bg,MN;function AU(){if(MN)return bg;MN=1;var t=CU(),e=t();return bg=e,bg}var xg,qN;function Rb(){if(qN)return xg;qN=1;var t=AU(),e=Zl();function r(a,i){return a&&t(a,i,e)}return xg=r,xg}var wg,PN;function RU(){if(PN)return wg;PN=1;var t=Yl();function e(r,a){return function(i,l){if(i==null)return i;if(!t(i))return r(i,l);for(var c=i.length,d=a?c:-1,h=Object(i);(a?d--:++d<c)&&l(h[d],d,h)!==!1;);return i}}return wg=e,wg}var _g,LN;function DU(){if(LN)return _g;LN=1;var t=Rb(),e=RU(),r=e(t);return _g=r,_g}var Sg,$N;function kU(){if($N)return Sg;$N=1;var t=DU(),e=Yl();function r(a,i){var l=-1,c=e(a)?Array(a.length):[];return t(a,function(d,h,m){c[++l]=i(d,h,m)}),c}return Sg=r,Sg}var Eg,UN;function MU(){if(UN)return Eg;UN=1;function t(e,r){var a=e.length;for(e.sort(r);a--;)e[a]=e[a].value;return e}return Eg=t,Eg}var jg,zN;function qU(){if(zN)return jg;zN=1;var t=Vl();function e(r,a){if(r!==a){var i=r!==void 0,l=r===null,c=r===r,d=t(r),h=a!==void 0,m=a===null,v=a===a,y=t(a);if(!m&&!y&&!d&&r>a||d&&h&&v&&!m&&!y||l&&h&&v||!i&&v||!c)return 1;if(!l&&!d&&!y&&r<a||y&&i&&c&&!l&&!d||m&&i&&c||!h&&c||!v)return-1}return 0}return jg=e,jg}var Ng,IN;function PU(){if(IN)return Ng;IN=1;var t=qU();function e(r,a,i){for(var l=-1,c=r.criteria,d=a.criteria,h=c.length,m=i.length;++l<h;){var v=t(c[l],d[l]);if(v){if(l>=m)return v;var y=i[l];return v*(y=="desc"?-1:1)}}return r.index-a.index}return Ng=e,Ng}var Tg,BN;function LU(){if(BN)return Tg;BN=1;var t=Ab(),e=rf(),r=af(),a=kU(),i=MU(),l=Zd(),c=PU(),d=nf(),h=Yr();function m(v,y,b){y.length?y=t(y,function(_){return h(_)?function(S){return e(S,_.length===1?_[0]:_)}:_}):y=[d];var x=-1;y=t(y,l(r));var w=a(v,function(_,S,j){var E=t(y,function(T){return T(_)});return{criteria:E,index:++x,value:_}});return i(w,function(_,S){return c(_,S,b)})}return Tg=m,Tg}var Og,HN;function $U(){if(HN)return Og;HN=1;function t(e,r,a){switch(a.length){case 0:return e.call(r);case 1:return e.call(r,a[0]);case 2:return e.call(r,a[0],a[1]);case 3:return e.call(r,a[0],a[1],a[2])}return e.apply(r,a)}return Og=t,Og}var Cg,FN;function VA(){if(FN)return Cg;FN=1;var t=$U(),e=Math.max;function r(a,i,l){return i=e(i===void 0?a.length-1:i,0),function(){for(var c=arguments,d=-1,h=e(c.length-i,0),m=Array(h);++d<h;)m[d]=c[i+d];d=-1;for(var v=Array(i+1);++d<i;)v[d]=c[d];return v[i]=l(m),t(a,this,v)}}return Cg=r,Cg}var Ag,GN;function UU(){if(GN)return Ag;GN=1;function t(e){return function(){return e}}return Ag=t,Ag}var Rg,WN;function KA(){if(WN)return Rg;WN=1;var t=Cs(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Rg=e,Rg}var Dg,YN;function zU(){if(YN)return Dg;YN=1;var t=UU(),e=KA(),r=nf(),a=e?function(i,l){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(l),writable:!0})}:r;return Dg=a,Dg}var kg,VN;function IU(){if(VN)return kg;VN=1;var t=800,e=16,r=Date.now;function a(i){var l=0,c=0;return function(){var d=r(),h=e-(d-c);if(c=d,h>0){if(++l>=t)return arguments[0]}else l=0;return i.apply(void 0,arguments)}}return kg=a,kg}var Mg,KN;function XA(){if(KN)return Mg;KN=1;var t=zU(),e=IU(),r=e(t);return Mg=r,Mg}var qg,XN;function QA(){if(XN)return qg;XN=1;var t=nf(),e=VA(),r=XA();function a(i,l){return r(e(i,l,t),i+"")}return qg=a,qg}var Pg,QN;function BU(){if(QN)return Pg;QN=1;var t=YA(),e=LU(),r=QA(),a=$d(),i=r(function(l,c){if(l==null)return[];var d=c.length;return d>1&&a(l,c[0],c[1])?c=[]:d>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),e(l,t(c,1),[])});return Pg=i,Pg}var HU=BU();const FU=Qt(HU);function JA(t){return rA(t)||vA(t)||Qy(t)||nA()}var Lg,JN;function GU(){if(JN)return Lg;JN=1;function t(e){var r=[];if(e!=null)for(var a in Object(e))r.push(a);return r}return Lg=t,Lg}var $g,ZN;function WU(){if(ZN)return $g;ZN=1;var t=Zn(),e=Tb(),r=GU(),a=Object.prototype,i=a.hasOwnProperty;function l(c){if(!t(c))return r(c);var d=e(c),h=[];for(var m in c)m=="constructor"&&(d||!i.call(c,m))||h.push(m);return h}return $g=l,$g}var Ug,eT;function sf(){if(eT)return Ug;eT=1;var t=UA(),e=WU(),r=Yl();function a(i){return r(i)?t(i,!0):e(i)}return Ug=a,Ug}var zg,tT;function YU(){if(tT)return zg;tT=1;var t=QA(),e=Wl(),r=$d(),a=sf(),i=Object.prototype,l=i.hasOwnProperty,c=t(function(d,h){d=Object(d);var m=-1,v=h.length,y=v>2?h[2]:void 0;for(y&&r(h[0],h[1],y)&&(v=1);++m<v;)for(var b=h[m],x=a(b),w=-1,_=x.length;++w<_;){var S=x[w],j=d[S];(j===void 0||e(j,i[S])&&!l.call(d,S))&&(d[S]=b[S])}return d});return zg=c,zg}var VU=YU();const KU=Qt(VU);var Ig,rT;function Db(){if(rT)return Ig;rT=1;var t=KA();function e(r,a,i){a=="__proto__"&&t?t(r,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[a]=i}return Ig=e,Ig}var Bg,nT;function XU(){if(nT)return Bg;nT=1;var t=Db(),e=Rb(),r=af();function a(i,l){var c={};return l=r(l,3),e(i,function(d,h,m){t(c,h,l(d,h,m))}),c}return Bg=a,Bg}var QU=XU();const JU=Qt(QU);var Hg,aT;function ZA(){if(aT)return Hg;aT=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i&&r(e[a],a,e)!==!1;);return e}return Hg=t,Hg}var Fg,sT;function eR(){if(sT)return Fg;sT=1;var t=Db(),e=Wl(),r=Object.prototype,a=r.hasOwnProperty;function i(l,c,d){var h=l[c];(!(a.call(l,c)&&e(h,d))||d===void 0&&!(c in l))&&t(l,c,d)}return Fg=i,Fg}var Gg,iT;function rc(){if(iT)return Gg;iT=1;var t=eR(),e=Db();function r(a,i,l,c){var d=!l;l||(l={});for(var h=-1,m=i.length;++h<m;){var v=i[h],y=c?c(l[v],a[v],v,l,a):void 0;y===void 0&&(y=a[v]),d?e(l,v,y):t(l,v,y)}return l}return Gg=r,Gg}var Wg,oT;function ZU(){if(oT)return Wg;oT=1;var t=rc(),e=Zl();function r(a,i){return a&&t(i,e(i),a)}return Wg=r,Wg}var Yg,lT;function ez(){if(lT)return Yg;lT=1;var t=rc(),e=sf();function r(a,i){return a&&t(i,e(i),a)}return Yg=r,Yg}var vl={exports:{}};vl.exports;var cT;function tz(){return cT||(cT=1,(function(t,e){var r=Sn(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l?r.Buffer:void 0,d=c?c.allocUnsafe:void 0;function h(m,v){if(v)return m.slice();var y=m.length,b=d?d(y):new m.constructor(y);return m.copy(b),b}t.exports=h})(vl,vl.exports)),vl.exports}var Vg,uT;function rz(){if(uT)return Vg;uT=1;function t(e,r){var a=-1,i=e.length;for(r||(r=Array(i));++a<i;)r[a]=e[a];return r}return Vg=t,Vg}var Kg,dT;function nz(){if(dT)return Kg;dT=1;var t=rc(),e=Sb();function r(a,i){return t(a,e(a),i)}return Kg=r,Kg}var Xg,fT;function of(){if(fT)return Xg;fT=1;var t=zA(),e=t(Object.getPrototypeOf,Object);return Xg=e,Xg}var Qg,hT;function tR(){if(hT)return Qg;hT=1;var t=_b(),e=of(),r=Sb(),a=$A(),i=Object.getOwnPropertySymbols,l=i?function(c){for(var d=[];c;)t(d,r(c)),c=e(c);return d}:a;return Qg=l,Qg}var Jg,mT;function az(){if(mT)return Jg;mT=1;var t=rc(),e=tR();function r(a,i){return t(a,e(a),i)}return Jg=r,Jg}var Zg,pT;function rR(){if(pT)return Zg;pT=1;var t=LA(),e=tR(),r=sf();function a(i){return t(i,r,e)}return Zg=a,Zg}var e0,vT;function sz(){if(vT)return e0;vT=1;var t=Object.prototype,e=t.hasOwnProperty;function r(a){var i=a.length,l=new a.constructor(i);return i&&typeof a[0]=="string"&&e.call(a,"index")&&(l.index=a.index,l.input=a.input),l}return e0=r,e0}var t0,gT;function kb(){if(gT)return t0;gT=1;var t=PA();function e(r){var a=new r.constructor(r.byteLength);return new t(a).set(new t(r)),a}return t0=e,t0}var r0,yT;function iz(){if(yT)return r0;yT=1;var t=kb();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return r0=e,r0}var n0,bT;function oz(){if(bT)return n0;bT=1;var t=/\w*$/;function e(r){var a=new r.constructor(r.source,t.exec(r));return a.lastIndex=r.lastIndex,a}return n0=e,n0}var a0,xT;function lz(){if(xT)return a0;xT=1;var t=Yi(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function a(i){return r?Object(r.call(i)):{}}return a0=a,a0}var s0,wT;function cz(){if(wT)return s0;wT=1;var t=kb();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return s0=e,s0}var i0,_T;function uz(){if(_T)return i0;_T=1;var t=kb(),e=iz(),r=oz(),a=lz(),i=cz(),l="[object Boolean]",c="[object Date]",d="[object Map]",h="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",S="[object Float64Array]",j="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]";function P(L,C,q){var U=L.constructor;switch(C){case x:return t(L);case l:case c:return new U(+L);case w:return e(L,q);case _:case S:case j:case E:case T:case O:case M:case D:case R:return i(L,q);case d:return new U;case h:case y:return new U(L);case m:return r(L);case v:return new U;case b:return a(L)}}return i0=P,i0}var o0,ST;function nR(){if(ST)return o0;ST=1;var t=Zn(),e=Object.create,r=(function(){function a(){}return function(i){if(!t(i))return{};if(e)return e(i);a.prototype=i;var l=new a;return a.prototype=void 0,l}})();return o0=r,o0}var l0,ET;function dz(){if(ET)return l0;ET=1;var t=nR(),e=of(),r=Tb();function a(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return l0=a,l0}var c0,jT;function fz(){if(jT)return c0;jT=1;var t=ef(),e=qa(),r="[object Map]";function a(i){return e(i)&&t(i)==r}return c0=a,c0}var u0,NT;function hz(){if(NT)return u0;NT=1;var t=fz(),e=Zd(),r=jb(),a=r&&r.isMap,i=a?e(a):t;return u0=i,u0}var d0,TT;function mz(){if(TT)return d0;TT=1;var t=ef(),e=qa(),r="[object Set]";function a(i){return e(i)&&t(i)==r}return d0=a,d0}var f0,OT;function pz(){if(OT)return f0;OT=1;var t=mz(),e=Zd(),r=jb(),a=r&&r.isSet,i=a?e(a):t;return f0=i,f0}var h0,CT;function vz(){if(CT)return h0;CT=1;var t=wb(),e=ZA(),r=eR(),a=ZU(),i=ez(),l=tz(),c=rz(),d=nz(),h=az(),m=IA(),v=rR(),y=ef(),b=sz(),x=uz(),w=dz(),_=Yr(),S=Jd(),j=hz(),E=Zn(),T=pz(),O=Zl(),M=sf(),D=1,R=2,P=4,L="[object Arguments]",C="[object Array]",q="[object Boolean]",U="[object Date]",z="[object Error]",W="[object Function]",ee="[object GeneratorFunction]",B="[object Map]",H="[object Number]",te="[object Object]",le="[object RegExp]",V="[object Set]",$="[object String]",X="[object Symbol]",oe="[object WeakMap]",ue="[object ArrayBuffer]",fe="[object DataView]",pe="[object Float32Array]",be="[object Float64Array]",ke="[object Int8Array]",Pe="[object Int16Array]",bt="[object Int32Array]",vt="[object Uint8Array]",Wt="[object Uint8ClampedArray]",pr="[object Uint16Array]",xt="[object Uint32Array]",Ae={};Ae[L]=Ae[C]=Ae[ue]=Ae[fe]=Ae[q]=Ae[U]=Ae[pe]=Ae[be]=Ae[ke]=Ae[Pe]=Ae[bt]=Ae[B]=Ae[H]=Ae[te]=Ae[le]=Ae[V]=Ae[$]=Ae[X]=Ae[vt]=Ae[Wt]=Ae[pr]=Ae[xt]=!0,Ae[z]=Ae[W]=Ae[oe]=!1;function Pt(De,re,xe,_e,Xe,st){var it,Ze=re&D,de=re&R,ae=re&P;if(xe&&(it=Xe?xe(De,_e,Xe,st):xe(De)),it!==void 0)return it;if(!E(De))return De;var ge=_(De);if(ge){if(it=b(De),!Ze)return c(De,it)}else{var Ee=y(De),dt=Ee==W||Ee==ee;if(S(De))return l(De,Ze);if(Ee==te||Ee==L||dt&&!Xe){if(it=de||dt?{}:w(De),!Ze)return de?h(De,i(it,De)):d(De,a(it,De))}else{if(!Ae[Ee])return Xe?De:{};it=x(De,Ee,Ze)}}st||(st=new t);var rr=st.get(De);if(rr)return rr;st.set(De,it),T(De)?De.forEach(function(ft){it.add(Pt(ft,re,xe,ft,De,st))}):j(De)&&De.forEach(function(ft,ze){it.set(ze,Pt(ft,re,xe,ze,De,st))});var Vr=ae?de?v:m:de?M:O,vr=ge?void 0:Vr(De);return e(vr||De,function(ft,ze){vr&&(ze=ft,ft=De[ze]),r(it,ze,Pt(ft,re,xe,ze,De,st))}),it}return h0=Pt,h0}var m0,AT;function gz(){if(AT)return m0;AT=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return m0=t,m0}var p0,RT;function yz(){if(RT)return p0;RT=1;var t=rf(),e=gA();function r(a,i){return i.length<2?a:t(a,e(i,0,-1))}return p0=r,p0}var v0,DT;function bz(){if(DT)return v0;DT=1;var t=tf(),e=gz(),r=yz(),a=tc();function i(l,c){return c=t(c,l),l=r(l,c),l==null||delete l[a(e(c))]}return v0=i,v0}var g0,kT;function xz(){if(kT)return g0;kT=1;var t=Vi(),e=of(),r=qa(),a="[object Object]",i=Function.prototype,l=Object.prototype,c=i.toString,d=l.hasOwnProperty,h=c.call(Object);function m(v){if(!r(v)||t(v)!=a)return!1;var y=e(v);if(y===null)return!0;var b=d.call(y,"constructor")&&y.constructor;return typeof b=="function"&&b instanceof b&&c.call(b)==h}return g0=m,g0}var y0,MT;function wz(){if(MT)return y0;MT=1;var t=xz();function e(r){return t(r)?void 0:r}return y0=e,y0}var b0,qT;function _z(){if(qT)return b0;qT=1;var t=YA();function e(r){var a=r==null?0:r.length;return a?t(r,1):[]}return b0=e,b0}var x0,PT;function Sz(){if(PT)return x0;PT=1;var t=_z(),e=VA(),r=XA();function a(i){return r(e(i,void 0,t),i+"")}return x0=a,x0}var w0,LT;function Ez(){if(LT)return w0;LT=1;var t=Ab(),e=vz(),r=bz(),a=tf(),i=rc(),l=wz(),c=Sz(),d=rR(),h=1,m=2,v=4,y=c(function(b,x){var w={};if(b==null)return w;var _=!1;x=t(x,function(j){return j=a(j,b),_||(_=j.length>1),j}),i(b,d(b),w),_&&(w=e(w,h|m|v,l));for(var S=x.length;S--;)r(w,x[S]);return w});return w0=y,w0}var jz=Ez();const Nz=Qt(jz);var _0,$T;function Tz(){if($T)return _0;$T=1;var t=ZA(),e=nR(),r=Rb(),a=af(),i=of(),l=Yr(),c=Jd(),d=tb(),h=Zn(),m=Nb();function v(y,b,x){var w=l(y),_=w||c(y)||m(y);if(b=a(b,4),x==null){var S=y&&y.constructor;_?x=w?new S:[]:h(y)?x=d(S)?e(i(y)):{}:x={}}return(_?t:r)(y,function(j,E,T){return b(x,j,E,T)}),x}return _0=v,_0}var Oz=Tz();const Cz=Qt(Oz);var Vu={exports:{}},Az=Vu.exports,UT;function Rz(){return UT||(UT=1,(function(t,e){(function(r,a){t.exports=a()})(Az,(function(){return function(r,a,i){a.prototype.isBetween=function(l,c,d,h){var m=i(l),v=i(c),y=(h=h||"()")[0]==="(",b=h[1]===")";return(y?this.isAfter(m,d):!this.isBefore(m,d))&&(b?this.isBefore(v,d):!this.isAfter(v,d))||(y?this.isBefore(m,d):!this.isAfter(m,d))&&(b?this.isAfter(v,d):!this.isBefore(v,d))}}}))})(Vu)),Vu.exports}Rz();var Ku={exports:{}},Dz=Ku.exports,zT;function kz(){return zT||(zT=1,(function(t,e){(function(r,a){t.exports=a()})(Dz,(function(){return function(r,a){a.prototype.isSameOrAfter=function(i,l){return this.isSame(i,l)||this.isAfter(i,l)}}}))})(Ku)),Ku.exports}kz();var Xu={exports:{}},Mz=Xu.exports,IT;function qz(){return IT||(IT=1,(function(t,e){(function(r,a){t.exports=a()})(Mz,(function(){return function(r,a){a.prototype.isSameOrBefore=function(i,l){return this.isSame(i,l)||this.isBefore(i,l)}}}))})(Xu)),Xu.exports}qz();var Qu={exports:{}},Pz=Qu.exports,BT;function Lz(){return BT||(BT=1,(function(t,e){(function(r,a){t.exports=a()})(Pz,(function(){return function(r,a,i){var l=a.prototype,c=function(y){return y&&(y.indexOf?y:y.s)},d=function(y,b,x,w,_){var S=y.name?y:y.$locale(),j=c(S[b]),E=c(S[x]),T=j||E.map((function(M){return M.slice(0,w)}));if(!_)return T;var O=S.weekStart;return T.map((function(M,D){return T[(D+(O||0))%7]}))},h=function(){return i.Ls[i.locale()]},m=function(y,b){return y.formats[b]||(function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,_,S){return _||S.slice(1)}))})(y.formats[b.toUpperCase()])},v=function(){var y=this;return{months:function(b){return b?b.format("MMMM"):d(y,"months")},monthsShort:function(b){return b?b.format("MMM"):d(y,"monthsShort","months",3)},firstDayOfWeek:function(){return y.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):d(y,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):d(y,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):d(y,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return m(y.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};l.localeData=function(){return v.bind(this)()},i.localeData=function(){var y=h();return{firstDayOfWeek:function(){return y.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(b){return m(y,b)},meridiem:y.meridiem,ordinal:y.ordinal}},i.months=function(){return d(h(),"months")},i.monthsShort=function(){return d(h(),"monthsShort","months",3)},i.weekdays=function(y){return d(h(),"weekdays",null,null,y)},i.weekdaysShort=function(y){return d(h(),"weekdaysShort","weekdays",3,y)},i.weekdaysMin=function(y){return d(h(),"weekdaysMin","weekdays",2,y)}}}))})(Qu)),Qu.exports}Lz();var Ju={exports:{}},$z=Ju.exports,HT;function Uz(){return HT||(HT=1,(function(t,e){(function(r,a){t.exports=a()})($z,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,i,l){var c=i.prototype,d=c.format;l.en.formats=r,c.format=function(h){h===void 0&&(h="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,v=(function(y,b){return y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(x,w,_){var S=_&&_.toUpperCase();return w||b[_]||r[_]||b[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(j,E,T){return E||T.slice(1)}))}))})(h,m===void 0?{}:m);return d.call(this,v)}}}))})(Ju)),Ju.exports}Uz();var Zu={exports:{}},zz=Zu.exports,FT;function Iz(){return FT||(FT=1,(function(t,e){(function(r,a){t.exports=a()})(zz,(function(){return function(r,a,i){var l=function(c,d){if(!d||!d.length||d.length===1&&!d[0]||d.length===1&&Array.isArray(d[0])&&!d[0].length)return null;var h;d.length===1&&d[0].length>0&&(d=d[0]),h=(d=d.filter((function(v){return v})))[0];for(var m=1;m<d.length;m+=1)d[m].isValid()&&!d[m][c](h)||(h=d[m]);return h};i.max=function(){var c=[].slice.call(arguments,0);return l("isAfter",c)},i.min=function(){var c=[].slice.call(arguments,0);return l("isBefore",c)}}}))})(Zu)),Zu.exports}Iz();var ed={exports:{}},Bz=ed.exports,GT;function Hz(){return GT||(GT=1,(function(t,e){(function(r,a){t.exports=a()})(Bz,(function(){var r="minute",a=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(l,c,d){var h=c.prototype;d.utc=function(_){var S={date:_,utc:!0,args:arguments};return new c(S)},h.utc=function(_){var S=d(this.toDate(),{locale:this.$L,utc:!0});return _?S.add(this.utcOffset(),r):S},h.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var m=h.parse;h.parse=function(_){_.utc&&(this.$u=!0),this.$utils().u(_.$offset)||(this.$offset=_.$offset),m.call(this,_)};var v=h.init;h.init=function(){if(this.$u){var _=this.$d;this.$y=_.getUTCFullYear(),this.$M=_.getUTCMonth(),this.$D=_.getUTCDate(),this.$W=_.getUTCDay(),this.$H=_.getUTCHours(),this.$m=_.getUTCMinutes(),this.$s=_.getUTCSeconds(),this.$ms=_.getUTCMilliseconds()}else v.call(this)};var y=h.utcOffset;h.utcOffset=function(_,S){var j=this.$utils().u;if(j(_))return this.$u?0:j(this.$offset)?y.call(this):this.$offset;if(typeof _=="string"&&(_=(function(M){M===void 0&&(M="");var D=M.match(a);if(!D)return null;var R=(""+D[0]).match(i)||["-",0,0],P=R[0],L=60*+R[1]+ +R[2];return L===0?0:P==="+"?L:-L})(_),_===null))return this;var E=Math.abs(_)<=16?60*_:_;if(E===0)return this.utc(S);var T=this.clone();if(S)return T.$offset=E,T.$u=!1,T;var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(T=this.local().add(E+O,r)).$offset=E,T.$x.$localOffset=O,T};var b=h.format;h.format=function(_){var S=_||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,S)},h.valueOf=function(){var _=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*_},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var x=h.toDate;h.toDate=function(_){return _==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var w=h.diff;h.diff=function(_,S,j){if(_&&this.$u===_.$u)return w.call(this,_,S,j);var E=this.local(),T=d(_).local();return w.call(E,T,S,j)}}}))})(ed)),ed.exports}Hz();var td={exports:{}},Fz=td.exports,WT;function Gz(){return WT||(WT=1,(function(t,e){(function(r,a){t.exports=a()})(Fz,(function(){return function(r,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(td)),td.exports}Gz();function fn(t){return t.children}var mr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},At={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},YT=Object.keys(At).map(function(t){return At[t]});ce.oneOfType([ce.string,ce.func]);ce.any;ce.func;ce.oneOfType([ce.arrayOf(ce.oneOf(YT)),ce.objectOf(function(t,e){var r=YT.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var a=arguments.length,i=new Array(a>2?a-2:0),l=2;l<a;l++)i[l-2]=arguments[l];return ce.elementType.apply(ce,[t,e].concat(i))})]);ce.oneOfType([ce.oneOf(["overlap","no-overlap"]),ce.func]);var VT={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function aR(t,e){var r=Gt(t,"month");return Gt(r,"week",e.startOfWeek())}function sR(t,e){var r=bd(t,"month");return bd(r,"week",e.startOfWeek())}function Wz(t,e){for(var r=aR(t,e),a=sR(t,e),i=[];Gi(r,a,"day");)i.push(r),r=an(r,1,"day");return i}function Yz(t,e){var r=Gt(t,e);return Fi(r,t)?r:an(r,1,e)}function Vz(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",a=t,i=[];Gi(a,e,r);)i.push(a),a=an(a,1,r);return i}function Kz(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Gt(t,"day"),t=Rl(t,Rl(e)),t=ki(t,ki(e)),t=Al(t,Al(e)),Cl(t,Cl(e)))}function KT(t){return Rl(t)===0&&ki(t)===0&&Al(t)===0&&Cl(t)===0}function Xz(t,e,r,a){return r==="day"&&(r="date"),Math.abs(H1[r](t,void 0,a)-H1[r](e,void 0,a))}function Mb(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Gt(t,r)/VT[r]-+Gt(e,r)/VT[r]))}var Qz=ce.oneOfType([ce.string,ce.func]);function Jz(t,e,r,a,i){var l=typeof a=="function"?a(r,i,t):e.call(t,r,a,i);return Sl(l==null||typeof l=="string","`localizer format(..)` must return a string, null, or undefined"),l}function Zz(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function qb(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function eI(t,e){return Mb(t,e,"minutes")+qb(t,e)}function tI(t){var e=Gt(t,"day");return Mb(e,t,"minutes")+qb(e,t)}function rI(t,e){return eb(t,e,"day")}function nI(t,e,r){var a=Fi(t,e,"minutes");return a?Gl(e,r,"minutes"):Ld(e,r,"minutes")}function Ty(t,e){return Xz(t,e,"day")}function aI(t){var e=t.evtA,r=e.start,a=e.end,i=e.allDay,l=t.evtB,c=l.start,d=l.end,h=l.allDay,m=+Gt(r,"day")-+Gt(c,"day"),v=Ty(r,a),y=Ty(c,d);return m||y-v||!!h-!!i||+r-+c||+a-+d}function sI(t){var e=t.event,r=e.start,a=e.end,i=t.range,l=i.start,c=i.end,d=Gt(r,"day"),h=Gi(d,c,"day"),m=Zy(d,a,"minutes"),v=m?Ld(a,l,"minutes"):Gl(a,l,"minutes");return h&&v}function iI(t,e){return Fi(t,e,"day")}function oI(t,e){return KT(t)&&KT(e)}var lI=Dt(function t(e){var r=this;Rt(this,t),Sl(typeof e.format=="function","date localizer `format(..)` must be a function"),Sl(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||Qz,this.formats=e.formats,this.format=function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return Jz.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||Kz,this.inRange=e.inRange||fA,this.lt=e.lt||eb,this.lte=e.lte||Gi,this.gt=e.gt||Ld,this.gte=e.gte||Gl,this.eq=e.eq||Fi,this.neq=e.neq||Zy,this.startOf=e.startOf||Gt,this.endOf=e.endOf||bd,this.add=e.add||an,this.range=e.range||Vz,this.diff=e.diff||Mb,this.ceil=e.ceil||Yz,this.min=e.min||uA,this.max=e.max||dA,this.minutes=e.minutes||ki,this.daySpan=e.daySpan||Ty,this.firstVisibleDay=e.firstVisibleDay||aR,this.lastVisibleDay=e.lastVisibleDay||sR,this.visibleDays=e.visibleDays||Wz,this.getSlotDate=e.getSlotDate||Zz,this.getTimezoneOffset=e.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||qb,this.getTotalMin=e.getTotalMin||eI,this.getMinutesFromMidnight=e.getMinutesFromMidnight||tI,this.continuesPrior=e.continuesPrior||rI,this.continuesAfter=e.continuesAfter||nI,this.sortEvents=e.sortEvents||aI,this.inEventRange=e.inEventRange||sI,this.isSameDate=e.isSameDate||iI,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||oI,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function cI(t,e,r,a){var i=Je(Je({},t.formats),r);return Je(Je({},t),{},{messages:a,startOfWeek:function(){return t.startOfWeek(e)},format:function(c,d){return t.format(c,i[d]||d,e)}})}var uI=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.navigate=function(c){r.props.onNavigate(c)},r.view=function(c){r.props.onView(c)},r}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.localizer.messages,l=a.label;return Y.createElement("div",{className:"rbc-toolbar"},Y.createElement("span",{className:"rbc-btn-group"},Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,mr.TODAY)},i.today),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,mr.PREVIOUS)},i.previous),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,mr.NEXT)},i.next)),Y.createElement("span",{className:"rbc-toolbar-label"},l),Y.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(a){var i=this,l=this.props.views,c=this.props.view;if(l.length>1)return l.map(function(d){return Y.createElement("button",{type:"button",key:d,className:ut({"rbc-active":c===d}),onClick:i.view.bind(null,d)},a[d])})}}])})(Y.Component);function nt(t,e){t&&t.apply(null,[].concat(e))}var dI={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function fI(t){return Je(Je({},dI),t)}function hI(t){var e=t.ref,r=t.callback;A.useEffect(function(){var a=function(l){e.current&&!e.current.contains(l.target)&&r()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[e,r])}var mI=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],iR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.style,l=a.className,c=a.event,d=a.selected,h=a.isAllDay,m=a.onSelect,v=a.onDoubleClick,y=a.onKeyPress,b=a.localizer,x=a.continuesPrior,w=a.continuesAfter,_=a.accessors,S=a.getters,j=a.children,E=a.components,T=E.event,O=E.eventWrapper,M=a.slotStart,D=a.slotEnd,R=xn(a,mI);delete R.resizable;var P=_.title(c),L=_.tooltip(c),C=_.end(c),q=_.start(c),U=_.allDay(c),z=h||U||b.diff(q,b.ceil(C,"day"),"day")>1,W=S.eventProp(c,q,C,d),ee=Y.createElement("div",{className:"rbc-event-content",title:L||void 0},T?Y.createElement(T,{event:c,continuesPrior:x,continuesAfter:w,title:P,isAllDay:U,localizer:b,slotStart:M,slotEnd:D}):P);return Y.createElement(O,Object.assign({},this.props,{type:"date"}),Y.createElement("div",Object.assign({},R,{style:Je(Je({},W.style),i),className:ut("rbc-event",l,W.className,{"rbc-selected":d,"rbc-event-allday":z,"rbc-event-continues-prior":x,"rbc-event-continues-after":w}),onClick:function(H){return m&&m(c,H)},onDoubleClick:function(H){return v&&v(c,H)},onKeyDown:function(H){return y&&y(c,H)}}),typeof j=="function"?j(ee):ee))}}])})(Y.Component);function lf(t,e){return!t||e==null?!1:eU(t,e)}function oR(t,e){var r=t.right-t.left,a=r/e;return a}function lR(t,e,r,a){var i=oR(t,a);return r?a-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function pI(t,e){var r=e.x,a=e.y;return a>=t.top&&a<=t.bottom&&r>=t.left&&r<=t.right}function vI(t,e,r,a,i){var l=-1,c=-1,d=a-1,h=oR(e,a),m=lR(e,r.x,i,a),v=e.top<r.y&&e.bottom>r.y,y=e.top<t.y&&e.bottom>t.y,b=t.y>e.bottom,x=e.top>t.y,w=r.top<e.top&&r.bottom>e.bottom;return w&&(l=0,c=d),v&&(x?(l=0,c=m):b&&(l=m,c=d)),y&&(l=c=i?d-Math.floor((t.x-e.left)/h):Math.floor((t.x-e.left)/h),v?m<l?l=m:c=m:t.y<r.y?c=d:l=0),{startIdx:l,endIdx:c}}function gI(t){var e=t.target,r=t.offset,a=t.container,i=t.box,l=rn(e),c=l.top,d=l.left,h=l.width,m=l.height,v=rn(a),y=v.top,b=v.left,x=v.width,w=v.height,_=rn(i),S=_.width,j=_.height,E=y+w,T=b+x,O=c+j,M=d+S,D=r.x,R=r.y,P=O>E?c-j-R:c+R+m,L=M>T?d+D-S+h:d+D;return{topOffset:P,leftOffset:L}}function yI(t){var e=t.containerRef,r=t.accessors,a=t.getters,i=t.selected,l=t.components,c=t.localizer,d=t.position,h=t.show,m=t.events,v=t.slotStart,y=t.slotEnd,b=t.onSelect,x=t.onDoubleClick,w=t.onKeyPress,_=t.handleDragStart,S=t.popperRef,j=t.target,E=t.offset;hI({ref:S,callback:h}),A.useLayoutEffect(function(){var M=gI({target:j,offset:E,container:e.current,box:S.current}),D=M.topOffset,R=M.leftOffset;S.current.style.top="".concat(D,"px"),S.current.style.left="".concat(R,"px")},[E.x,E.y,j]);var T=d.width,O={minWidth:T+T/2};return Y.createElement("div",{style:O,className:"rbc-overlay",ref:S},Y.createElement("div",{className:"rbc-overlay-header"},c.format(v,"dayHeaderFormat")),m.map(function(M,D){return Y.createElement(iR,{key:D,type:"popup",localizer:c,event:M,getters:a,onSelect:b,accessors:r,components:l,onDoubleClick:x,onKeyPress:w,continuesPrior:c.lt(r.end(M),v,"day"),continuesAfter:c.gte(r.start(M),y,"day"),slotStart:v,slotEnd:y,selected:lf(M,i),draggable:!0,onDragStart:function(){return _(M)},onDragEnd:function(){return h()}})}))}var cR=Y.forwardRef(function(t,e){return Y.createElement(yI,Object.assign({},t,{popperRef:e}))});cR.propTypes={accessors:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,components:ce.object.isRequired,localizer:ce.object.isRequired,position:ce.object.isRequired,show:ce.func.isRequired,events:ce.array.isRequired,slotStart:ce.instanceOf(Date).isRequired,slotEnd:ce.instanceOf(Date),onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func,handleDragStart:ce.func,style:ce.object,offset:ce.shape({x:ce.number,y:ce.number})};function bI(t){var e=t.containerRef,r=t.popupOffset,a=r===void 0?5:r,i=t.overlay,l=t.accessors,c=t.localizer,d=t.components,h=t.getters,m=t.selected,v=t.handleSelectEvent,y=t.handleDoubleClickEvent,b=t.handleKeyPressEvent,x=t.handleDragStart,w=t.onHide,_=t.overlayDisplay,S=A.useRef(null);if(!i.position)return null;var j=a;isNaN(a)||(j={x:a,y:a});var E=i.position,T=i.events,O=i.date,M=i.end;return Y.createElement(yb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:w,target:i.target},function(D){var R=D.props;return Y.createElement(cR,Object.assign({},R,{containerRef:e,ref:S,target:i.target,offset:j,accessors:l,getters:h,selected:m,components:d,localizer:c,position:E,show:_,events:T,slotStart:O,slotEnd:M,onSelect:v,onDoubleClick:y,onKeyPress:b,handleDragStart:x}))})}var Pb=Y.forwardRef(function(t,e){return Y.createElement(bI,Object.assign({},t,{containerRef:e}))});Pb.propTypes={popupOffset:ce.oneOfType([ce.number,ce.shape({x:ce.number,y:ce.number})]),overlay:ce.shape({position:ce.object,events:ce.array,date:ce.instanceOf(Date),end:ce.instanceOf(Date)}),accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,selected:ce.object,handleSelectEvent:ce.func,handleDoubleClickEvent:ce.func,handleKeyPressEvent:ce.func,handleDragStart:ce.func,onHide:ce.func,overlayDisplay:ce.func};function Xt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return vn(r,t,e,{passive:!1})}function xI(t,e,r){return!t||Xn(t,document.elementFromPoint(e,r))}function wI(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return ec(i,".rbc-event",t)}function _I(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return ec(i,".rbc-show-more",t)}function _d(t,e){return!!wI(t,e)}function SI(t,e){return!!_I(t,e)}function Zo(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var XT=5,EI=250,uR=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.global,i=a===void 0?!1:a,l=r.longPressThreshold,c=l===void 0?250:l,d=r.validContainers,h=d===void 0?[]:d;Rt(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=c,this.validContainers=h,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Xt("touchmove",function(){},window),this._removeKeyDownListener=Xt("keydown",this._keyListener),this._removeKeyUpListener=Xt("keyup",this._keyListener),this._removeDropFromOutsideListener=Xt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Xt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Dt(t,[{key:"on",value:function(r,a){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(a),{remove:function(){var c=i.indexOf(a);c!==-1&&i.splice(c,1)}}}},{key:"emit",value:function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];var c,d=this._listeners[r]||[];return d.forEach(function(h){c===void 0&&(c=h.apply(void 0,i))}),c}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var a=this._selectRect;return!a||!this.selecting?!1:QT(a,Ts(r))}},{key:"filter",value:function(r){var a=this._selectRect;return!a||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,a){var i=this,l=null,c=null,d=null,h=function(b){l=setTimeout(function(){v(),r(b)},i.longPressThreshold),c=Xt("touchmove",function(){return v()}),d=Xt("touchend",function(){return v()})},m=Xt("touchstart",h),v=function(){l&&clearTimeout(l),c&&c(),d&&d(),l=null,c=null,d=null};return a&&h(a),function(){v(),m()}}},{key:"_addInitialEventListener",value:function(){var r=this,a=Xt("mousedown",function(l){r._removeInitialEventListener(),r._handleInitialEvent(l),r._removeInitialEventListener=Xt("mousedown",r._handleInitialEvent)}),i=Xt("touchstart",function(l){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,l)});this._removeInitialEventListener=function(){a(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var a=Zo(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY;this.emit("dropFromOutside",{x:i,y:l,clientX:c,clientY:d}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var a=Zo(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY;this.emit("dragOverFromOutside",{x:i,y:l,clientX:c,clientY:d}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var a=Zo(r),i=a.clientX,l=a.clientY,c=a.pageX,d=a.pageY,h=this.container(),m,v;if(!(r.which===3||r.button===2||!xI(h,i,l))){if(!this.globalMouse&&h&&!Xn(h,r.target)){var y=jI(0),b=y.top,x=y.left,w=y.bottom,_=y.right;if(v=Ts(h),m=QT({top:v.top-b,left:v.left-x,bottom:v.bottom+w,right:v.right+_},{top:d,left:c}),!m)return}var S=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:c,y:d,clientX:i,clientY:l});if(S!==!1)switch(r.type){case"mousedown":this._removeEndListener=Xt("mouseup",this._handleTerminatingEvent),this._onEscListener=Xt("keydown",this._handleTerminatingEvent),this._removeMoveListener=Xt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Xt("touchend",this._handleTerminatingEvent),this._removeMoveListener=Xt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var a=r.target,i=this.validContainers;return!i||!i.length||!a?!0:i.some(function(l){return!!a.closest(l)})}},{key:"_handleTerminatingEvent",value:function(r){var a=this.selecting,i=this._selectRect;if(!a&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var l=!this.container||Xn(this.container(),r.target),c=this._isWithinValidContainer(r);return r.key==="Escape"||!c?this.emit("reset"):!a&&l?this._handleClickEvent(r):a?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var a=Zo(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY,h=new Date().getTime();return this._lastClickData&&h-this._lastClickData.timestamp<EI?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:l,clientX:c,clientY:d})):(this._lastClickData={timestamp:h},this.emit("click",{x:i,y:l,clientX:c,clientY:d}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var a=this._initialEventData,i=a.x,l=a.y,c=Zo(r),d=c.pageX,h=c.pageY,m=Math.abs(i-d),v=Math.abs(l-h),y=Math.min(d,i),b=Math.min(h,l),x=this.selecting,w=this.isClick(d,h);w&&!x&&!(m||v)||(!x&&!w&&this.emit("selectStart",this._initialEventData),w||(this.selecting=!0,this._selectRect={top:b,left:y,x:d,y:h,right:y+m,bottom:b+v},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,a){var i=this._initialEventData,l=i.x,c=i.y,d=i.isTouch;return!d&&Math.abs(r-l)<=XT&&Math.abs(a-c)<=XT}}])})();function jI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Kn(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function QT(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=Ts(t),i=a.top,l=a.left,c=a.right,d=c===void 0?l:c,h=a.bottom,m=h===void 0?i:h,v=Ts(e),y=v.top,b=v.left,x=v.right,w=x===void 0?b:x,_=v.bottom,S=_===void 0?y:_;return!(m-r<y||i+r>S||d-r<b||l+r>w)}function Ts(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+JT("left"),a=e.top+JT("top");return{top:a,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+a}}function JT(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var NI=(function(t){function e(r,a){var i;return Rt(this,e),i=Jt(this,e,[r,a]),i.state={selecting:!1},i.containerRef=A.createRef(),i}return Zt(e,t),Dt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,i=a.range,l=a.getNow,c=a.getters,d=a.date,h=a.components.dateCellWrapper,m=a.localizer,v=this.state,y=v.selecting,b=v.startIdx,x=v.endIdx,w=l();return Y.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(_,S){var j=y&&S>=b&&S<=x,E=c.dayProp(_),T=E.className,O=E.style;return Y.createElement(h,{key:S,value:_,range:i},Y.createElement("div",{style:O,className:ut("rbc-day-bg",T,j&&"rbc-selected-cell",m.isSameDate(_,w)&&"rbc-today",d&&m.neq(d,_,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,i=this.containerRef.current,l=this._selector=new uR(this.props.container,{longPressThreshold:this.props.longPressThreshold}),c=function(h,m){if(!_d(i,h)&&!SI(i,h)){var v=Ts(i),y=a.props,b=y.range,x=y.rtl;if(pI(v,h)){var w=lR(v,h.x,x,b.length);a._selectSlot({startIdx:w,endIdx:w,action:m,box:h})}}a._initial={},a.setState({selecting:!1})};l.on("selecting",function(d){var h=a.props,m=h.range,v=h.rtl,y=-1,b=-1;if(a.state.selecting||(nt(a.props.onSelectStart,[d]),a._initial={x:d.x,y:d.y}),l.isSelected(i)){var x=Ts(i),w=vI(a._initial,x,d,m.length,v);y=w.startIdx,b=w.endIdx}a.setState({selecting:!0,startIdx:y,endIdx:b})}),l.on("beforeSelect",function(d){if(a.props.selectable==="ignoreEvents")return!_d(a.containerRef.current,d)}),l.on("click",function(d){return c(d,"click")}),l.on("doubleClick",function(d){return c(d,"doubleClick")}),l.on("select",function(d){a._selectSlot(Je(Je({},a.state),{},{action:"select",bounds:d})),a._initial={},a.setState({selecting:!1}),nt(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var i=a.endIdx,l=a.startIdx,c=a.action,d=a.bounds,h=a.box;i!==-1&&l!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:l,end:i,action:c,bounds:d,box:h,resourceId:this.props.resourceId})}}])})(Y.Component),zr={propTypes:{slotMetrics:ce.object.isRequired,selected:ce.object,isAllDay:ce.bool,accessors:ce.object.isRequired,localizer:ce.object.isRequired,components:ce.object.isRequired,getters:ce.object.isRequired,onSelect:ce.func,onDoubleClick:ce.func,onKeyPress:ce.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var a=e.selected;e.isAllDay;var i=e.accessors,l=e.getters,c=e.onSelect,d=e.onDoubleClick,h=e.onKeyPress,m=e.localizer,v=e.slotMetrics,y=e.components,b=e.resizable,x=v.continuesPrior(r),w=v.continuesAfter(r);return Y.createElement(iR,{event:r,getters:l,localizer:m,accessors:i,components:y,onSelect:c,onDoubleClick:d,onKeyPress:h,continuesPrior:x,continuesAfter:w,slotStart:v.first,slotEnd:v.last,selected:lf(r,a),resizable:b})},renderSpan:function(e,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",l=Math.abs(r)/e*100+"%";return Y.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:l,flexBasis:l,maxWidth:l}},i)}},dR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this,i=this.props,l=i.segments,c=i.slotMetrics.slots,d=i.className,h=1;return Y.createElement("div",{className:ut(d,"rbc-row")},l.reduce(function(m,v,y){var b=v.event,x=v.left,w=v.right,_=v.span,S="_lvl_"+y,j=x-h,E=zr.renderEvent(a.props,b);return j&&m.push(zr.renderSpan(c,j,"".concat(S,"_gap"))),m.push(zr.renderSpan(c,_,S,E)),h=w+1,m},[]))}}])})(Y.Component);dR.defaultProps=Je({},zr.defaultProps);function fR(t){var e=t.dateRange,r=t.unit,a=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,a)}}function TI(t,e,r,a){var i=fR({dateRange:e,localizer:a}),l=i.first,c=i.last,d=a.diff(l,c,"day"),h=a.max(a.startOf(r.start(t),"day"),l),m=a.min(a.ceil(r.end(t),"day"),c),v=xU(e,function(b){return a.isSameDate(b,h)}),y=a.diff(h,m,"day");return y=Math.min(y,d),y=Math.max(y-a.segmentOffset,1),{event:t,span:y,left:v+1,right:Math.max(v+y,1)}}function Oy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,a,i,l=[],c=[];for(r=0;r<t.length;r++){for(i=t[r],a=0;a<l.length&&OI(i,l[a]);a++);a>=e?c.push(i):(l[a]||(l[a]=[])).push(i)}for(r=0;r<l.length;r++)l[r].sort(function(d,h){return d.left-h.left});return{levels:l,extra:c}}function Pl(t,e,r,a,i){var l={start:a.start(t),end:a.end(t)},c={start:e,end:r};return i.inEventRange({event:l,range:c})}function OI(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function CI(t,e,r){var a=Wu(t),i=[],l=[];a.forEach(function(h){var m=e.start(h),v=e.end(h);r.daySpan(m,v)>1?i.push(h):l.push(h)});var c=i.sort(function(h,m){return Cy(h,m,e,r)}),d=l.sort(function(h,m){return Cy(h,m,e,r)});return[].concat(Wu(c),Wu(d))}function Cy(t,e,r,a){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},l={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return a.sortEvents({evtA:i,evtB:l})}var Ay=function(e,r){return e.left<=r&&e.right>=r},S0=function(e,r){return e.filter(function(a){return Ay(a,r)}).map(function(a){return a.event})},hR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){for(var a=this.props,i=a.segments,l=a.slotMetrics.slots,c=Oy(i).levels[0],d=1,h=1,m=[];d<=l;){var v="_lvl_"+d,y=c.filter(function(O){return Ay(O,d)})[0]||{},b=y.event,x=y.left,w=y.right,_=y.span;if(!b){var S=this.getHiddenEventsForSlot(i,d);if(S.length>0){var j=d-h;j&&m.push(zr.renderSpan(l,j,v+"_gap")),m.push(zr.renderSpan(l,1,v,this.renderShowMore(i,d))),h=d=d+1;continue}d++;continue}var E=Math.max(0,x-h);if(this.canRenderSlotEvent(x,_)){var T=zr.renderEvent(this.props,b);E&&m.push(zr.renderSpan(l,E,v+"_gap")),m.push(zr.renderSpan(l,_,v,T)),h=d=w+1}else E&&m.push(zr.renderSpan(l,E,v+"_gap")),m.push(zr.renderSpan(l,1,v,this.renderShowMore(i,d))),h=d=d+1}return Y.createElement("div",{className:"rbc-row"},m)}},{key:"getHiddenEventsForSlot",value:function(a,i){var l=S0(a,i),c=Oy(a).levels[0],d=c.filter(function(h){return Ay(h,i)}).map(function(h){return h.event});return l.filter(function(h){return!d.some(function(m){return m===h})})}},{key:"canRenderSlotEvent",value:function(a,i){var l=this.props.segments;return jU(a,a+i).every(function(c){var d=S0(l,c).length;return d===1})}},{key:"renderShowMore",value:function(a,i){var l=this,c=this.props,d=c.localizer,h=c.slotMetrics,m=c.components,v=h.getEventsForSlot(i),y=S0(a,i),b=y.length;if(m!=null&&m.showMore){var x=m.showMore,w=h.getDateForSlot(i-1);return b?Y.createElement(x,{localizer:d,slotDate:w,slot:i,count:b,events:v,remainingEvents:y}):!1}return b?Y.createElement("button",{type:"button",key:"sm_"+i,className:ut("rbc-button-link","rbc-show-more"),onClick:function(S){return l.showMore(i,S)}},d.messages.showMore(b,y,v)):!1}},{key:"showMore",value:function(a,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(a,i.target)}}])})(Y.Component);hR.defaultProps=Je({},zr.defaultProps);var AI=function(e){var r=e.children;return Y.createElement("div",{className:"rbc-row-content-scroll-container"},r)},RI=function(e,r){return e.left<=r&&e.right>=r},DI=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function mR(){return WA(function(t){for(var e=t.range,r=t.events,a=t.maxRows,i=t.minRows,l=t.accessors,c=t.localizer,d=fR({dateRange:e,localizer:c}),h=d.first,m=d.last,v=r.map(function(_){return TI(_,e,l,c)}),y=Oy(v,Math.max(a-1,1)),b=y.levels,x=y.extra,w=x.length>0?i-1:i;b.length<w;)b.push([]);return{first:h,last:m,levels:b,extra:x,range:e,slots:e.length,clone:function(S){var j=mR();return j(Je(Je({},t),S))},getDateForSlot:function(S){return e[S]},getSlotForDate:function(S){return e.find(function(j){return c.isSameDate(j,S)})},getEventsForSlot:function(S){return v.filter(function(j){return RI(j,S)}).map(function(j){return j.event})},continuesPrior:function(S){return c.continuesPrior(l.start(S),h)},continuesAfter:function(S){var j=l.start(S),E=l.end(S);return c.continuesAfter(j,E,m)}}},DI)}var Ll=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.handleSelectSlot=function(c){var d=r.props,h=d.range,m=d.onSelectSlot;m(h.slice(c.start,c.end+1),c)},r.handleShowMore=function(c,d){var h=r.props,m=h.range,v=h.onShowMore,y=r.slotMetrics(r.props),b=Hd(r.containerRef.current,".rbc-row-bg")[0],x;b&&(x=b.children[c-1]);var w=y.getEventsForSlot(c);v(w,m[c-1],x,c,d)},r.getContainer=function(){var c=r.props.container;return c?c():r.containerRef.current},r.renderHeadingCell=function(c,d){var h=r.props,m=h.renderHeader,v=h.getNow,y=h.localizer;return m({date:c,key:"header_".concat(d),className:ut("rbc-date-cell",y.isSameDate(c,v())&&"rbc-now")})},r.renderDummy=function(){var c=r.props,d=c.className,h=c.range,m=c.renderHeader,v=c.showAllEvents;return Y.createElement("div",{className:d,ref:r.containerRef},Y.createElement("div",{className:ut("rbc-row-content",v&&"rbc-row-content-scrollable")},m&&Y.createElement("div",{className:"rbc-row",ref:r.headingRowRef},h.map(r.renderHeadingCell)),Y.createElement("div",{className:"rbc-row",ref:r.eventRowRef},Y.createElement("div",{className:"rbc-row-segment"},Y.createElement("div",{className:"rbc-event"},Y.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=A.createRef(),r.headingRowRef=A.createRef(),r.eventRowRef=A.createRef(),r.slotMetrics=mR(),r}return Zt(e,t),Dt(e,[{key:"getRowLimit",value:function(){var a,i=vs(this.eventRowRef.current),l=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?vs(this.headingRowRef.current):0,c=vs(this.containerRef.current)-l;return Math.max(Math.floor(c/i),1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.rtl,c=a.range,d=a.className,h=a.selected,m=a.selectable,v=a.renderForMeasure,y=a.accessors,b=a.getters,x=a.components,w=a.getNow,_=a.renderHeader,S=a.onSelect,j=a.localizer,E=a.onSelectStart,T=a.onSelectEnd,O=a.onDoubleClick,M=a.onKeyPress,D=a.resourceId,R=a.longPressThreshold,P=a.isAllDay,L=a.resizable,C=a.showAllEvents;if(v)return this.renderDummy();var q=this.slotMetrics(this.props),U=q.levels,z=q.extra,W=C?AI:fn,ee=x.weekWrapper,B={selected:h,accessors:y,getters:b,localizer:j,components:x,onSelect:S,onDoubleClick:O,onKeyPress:M,resourceId:D,slotMetrics:q,resizable:L};return Y.createElement("div",{className:d,role:"rowgroup",ref:this.containerRef},Y.createElement(NI,{localizer:j,date:i,getNow:w,rtl:l,range:c,selectable:m,container:this.getContainer,getters:b,onSelectStart:E,onSelectEnd:T,onSelectSlot:this.handleSelectSlot,components:x,longPressThreshold:R,resourceId:D}),Y.createElement("div",{className:ut("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},_&&Y.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},c.map(this.renderHeadingCell)),Y.createElement(W,null,Y.createElement(ee,Object.assign({isAllDay:P},B,{rtl:this.props.rtl}),U.map(function(H,te){return Y.createElement(dR,Object.assign({key:te,segments:H},B))}),!!z.length&&Y.createElement(hR,Object.assign({segments:z,onShowMore:this.handleShowMore},B))))))}}])})(Y.Component);Ll.defaultProps={minRows:0,maxRows:1/0};var Lb=function(e){var r=e.label;return Y.createElement("span",{role:"columnheader","aria-sort":"none"},r)},kI=function(e){var r=e.label,a=e.drilldownView,i=e.onDrillDown;return a?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):Y.createElement("span",null,r)},MI=["date","className"],qI=function(e,r,a,i,l){return e.filter(function(c){return Pl(c,r,a,i,l)})},cf=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(c,d){var h=r.props,m=h.events,v=h.components,y=h.selectable,b=h.getNow,x=h.selected,w=h.date,_=h.localizer,S=h.longPressThreshold,j=h.accessors,E=h.getters,T=h.showAllEvents,O=r.state,M=O.needLimitMeasure,D=O.rowLimit,R=qI(Wu(m),c[0],c[c.length-1],j,_),P=CI(R,j,_);return Y.createElement(Ll,{key:d,ref:d===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:b,date:w,range:c,events:P,maxRows:T?1/0:D,selected:x,selectable:y,components:v,accessors:j,getters:E,localizer:_,renderHeader:r.readerDateHeading,renderForMeasure:M,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:S,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:T})},r.readerDateHeading=function(c){var d=c.date,h=c.className,m=xn(c,MI),v=r.props,y=v.date,b=v.getDrilldownView,x=v.localizer,w=x.neq(y,d,"month"),_=x.isSameDate(d,y),S=b(d),j=x.format(d,"dateFormat"),E=r.props.components.dateHeader||kI;return Y.createElement("div",Object.assign({},m,{className:ut(h,w&&"rbc-off-range",_&&"rbc-current"),role:"cell"}),Y.createElement(E,{label:j,date:d,drilldownView:S,isOffRange:w,onDrillDown:function(O){return r.handleHeadingClick(d,S,O)}}))},r.handleSelectSlot=function(c,d){r._pendingSelection=r._pendingSelection.concat(c),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(d)})},r.handleHeadingClick=function(c,d,h){h.preventDefault(),r.clearSelection(),nt(r.props.onDrillDown,[c,d])},r.handleSelectEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onKeyPressEvent,d)},r.handleShowMore=function(c,d,h,m,v){var y=r.props,b=y.popup,x=y.onDrillDown,w=y.onShowMore,_=y.getDrilldownView,S=y.doShowMoreDrillDown;if(r.clearSelection(),b){var j=Id(h,r.containerRef.current);r.setState({overlay:{date:d,events:c,position:j,target:v}})}else S&&nt(x,[d,_(d)||At.DAY]);nt(w,[c,d,m])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=A.createRef(),r.slotRowRef=A.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Zt(e,t),Dt(e,[{key:"componentDidMount",value:function(){var a=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||Kl(function(){i=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.className,d=l.visibleDays(i,l),h=NP(d,7);return this._weekCount=h.length,Y.createElement("div",{className:ut("rbc-month-view",c),role:"table","aria-label":"Month View",ref:this.containerRef},Y.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(h[0])),h.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var i=this.props,l=i.localizer,c=i.components,d=a[0],h=a[a.length-1],m=c.header||Lb;return l.range(d,h,"day").map(function(v,y){return Y.createElement("div",{key:"header_"+y,className:"rbc-header"},Y.createElement(m,{date:v,localizer:l,label:l.format(v,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,i,l=this,c=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,h=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(Pb,{overlay:c,accessors:h,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(d,h){return+d-+h});var l=new Date(i[0]),c=new Date(i[i.length-1]);c.setDate(i[i.length-1].getDate()+1),nt(this.props.onSelectSlot,{slots:i,start:l,end:c,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,i){var l=a.date,c=a.localizer;return{date:l,needLimitMeasure:c.neq(l,i.date,"month")}}}])})(Y.Component);cf.range=function(t,e){var r=e.localizer,a=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:a,end:i}};cf.navigate=function(t,e,r){var a=r.localizer;switch(e){case mr.PREVIOUS:return a.add(t,-1,"month");case mr.NEXT:return a.add(t,1,"month");default:return t}};cf.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var ZT=function(e){var r=e.min,a=e.max,i=e.step,l=e.slots,c=e.localizer;return"".concat(+c.startOf(r,"minutes"))+"".concat(+c.startOf(a,"minutes"))+"".concat(i,"-").concat(l)};function $b(t){for(var e=t.min,r=t.max,a=t.step,i=t.timeslots,l=t.localizer,c=ZT({step:a,localizer:l}),d=1+l.getTotalMin(e,r),h=l.getMinutesFromMidnight(e),m=Math.ceil((d-1)/(a*i)),v=m*i,y=new Array(m),b=new Array(v),x=0;x<m;x++){y[x]=new Array(i);for(var w=0;w<i;w++){var _=x*i+w,S=_*a;b[_]=y[x][w]=l.getSlotDate(e,h,S)}}var j=b.length*a;b.push(l.getSlotDate(e,h,j));function E(T){var O=l.diff(e,T,"minutes")+l.getDstOffset(e,T);return Math.min(O,d)}return{groups:y,update:function(O){return ZT(O)!==c?$b(O):this},dateIsInGroup:function(O,M){var D=y[M+1];return l.inRange(O,y[M][0],D?D[0]:r,"minutes")},nextSlot:function(O){var M=b[Math.min(b.findIndex(function(D){return D===O||l.eq(D,O)})+1,b.length-1)];return l.eq(M,O)&&(M=l.add(O,a,"minutes")),M},closestSlotToPosition:function(O){var M=Math.min(b.length-1,Math.max(0,Math.floor(O*v)));return b[M]},closestSlotFromPoint:function(O,M){var D=Math.abs(M.top-M.bottom);return this.closestSlotToPosition((O.y-M.top)/D)},closestSlotFromDate:function(O){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l.lt(O,e,"minutes"))return b[0];if(l.gt(O,r,"minutes"))return b[b.length-1];var D=l.diff(e,O,"minutes");return b[(D-D%a)/a+M]},startsBeforeDay:function(O){return l.lt(O,e,"day")},startsAfterDay:function(O){return l.gt(O,r,"day")},startsBefore:function(O){return l.lt(l.merge(e,O),e,"minutes")},startsAfter:function(O){return l.gt(l.merge(r,O),r,"minutes")},getRange:function(O,M,D,R){D||(O=l.min(r,l.max(e,O))),R||(M=l.min(r,l.max(e,M)));var P=E(O),L=E(M),C=L>a*v&&!l.eq(r,M)?(P-a)/(a*v)*100:P/(a*v)*100;return{top:C,height:L/(a*v)*100-C,start:E(O),startDate:O,end:E(M),endDate:M}},getCurrentTimePosition:function(O){var M=E(O),D=M/(a*v)*100;return D}}}var PI=(function(){function t(e,r){var a=r.accessors,i=r.slotMetrics;Rt(this,t);var l=i.getRange(a.start(e),a.end(e)),c=l.start,d=l.startDate,h=l.end,m=l.endDate,v=l.top,y=l.height;this.start=c,this.end=h,this.startMs=+d,this.endMs=+m,this.top=v,this.height=y,this.data=e}return Dt(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,l){return Math.max(i,l.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var a=100-this.container._width;return a/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,a=Math.min(100,this._width*1.7);if(this.rows)return a;if(this.leaves)return this.leaves.length>0?a:r;var i=this.row.leaves,l=i.indexOf(this);return l===i.length-1?r:a}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,a=r.leaves,i=r.xOffset,l=r._width,c=a.indexOf(this)+1;return i+c*l}}])})();function LI(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function $I(t){for(var e=FU(t,["startMs",function(d){return-d.endMs}]),r=[];e.length>0;){var a=e.shift();r.push(a);for(var i=0;i<e.length;i++){var l=e[i];if(!(a.endMs>l.startMs)){if(i>0){var c=e.splice(i,1)[0];r.push(c)}break}}}return r}function pR(t){for(var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=e.map(function(v){return new PI(v,{slotMetrics:a,accessors:i})}),c=$I(l),d=[],h=function(){var y=c[m],b=d.find(function(_){return _.end>y.start||Math.abs(y.start-_.start)<r});if(!b)return y.rows=[],d.push(y),1;y.container=b;for(var x=null,w=b.rows.length-1;!x&&w>=0;w--)LI(b.rows[w],y,r)&&(x=b.rows[w]);x?(x.leaves.push(y),y.row=x):(y.leaves=[],b.rows.push(y))},m=0;m<c.length;m++)h();return c.map(function(v){return{event:v.data,style:{top:v.top,height:v.height,width:v.width,xOffset:Math.max(0,v.xOffset)}}})}function vR(t,e,r){for(var a=0;a<t.friends.length;++a)if(!(r.indexOf(t.friends[a])>-1)){e=e>t.friends[a].idx?e:t.friends[a].idx,r.push(t.friends[a]);var i=vR(t.friends[a],e,r);e=e>i?e:i}return e}function UI(t){var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=pR({events:e,minimumStartDifference:r,slotMetrics:a,accessors:i});l.sort(function(ee,B){return ee=ee.style,B=B.style,ee.top!==B.top?ee.top>B.top?1:-1:ee.height!==B.height?ee.top+ee.height<B.top+B.height?1:-1:0});for(var c=0;c<l.length;++c)l[c].friends=[],delete l[c].style.left,delete l[c].style.left,delete l[c].idx,delete l[c].size;for(var d=0;d<l.length-1;++d)for(var h=l[d],m=h.style.top,v=h.style.top+h.style.height,y=d+1;y<l.length;++y){var b=l[y],x=b.style.top,w=b.style.top+b.style.height;(x>=m&&w<=v||w>m&&w<=v||x>=m&&x<v)&&(h.friends.push(b),b.friends.push(h))}for(var _=0;_<l.length;++_){for(var S=l[_],j=[],E=0;E<100;++E)j.push(1);for(var T=0;T<S.friends.length;++T)S.friends[T].idx!==void 0&&(j[S.friends[T].idx]=0);S.idx=j.indexOf(1)}for(var O=0;O<l.length;++O){var M=0;if(!l[O].size){var D=[],R=vR(l[O],0,D);M=100/(R+1),l[O].size=M;for(var P=0;P<D.length;++P)D[P].size=M}}for(var L=0;L<l.length;++L){var C=l[L];C.style.left=C.idx*C.size;for(var q=0,U=0;U<C.friends.length;++U){var z=C.friends[U].idx;q=q>z?q:z}q<=C.idx&&(C.size=100-C.idx*C.size);var W=C.idx===0?0:3;C.style.width="calc(".concat(C.size,"% - ").concat(W,"px)"),C.style.height="calc(".concat(C.style.height,"% - 2px)"),C.style.xOffset="calc(".concat(C.style.left,"% + ").concat(W,"px)")}return l}var e2={overlap:pR,"no-overlap":UI};function zI(t){return!!(t&&t.constructor&&t.call&&t.apply)}function II(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in e2&&(r=e2[e]),zI(r)?r.apply(this,arguments):[]}var gR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.renderSlot,l=a.resource,c=a.group,d=a.getters,h=a.components,m=h===void 0?{}:h,v=m.timeSlotWrapper,y=v===void 0?fn:v,b=d?d.slotGroupProp(c):{};return Y.createElement("div",Object.assign({className:"rbc-timeslot-group"},b),c.map(function(x,w){var _=d?d.slotProp(x,l):{};return Y.createElement(y,{key:w,value:x,resource:l},Y.createElement("div",Object.assign({},_,{className:ut("rbc-time-slot",_.className)}),i&&i(x,w)))}))}}])})(A.Component);function qu(t){return typeof t=="string"?t:t+"%"}function BI(t){var e=t.style,r=t.className,a=t.event,i=t.accessors,l=t.rtl,c=t.selected,d=t.label,h=t.continuesPrior,m=t.continuesAfter,v=t.getters,y=t.onClick,b=t.onDoubleClick,x=t.isBackgroundEvent,w=t.onKeyPress,_=t.components,S=_.event,j=_.eventWrapper,E=i.title(a),T=i.tooltip(a),O=i.end(a),M=i.start(a),D=v.eventProp(a,M,O,c),R=[Y.createElement("div",{key:"1",className:"rbc-event-label"},d),Y.createElement("div",{key:"2",className:"rbc-event-content"},S?Y.createElement(S,{event:a,title:E}):E)],P=e.height,L=e.top,C=e.width,q=e.xOffset,U=Je(Je({},D.style),{},fs({top:qu(L),height:qu(P),width:qu(C)},l?"right":"left",qu(q)));return Y.createElement(j,Object.assign({type:"time"},t),Y.createElement("div",{role:"button",tabIndex:0,onClick:y,onDoubleClick:b,style:U,onKeyDown:w,title:T?(typeof d=="string"?d+": ":"")+T:void 0,className:ut(x?"rbc-background-event":"rbc-event",r,D.className,{"rbc-selected":c,"rbc-event-continues-earlier":h,"rbc-event-continues-later":m})},R))}var HI=function(e){var r=e.children,a=e.className,i=e.style,l=e.innerRef;return Y.createElement("div",{className:a,style:i,ref:l},r)},FI=Y.forwardRef(function(t,e){return Y.createElement(HI,Object.assign({},t,{innerRef:e}))}),GI=["dayProp"],WI=["eventContainerWrapper","timeIndicatorWrapper"],yR=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(c){var d=c.events,h=c.isBackgroundEvent,m=r.props,v=m.rtl,y=m.selected,b=m.accessors,x=m.localizer,w=m.getters,_=m.components,S=m.step,j=m.timeslots,E=m.dayLayoutAlgorithm,T=m.resizable,O=r,M=O.slotMetrics,D=x.messages,R=II({events:d,accessors:b,slotMetrics:M,minimumStartDifference:Math.ceil(S*j/2),dayLayoutAlgorithm:E});return R.map(function(P,L){var C,q=P.event,U=P.style,z=b.end(q),W=b.start(q),ee=(C=b.eventId(q))!==null&&C!==void 0?C:"evt_"+L,B="eventTimeRangeFormat",H,te=M.startsBeforeDay(W),le=M.startsAfterDay(z);te?B="eventTimeRangeEndFormat":le&&(B="eventTimeRangeStartFormat"),te&&le?H=D.allDay:H=x.format({start:W,end:z},B);var V=te||M.startsBefore(W),$=le||M.startsAfter(z);return Y.createElement(BI,{style:U,event:q,label:H,key:ee,getters:w,rtl:v,components:_,continuesPrior:V,continuesAfter:$,accessors:b,resource:r.props.resource,selected:lf(q,y),onClick:function(oe){return r._select(Je(Je(Je({},q),r.props.resource&&{sourceResource:r.props.resource}),h&&{isBackgroundEvent:!0}),oe)},onDoubleClick:function(oe){return r._doubleClick(q,oe)},isBackgroundEvent:h,onKeyPress:function(oe){return r._keyPress(q,oe)},resizable:T})})},r._selectable=function(){var c=r.containerRef.current,d=r.props,h=d.longPressThreshold,m=d.localizer,v=r._selector=new uR(function(){return c},{longPressThreshold:h}),y=function(_){var S=r.props.onSelecting,j=r.state||{},E=b(_),T=E.startDate,O=E.endDate;S&&(m.eq(j.startDate,T,"minutes")&&m.eq(j.endDate,O,"minutes")||S({start:T,end:O,resourceId:r.props.resource})===!1)||(r.state.start!==E.start||r.state.end!==E.end||r.state.selecting!==E.selecting)&&r.setState(E)},b=function(_){var S=r.slotMetrics.closestSlotFromPoint(_,Ts(c));r.state.selecting||(r._initialSlot=S);var j=r._initialSlot;m.lte(j,S)?S=r.slotMetrics.nextSlot(S):m.gt(j,S)&&(j=r.slotMetrics.nextSlot(j));var E=r.slotMetrics.getRange(m.min(j,S),m.max(j,S));return Je(Je({},E),{},{selecting:!0,top:"".concat(E.top,"%"),height:"".concat(E.height,"%")})},x=function(_,S){if(!_d(r.containerRef.current,_)){var j=b(_),E=j.startDate,T=j.endDate;r._selectSlot({startDate:E,endDate:T,action:S,box:_})}r.setState({selecting:!1})};v.on("selecting",y),v.on("selectStart",y),v.on("beforeSelect",function(w){if(r.props.selectable==="ignoreEvents")return!_d(r.containerRef.current,w)}),v.on("click",function(w){return x(w,"click")}),v.on("doubleClick",function(w){return x(w,"doubleClick")}),v.on("select",function(w){r.state.selecting&&(r._selectSlot(Je(Je({},r.state),{},{action:"select",bounds:w})),r.setState({selecting:!1}))}),v.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(c){for(var d=c.startDate,h=c.endDate,m=c.action,v=c.bounds,y=c.box,b=d,x=[];r.props.localizer.lte(b,h);)x.push(b),b=new Date(+b+r.props.step*60*1e3);nt(r.props.onSelectSlot,{slots:x,start:d,end:h,resourceId:r.props.resource,action:m,bounds:v,box:y})},r._select=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onSelectEvent,d)},r._doubleClick=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onDoubleClickEvent,d)},r._keyPress=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onKeyPressEvent,d)},r.slotMetrics=$b(r.props),r.containerRef=A.createRef(),r}return Zt(e,t),Dt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(a,i){this.props.selectable&&!a.selectable&&this._selectable(),!this.props.selectable&&a.selectable&&this._teardownSelectable();var l=this.props,c=l.getNow,d=l.isNow,h=l.localizer,m=l.date,v=l.min,y=l.max,b=h.neq(a.getNow(),c(),"minutes");if(a.isNow!==d||b){if(this.clearTimeIndicatorInterval(),d){var x=!b&&h.eq(a.date,m,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(x)}}else d&&(h.neq(a.min,v,"minutes")||h.neq(a.max,y,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,i=a.min,l=a.max,c=a.getNow,d=c();if(d>=i&&d<=l){var h=this.slotMetrics.getCurrentTimePosition(d);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:h})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.max,c=a.rtl,d=a.isNow,h=a.resource,m=a.accessors,v=a.localizer,y=a.getters,b=y.dayProp,x=xn(y,GI),w=a.components,_=w.eventContainerWrapper,S=w.timeIndicatorWrapper,j=xn(w,WI);this.slotMetrics=this.slotMetrics.update(this.props);var E=this.slotMetrics,T=this.state,O=T.selecting,M=T.top,D=T.height,R=T.startDate,P=T.endDate,L={start:R,end:P},C=b(l,h),q=C.className,U=C.style,z={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},W=j.dayColumnWrapper||FI;return Y.createElement(W,{ref:this.containerRef,date:i,style:U,className:ut(q,"rbc-day-slot","rbc-time-column",d&&"rbc-now",d&&"rbc-today",O&&"rbc-slot-selecting"),slotMetrics:E,resource:h},E.groups.map(function(ee,B){return Y.createElement(gR,{key:B,group:ee,resource:h,getters:x,components:j})}),Y.createElement(_,{localizer:v,resource:h,accessors:m,getters:x,components:j,slotMetrics:E},Y.createElement("div",{className:ut("rbc-events-container",c&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),O&&Y.createElement("div",{className:"rbc-slot-selection",style:{top:M,height:D}},Y.createElement("span",null,v.format(L,"selectRangeFormat"))),d&&this.intervalTriggered&&Y.createElement(S,z,Y.createElement("div",z)))}}])})(Y.Component);yR.defaultProps={dragThroughEvents:!0,timeslots:2};var bR=function(e){var r=e.label;return Y.createElement(Y.Fragment,null,r)},YI=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.handleHeaderClick=function(c,d,h){h.preventDefault(),nt(r.props.onDrillDown,[c,d])},r.renderRow=function(c){var d=r.props,h=d.events,m=d.rtl,v=d.selectable,y=d.getNow,b=d.range,x=d.getters,w=d.localizer,_=d.accessors,S=d.components,j=d.resizable,E=_.resourceId(c),T=c?h.filter(function(O){return _.resource(O)===E}):h;return Y.createElement(Ll,{isAllDay:!0,rtl:m,getNow:y,minRows:2,maxRows:r.props.allDayMaxRows+1,range:b,events:T,resourceId:E,className:"rbc-allday-cell",selectable:v,selected:r.props.selected,components:S,accessors:_,getters:x,localizer:w,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:j})},r}return Zt(e,t),Dt(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,c=l.localizer,d=l.getDrilldownView,h=l.getNow,m=l.getters.dayProp,v=l.components.header,y=v===void 0?Lb:v,b=h();return a.map(function(x,w){var _=d(x),S=c.format(x,"dayFormat"),j=m(x),E=j.className,T=j.style,O=Y.createElement(y,{date:x,label:S,localizer:c});return Y.createElement("div",{key:w,style:T,className:ut("rbc-header",E,c.isSameDate(x,b)&&"rbc-today")},_?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(D){return i.handleHeaderClick(x,_,D)}},O):Y.createElement("span",null,O))})}},{key:"render",value:function(){var a=this,i=this.props,l=i.width,c=i.rtl,d=i.resources,h=i.range,m=i.events,v=i.getNow,y=i.accessors,b=i.selectable,x=i.components,w=i.getters,_=i.scrollRef,S=i.localizer,j=i.isOverflowing,E=i.components,T=E.timeGutterHeader,O=E.resourceHeader,M=O===void 0?bR:O,D=i.resizable,R={};j&&(R[c?"marginLeft":"marginRight"]="".concat(Jl()-1,"px"));var P=d.groupEvents(m);return Y.createElement("div",{style:R,ref:_,className:ut("rbc-time-header",j&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:l,minWidth:l,maxWidth:l}},T&&Y.createElement(T,null)),d.map(function(L,C){var q=xs(L,2),U=q[0],z=q[1];return Y.createElement("div",{className:"rbc-time-header-content",key:U||C},z&&Y.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(C)},Y.createElement("div",{className:"rbc-header"},Y.createElement(M,{index:C,label:y.resourceTitle(z),resource:z}))),Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(h.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(h)),Y.createElement(Ll,{isAllDay:!0,rtl:c,getNow:v,minRows:2,maxRows:a.props.allDayMaxRows+1,range:h,events:P.get(U)||[],resourceId:z&&U,className:"rbc-allday-cell",selectable:b,selected:a.props.selected,components:x,accessors:y,getters:w,localizer:S,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:D}))}))}}])})(Y.Component),VI=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.handleHeaderClick=function(c,d,h){h.preventDefault(),nt(r.props.onDrillDown,[c,d])},r}return Zt(e,t),Dt(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,c=l.localizer,d=l.getDrilldownView,h=l.getNow,m=l.getters.dayProp,v=l.components,y=v.header,b=y===void 0?Lb:y,x=v.resourceHeader,w=x===void 0?bR:x,_=l.resources,S=l.accessors,j=l.events,E=l.rtl,T=l.selectable,O=l.components,M=l.getters,D=l.resizable,R=h(),P=_.groupEvents(j);return a.map(function(L,C){var q=d(L),U=c.format(L,"dayFormat"),z=m(L),W=z.className,ee=z.style,B=Y.createElement(b,{date:L,label:U,localizer:c});return Y.createElement("div",{key:C,className:"rbc-time-header-content rbc-resource-grouping"},Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},Y.createElement("div",{style:ee,className:ut("rbc-header",W,c.isSameDate(L,R)&&"rbc-today")},q?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(te){return i.handleHeaderClick(L,q,te)}},B):Y.createElement("span",null,B))),Y.createElement("div",{className:"rbc-row"},_.map(function(H,te){var le=xs(H,2),V=le[0],$=le[1];return Y.createElement("div",{key:"resource_".concat(V,"_").concat(te),className:ut("rbc-header",W,c.isSameDate(L,R)&&"rbc-today")},Y.createElement(w,{index:te,label:S.resourceTitle($),resource:$}))})),Y.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},_.map(function(H,te){var le=xs(H,2),V=le[0],$=le[1],X=(P.get(V)||[]).filter(function(oe){return c.isSameDate(oe.start,L)||c.isSameDate(oe.end,L)});return Y.createElement(Ll,{key:"resource_".concat(V,"_").concat(te),isAllDay:!0,rtl:E,getNow:h,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[L],events:X,resourceId:$&&V,className:"rbc-allday-cell",selectable:T,selected:i.props.selected,components:O,accessors:S,getters:M,localizer:c,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:D})})))})}},{key:"render",value:function(){var a=this.props,i=a.width,l=a.rtl,c=a.range,d=a.scrollRef,h=a.isOverflowing,m=a.components.timeGutterHeader,v={};return h&&(v[l?"marginLeft":"marginRight"]="".concat(Jl()-1,"px")),Y.createElement("div",{style:v,ref:d,className:ut("rbc-time-header",h&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},m&&Y.createElement(m,null)),this.renderHeaderCells(c))}}])})(Y.Component);function KI(t){var e=t.min,r=t.max,a=t.localizer;return a.getTimezoneOffset(e)!==a.getTimezoneOffset(r)?{start:a.add(e,-1,"day"),end:a.add(r,-1,"day")}:{start:e,end:r}}var XI=function(e){var r=e.min,a=e.max,i=e.timeslots,l=e.step,c=e.localizer,d=e.getNow,h=e.resource,m=e.components,v=e.getters,y=e.gutterRef,b=m.timeGutterWrapper,x=A.useMemo(function(){return KI({min:r,max:a,localizer:c})},[r?.toISOString(),a?.toISOString(),c]),w=x.start,_=x.end,S=A.useState($b({min:w,max:_,timeslots:i,step:l,localizer:c})),j=xs(S,2),E=j[0],T=j[1];A.useEffect(function(){E&&T(E.update({min:w,max:_,timeslots:i,step:l,localizer:c}))},[w?.toISOString(),_?.toISOString(),i,l]);var O=A.useCallback(function(M,D){if(D)return null;var R=E.dateIsInGroup(d(),D);return Y.createElement("span",{className:ut("rbc-label",R&&"rbc-now")},c.format(M,"timeGutterFormat"))},[E,c,d]);return Y.createElement(b,{slotMetrics:E},Y.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:y},E.groups.map(function(M,D){return Y.createElement(gR,{key:D,group:M,resource:h,components:m,renderSlot:O,getters:v})})))},QI=Y.forwardRef(function(t,e){return Y.createElement(XI,Object.assign({gutterRef:e},t))}),E0={};function JI(t,e){return{map:function(a){return t?t.map(function(i,l){return a([e.resourceId(i),i],l)}):[a([E0,null],0)]},groupEvents:function(a){var i=new Map;return t?(a.forEach(function(l){var c=e.resource(l)||E0;if(Array.isArray(c))c.forEach(function(h){var m=i.get(h)||[];m.push(l),i.set(h,m)});else{var d=i.get(c)||[];d.push(l),i.set(c,d)}}),i):(i.set(E0,a),i)}}}var Ki=(function(t){function e(r){var a;return Rt(this,e),a=Jt(this,e,[r]),a.handleScroll=function(i){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=i.target.scrollLeft)},a.handleResize=function(){Dl(a.rafHandle),a.rafHandle=Kl(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onKeyPressEvent,l)},a.handleSelectEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onSelectEvent,l)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onDoubleClickEvent,l)},a.handleShowMore=function(i,l,c,d,h){var m=a.props,v=m.popup,y=m.onDrillDown,b=m.onShowMore,x=m.getDrilldownView,w=m.doShowMoreDrillDown;if(a.clearSelection(),v){var _=Id(c,a.containerRef.current);a.setState({overlay:{date:l,events:i,position:Je(Je({},_),{},{width:"200px"}),target:h}})}else w&&nt(y,[l,x(l)||At.DAY]);nt(b,[i,l,d])},a.handleSelectAllDaySlot=function(i,l){var c=a.props.onSelectSlot,d=new Date(i[0]),h=new Date(i[i.length-1]);h.setDate(i[i.length-1].getDate()+1),nt(c,{slots:i,start:d,end:h,action:l.action,resourceId:l.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var i=a.contentRef.current;if(i!=null&&i.scrollHeight){var l=i.scrollHeight>i.clientHeight;a.state.isOverflowing!==l&&(a._updatingOverflow=!0,a.setState({isOverflowing:l},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=WA(function(i,l){return JI(i,l)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=Y.createRef(),a.contentRef=Y.createRef(),a.containerRef=Y.createRef(),a._scrollRatio=null,a.gutterRef=A.createRef(),a}return Zt(e,t),Dt(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Dl(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(a,i,l,c,d,h,m,v,y,b){var x=this.props,w=x.min,_=x.max,S=(c.get(i)||[]).filter(function(E){return h.inRange(a,m.start(E),m.end(E),"day")}),j=(d.get(i)||[]).filter(function(E){return h.inRange(a,m.start(E),m.end(E),"day")});return Y.createElement(yR,Object.assign({},this.props,{localizer:h,min:h.merge(a,w),max:h.merge(a,_),resource:l&&i,components:v,isNow:h.isSameDate(a,b),key:"".concat(i,"-").concat(a),date:a,events:S,backgroundEvents:j,dayLayoutAlgorithm:y}))}},{key:"renderResourcesFirst",value:function(a,i,l,c,d,h,m,v,y){var b=this;return i.map(function(x){var w=xs(x,2),_=w[0],S=w[1];return a.map(function(j){return b.renderDayColumn(j,_,S,l,c,d,h,v,y,m)})})}},{key:"renderRangeFirst",value:function(a,i,l,c,d,h,m,v,y){var b=this;return a.map(function(x){return Y.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:x},i.map(function(w){var _=xs(w,2),S=_[0],j=_[1];return Y.createElement("div",{style:{flex:1},key:h.resourceId(j)},b.renderDayColumn(x,S,j,l,c,d,h,v,y,m))}))})}},{key:"renderEvents",value:function(a,i,l,c){var d=this.props,h=d.accessors,m=d.localizer,v=d.resourceGroupingLayout,y=d.components,b=d.dayLayoutAlgorithm,x=this.memoizedResources(this.props.resources,h),w=x.groupEvents(i),_=x.groupEvents(l);return v?this.renderRangeFirst(a,x,w,_,m,h,c,y,b):this.renderResourcesFirst(a,x,w,_,m,h,c,y,b)}},{key:"render",value:function(){var a,i=this.props,l=i.events,c=i.backgroundEvents,d=i.range,h=i.width,m=i.rtl,v=i.selected,y=i.getNow,b=i.resources,x=i.components,w=i.accessors,_=i.getters,S=i.localizer,j=i.min,E=i.max,T=i.showMultiDayTimes,O=i.longPressThreshold,M=i.resizable,D=i.resourceGroupingLayout;h=h||this.state.gutterWidth;var R=d[0],P=d[d.length-1];this.slots=d.length;var L=[],C=[],q=[];l.forEach(function(z){if(Pl(z,R,P,w,S)){var W=w.start(z),ee=w.end(z);w.allDay(z)||S.startAndEndAreDateOnly(W,ee)||!T&&!S.isSameDate(W,ee)?L.push(z):C.push(z)}}),c.forEach(function(z){Pl(z,R,P,w,S)&&q.push(z)}),L.sort(function(z,W){return Cy(z,W,w,S)});var U={range:d,events:L,width:h,rtl:m,getNow:y,localizer:S,selected:v,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(b,w),selectable:this.props.selectable,accessors:w,getters:_,components:x,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:O,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:M};return Y.createElement("div",{className:ut("rbc-time-view",b&&"rbc-time-view-resources"),ref:this.containerRef},b&&b.length>1&&D?Y.createElement(VI,U):Y.createElement(YI,U),this.props.popup&&this.renderOverlay(),Y.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Y.createElement(QI,{date:R,ref:this.gutterRef,localizer:S,min:S.merge(R,j),max:S.merge(R,E),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:x,className:"rbc-time-gutter",getters:_}),this.renderEvents(d,C,q,y())))}},{key:"renderOverlay",value:function(){var a,i,l=this,c=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,h=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(Pb,{overlay:c,accessors:h,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,l=(i=a.gutterRef)!==null&&i!==void 0&&i.current?ql(a.gutterRef.current):void 0;l&&a.state.gutterWidth!==l&&a.setState({gutterWidth:l})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=a.min,l=a.max,c=a.scrollToTime,d=a.localizer,h=d.diff(d.merge(c,i),c,"milliseconds"),m=d.diff(i,l,"milliseconds");this._scrollRatio=h/m}}])})(A.Component);Ki.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var ZI=["date","localizer","min","max","scrollToTime","enableAutoScroll"],uf=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,h=a.max,m=h===void 0?l.endOf(new Date,"day"):h,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=xn(a,ZI),_=e.range(i,{localizer:l});return Y.createElement(Ki,Object.assign({},w,{range:_,eventOffset:10,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);uf.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};uf.navigate=function(t,e,r){var a=r.localizer;switch(e){case mr.PREVIOUS:return a.add(t,-1,"day");case mr.NEXT:return a.add(t,1,"day");default:return t}};uf.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var eB=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ra=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,h=a.max,m=h===void 0?l.endOf(new Date,"day"):h,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=xn(a,eB),_=e.range(i,this.props);return Y.createElement(Ki,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);Ra.defaultProps=Ki.defaultProps;Ra.navigate=function(t,e,r){var a=r.localizer;switch(e){case mr.PREVIOUS:return a.add(t,-1,"week");case mr.NEXT:return a.add(t,1,"week");default:return t}};Ra.range=function(t,e){var r=e.localizer,a=r.startOfWeek(),i=r.startOf(t,"week",a),l=r.endOf(t,"week",a);return r.range(i,l)};Ra.title=function(t,e){var r=e.localizer,a=Ra.range(t,{localizer:r}),i=JA(a),l=i[0],c=i.slice(1);return r.format({start:l,end:c.pop()},"dayRangeHeaderFormat")};var tB=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Ub(t,e){return Ra.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var nc=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,h=a.max,m=h===void 0?l.endOf(new Date,"day"):h,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=xn(a,tB),_=Ub(i,this.props);return Y.createElement(Ki,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);nc.defaultProps=Ki.defaultProps;nc.range=Ub;nc.navigate=Ra.navigate;nc.title=function(t,e){var r=e.localizer,a=Ub(t,{localizer:r}),i=JA(a),l=i[0],c=i.slice(1);return r.format({start:l,end:c.pop()},"dayRangeHeaderFormat")};var df=30;function ff(t){var e=t.accessors,r=t.components,a=t.date,i=t.events,l=t.getters,c=t.length,d=c===void 0?df:c,h=t.localizer,m=t.onDoubleClickEvent,v=t.onSelectEvent,y=t.selected,b=A.useRef(null),x=A.useRef(null),w=A.useRef(null),_=A.useRef(null),S=A.useRef(null);A.useEffect(function(){T()});var j=function(P,L,C){var q=r.event,U=r.date;return L=L.filter(function(z){return Pl(z,h.startOf(P,"day"),h.endOf(P,"day"),e,h)}),L.map(function(z,W){var ee=e.title(z),B=e.end(z),H=e.start(z),te=l.eventProp(z,H,B,lf(z,y)),le=W===0&&h.format(P,"agendaDateFormat"),V=W===0?Y.createElement("td",{rowSpan:L.length,className:"rbc-agenda-date-cell"},U?Y.createElement(U,{day:P,label:le}):le):!1;return Y.createElement("tr",{key:C+"_"+W,className:te.className,style:te.style},V,Y.createElement("td",{className:"rbc-agenda-time-cell"},E(P,z)),Y.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(X){return v&&v(z,X)},onDoubleClick:function(X){return m&&m(z,X)}},q?Y.createElement(q,{event:z,title:ee}):ee))},[])},E=function(P,L){var C="",q=r.time,U=h.messages.allDay,z=e.end(L),W=e.start(L);return e.allDay(L)||(h.eq(W,z)?U=h.format(W,"agendaTimeFormat"):h.isSameDate(W,z)?U=h.format({start:W,end:z},"agendaTimeRangeFormat"):h.isSameDate(P,W)?U=h.format(W,"agendaTimeFormat"):h.isSameDate(P,z)&&(U=h.format(z,"agendaTimeFormat"))),h.gt(P,W,"day")&&(C="rbc-continues-prior"),h.lt(P,z,"day")&&(C+=" rbc-continues-after"),Y.createElement("span",{className:C.trim()},q?Y.createElement(q,{event:L,day:P,label:U}):U)},T=function(){if(S.current){var P=b.current,L=S.current.firstChild;if(L){var C=_.current.scrollHeight>_.current.clientHeight,q=[],U=q;q=[ql(L.children[0]),ql(L.children[1])],(U[0]!==q[0]||U[1]!==q[1])&&(x.current.style.width=q[0]+"px",w.current.style.width=q[1]+"px"),C?(Wd(P,"rbc-header-overflowing"),P.style.marginRight=Jl()+"px"):Yd(P,"rbc-header-overflowing")}}},O=h.messages,M=h.add(a,d,"day"),D=h.range(a,M,"day");return i=i.filter(function(R){return Pl(R,h.startOf(a,"day"),h.endOf(M,"day"),e,h)}),i.sort(function(R,P){return+e.start(R)-+e.start(P)}),Y.createElement("div",{className:"rbc-agenda-view"},i.length!==0?Y.createElement(Y.Fragment,null,Y.createElement("table",{ref:b,className:"rbc-agenda-table"},Y.createElement("thead",null,Y.createElement("tr",null,Y.createElement("th",{className:"rbc-header",ref:x},O.date),Y.createElement("th",{className:"rbc-header",ref:w},O.time),Y.createElement("th",{className:"rbc-header"},O.event)))),Y.createElement("div",{className:"rbc-agenda-content",ref:_},Y.createElement("table",{className:"rbc-agenda-table"},Y.createElement("tbody",{ref:S},D.map(function(R,P){return j(R,i,P)}))))):Y.createElement("span",{className:"rbc-agenda-empty"},O.noEventsInRange))}ff.range=function(t,e){var r=e.length,a=r===void 0?df:r,i=e.localizer,l=i.add(t,a,"day");return{start:t,end:l}};ff.navigate=function(t,e,r){var a=r.length,i=a===void 0?df:a,l=r.localizer;switch(e){case mr.PREVIOUS:return l.add(t,-i,"day");case mr.NEXT:return l.add(t,i,"day");default:return t}};ff.title=function(t,e){var r=e.length,a=r===void 0?df:r,i=e.localizer,l=i.add(t,a,"day");return i.format({start:t,end:l},"agendaHeaderFormat")};var rd=fs(fs(fs(fs(fs({},At.MONTH,cf),At.WEEK,Ra),At.WORK_WEEK,nc),At.DAY,uf),At.AGENDA,ff),rB=["action","date","today"];function nB(t,e){var r=e.action,a=e.date,i=e.today,l=xn(e,rB);switch(t=typeof t=="string"?rd[t]:t,r){case mr.TODAY:a=i||new Date;break;case mr.DATE:break;default:Sl(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),a=t.navigate(a,r,l)}return a}function aB(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&Kn(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var Fn=function(e){return function(r){return aB(r,e)}},sB=["view","date","getNow","onNavigate"],iB=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function xR(t){if(Array.isArray(t))return t;for(var e=[],r=0,a=Object.entries(t);r<a.length;r++){var i=xs(a[r],2),l=i[0],c=i[1];c&&e.push(l)}return e}function oB(t,e){var r=e.views,a=xR(r);return a.indexOf(t)!==-1}var wR=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.getViews=function(){var c=r.props.views;return Array.isArray(c)?Cz(c,function(d,h){return d[h]=rd[h]},{}):Kn(c)==="object"?JU(c,function(d,h){return d===!0?rd[h]:d}):rd},r.getView=function(){var c=r.getViews();return c[r.props.view]},r.getDrilldownView=function(c){var d=r.props,h=d.view,m=d.drilldownView,v=d.getDrilldownView;return v?v(c,h,Object.keys(r.getViews())):m},r.handleRangeChange=function(c,d,h){var m=r.props,v=m.onRangeChange,y=m.localizer;v&&d.range&&v(d.range(c,{localizer:y}),h)},r.handleNavigate=function(c,d){var h=r.props,m=h.view,v=h.date,y=h.getNow,b=h.onNavigate,x=xn(h,sB),w=r.getView(),_=y();v=nB(w,Je(Je({},x),{},{action:c,date:d||v||_,today:_})),b(v,m,c),r.handleRangeChange(v,w)},r.handleViewChange=function(c){c!==r.props.view&&oB(c,r.props)&&r.props.onView(c);var d=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),d[c],c)},r.handleSelectEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onKeyPressEvent,d)},r.handleSelectSlot=function(c){nt(r.props.onSelectSlot,c)},r.handleDrillDown=function(c,d){var h=r.props.onDrillDown;if(h){h(c,d,r.drilldownView);return}d&&r.handleViewChange(d),r.handleNavigate(mr.DATE,c)},r.state={context:e.getContext(r.props)},r}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.view,l=a.toolbar,c=a.events,d=a.backgroundEvents,h=a.resourceGroupingLayout,m=a.style,v=a.className,y=a.elementProps,b=a.date,x=a.getNow,w=a.length,_=a.showMultiDayTimes,S=a.onShowMore,j=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var E=xn(a,iB);b=b||x();var T=this.getView(),O=this.state.context,M=O.accessors,D=O.components,R=O.getters,P=O.localizer,L=O.viewNames,C=D.toolbar||uI,q=T.title(b,{localizer:P,length:w});return Y.createElement("div",Object.assign({},y,{className:ut(v,"rbc-calendar",E.rtl&&"rbc-rtl"),style:m}),l&&Y.createElement(C,{date:b,view:i,views:L,label:q,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:P}),Y.createElement(T,Object.assign({},E,{events:c,backgroundEvents:d,date:b,getNow:x,length:w,localizer:P,getters:R,components:D,accessors:M,showMultiDayTimes:_,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:S,doShowMoreDrillDown:j,resourceGroupingLayout:h})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:e.getContext(a)}}},{key:"getContext",value:function(a){var i=a.startAccessor,l=a.endAccessor,c=a.allDayAccessor,d=a.tooltipAccessor,h=a.titleAccessor,m=a.resourceAccessor,v=a.resourceIdAccessor,y=a.resourceTitleAccessor,b=a.eventIdAccessor,x=a.eventPropGetter,w=a.backgroundEventPropGetter,_=a.slotPropGetter,S=a.slotGroupPropGetter,j=a.dayPropGetter,E=a.view,T=a.views,O=a.localizer,M=a.culture,D=a.messages,R=D===void 0?{}:D,P=a.components,L=P===void 0?{}:P,C=a.formats,q=C===void 0?{}:C,U=xR(T),z=fI(R);return{viewNames:U,localizer:cI(O,M,q,z),getters:{eventProp:function(){return x&&x.apply(void 0,arguments)||{}},backgroundEventProp:function(){return w&&w.apply(void 0,arguments)||{}},slotProp:function(){return _&&_.apply(void 0,arguments)||{}},slotGroupProp:function(){return S&&S.apply(void 0,arguments)||{}},dayProp:function(){return j&&j.apply(void 0,arguments)||{}}},components:KU(L[E]||{},Nz(L,U),{eventWrapper:fn,backgroundEventWrapper:fn,eventContainerWrapper:fn,dateCellWrapper:fn,weekWrapper:fn,timeSlotWrapper:fn,timeGutterWrapper:fn,timeIndicatorWrapper:fn}),accessors:{start:Fn(i),end:Fn(l),allDay:Fn(c),tooltip:Fn(d),title:Fn(h),resource:Fn(m),resourceId:Fn(v),resourceTitle:Fn(y),eventId:Fn(b)}}}}])})(Y.Component);wR.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:At.MONTH,views:[At.MONTH,At.WEEK,At.DAY,At.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:At.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var lB=lA(wR,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),cB=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"P",r),"  ").concat(a.format(l,"P",r))},j0=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"p",r),"  ").concat(a.format(l,"p",r))},uB=function(e,r,a){var i=e.start;return"".concat(a.format(i,"h:mma",r),"  ")},dB=function(e,r,a){var i=e.end;return"  ".concat(a.format(i,"h:mma",r))},fB=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"MMMM dd",r),"  ").concat(a.format(l,Fi(i,l,"month")?"dd":"MMMM dd",r))},hB={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:j0,eventTimeRangeFormat:j0,eventTimeRangeStartFormat:uB,eventTimeRangeEndFormat:dB,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:fB,agendaHeaderFormat:cB,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:j0},mB=function(e){var r=e.startOfWeek,a=e.getDay,i=e.format,l=e.locales;return new lI({formats:hB,firstOfWeek:function(d){return a(r(new Date,{locale:l[d]}))},format:function(d,h,m){return i(new Date(d),h,{locale:l[m]})}})},el={},N0={exports:{}},t2;function er(){return t2||(t2=1,(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(N0)),N0.exports}var Pu={},T0={exports:{}},O0={exports:{}},C0={exports:{}},A0={exports:{}},r2;function Xi(){return r2||(r2=1,(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(A0)),A0.exports}var R0={exports:{}},n2;function pB(){return n2||(n2=1,(function(t){var e=Xi().default;function r(a,i){if(e(a)!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var c=l.call(a,i||"default");if(e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(R0)),R0.exports}var a2;function _R(){return a2||(a2=1,(function(t){var e=Xi().default,r=pB();function a(i){var l=r(i,"string");return e(l)=="symbol"?l:l+""}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(C0)),C0.exports}var s2;function SR(){return s2||(s2=1,(function(t){var e=_R();function r(a,i,l){return(i=e(i))in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(O0)),O0.exports}var i2;function $a(){return i2||(i2=1,(function(t){var e=SR();function r(i,l){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);l&&(d=d.filter(function(h){return Object.getOwnPropertyDescriptor(i,h).enumerable})),c.push.apply(c,d)}return c}function a(i){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?r(Object(c),!0).forEach(function(d){e(i,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(c,d))})}return i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(T0)),T0.exports}var D0={exports:{}},k0={exports:{}},o2;function vB(){return o2||(o2=1,(function(t){function e(r,a){if(r==null)return{};var i={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(a.indexOf(l)!==-1)continue;i[l]=r[l]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(k0)),k0.exports}var l2;function zb(){return l2||(l2=1,(function(t){var e=vB();function r(a,i){if(a==null)return{};var l,c,d=e(a,i);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(c=0;c<h.length;c++)l=h[c],i.indexOf(l)===-1&&{}.propertyIsEnumerable.call(a,l)&&(d[l]=a[l])}return d}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(D0)),D0.exports}var M0={exports:{}},c2;function As(){return c2||(c2=1,(function(t){function e(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(M0)),M0.exports}var q0={exports:{}},u2;function Rs(){return u2||(u2=1,(function(t){var e=_R();function r(i,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,e(d.key),d)}}function a(i,l,c){return l&&r(i.prototype,l),c&&r(i,c),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(q0)),q0.exports}var P0={exports:{}},L0={exports:{}},d2;function gB(){return d2||(d2=1,(function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(L0)),L0.exports}var $0={exports:{}},f2;function yB(){return f2||(f2=1,(function(t){function e(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t.exports=e=function(){return!!r},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})($0)),$0.exports}var U0={exports:{}},z0={exports:{}},h2;function bB(){return h2||(h2=1,(function(t){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(z0)),z0.exports}var m2;function xB(){return m2||(m2=1,(function(t){var e=Xi().default,r=bB();function a(i,l){if(l&&(e(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(i)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(U0)),U0.exports}var p2;function Qi(){return p2||(p2=1,(function(t){var e=gB(),r=yB(),a=xB();function i(l,c,d){return c=e(c),a(l,r()?Reflect.construct(c,d||[],e(l).constructor):c.apply(l,d))}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(P0)),P0.exports}var I0={exports:{}},B0={exports:{}},v2;function wB(){return v2||(v2=1,(function(t){function e(r,a){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,a)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(B0)),B0.exports}var g2;function Ji(){return g2||(g2=1,(function(t){var e=wB();function r(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&e(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(I0)),I0.exports}const ac=wn(X6);var jr={},ss={},y2;function _B(){return y2||(y2=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.views=ss.navigate=void 0,ss.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ss.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"}),ss}var b2;function SB(){if(b2)return jr;b2=1;var t=er().default;Object.defineProperty(jr,"__esModule",{value:!0}),jr.views=jr.dateRangeFormat=jr.dateFormat=jr.accessor=jr.DayLayoutAlgorithmPropType=void 0;var e=t(Jy()),r=_B(),a=Object.keys(r.views).map(function(i){return r.views[i]});return jr.accessor=e.default.oneOfType([e.default.string,e.default.func]),jr.dateFormat=e.default.any,jr.dateRangeFormat=e.default.func,jr.views=e.default.oneOfType([e.default.arrayOf(e.default.oneOf(a)),e.default.objectOf(function(i,l){var c=a.indexOf(l)!==-1&&typeof i[l]=="boolean";if(c)return null;for(var d=arguments.length,h=new Array(d>2?d-2:0),m=2;m<d;m++)h[m-2]=arguments[m];return e.default.elementType.apply(e.default,[i,l].concat(h))})]),jr.DayLayoutAlgorithmPropType=e.default.oneOfType([e.default.oneOf(["overlap","no-overlap"]),e.default.func]),jr}var tl={},xi={},x2;function ER(){if(x2)return xi;x2=1;var t=er().default;Object.defineProperty(xi,"__esModule",{value:!0}),xi.accessor=r,xi.wrapAccessor=void 0;var e=t(Xi());function r(a,i){var l=null;return typeof i=="function"?l=i(a):typeof i=="string"&&(0,e.default)(a)==="object"&&a!=null&&i in a&&(l=a[i]),l}return xi.wrapAccessor=function(i){return function(l){return r(l,i)}},xi}var rl={},w2;function hf(){if(w2)return rl;w2=1;var t=er().default;Object.defineProperty(rl,"__esModule",{value:!0}),rl.DnDContext=void 0;var e=t(Cr());return rl.DnDContext=e.default.createContext(),rl}var _2;function EB(){if(_2)return tl;_2=1;var t=er().default;Object.defineProperty(tl,"__esModule",{value:!0}),tl.default=void 0;var e=t($a()),r=t(As()),a=t(Rs()),i=t(Qi()),l=t(Ji()),c=t(Cr()),d=t(ac),h=ER(),m=hf(),v=(function(y){function b(){var x;(0,r.default)(this,b);for(var w=arguments.length,_=new Array(w),S=0;S<w;S++)_[S]=arguments[S];return x=(0,i.default)(this,b,[].concat(_)),x.handleResizeUp=function(j){j.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","UP")},x.handleResizeDown=function(j){j.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","DOWN")},x.handleResizeLeft=function(j){j.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","LEFT")},x.handleResizeRight=function(j){j.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","RIGHT")},x.handleStartDragging=function(j){var E;if(j.button===0){var T=(E=j.target.getAttribute("class"))===null||E===void 0?void 0:E.includes("rbc-addons-dnd-resize");if(!T){var O=(0,e.default)({},x.props.event);O.sourceResource=x.props.resource,x.context.draggable.onBeginAction(x.props.event,"move")}}},x}return(0,l.default)(b,y),(0,a.default)(b,[{key:"renderAnchor",value:function(w){var _=w==="Up"||w==="Down"?"ns":"ew";return c.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-anchor"),onMouseDown:this["handleResize".concat(w)]},c.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-icon")}))}},{key:"render",value:function(){var w=this.props,_=w.event,S=w.type,j=w.continuesPrior,E=w.continuesAfter,T=w.resizable,O=this.props.children;if(_.__isPreview)return c.default.cloneElement(O,{className:(0,d.default)(O.props.className,"rbc-addons-dnd-drag-preview")});var M=this.context.draggable,D=M.draggableAccessor,R=M.resizableAccessor,P=D?!!(0,h.accessor)(_,D):!0;if(!P)return O;var L=T&&(R?!!(0,h.accessor)(_,R):!0);if(L||P){var C={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if(L){var q=null,U=null;S==="date"?(q=!j&&this.renderAnchor("Left"),U=!E&&this.renderAnchor("Right")):(q=!j&&this.renderAnchor("Up"),U=!E&&this.renderAnchor("Down")),C.children=c.default.createElement("div",{className:"rbc-addons-dnd-resizable"},q,O.props.children,U)}M.dragAndDropAction.interacting&&M.dragAndDropAction.event===_&&(C.className=(0,d.default)(O.props.className,"rbc-addons-dnd-dragged-event")),O=c.default.cloneElement(O,C)}return O}}])})(c.default.Component);return v.contextType=m.DnDContext,tl.default=v,tl}var nl={},H0={exports:{}},S2;function jR(){return S2||(S2=1,(function(t){var e=Xi().default;function r(a,i){if(typeof WeakMap=="function")var l=new WeakMap,c=new WeakMap;return(t.exports=r=function(h,m){if(!m&&h&&h.__esModule)return h;var v,y,b={__proto__:null,default:h};if(h===null||e(h)!="object"&&typeof h!="function")return b;if(v=m?c:l){if(v.has(h))return v.get(h);v.set(h,b)}for(var x in h)x!=="default"&&{}.hasOwnProperty.call(h,x)&&((y=(v=Object.defineProperty)&&Object.getOwnPropertyDescriptor(h,x))&&(y.get||y.set)?v(b,x,y):b[x]=h[x]);return b},t.exports.__esModule=!0,t.exports.default=t.exports)(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(H0)),H0.exports}function Ib(t,e,r,a){if(r===void 0&&(r=!1),a===void 0&&(a=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,r,a),t.dispatchEvent(i)}}function jB(t){var e=Ft(t,"transitionDuration")||"",r=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*r}function NB(t,e,r){r===void 0&&(r=5);var a=!1,i=setTimeout(function(){a||Ib(t,"transitionend",!0)},e+r),l=vn(t,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(i),l()}}function Bb(t,e,r,a){r==null&&(r=jB(t)||0);var i=NB(t,r,a),l=vn(t,"transitionend",e);return function(){i(),l()}}var E2={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function j2(t){var e=t.node,r=t.properties,a=t.duration,i=a===void 0?200:a,l=t.easing,c=t.callback,d=[],h={},m="";Object.keys(r).forEach(function(b){var x=r[b];_A(b)?m+=b+"("+x+") ":(h[b]=x,d.push(wA(b)))}),m&&(h.transform=m,d.push("transform"));function v(b){b.target===b.currentTarget&&(Ft(e,E2),c&&c.call(this,b))}i>0&&(h.transition=d.join(", "),h["transition-duration"]=i/1e3+"s",h["transition-delay"]="0s",h["transition-timing-function"]=l||"linear");var y=Bb(e,v,i);return e.clientLeft,Ft(e,h),{cancel:function(){y(),Ft(e,E2)}}}function NR(t,e,r,a,i){if(!("nodeType"in t))return j2(t);if(!e)throw new Error("must include properties to animate");return typeof a=="function"&&(i=a,a=""),j2({node:t,properties:e,duration:r,easing:a,callback:i})}function TR(t,e,r){if(t){if(typeof r>"u")return t.getAttribute(e);!r&&r!==""?t.removeAttribute(e):t.setAttribute(e,String(r))}}function OR(t){return t?Array.from(t.children):[]}function CR(t){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}return null}var TB=Function.prototype.bind.call(Function.prototype.call,[].slice);function AR(t){return t?TB(t.childNodes):[]}function RR(t,e){return function(a){var i=a.currentTarget,l=a.target,c=Hd(i,t);c.some(function(d){return Xn(d,l)})&&e.call(this,a)}}function DR(t,e){return t&&e&&e.parentNode?(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t):null}var OB=/^(?:input|select|textarea|button)$/i;function kR(t){return t?OB.test(t.nodeName):!1}function MR(t){return t?!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):!1}function qR(t,e,r){e===void 0&&(e=null),r===void 0&&(r=null);for(var a=[];t;t=t.nextElementSibling)if(t!==e){if(r&&Bd(t,r))break;a.push(t)}return a}function PR(t,e){return qR(t,t,e)}function CB(t,e){var r=null,a=[];for(r=t?t[e]:null;r&&r.nodeType!==9;)a.push(r),r=r[e]||null;return a}function LR(t){return CB(t,"parentElement")}function $R(t,e){return t&&e?(e.firstElementChild?e.insertBefore(t,e.firstElementChild):e.appendChild(t),t):null}function UR(t){return t&&t.parentNode?(t.parentNode.removeChild(t),t):null}function Hb(t,e){var r=Ft(t,"position"),a=r==="absolute",i=t.ownerDocument;if(r==="fixed")return i||document;for(;(t=t.parentNode)&&!SA(t);){var l=a&&Ft(t,"position")==="static",c=(Ft(t,"overflow")||"")+(Ft(t,"overflow-y")||"")+Ft(t,"overflow-x");if(!l&&/(auto|scroll)/.test(c)&&(e||vs(t)<t.scrollHeight))return t}return i||document}function zR(t,e){var r=rn(t),a={top:0,left:0};if(t){var i=e||Hb(t),l=Ud(i),c=Mi(i),d=vs(i,!0);l||(a=rn(i)),r={top:r.top-a.top,left:r.left-a.left,height:r.height,width:r.width};var h=r.height,m=r.top+(l?0:c),v=m+h;c=c>m?m:v>c+d?v-d:c;var y=Kl(function(){return Mi(i,c)});return function(){return Dl(y)}}}function IR(t){return qR(t&&t.parentElement?t.parentElement.firstElementChild:null,t)}var AB=/&nbsp;/gi,RB=/\xA0/g,DB=/\s+([^\s])/gm;function BR(t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);var a="";return t&&(a=(t.textContent||"").replace(AB," ").replace(RB," "),e&&(a=a.trim()),r&&(a=a.replace(DB," $1"))),a}function HR(t,e){t.classList?t.classList.toggle(e):Gd(t,e)?Yd(t,e):Wd(t,e)}const kB={addEventListener:lb,removeEventListener:gb,triggerEvent:Ib,animate:NR,filter:RR,listen:vn,style:Ft,getComputedStyle:sb,attribute:TR,activeElement:kA,ownerDocument:Pa,ownerWindow:ab,requestAnimationFrame:Kl,cancelAnimationFrame:Dl,matches:Bd,height:vs,width:ql,offset:rn,offsetParent:ib,position:Id,contains:Xn,scrollbarSize:Jl,scrollLeft:zd,scrollParent:Hb,scrollTo:zR,scrollTop:Mi,querySelectorAll:Hd,closest:ec,addClass:Wd,removeClass:Yd,hasClass:Gd,toggleClass:HR,transitionEnd:Bb,childNodes:AR,childElements:OR,nextUntil:PR,parents:LR,siblings:IR,clear:CR,insertAfter:DR,isInput:kR,isVisible:MR,prepend:$R,remove:UR,text:BR},MB=Object.freeze(Object.defineProperty({__proto__:null,activeElement:kA,addClass:Wd,addEventListener:lb,animate:NR,attribute:TR,cancelAnimationFrame:Dl,childElements:OR,childNodes:AR,clear:CR,closest:ec,contains:Xn,default:kB,filter:RR,getComputedStyle:sb,hasClass:Gd,height:vs,insertAfter:DR,isInput:kR,isVisible:MR,listen:vn,matches:Bd,nextUntil:PR,offset:rn,offsetParent:ib,ownerDocument:Pa,ownerWindow:ab,parents:LR,position:Id,prepend:$R,querySelectorAll:Hd,remove:UR,removeClass:Yd,removeEventListener:gb,requestAnimationFrame:Kl,scrollLeft:zd,scrollParent:Hb,scrollTo:zR,scrollTop:Mi,scrollbarSize:Jl,siblings:IR,style:Ft,text:BR,toggleClass:HR,transitionEnd:Bb,triggerEvent:Ib,width:ql},Symbol.toStringTag,{value:"Module"})),qB=wn(MB);var Lu={exports:{}},N2;function PB(){return N2||(N2=1,(function(t,e){e.__esModule=!0,e.default=a;var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(i,l){return r(i.querySelectorAll(l))}t.exports=e.default})(Lu,Lu.exports)),Lu.exports}var Jr={};const LB=wn(AP),$B=wn(tU),UB=wn(GL);var T2;function FR(){if(T2)return Jr;T2=1;var t=er().default;Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.default=void 0,Jr.getBoundsForNode=T,Jr.getEventNodeFromPoint=m,Jr.getShowMoreNodeFromPoint=v,Jr.isEvent=y,Jr.isShowMore=b,Jr.objectsCollide=E;var e=t(Xi()),r=t(As()),a=t(Rs()),i=t(LB),l=t($B),c=t(UB);function d(M,D){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,c.default)(R,M,D,{passive:!1})}function h(M,D,R){return!M||(0,i.default)(M,document.elementFromPoint(D,R))}function m(M,D){var R=D.clientX,P=D.clientY,L=document.elementFromPoint(R,P);return(0,l.default)(L,".rbc-event",M)}function v(M,D){var R=D.clientX,P=D.clientY,L=document.elementFromPoint(R,P);return(0,l.default)(L,".rbc-show-more",M)}function y(M,D){return!!m(M,D)}function b(M,D){return!!v(M,D)}function x(M){var D=M;return M.touches&&M.touches.length&&(D=M.touches[0]),{clientX:D.clientX,clientY:D.clientY,pageX:D.pageX,pageY:D.pageY}}var w=5,_=250,S=(function(){function M(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=R.global,L=P===void 0?!1:P,C=R.longPressThreshold,q=C===void 0?250:C,U=R.validContainers,z=U===void 0?[]:U;(0,r.default)(this,M),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=D,this.globalMouse=!D||L,this.longPressThreshold=q,this.validContainers=z,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=d("touchmove",function(){},window),this._removeKeyDownListener=d("keydown",this._keyListener),this._removeKeyUpListener=d("keyup",this._keyListener),this._removeDropFromOutsideListener=d("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=d("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,a.default)(M,[{key:"on",value:function(R,P){var L=this._listeners[R]||(this._listeners[R]=[]);return L.push(P),{remove:function(){var q=L.indexOf(P);q!==-1&&L.splice(q,1)}}}},{key:"emit",value:function(R){for(var P=arguments.length,L=new Array(P>1?P-1:0),C=1;C<P;C++)L[C-1]=arguments[C];var q,U=this._listeners[R]||[];return U.forEach(function(z){q===void 0&&(q=z.apply(void 0,L))}),q}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(R){var P=this._selectRect;return!P||!this.selecting?!1:E(P,T(R))}},{key:"filter",value:function(R){var P=this._selectRect;return!P||!this.selecting?[]:R.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(R,P){var L=this,C=null,q=null,U=null,z=function(H){C=setTimeout(function(){ee(),R(H)},L.longPressThreshold),q=d("touchmove",function(){return ee()}),U=d("touchend",function(){return ee()})},W=d("touchstart",z),ee=function(){C&&clearTimeout(C),q&&q(),U&&U(),C=null,q=null,U=null};return P&&z(P),function(){ee(),W()}}},{key:"_addInitialEventListener",value:function(){var R=this,P=d("mousedown",function(C){R._removeInitialEventListener(),R._handleInitialEvent(C),R._removeInitialEventListener=d("mousedown",R._handleInitialEvent)}),L=d("touchstart",function(C){R._removeInitialEventListener(),R._removeInitialEventListener=R._addLongPressListener(R._handleInitialEvent,C)});this._removeInitialEventListener=function(){P(),L()}}},{key:"_dropFromOutsideListener",value:function(R){var P=x(R),L=P.pageX,C=P.pageY,q=P.clientX,U=P.clientY;this.emit("dropFromOutside",{x:L,y:C,clientX:q,clientY:U}),R.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(R){var P=x(R),L=P.pageX,C=P.pageY,q=P.clientX,U=P.clientY;this.emit("dragOverFromOutside",{x:L,y:C,clientX:q,clientY:U}),R.preventDefault()}},{key:"_handleInitialEvent",value:function(R){if(this._initialEvent=R,!this.isDetached){var P=x(R),L=P.clientX,C=P.clientY,q=P.pageX,U=P.pageY,z=this.container(),W,ee;if(!(R.which===3||R.button===2||!h(z,L,C))){if(!this.globalMouse&&z&&!(0,i.default)(z,R.target)){var B=j(0),H=B.top,te=B.left,le=B.bottom,V=B.right;if(ee=T(z),W=E({top:ee.top-H,left:ee.left-te,bottom:ee.bottom+le,right:ee.right+V},{top:U,left:q}),!W)return}var $=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(R.type),x:q,y:U,clientX:L,clientY:C});if($!==!1)switch(R.type){case"mousedown":this._removeEndListener=d("mouseup",this._handleTerminatingEvent),this._onEscListener=d("keydown",this._handleTerminatingEvent),this._removeMoveListener=d("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(R),this._removeEndListener=d("touchend",this._handleTerminatingEvent),this._removeMoveListener=d("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(R){var P=R.target,L=this.validContainers;return!L||!L.length||!P?!0:L.some(function(C){return!!P.closest(C)})}},{key:"_handleTerminatingEvent",value:function(R){var P=this.selecting,L=this._selectRect;if(!P&&R.type.includes("key")&&(R=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!R){var C=!this.container||(0,i.default)(this.container(),R.target),q=this._isWithinValidContainer(R);return R.key==="Escape"||!q?this.emit("reset"):!P&&C?this._handleClickEvent(R):P?this.emit("select",L):this.emit("reset")}}},{key:"_handleClickEvent",value:function(R){var P=x(R),L=P.pageX,C=P.pageY,q=P.clientX,U=P.clientY,z=new Date().getTime();return this._lastClickData&&z-this._lastClickData.timestamp<_?(this._lastClickData=null,this.emit("doubleClick",{x:L,y:C,clientX:q,clientY:U})):(this._lastClickData={timestamp:z},this.emit("click",{x:L,y:C,clientX:q,clientY:U}))}},{key:"_handleMoveEvent",value:function(R){if(!(this._initialEventData===null||this.isDetached)){var P=this._initialEventData,L=P.x,C=P.y,q=x(R),U=q.pageX,z=q.pageY,W=Math.abs(L-U),ee=Math.abs(C-z),B=Math.min(U,L),H=Math.min(z,C),te=this.selecting,le=this.isClick(U,z);le&&!te&&!(W||ee)||(!te&&!le&&this.emit("selectStart",this._initialEventData),le||(this.selecting=!0,this._selectRect={top:H,left:B,x:U,y:z,right:B+W,bottom:H+ee},this.emit("selecting",this._selectRect)),R.preventDefault())}}},{key:"_keyListener",value:function(R){this.ctrl=R.metaKey||R.ctrlKey}},{key:"isClick",value:function(R,P){var L=this._initialEventData,C=L.x,q=L.y,U=L.isTouch;return!U&&Math.abs(R-C)<=w&&Math.abs(P-q)<=w}}])})();function j(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,e.default)(M)!=="object"&&(M={top:M,left:M,right:M,bottom:M}),M}function E(M,D){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,P=T(M),L=P.top,C=P.left,q=P.right,U=q===void 0?C:q,z=P.bottom,W=z===void 0?L:z,ee=T(D),B=ee.top,H=ee.left,te=ee.right,le=te===void 0?H:te,V=ee.bottom,$=V===void 0?B:V;return!(W-R<B||L+R>$||U-R<H||C+R>le)}function T(M){if(!M.getBoundingClientRect)return M;var D=M.getBoundingClientRect(),R=D.left+O("left"),P=D.top+O("top");return{top:P,left:R,right:(M.offsetWidth||0)+R,bottom:(M.offsetHeight||0)+P}}function O(M){if(M==="left")return window.pageXOffset||document.body.scrollLeft||0;if(M==="top")return window.pageYOffset||document.body.scrollTop||0}return Jr.default=S,Jr}var al={},O2;function zB(){if(O2)return al;O2=1;var t=er().default;Object.defineProperty(al,"__esModule",{value:!0}),al.default=void 0;var e=t(SR()),r=t($a()),a=t(ac),i=t(Cr());function l(d){return typeof d=="string"?d:d+"%"}function c(d){var h=d.style,m=d.className,v=d.event,y=d.accessors,b=d.rtl,x=d.selected,w=d.label,_=d.continuesPrior,S=d.continuesAfter,j=d.getters,E=d.onClick,T=d.onDoubleClick,O=d.isBackgroundEvent,M=d.onKeyPress,D=d.components,R=D.event,P=D.eventWrapper,L=y.title(v),C=y.tooltip(v),q=y.end(v),U=y.start(v),z=j.eventProp(v,U,q,x),W=[i.default.createElement("div",{key:"1",className:"rbc-event-label"},w),i.default.createElement("div",{key:"2",className:"rbc-event-content"},R?i.default.createElement(R,{event:v,title:L}):L)],ee=h.height,B=h.top,H=h.width,te=h.xOffset,le=(0,r.default)((0,r.default)({},z.style),{},(0,e.default)({top:l(B),height:l(ee),width:l(H)},b?"right":"left",l(te)));return i.default.createElement(P,Object.assign({type:"time"},d),i.default.createElement("div",{role:"button",tabIndex:0,onClick:E,onDoubleClick:T,style:le,onKeyDown:M,title:C?(typeof w=="string"?w+": ":"")+C:void 0,className:(0,a.default)(O?"rbc-background-event":"rbc-event",m,z.className,{"rbc-selected":x,"rbc-event-continues-earlier":_,"rbc-event-continues-later":S})},W))}return al.default=c,al}var Ea={},C2;function Fb(){if(C2)return Ea;C2=1;var t=er().default;Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.dragAccessors=void 0,Ea.eventTimes=m,Ea.mergeComponents=d,Ea.pointInColumn=h;var e=t($a()),r=t(zb()),a=ER(),i=Cr(),l=["children"];Ea.dragAccessors={start:(0,a.wrapAccessor)(function(v){return v.start}),end:(0,a.wrapAccessor)(function(v){return v.end})};function c(){for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];var x=function(_){var S=_.children,j=(0,r.default)(_,l);return y.filter(Boolean).reduceRight(function(E,T){return(0,i.createElement)(T,j,E)},S)};return x}function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1?arguments[1]:void 0,b=Object.keys(y),x=(0,e.default)({},v);return b.forEach(function(w){x[w]=v[w]?c(v[w],y[w]):y[w]}),x}function h(v,y){var b=v.left,x=v.right,w=v.top,_=y.x,S=y.y;return _<x+10&&_>b&&S>w}function m(v,y,b){var x=y.start(v),w=y.end(v),_=b.eq(x,w,"minutes")&&b.diff(x,w,"minutes")===0;_&&(w=b.add(w,1,"day"));var S=b.diff(x,w,"milliseconds");return{start:x,end:w,duration:S}}return Ea}var A2;function IB(){if(A2)return nl;A2=1;var t=jR().default,e=er().default;Object.defineProperty(nl,"__esModule",{value:!0}),nl.default=void 0;var r=e($a()),a=e(As()),i=e(Rs()),l=e(Qi()),c=e(Ji()),d=qB,h=e(PB()),m=e(Cr()),v=hf(),y=t(FR()),b=e(zB()),x=Fb(),w=(function(_){function S(){var j;(0,a.default)(this,S);for(var E=arguments.length,T=new Array(E),O=0;O<E;O++)T[O]=arguments[O];return j=(0,l.default)(this,S,[].concat(T)),j.handleMove=function(M,D){if(!(0,x.pointInColumn)(D,M))return j.reset();var R=j.context.draggable.dragAndDropAction.event,P=j.props,L=P.accessors,C=P.slotMetrics,q=C.closestSlotFromPoint({y:M.y-j.eventOffsetTop,x:M.x},D),U=(0,x.eventTimes)(R,L,j.props.localizer),z=U.duration,W=j.props.localizer.add(q,z,"milliseconds");j.update(R,C.getRange(q,W,!1,!0))},j.handleDropFromOutside=function(M,D){var R=j.props,P=R.slotMetrics,L=R.resource,C=P.closestSlotFromPoint({y:M.y,x:M.x},D),q=j._calculateDnDEnd(C);j.context.draggable.onDropFromOutside({start:C,end:q,allDay:!1,resource:L}),j.reset()},j.handleDragOverFromOutside=function(M,D){var R=j.props.slotMetrics,P=R.closestSlotFromPoint({y:M.y,x:M.x},D),L=j._calculateDnDEnd(P),C=j.context.draggable.dragFromOutsideItem();j.update(C,R.getRange(P,L,!1,!0))},j._calculateDnDEnd=function(M){var D=j.props,R=D.accessors,P=D.slotMetrics,L=D.localizer,C=j.context.draggable.dragFromOutsideItem(),q=(0,x.eventTimes)(C,R,L),U=q.duration,z=P.nextSlot(M),W=!isNaN(U);if(W){var ee=L.add(M,U,"milliseconds");z=new Date(Math.max(ee,z))}return z},j.updateParentScroll=function(M,D){setTimeout(function(){var R=(0,h.default)(D,".rbc-addons-dnd-drag-preview")[0];R&&(R.offsetTop<M.scrollTop?(0,d.scrollTop)(M,Math.max(R.offsetTop,0)):R.offsetTop+R.offsetHeight>M.scrollTop+M.clientHeight&&(0,d.scrollTop)(M,Math.min(R.offsetTop-M.offsetHeight+R.offsetHeight,M.scrollHeight)))})},j._selectable=function(){var M=j.ref.current,D=M.children[0],R=!1,P=j._selector=new y.default(function(){return M.closest(".rbc-time-view")}),L=(0,d.scrollParent)(M);P.on("beforeSelect",function(C){var q=j.context.draggable.dragAndDropAction;if(!q.action)return!1;if(q.action==="resize")return(0,x.pointInColumn)((0,y.getBoundsForNode)(D),C);var U=(0,y.getEventNodeFromPoint)(D,C);if(!U)return!1;j.eventOffsetTop=C.y-(0,y.getBoundsForNode)(U).top}),P.on("selecting",function(C){var q=(0,y.getBoundsForNode)(D),U=j.context.draggable.dragAndDropAction;U.action==="move"&&(j.updateParentScroll(L,D),j.handleMove(C,q)),U.action==="resize"&&(j.updateParentScroll(L,D),j.handleResize(C,q))}),P.on("dropFromOutside",function(C){if(j.context.draggable.onDropFromOutside){var q=(0,y.getBoundsForNode)(D);(0,x.pointInColumn)(q,C)&&j.handleDropFromOutside(C,q)}}),P.on("dragOverFromOutside",function(C){var q=j.context.draggable.dragFromOutsideItem?j.context.draggable.dragFromOutsideItem():null;if(q){var U=(0,y.getBoundsForNode)(D);if(!(0,x.pointInColumn)(U,C))return j.reset();j.handleDragOverFromOutside(C,U)}}),P.on("selectStart",function(){R=!0,j.context.draggable.onStart()}),P.on("select",function(C){var q=(0,y.getBoundsForNode)(D);R=!1;var U=j.context.draggable.dragAndDropAction;if(U.action==="resize")j.handleInteractionEnd();else{if(!j.state.event||!(0,x.pointInColumn)(q,C))return;j.handleInteractionEnd()}}),P.on("click",function(){R&&j.reset(),j.context.draggable.onEnd(null)}),P.on("reset",function(){j.reset(),j.context.draggable.onEnd(null)})},j.handleInteractionEnd=function(){var M=j.props.resource,D=j.state.event;j.reset(),j.context.draggable.onEnd({start:D.start,end:D.end,resourceId:M})},j._teardownSelectable=function(){j._selector&&(j._selector.teardown(),j._selector=null)},j.state={},j.ref=m.default.createRef(),j}return(0,c.default)(S,_),(0,i.default)(S,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(E,T){var O=T.startDate,M=T.endDate,D=T.top,R=T.height,P=this.state.event;P&&O===P.start&&M===P.end||this.setState({top:D,height:R,event:(0,r.default)((0,r.default)({},E),{},{start:O,end:M})})}},{key:"handleResize",value:function(E,T){var O=this.props,M=O.accessors,D=O.slotMetrics,R=O.localizer,P=this.context.draggable.dragAndDropAction,L=P.event,C=P.direction,q=D.closestSlotFromPoint(E,T),U=(0,x.eventTimes)(L,M,R),z=U.start,W=U.end,ee;if(C==="UP"){var B=R.min(q,D.closestSlotFromDate(W,-1));ee=D.getRange(B,W),ee=(0,r.default)((0,r.default)({},ee),{},{endDate:W})}else if(C==="DOWN"){var H=R.max(q,D.closestSlotFromDate(z));ee=D.getRange(z,H),ee=(0,r.default)((0,r.default)({},ee),{},{startDate:z})}this.update(L,ee)}},{key:"renderContent",value:function(){var E=this.props,T=E.children,O=E.accessors,M=E.components,D=E.getters,R=E.slotMetrics,P=E.localizer,L=this.state,C=L.event,q=L.top,U=L.height;if(!C)return T;var z=T.props.children,W=C.start,ee=C.end,B,H="eventTimeRangeFormat",te=R.startsBeforeDay(W),le=R.startsAfterDay(ee);return te?H="eventTimeRangeEndFormat":le&&(H="eventTimeRangeStartFormat"),te&&le?B=P.messages.allDay:B=P.format({start:W,end:ee},H),m.default.cloneElement(T,{children:m.default.createElement(m.default.Fragment,null,z,C&&m.default.createElement(b.default,{event:C,label:B,className:"rbc-addons-dnd-drag-preview",style:{top:q,height:U,width:100},getters:D,components:M,accessors:(0,r.default)((0,r.default)({},O),x.dragAccessors),continuesPrior:te,continuesAfter:le}))})}},{key:"render",value:function(){return m.default.createElement("div",{ref:this.ref},this.renderContent())}}])})(m.default.Component);return w.contextType=v.DnDContext,nl.default=w,nl}var sl={},F0={exports:{}},G0={exports:{}},W0={exports:{}},R2;function GR(){return R2||(R2=1,(function(t){function e(r,a){(a==null||a>r.length)&&(a=r.length);for(var i=0,l=Array(a);i<a;i++)l[i]=r[i];return l}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(W0)),W0.exports}var D2;function BB(){return D2||(D2=1,(function(t){var e=GR();function r(a){if(Array.isArray(a))return e(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(G0)),G0.exports}var Y0={exports:{}},k2;function HB(){return k2||(k2=1,(function(t){function e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Y0)),Y0.exports}var V0={exports:{}},M2;function FB(){return M2||(M2=1,(function(t){var e=GR();function r(a,i){if(a){if(typeof a=="string")return e(a,i);var l={}.toString.call(a).slice(8,-1);return l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?e(a,i):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(V0)),V0.exports}var K0={exports:{}},q2;function GB(){return q2||(q2=1,(function(t){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(K0)),K0.exports}var P2;function WR(){return P2||(P2=1,(function(t){var e=BB(),r=HB(),a=FB(),i=GB();function l(c){return e(c)||r(c)||a(c)||i()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports})(F0)),F0.exports}var il={},ol={},ll={},L2;function WB(){if(L2)return ll;L2=1;var t=er().default;Object.defineProperty(ll,"__esModule",{value:!0}),ll.default=void 0;var e=t($a()),r=t(zb()),a=t(As()),i=t(Rs()),l=t(Qi()),c=t(Ji()),d=t(Cr()),h=t(ac),m=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],v=(function(y){function b(){return(0,a.default)(this,b),(0,l.default)(this,b,arguments)}return(0,c.default)(b,y),(0,i.default)(b,[{key:"render",value:function(){var w=this.props,_=w.style,S=w.className,j=w.event,E=w.selected,T=w.isAllDay,O=w.onSelect,M=w.onDoubleClick,D=w.onKeyPress,R=w.localizer,P=w.continuesPrior,L=w.continuesAfter,C=w.accessors,q=w.getters,U=w.children,z=w.components,W=z.event,ee=z.eventWrapper,B=w.slotStart,H=w.slotEnd,te=(0,r.default)(w,m);delete te.resizable;var le=C.title(j),V=C.tooltip(j),$=C.end(j),X=C.start(j),oe=C.allDay(j),ue=T||oe||R.diff(X,R.ceil($,"day"),"day")>1,fe=q.eventProp(j,X,$,E),pe=d.default.createElement("div",{className:"rbc-event-content",title:V||void 0},W?d.default.createElement(W,{event:j,continuesPrior:P,continuesAfter:L,title:le,isAllDay:oe,localizer:R,slotStart:B,slotEnd:H}):le);return d.default.createElement(ee,Object.assign({},this.props,{type:"date"}),d.default.createElement("div",Object.assign({},te,{style:(0,e.default)((0,e.default)({},fe.style),_),className:(0,h.default)("rbc-event",S,fe.className,{"rbc-selected":E,"rbc-event-allday":ue,"rbc-event-continues-prior":P,"rbc-event-continues-after":L}),onClick:function(ke){return O&&O(j,ke)},onDoubleClick:function(ke){return M&&M(j,ke)},onKeyDown:function(ke){return D&&D(j,ke)}}),typeof U=="function"?U(pe):pe))}}])})(d.default.Component);return ll.default=v,ll}var ja={},$2;function YR(){if($2)return ja;$2=1;var t=er().default;Object.defineProperty(ja,"__esModule",{value:!0}),ja.dateCellSelection=c,ja.getSlotAtX=i,ja.isSelected=r,ja.pointInBox=l,ja.slotWidth=a;var e=t(BA());function r(d,h){return!d||h==null?!1:(0,e.default)(d,h)}function a(d,h){var m=d.right-d.left,v=m/h;return v}function i(d,h,m,v){var y=a(d,v);return m?v-1-Math.floor((h-d.left)/y):Math.floor((h-d.left)/y)}function l(d,h){var m=h.x,v=h.y;return v>=d.top&&v<=d.bottom&&m>=d.left&&m<=d.right}function c(d,h,m,v,y){var b=-1,x=-1,w=v-1,_=a(h,v),S=i(h,m.x,y,v),j=h.top<m.y&&h.bottom>m.y,E=h.top<d.y&&h.bottom>d.y,T=d.y>h.bottom,O=h.top>d.y,M=m.top<h.top&&m.bottom>h.bottom;return M&&(b=0,x=w),j&&(O?(b=0,x=S):T&&(b=S,x=w)),E&&(b=x=y?w-Math.floor((d.x-h.left)/_):Math.floor((d.x-h.left)/_),j?S<b?b=S:x=S:d.y<m.y?x=w:b=0),{startIdx:b,endIdx:x}}return ja}var U2;function YB(){if(U2)return ol;U2=1;var t=er().default;Object.defineProperty(ol,"__esModule",{value:!0}),ol.default=void 0;var e=t(Jy()),r=t(Cr()),a=t(WB()),i=YR();return ol.default={propTypes:{slotMetrics:e.default.object.isRequired,selected:e.default.object,isAllDay:e.default.bool,accessors:e.default.object.isRequired,localizer:e.default.object.isRequired,components:e.default.object.isRequired,getters:e.default.object.isRequired,onSelect:e.default.func,onDoubleClick:e.default.func,onKeyPress:e.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(c,d){var h=c.selected;c.isAllDay;var m=c.accessors,v=c.getters,y=c.onSelect,b=c.onDoubleClick,x=c.onKeyPress,w=c.localizer,_=c.slotMetrics,S=c.components,j=c.resizable,E=_.continuesPrior(d),T=_.continuesAfter(d);return r.default.createElement(a.default,{event:d,getters:v,localizer:w,accessors:m,components:S,onSelect:y,onDoubleClick:b,onKeyPress:x,continuesPrior:E,continuesAfter:T,slotStart:_.first,slotEnd:_.last,selected:(0,i.isSelected)(d,h),resizable:j})},renderSpan:function(c,d,h){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",v=Math.abs(d)/c*100+"%";return r.default.createElement("div",{key:h,className:"rbc-row-segment",style:{WebkitFlexBasis:v,flexBasis:v,maxWidth:v}},m)}},ol}var z2;function VB(){if(z2)return il;z2=1;var t=er().default;Object.defineProperty(il,"__esModule",{value:!0}),il.default=void 0;var e=t($a()),r=t(As()),a=t(Rs()),i=t(Qi()),l=t(Ji()),c=t(ac),d=t(Cr()),h=t(YB()),m=(function(v){function y(){return(0,r.default)(this,y),(0,i.default)(this,y,arguments)}return(0,l.default)(y,v),(0,a.default)(y,[{key:"render",value:function(){var x=this,w=this.props,_=w.segments,S=w.slotMetrics.slots,j=w.className,E=1;return d.default.createElement("div",{className:(0,c.default)(j,"rbc-row")},_.reduce(function(T,O,M){var D=O.event,R=O.left,P=O.right,L=O.span,C="_lvl_"+M,q=R-E,U=h.default.renderEvent(x.props,D);return q&&T.push(h.default.renderSpan(S,q,"".concat(C,"_gap"))),T.push(h.default.renderSpan(S,L,C,U)),E=P+1,T},[]))}}])})(d.default.Component);return m.defaultProps=(0,e.default)({},h.default.defaultProps),il.default=m,il}var dn={},I2;function KB(){if(I2)return dn;I2=1;var t=er().default;Object.defineProperty(dn,"__esModule",{value:!0}),dn.endOfRange=a,dn.eventLevels=l,dn.eventSegments=i,dn.inRange=c,dn.segsOverlap=d,dn.sortEvents=m,dn.sortWeekEvents=h;var e=t(WR()),r=t(GA());function a(v){var y=v.dateRange,b=v.unit,x=b===void 0?"day":b,w=v.localizer;return{first:y[0],last:w.add(y[y.length-1],1,x)}}function i(v,y,b,x){var w=a({dateRange:y,localizer:x}),_=w.first,S=w.last,j=x.diff(_,S,"day"),E=x.max(x.startOf(b.start(v),"day"),_),T=x.min(x.ceil(b.end(v),"day"),S),O=(0,r.default)(y,function(D){return x.isSameDate(D,E)}),M=x.diff(E,T,"day");return M=Math.min(M,j),M=Math.max(M-x.segmentOffset,1),{event:v,span:M,left:O+1,right:Math.max(O+M,1)}}function l(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,b,x,w,_=[],S=[];for(b=0;b<v.length;b++){for(w=v[b],x=0;x<_.length&&d(w,_[x]);x++);x>=y?S.push(w):(_[x]||(_[x]=[])).push(w)}for(b=0;b<_.length;b++)_[b].sort(function(j,E){return j.left-E.left});return{levels:_,extra:S}}function c(v,y,b,x,w){var _={start:x.start(v),end:x.end(v)},S={start:y,end:b};return w.inEventRange({event:_,range:S})}function d(v,y){return y.some(function(b){return b.left<=v.right&&b.right>=v.left})}function h(v,y,b){var x=(0,e.default)(v),w=[],_=[];x.forEach(function(E){var T=y.start(E),O=y.end(E);b.daySpan(T,O)>1?w.push(E):_.push(E)});var S=w.sort(function(E,T){return m(E,T,y,b)}),j=_.sort(function(E,T){return m(E,T,y,b)});return[].concat((0,e.default)(S),(0,e.default)(j))}function m(v,y,b,x){var w={start:b.start(v),end:b.end(v),allDay:b.allDay(v)},_={start:b.start(y),end:b.end(y),allDay:b.allDay(y)};return x.sortEvents({evtA:w,evtB:_})}return dn}var B2;function XB(){if(B2)return sl;B2=1;var t=jR().default,e=er().default;Object.defineProperty(sl,"__esModule",{value:!0}),sl.default=void 0;var r=e($a()),a=e(WR()),i=e(As()),l=e(Rs()),c=e(Qi()),d=e(Ji()),h=e(Cr()),m=e(VB()),v=t(FR()),y=KB(),b=YR(),x=Fb(),w=hf(),_=(function(S){function j(){var E;(0,i.default)(this,j);for(var T=arguments.length,O=new Array(T),M=0;M<T;M++)O[M]=arguments[M];return E=(0,c.default)(this,j,[].concat(O)),E.handleMove=function(D,R,P){if(!(0,b.pointInBox)(R,D))return E.reset();var L=E.context.draggable.dragAndDropAction.event||P,C=E.props,q=C.accessors,U=C.slotMetrics,z=C.rtl,W=C.localizer,ee=(0,b.getSlotAtX)(R,D.x,z,U.slots),B=U.getDateForSlot(ee),H=(0,x.eventTimes)(L,q,W),te=H.start,le=H.duration;te=W.merge(B,te);var V=W.add(te,le,"milliseconds");E.update(L,te,V)},E.handleDropFromOutside=function(D,R){if(E.context.draggable.onDropFromOutside){var P=E.props,L=P.slotMetrics,C=P.rtl,q=P.localizer,U=(0,b.getSlotAtX)(R,D.x,C,L.slots),z=L.getDateForSlot(U);E.context.draggable.onDropFromOutside({start:z,end:q.add(z,1,"day"),allDay:!1})}},E.handleDragOverFromOutside=function(D,R){var P=E.context.draggable.dragFromOutsideItem?E.context.draggable.dragFromOutsideItem():null;P&&E.handleMove(D,R,P)},E._selectable=function(){var D=E.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),R=D.closest(".rbc-month-view, .rbc-time-view"),P=D.classList.contains("rbc-month-row"),L=E._selector=new v.default(function(){return R},{validContainers:(0,a.default)(P?[]:[".rbc-day-slot",".rbc-allday-cell"])});L.on("beforeSelect",function(C){var q=E.props.isAllDay,U=E.context.draggable.dragAndDropAction.action,z=(0,v.getBoundsForNode)(D),W=(0,b.pointInBox)(z,C);return U==="move"||U==="resize"&&(!q||W)}),L.on("selecting",function(C){var q=(0,v.getBoundsForNode)(D),U=E.context.draggable.dragAndDropAction;U.action==="move"&&E.handleMove(C,q),U.action==="resize"&&E.handleResize(C,q)}),L.on("selectStart",function(){return E.context.draggable.onStart()}),L.on("select",function(C){var q=(0,v.getBoundsForNode)(D);E.state.segment&&((0,b.pointInBox)(q,C)?E.handleInteractionEnd():E.reset())}),L.on("dropFromOutside",function(C){if(E.context.draggable.onDropFromOutside){var q=(0,v.getBoundsForNode)(D);(0,b.pointInBox)(q,C)&&E.handleDropFromOutside(C,q)}}),L.on("dragOverFromOutside",function(C){if(E.context.draggable.dragFromOutsideItem){var q=(0,v.getBoundsForNode)(D);E.handleDragOverFromOutside(C,q)}}),L.on("click",function(){return E.context.draggable.onEnd(null)}),L.on("reset",function(){E.reset(),E.context.draggable.onEnd(null)})},E.handleInteractionEnd=function(){var D=E.props,R=D.resourceId,P=D.isAllDay,L=E.state.segment.event;E.reset(),E.context.draggable.onEnd({start:L.start,end:L.end,resourceId:R,isAllDay:P})},E._teardownSelectable=function(){E._selector&&(E._selector.teardown(),E._selector=null)},E.state={},E.ref=h.default.createRef(),E}return(0,d.default)(j,S),(0,l.default)(j,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(T,O,M){var D=(0,y.eventSegments)((0,r.default)((0,r.default)({},T),{},{end:M,start:O,__isPreview:!0}),this.props.slotMetrics.range,x.dragAccessors,this.props.localizer),R=this.state.segment;R&&D.span===R.span&&D.left===R.left&&D.right===R.right||this.setState({segment:D})}},{key:"handleResize",value:function(T,O){var M=this.context.draggable.dragAndDropAction,D=M.event,R=M.direction,P=this.props,L=P.accessors,C=P.slotMetrics,q=P.rtl,U=P.localizer,z=(0,x.eventTimes)(D,L,U),W=z.start,ee=z.end,B=(0,b.getSlotAtX)(O,T.x,q,C.slots),H=C.getDateForSlot(B),te=(0,b.pointInBox)(O,T);if(R==="RIGHT"){if(te){if(C.last<W)return this.reset();U.eq(U.startOf(ee,"day"),ee)?ee=U.add(H,1,"day"):ee=H}else if(U.inRange(W,C.first,C.last)||O.bottom<T.y&&+C.first>+W)ee=U.add(C.last,1,"milliseconds");else{this.setState({segment:null});return}var le=L.end(D);ee=U.merge(ee,le),U.lt(ee,W)&&(ee=le)}else if(R==="LEFT"){if(te){if(C.first>ee)return this.reset();W=H}else if(U.inRange(ee,C.first,C.last)||O.top>T.y&&U.lt(C.last,ee))W=U.add(C.first,-1,"milliseconds");else{this.reset();return}var V=L.start(D);W=U.merge(W,V),U.gt(W,ee)&&(W=V)}this.update(D,W,ee)}},{key:"render",value:function(){var T=this.props,O=T.children,M=T.accessors,D=this.state.segment;return h.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},O,D&&h.default.createElement(m.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[D],accessors:(0,r.default)((0,r.default)({},M),x.dragAccessors)})))}}])})(h.default.Component);return _.contextType=w.DnDContext,sl.default=_,sl}var H2;function QB(){if(H2)return Pu;H2=1;var t=er().default;Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.default=_;var e=t($a()),r=t(zb()),a=t(As()),i=t(Rs()),l=t(Qi()),c=t(Ji()),d=t(Cr()),h=t(ac);SB();var m=t(EB()),v=t(IB()),y=t(XB()),b=Fb(),x=hf(),w=["selectable","elementProps","components"];function _(S){var j=(function(E){function T(){var O;(0,a.default)(this,T);for(var M=arguments.length,D=new Array(M),R=0;R<M;R++)D[R]=arguments[R];return O=(0,l.default)(this,T,[].concat(D)),O.defaultOnDragOver=function(P){P.preventDefault()},O.handleBeginAction=function(P,L,C){O.setState({event:P,action:L,direction:C});var q=O.props.onDragStart;q&&q({event:P,action:L,direction:C})},O.handleInteractionStart=function(){O.state.interacting===!1&&O.setState({interacting:!0})},O.handleInteractionEnd=function(P){var L=O.state,C=L.action,q=L.event;if(C&&(O.setState({action:null,event:null,interacting:!1,direction:null}),P!=null)){P.event=q;var U=O.props,z=U.onEventDrop,W=U.onEventResize;C==="move"&&z&&z(P),C==="resize"&&W&&W(P)}},O.state={interacting:!1},O}return(0,c.default)(T,E),(0,i.default)(T,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var M=this.props,D=M.selectable,R=M.elementProps,P=M.components,L=(0,r.default)(M,w),C=this.state.interacting;delete L.onEventDrop,delete L.onEventResize,L.selectable=D?"ignoreEvents":!1,this.components=(0,b.mergeComponents)(P,{eventWrapper:m.default,eventContainerWrapper:v.default,weekWrapper:y.default});var q=this.props.onDropFromOutside?(0,e.default)((0,e.default)({},R),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):R;L.className=(0,h.default)(L.className,"rbc-addons-dnd",!!C&&"rbc-addons-dnd-is-dragging");var U=this.getDnDContextValue();return d.default.createElement(x.DnDContext.Provider,{value:U},d.default.createElement(S,Object.assign({},L,{elementProps:q,components:this.components})))}}])})(d.default.Component);return j.defaultProps=(0,e.default)((0,e.default)({},S.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),j}return Pu}var F2;function JB(){if(F2)return el;F2=1;var t=er().default;Object.defineProperty(el,"__esModule",{value:!0}),el.default=void 0;var e=t(QB());return el.default=e.default,el}var ZB=JB();const e8=Qt(ZB),VR=6048e5,t8=864e5,$u=43200,G2=1440,W2=Symbol.for("constructDateFrom");function Gr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&W2 in t?t[W2](e):t instanceof Date?new t.constructor(e):new Date(e)}function at(t,e){return Gr(e||t,t)}function Os(t,e,r){const a=at(t,r?.in);return isNaN(e)?Gr(t,NaN):(e&&a.setDate(a.getDate()+e),a)}function Gb(t,e,r){const a=at(t,r?.in);if(isNaN(e))return Gr(t,NaN);if(!e)return a;const i=a.getDate(),l=Gr(t,a.getTime());l.setMonth(a.getMonth()+e+1,0);const c=l.getDate();return i>=c?l:(a.setFullYear(l.getFullYear(),l.getMonth(),i),a)}let r8={};function Zi(){return r8}function Da(t,e){const r=Zi(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=at(t,e?.in),l=i.getDay(),c=(l<a?7:0)+l-a;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Sd(t,e){return Da(t,{...e,weekStartsOn:1})}function KR(t,e){const r=at(t,e?.in),a=r.getFullYear(),i=Gr(r,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=Sd(i),c=Gr(r,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const d=Sd(c);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function Ed(t){const e=at(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function eo(t,...e){const r=Gr.bind(null,t||e.find(a=>typeof a=="object"));return e.map(r)}function Ir(t,e){const r=at(t,e?.in);return r.setHours(0,0,0,0),r}function n8(t,e,r){const[a,i]=eo(r?.in,t,e),l=Ir(a),c=Ir(i),d=+l-Ed(l),h=+c-Ed(c);return Math.round((d-h)/t8)}function a8(t,e){const r=KR(t,e),a=Gr(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Sd(a)}function XR(t,e,r){return Os(t,e*7,r)}function nd(t,e){const r=+at(t)-+at(e);return r<0?-1:r>0?1:r}function s8(t){return Gr(t,Date.now())}function QR(t,e,r){const[a,i]=eo(r?.in,t,e);return+Ir(a)==+Ir(i)}function i8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function o8(t){return!(!i8(t)&&typeof t!="number"||isNaN(+at(t)))}function l8(t,e,r){const[a,i]=eo(r?.in,t,e),l=a.getFullYear()-i.getFullYear(),c=a.getMonth()-i.getMonth();return l*12+c}function c8(t){return e=>{const a=(t?Math[t]:Math.trunc)(e);return a===0?0:a}}function u8(t,e){return+at(t)-+at(e)}function d8(t,e){const r=at(t,e?.in);return r.setHours(23,59,59,999),r}function JR(t,e){const r=at(t,e?.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function f8(t,e){const r=at(t,e?.in);return+d8(r,e)==+JR(r,e)}function h8(t,e,r){const[a,i,l]=eo(r?.in,t,t,e),c=nd(i,l),d=Math.abs(l8(i,l));if(d<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-c*d);let h=nd(i,l)===-c;f8(a)&&d===1&&nd(a,l)===1&&(h=!1);const m=c*(d-+h);return m===0?0:m}function m8(t,e,r){const a=u8(t,e)/1e3;return c8(r?.roundingMethod)(a)}function p8(t,e){const r=at(t,e?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function v8(t,e){const r=at(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function ZR(t,e){const r=Zi(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=at(t,e?.in),l=i.getDay(),c=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const g8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},y8=(t,e,r)=>{let a;const i=g8[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Ti(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const b8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_8={date:Ti({formats:b8,defaultWidth:"full"}),time:Ti({formats:x8,defaultWidth:"full"}),dateTime:Ti({formats:w8,defaultWidth:"full"})},S8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},E8=(t,e,r,a)=>S8[t];function mn(t){return(e,r)=>{const a=r?.context?String(r.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=r?.width?String(r.width):c;i=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=r?.width?String(r.width):t.defaultWidth;i=t.values[d]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const j8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},T8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},O8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},C8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},A8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R8=(t,e)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},D8={ordinalNumber:R8,era:mn({values:j8,defaultWidth:"wide"}),quarter:mn({values:N8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:mn({values:T8,defaultWidth:"wide"}),day:mn({values:O8,defaultWidth:"wide"}),dayPeriod:mn({values:C8,defaultWidth:"wide",formattingValues:A8,defaultFormattingWidth:"wide"})};function pn(t){return(e,r={})=>{const a=r.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const c=l[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?M8(d,y=>y.test(c)):k8(d,y=>y.test(c));let m;m=t.valueCallback?t.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const v=e.slice(c.length);return{value:m,rest:v}}}function k8(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function M8(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function eD(t){return(e,r={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(i.length);return{value:c,rest:d}}}const q8=/^(\d+)(th|st|nd|rd)?/i,P8=/\d+/i,L8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$8={any:[/^b/i,/^(a|c)/i]},U8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},z8={any:[/1/i,/2/i,/3/i,/4/i]},I8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},B8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},W8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Y8={ordinalNumber:eD({matchPattern:q8,parsePattern:P8,valueCallback:t=>parseInt(t,10)}),era:pn({matchPatterns:L8,defaultMatchWidth:"wide",parsePatterns:$8,defaultParseWidth:"any"}),quarter:pn({matchPatterns:U8,defaultMatchWidth:"wide",parsePatterns:z8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pn({matchPatterns:I8,defaultMatchWidth:"wide",parsePatterns:B8,defaultParseWidth:"any"}),day:pn({matchPatterns:H8,defaultMatchWidth:"wide",parsePatterns:F8,defaultParseWidth:"any"}),dayPeriod:pn({matchPatterns:G8,defaultMatchWidth:"any",parsePatterns:W8,defaultParseWidth:"any"})},tD={code:"en-US",formatDistance:y8,formatLong:_8,formatRelative:E8,localize:D8,match:Y8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function V8(t,e){const r=at(t,e?.in);return n8(r,v8(r))+1}function K8(t,e){const r=at(t,e?.in),a=+Sd(r)-+a8(r);return Math.round(a/VR)+1}function rD(t,e){const r=at(t,e?.in),a=r.getFullYear(),i=Zi(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Gr(e?.in||t,0);c.setFullYear(a+1,0,l),c.setHours(0,0,0,0);const d=Da(c,e),h=Gr(e?.in||t,0);h.setFullYear(a,0,l),h.setHours(0,0,0,0);const m=Da(h,e);return+r>=+d?a+1:+r>=+m?a:a-1}function X8(t,e){const r=Zi(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=rD(t,e),l=Gr(e?.in||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),Da(l,e)}function Q8(t,e){const r=at(t,e?.in),a=+Da(r,e)-+X8(r,e);return Math.round(a/VR)+1}function We(t,e){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return r+a}const Na={y(t,e){const r=t.getFullYear(),a=r>0?r:1-r;return We(e==="yy"?a%100:a,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):We(r+1,2)},d(t,e){return We(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return We(t.getHours()%12||12,e.length)},H(t,e){return We(t.getHours(),e.length)},m(t,e){return We(t.getMinutes(),e.length)},s(t,e){return We(t.getSeconds(),e.length)},S(t,e){const r=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return We(i,e.length)}},wi={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Y2={G:function(t,e,r){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return Na.y(t,e)},Y:function(t,e,r,a){const i=rD(t,a),l=i>0?i:1-i;if(e==="YY"){const c=l%100;return We(c,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):We(l,e.length)},R:function(t,e){const r=KR(t);return We(r,e.length)},u:function(t,e){const r=t.getFullYear();return We(r,e.length)},Q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return We(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return We(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){const a=t.getMonth();switch(e){case"M":case"MM":return Na.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return We(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){const i=Q8(t,a);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):We(i,e.length)},I:function(t,e,r){const a=K8(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):We(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Na.d(t,e)},D:function(t,e,r){const a=V8(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):We(a,e.length)},E:function(t,e,r){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return We(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return We(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return We(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const a=t.getHours();let i;switch(a===12?i=wi.noon:a===0?i=wi.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const a=t.getHours();let i;switch(a>=17?i=wi.evening:a>=12?i=wi.afternoon:a>=4?i=wi.morning:i=wi.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Na.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Na.H(t,e)},K:function(t,e,r){const a=t.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):We(a,e.length)},k:function(t,e,r){let a=t.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):We(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Na.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Na.s(t,e)},S:function(t,e){return Na.S(t,e)},X:function(t,e,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return K2(a);case"XXXX":case"XX":return cs(a);case"XXXXX":case"XXX":default:return cs(a,":")}},x:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"x":return K2(a);case"xxxx":case"xx":return cs(a);case"xxxxx":case"xxx":default:return cs(a,":")}},O:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+V2(a,":");case"OOOO":default:return"GMT"+cs(a,":")}},z:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+V2(a,":");case"zzzz":default:return"GMT"+cs(a,":")}},t:function(t,e,r){const a=Math.trunc(+t/1e3);return We(a,e.length)},T:function(t,e,r){return We(+t,e.length)}};function V2(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?r+String(i):r+String(i)+e+We(l,2)}function K2(t,e){return t%60===0?(t>0?"-":"+")+We(Math.abs(t)/60,2):cs(t,e)}function cs(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=We(Math.trunc(a/60),2),l=We(a%60,2);return r+i+e+l}const X2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},J8=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return X2(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",X2(a,e)).replace("{{time}}",nD(i,e))},Z8={p:nD,P:J8},eH=/^D+$/,tH=/^Y+$/,rH=["D","DD","YY","YYYY"];function nH(t){return eH.test(t)}function aH(t){return tH.test(t)}function sH(t,e,r){const a=iH(t,e,r);if(console.warn(a),rH.includes(t))throw new RangeError(a)}function iH(t,e,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cH=/^'([^]*?)'?$/,uH=/''/g,dH=/[a-zA-Z]/;function Ct(t,e,r){const a=Zi(),i=r?.locale??a.locale??tD,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d=at(t,r?.in);if(!o8(d))throw new RangeError("Invalid time value");let h=e.match(lH).map(v=>{const y=v[0];if(y==="p"||y==="P"){const b=Z8[y];return b(v,i.formatLong)}return v}).join("").match(oH).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:fH(v)};if(Y2[y])return{isToken:!0,value:v};if(y.match(dH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(h=i.localize.preprocessor(d,h));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return h.map(v=>{if(!v.isToken)return v.value;const y=v.value;(!r?.useAdditionalWeekYearTokens&&aH(y)||!r?.useAdditionalDayOfYearTokens&&nH(y))&&sH(y,e,String(t));const b=Y2[y[0]];return b(d,y,i.localize,m)}).join("")}function fH(t){const e=t.match(cH);return e?e[1].replace(uH,"'"):t}function hH(t,e,r){const a=Zi(),i=r?.locale??a.locale??tD,l=2520,c=nd(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:c}),[h,m]=eo(r?.in,...c>0?[e,t]:[t,e]),v=m8(m,h),y=(Ed(m)-Ed(h))/1e3,b=Math.round((v-y)/60);let x;if(b<2)return r?.includeSeconds?v<5?i.formatDistance("lessThanXSeconds",5,d):v<10?i.formatDistance("lessThanXSeconds",10,d):v<20?i.formatDistance("lessThanXSeconds",20,d):v<40?i.formatDistance("halfAMinute",0,d):v<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):b===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",b,d);if(b<45)return i.formatDistance("xMinutes",b,d);if(b<90)return i.formatDistance("aboutXHours",1,d);if(b<G2){const w=Math.round(b/60);return i.formatDistance("aboutXHours",w,d)}else{if(b<l)return i.formatDistance("xDays",1,d);if(b<$u){const w=Math.round(b/G2);return i.formatDistance("xDays",w,d)}else if(b<$u*2)return x=Math.round(b/$u),i.formatDistance("aboutXMonths",x,d)}if(x=h8(m,h),x<12){const w=Math.round(b/$u);return i.formatDistance("xMonths",w,d)}else{const w=x%12,_=Math.trunc(x/12);return w<3?i.formatDistance("aboutXYears",_,d):w<9?i.formatDistance("overXYears",_,d):i.formatDistance("almostXYears",_+1,d)}}function jd(t,e){return hH(t,s8(t),e)}function mH(t,e){return at(t,e?.in).getDay()}function pH(t,e,r){const[a,i]=eo(r?.in,t,e);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}function vH(t,e,r){return Os(t,-1,r)}function aD(t,e,r){const a=at(t,r?.in);return a.setHours(e),a}function sD(t,e,r){const a=at(t,r?.in);return a.setMinutes(e),a}function iD(t,e,r){return Gb(t,-e,r)}function gH(t,e,r){return XR(t,-1,r)}const yH={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},bH=(t,e,r)=>{let a;const i=yH[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"en "+a:"hace "+a:a},xH={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},wH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_H={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SH={date:Ti({formats:xH,defaultWidth:"full"}),time:Ti({formats:wH,defaultWidth:"full"}),dateTime:Ti({formats:_H,defaultWidth:"full"})},EH={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},jH={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},NH=(t,e,r,a)=>e.getHours()!==1?jH[t]:EH[t],TH={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},OH={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},CH={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},AH={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},RH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},DH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},kH=(t,e)=>Number(t)+"",MH={ordinalNumber:kH,era:mn({values:TH,defaultWidth:"wide"}),quarter:mn({values:OH,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:mn({values:CH,defaultWidth:"wide"}),day:mn({values:AH,defaultWidth:"wide"}),dayPeriod:mn({values:RH,defaultWidth:"wide",formattingValues:DH,defaultFormattingWidth:"wide"})},qH=/^(\d+)()?/i,PH=/\d+/i,LH={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},$H={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},UH={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},zH={any:[/1/i,/2/i,/3/i,/4/i]},IH={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},BH={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},HH={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},FH={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},GH={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},WH={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},YH={ordinalNumber:eD({matchPattern:qH,parsePattern:PH,valueCallback:function(t){return parseInt(t,10)}}),era:pn({matchPatterns:LH,defaultMatchWidth:"wide",parsePatterns:$H,defaultParseWidth:"any"}),quarter:pn({matchPatterns:UH,defaultMatchWidth:"wide",parsePatterns:zH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pn({matchPatterns:IH,defaultMatchWidth:"wide",parsePatterns:BH,defaultParseWidth:"any"}),day:pn({matchPatterns:HH,defaultMatchWidth:"wide",parsePatterns:FH,defaultParseWidth:"any"}),dayPeriod:pn({matchPatterns:GH,defaultMatchWidth:"any",parsePatterns:WH,defaultParseWidth:"any"})},qt={code:"es",formatDistance:bH,formatLong:SH,formatRelative:NH,localize:MH,match:YH,options:{weekStartsOn:1,firstWeekContainsDate:1}},VH={es:qt},KH=mB({format:Ct,startOfWeek:()=>Da(new Date,{weekStartsOn:1}),getDay:mH,locales:VH}),XH={allDay:"Todo el da",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango.",showMore:t=>`+ ${t} ms`},QH={month:"Mes",week:"Semana",day:"Da",agenda:"Agenda"},cl={step:15,timeslots:4,minTime:new Date(0,0,0,7,0,0),maxTime:new Date(0,0,0,22,0,0),defaultView:"week"};function JH(t,e){switch(e){case"month":return Ct(t,"MMMM yyyy",{locale:qt});case"week":{const r=Da(t,{weekStartsOn:1}),a=ZR(t,{weekStartsOn:1});return pH(r,a)?`${Ct(r,"d",{locale:qt})} - ${Ct(a,"d MMMM yyyy",{locale:qt})}`:`${Ct(r,"d MMM",{locale:qt})} - ${Ct(a,"d MMM yyyy",{locale:qt})}`}case"day":return Ct(t,"EEEE, d 'de' MMMM yyyy",{locale:qt});case"agenda":return Ct(t,"MMMM yyyy",{locale:qt});default:return Ct(t,"MMMM yyyy",{locale:qt})}}function ZH({currentDate:t,currentView:e,onNavigate:r,onViewChange:a,eventsToday:i=0,onNewAppointment:l,isRefreshing:c=!1}){const d=["month","week","day","agenda"],h=A.useMemo(()=>JH(t,e),[t,e]),m=A.useMemo(()=>{const v=new Date;return t.toDateString()===v.toDateString()},[t]);return f.jsx("div",{className:"flex flex-col gap-4 mb-6",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l&&f.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-xl transition-all shadow-sm hover:shadow-md active:scale-[0.98]",children:[f.jsx(Vn,{className:"h-4 w-4"}),f.jsx("span",{children:"Nueva Cita"})]}),f.jsxs("div",{className:"flex items-center bg-slate-100 rounded-xl p-1 shadow-inner",children:[f.jsx("button",{onClick:()=>r("PREV"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Anterior",children:f.jsx(Vy,{className:"h-5 w-5 text-slate-600"})}),f.jsx("button",{onClick:()=>r("TODAY"),disabled:m,className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all ${m?"text-slate-400 cursor-default":"text-indigo-600 hover:bg-white hover:shadow-sm active:scale-95"}`,children:"Hoy"}),f.jsx("button",{onClick:()=>r("NEXT"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Siguiente",children:f.jsx(Ai,{className:"h-5 w-5 text-slate-600"})})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-800 capitalize whitespace-nowrap",children:h}),c&&f.jsx(Tt,{className:"h-4 w-4 text-slate-400 animate-spin"}),i>0&&f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-semibold rounded-full border border-indigo-100",children:[f.jsx(nn,{className:"h-3.5 w-3.5"}),i," hoy"]})]})]}),f.jsx("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-xl shadow-inner",children:d.map(v=>f.jsx("button",{onClick:()=>a(v),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${e===v?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800 hover:bg-white/50"}`,children:QH[v]},v))})]})})}const mf="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/create-calendar-event",e7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function t7(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),c=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],h=r.toTimeString().slice(0,5),m=await fetch(mf,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"create",calendarId:t.calendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:c,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:h,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id,htmlLink:v.event?.htmlLink}:{success:!1,error:v.error||"Failed to create appointment"}}async function r7(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(mf,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"delete",calendarId:t.calendarId,eventId:t.eventId})}),a=await r.json();return r.ok?{success:!0}:{success:!1,error:a.error||"Failed to delete appointment"}}async function n7(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),c=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],h=r.toTimeString().slice(0,5),m=await fetch(mf,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,oldCalendarId:t.oldCalendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:c,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:h,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id}:{success:!1,error:v.error||"Failed to update appointment"}}async function a7(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=t.newStart.toISOString(),a=t.newEnd.toISOString(),i=t.newStart.toISOString().split("T")[0],l=t.newStart.toTimeString().slice(0,5),c=await fetch(mf,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,summary:t.title,startTime:r,endTime:a,description:t.description,logData:{appointmentDate:i,appointmentTime:l}})}),d=await c.json();return c.ok?{success:!0}:{success:!1,error:d.error||"Failed to reschedule appointment"}}async function oD(t){const{data:e,error:r}=await Te.from("clients").select("*").eq("salon_id",t).order("name");if(r)throw new Error("Failed to fetch clients");return e||[]}async function Nd(t){const{data:e,error:r}=await Te.from("services").select("*").eq("salon_id",t).eq("active",!0).order("category").order("display_order");if(r)throw new Error("Failed to fetch services");return e||[]}async function s7(t,e,r,a){const{data:i,error:l}=await Te.from("clients").insert({salon_id:t,name:e.trim(),phone:r.trim(),email:a?.trim()||null,source:"manual"}).select().single();if(l)throw l.code==="23505"?new Error("Ya existe un cliente con ese telfono"):new Error("Failed to create client");return i}async function lD(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t);r.setHours(0,0,0,0);const a=new Date(t);a.setHours(23,59,59,999);const i=await fetch(e7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({timeMin:r.toISOString(),timeMax:a.toISOString()})});if(!i.ok)throw new Error("Failed to fetch events");return((await i.json()).events||[]).map(c=>({...c,start:new Date(c.start),end:new Date(c.end)}))}const i7={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"};function cD(t,e,r){const a=t.getDay(),i=i7[a],l=e||r;if(!l)return o7();const c=l[i];if(!c.enabled||!c.open||!c.close)return[];const d=[],[h,m]=c.open.split(":").map(Number),[v,y]=c.close.split(":").map(Number);let b=h,x=m;for(;b<v||b===v&&x<y;)d.push(`${b.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`),x+=15,x>=60&&(x=0,b+=1);return d}function o7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&(t.push(`${e.toString().padStart(2,"0")}:15`),t.push(`${e.toString().padStart(2,"0")}:30`),t.push(`${e.toString().padStart(2,"0")}:45`));return t}function uD(t,e,r,a,i,l){const c=t.filter(d=>d.calendarId===e&&(!l||d.googleEventId!==l));return console.log("Staff events for calendar",e,":",c.map(d=>({title:d.title,start:d.start,end:d.end}))),a.map(d=>{const[h,m]=d.split(":").map(Number),v=new Date(i);v.setHours(h,m,0,0);const y=new Date(v.getTime()+r*60*1e3),b=c.some(x=>{const w=new Date(x.start),_=new Date(x.end),S=v<_&&y>w;return S&&console.log(`Slot ${d} conflicts with event:`,{eventTitle:x.title,eventStart:w.toISOString(),eventEnd:_.toISOString(),slotStart:v.toISOString(),slotEnd:y.toISOString()}),S});return{slot:d,available:!b}})}function l7({event:t,onClose:e,onDelete:r,onEdit:a,canDelete:i=!1,canEdit:l=!1}){const[c,d]=A.useState(!1),[h,m]=A.useState(!1),[v,y]=A.useState(null),b=A.useCallback(S=>{S.key==="Escape"&&e()},[e]),x=A.useCallback(S=>{S.target===S.currentTarget&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",b),document.body.style.overflow="hidden",m(!1),y(null),d(!1)),()=>{document.removeEventListener("keydown",b),document.body.style.overflow="unset"}),[t,b]);const w=async()=>{if(!(!t||!t.googleEventId||!t.calendarId))try{d(!0),y(null);const S=await r7({calendarId:t.calendarId,eventId:t.googleEventId});S.success?(r?.(),e()):y(S.error||"Error al eliminar la cita")}catch(S){y(S instanceof Error?S.message:"Error al eliminar la cita")}finally{d(!1)}};if(!t)return null;const _=t.color||"#4F46E5";return f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:x,role:"dialog","aria-modal":"true","aria-labelledby":"event-title",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-slideUp",children:[f.jsx("div",{className:"h-1.5",style:{backgroundColor:_}}),f.jsx("div",{className:"p-6 pb-4",children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{id:"event-title",className:"text-xl font-semibold text-slate-800 leading-tight",children:t.title}),t.staffName&&f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:_}}),f.jsx("span",{className:"text-sm text-slate-500",children:t.staffName})]})]}),f.jsx("button",{onClick:e,className:"p-2 -m-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Cerrar",children:f.jsx(Tr,{className:"h-5 w-5 text-slate-400"})})]})}),f.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[f.jsx(nn,{className:"h-5 w-5 text-slate-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-700",children:Ct(t.start,"EEEE, d 'de' MMMM",{locale:qt})}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(sn,{className:"h-4 w-4 text-slate-400"}),f.jsx("span",{className:"text-sm text-slate-500",children:t.allDay?"Todo el da":`${Ct(t.start,"HH:mm")} - ${Ct(t.end,"HH:mm")}`})]})]})]}),t.location&&f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[f.jsx(u6,{className:"h-5 w-5 text-slate-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Ubicacin"}),f.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.location})]})]}),t.staffName&&f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[f.jsx(bn,{className:"h-5 w-5 text-slate-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Asignado a"}),f.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.staffName})]})]}),t.description&&f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[f.jsx(Zq,{className:"h-5 w-5 text-slate-400 mt-0.5"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Descripcin"}),f.jsx("p",{className:"text-sm text-slate-500 mt-1 whitespace-pre-wrap break-words",children:t.description})]})]})]}),v&&f.jsx("div",{className:"px-6 pb-4",children:f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:v})}),f.jsx("div",{className:"px-6 pb-6",children:h?f.jsxs("div",{className:"space-y-3",children:[f.jsx("p",{className:"text-center text-sm text-slate-600",children:"Seguro que quieres eliminar esta cita?"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>m(!1),disabled:c,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors",children:"Cancelar"}),f.jsx("button",{onClick:w,disabled:c,className:"flex-1 py-3 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:c?f.jsxs(f.Fragment,{children:[f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Eliminando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(ys,{className:"h-4 w-4"}),"Eliminar"]})})]})]}):f.jsxs("div",{className:"flex gap-3",children:[l&&t.googleEventId&&f.jsxs("button",{onClick:()=>{a?.(t),e()},className:"px-4 py-3 bg-indigo-50 text-indigo-600 font-medium rounded-xl hover:bg-indigo-100 transition-colors flex items-center gap-2",children:[f.jsx(VC,{className:"h-4 w-4"}),"Editar"]}),i&&t.googleEventId&&f.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-3 bg-red-50 text-red-600 font-medium rounded-xl hover:bg-red-100 transition-colors flex items-center gap-2",children:[f.jsx(ys,{className:"h-4 w-4"}),"Eliminar"]}),f.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300",children:"Cerrar"})]})})]})})}function c7({staffCalendars:t,selectedStaff:e,onToggleStaff:r,onSelectAll:a,onDeselectAll:i}){const l=A.useMemo(()=>e.length===t.length,[e.length,t.length]),c=e.length===0;return t.length===0?null:f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[f.jsx(ms,{className:"h-4 w-4"}),f.jsx("span",{children:"Calendarios del equipo"}),f.jsxs("span",{className:"text-slate-400",children:["(",e.length,"/",t.length,")"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:a,disabled:l,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Todos"}),f.jsx("span",{className:"text-slate-300",children:"|"}),f.jsx("button",{onClick:i,disabled:c,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Ninguno"})]})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(d=>{const h=e.includes(d.staffId);return f.jsxs("button",{onClick:()=>r(d.staffId),className:`group flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition-all ${h?"text-white shadow-md hover:shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,style:{backgroundColor:h?d.color:void 0},children:[f.jsx("span",{className:`flex items-center justify-center w-5 h-5 rounded-full transition-all ${h?"bg-white/20":""}`,style:{backgroundColor:h?void 0:d.color+"20"},children:h?f.jsx(Yn,{className:"h-3 w-3"}):f.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:d.color}})}),d.staffName]},d.staffId)})})]})}const u7=e8(lB);function dD({events:t,staffCalendars:e=[],isLoading:r=!1,isRefreshing:a=!1,showStaffFilter:i=!1,onEventClick:l,onNewAppointment:c,onEventDelete:d,onEventEdit:h,onEventReschedule:m,canDeleteEvents:v=!1,canEditEvents:y=!1,canDragEvents:b=!1}){const[x,w]=A.useState(new Date),[_,S]=A.useState(cl.defaultView),[j,E]=A.useState(null),[T,O]=A.useState([]),M=A.useMemo(()=>e.map(V=>V.staffId).sort().join(","),[e]),[D,R]=A.useState("");M!==D&&e.length>0&&(O(e.map(V=>V.staffId)),R(M));const P=A.useMemo(()=>i?T.length===0?[]:t.filter(V=>V.staffId&&T.includes(V.staffId)):t,[t,T,i]),L=A.useMemo(()=>{const V=new Date;return P.filter($=>new Date($.start).toDateString()===V.toDateString()).length},[P]),C=A.useCallback(V=>{w($=>{switch(V){case"PREV":return _==="month"?iD($,1):_==="week"?gH($):vH($);case"NEXT":return _==="month"?Gb($,1):_==="week"?XR($,1):Os($,1);case"TODAY":default:return new Date}})},[_]),q=A.useCallback(V=>{S(V)},[]),U=A.useCallback(V=>{E(V),l?.(V)},[l]),z=A.useCallback(V=>{O($=>$.includes(V)?$.filter(X=>X!==V):[...$,V])},[]),W=A.useCallback(()=>{O(e.map(V=>V.staffId))},[e]),ee=A.useCallback(()=>{O([])},[]),B=A.useCallback(V=>({style:{backgroundColor:V.color||"#4F46E5",borderRadius:"8px",opacity:.95,color:"white",border:"none",display:"block",fontSize:"0.8rem",fontWeight:500,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}}),[]),H=A.useCallback(({event:V,start:$,end:X})=>{if(!b||!m)return;const oe=new Date;new Date($)<oe||m(V,new Date($),new Date(X))},[b,m]),te=A.useCallback(({event:V,start:$,end:X})=>{if(!b||!m)return;const oe=new Date;new Date($)<oe||m(V,new Date($),new Date(X))},[b,m]),le=A.useCallback(V=>!(!b||!V.googleEventId||new Date(V.start)<new Date),[b]);return f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[f.jsxs("div",{className:"p-6 pb-0",children:[f.jsx(ZH,{currentDate:x,currentView:_,onNavigate:C,onViewChange:q,eventsToday:L,onNewAppointment:c,isRefreshing:a}),i&&e.length>0&&f.jsx(c7,{staffCalendars:e,selectedStaff:T,onToggleStaff:z,onSelectAll:W,onDeselectAll:ee})]}),f.jsxs("div",{className:"relative px-6 pb-6",children:[r&&f.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm flex items-center justify-center z-10 rounded-xl",children:f.jsxs("div",{className:"flex items-center gap-3 bg-white px-6 py-4 rounded-xl shadow-lg border border-slate-100",children:[f.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-slate-600 font-medium",children:"Cargando calendario..."})]})}),f.jsx("div",{className:"calendar-container",style:{height:650},children:f.jsx(u7,{localizer:KH,events:P,startAccessor:"start",endAccessor:"end",date:x,view:_,onNavigate:w,onView:V=>q(V),onSelectEvent:U,eventPropGetter:B,messages:XH,culture:"es",views:[At.MONTH,At.WEEK,At.DAY,At.AGENDA],toolbar:!1,popup:!0,selectable:!1,step:cl.step,timeslots:cl.timeslots,min:cl.minTime,max:cl.maxTime,dayLayoutAlgorithm:"no-overlap",draggableAccessor:le,resizable:b,onEventDrop:H,onEventResize:te})})]}),f.jsx(l7,{event:j,onClose:()=>E(null),onDelete:()=>{E(null),d?.()},onEdit:V=>{E(null),h?.(V)},canDelete:v,canEdit:y})]})}async function Q2(t){const{data:e,error:r}=await Te.from("staff_services").select("service_id").eq("staff_id",t);if(r)throw new Error(r.message);return(e||[]).map(a=>a.service_id)}async function fD(t){const{data:e,error:r}=await Te.from("staff_services").select(`
      staff_id,
      service_id,
      profiles!inner (salon_id)
    `).eq("profiles.salon_id",t);if(r)throw new Error(r.message);const a={};for(const i of e||[])a[i.staff_id]||(a[i.staff_id]=[]),a[i.staff_id].push(i.service_id);return a}async function d7(t,e){const{error:r}=await Te.from("staff_services").delete().eq("staff_id",t);if(r)throw new Error(r.message);if(e.length>0){const a=e.map(l=>({staff_id:t,service_id:l})),{error:i}=await Te.from("staff_services").insert(a);if(i)throw new Error(i.message)}}const J2=[{number:1,title:"Cliente",icon:bn},{number:2,title:"Servicio",icon:Fl},{number:3,title:"Profesional",icon:qd},{number:4,title:"Fecha",icon:nn},{number:5,title:"Confirmar",icon:Yn}];function f7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&(t.push(`${e.toString().padStart(2,"0")}:15`),t.push(`${e.toString().padStart(2,"0")}:30`),t.push(`${e.toString().padStart(2,"0")}:45`));return t}const h7=f7();function m7({isOpen:t,onClose:e,onSuccess:r,salonId:a,staffList:i,salonWorkingHours:l}){const[c,d]=A.useState(1),[h,m]=A.useState([]),[v,y]=A.useState([]),[b,x]=A.useState(!0),[w,_]=A.useState(null),[S,j]=A.useState(null),[E,T]=A.useState(null),[O,M]=A.useState(Ir(new Date)),[D,R]=A.useState(null),[P,L]=A.useState(""),[C,q]=A.useState(""),[U,z]=A.useState(""),[W,ee]=A.useState(!1),[B,H]=A.useState(""),[te,le]=A.useState(""),[V,$]=A.useState(""),[X,oe]=A.useState(!1),[ue,fe]=A.useState(!1),[pe,be]=A.useState(null),[,ke]=A.useState([]),[Pe,bt]=A.useState(!1),[vt,Wt]=A.useState([]),[pr,xt]=A.useState({});A.useEffect(()=>{t&&a&&(x(!0),Promise.all([oD(a),Nd(a),fD(a)]).then(([ae,ge,Ee])=>{m(ae),y(ge),xt(Ee)}).catch(ae=>{console.error("Error loading data:",ae),be("Error al cargar datos")}).finally(()=>x(!1)))},[t,a]),A.useEffect(()=>{t||(d(1),_(null),j(null),T(null),M(Ir(new Date)),R(null),L(""),q(""),z(""),ee(!1),H(""),le(""),$(""),be(null),ke([]),Wt([]),xt({}))},[t]),A.useEffect(()=>{if(c===4&&E&&S){bt(!0),R(null);const ae=E.workingHours,ge=cD(O,ae,l);if(ge.length===0){Wt([]),bt(!1);return}lD(O).then(Ee=>{ke(Ee);const dt=uD(Ee,E.calendarId,S.duration_minutes,ge,O),rr=new Date,Vr=QR(O,rr),vr=dt.map(ft=>{if(Vr){const[ze,gr]=ft.slot.split(":").map(Number),Yt=new Date;if(Yt.setHours(ze,gr,0,0),Yt<=rr)return{...ft,available:!1}}return ft});Wt(vr)}).catch(Ee=>{console.error("Error loading availability:",Ee),Wt(ge.map(dt=>({slot:dt,available:!0})))}).finally(()=>bt(!1))}},[c,O,E,S,l]);const Ae=A.useCallback(ae=>{ae.key==="Escape"&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",Ae),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",Ae),document.body.style.overflow="unset"}),[t,Ae]);const Pt=h.filter(ae=>ae.name.toLowerCase().includes(C.toLowerCase())||ae.phone.includes(C)),re=v.filter(ae=>ae.name.toLowerCase().includes(U.toLowerCase())||(ae.category?.toLowerCase().includes(U.toLowerCase())??!1)).reduce((ae,ge)=>{const Ee=ge.category||"Otros";return ae[Ee]||(ae[Ee]=[]),ae[Ee].push(ge),ae},{}),xe=()=>{const ae=Os(O,-1);ae>=Ir(new Date)&&M(ae)},_e=()=>{M(Os(O,1))},Xe=async()=>{if(!(!B.trim()||!te.trim()))try{oe(!0),be(null);const ae=await s7(a,B,te,V||void 0);m(ge=>[...ge,ae].sort((Ee,dt)=>Ee.name.localeCompare(dt.name))),_(ae),ee(!1),H(""),le(""),$(""),d(2)}catch(ae){be(ae instanceof Error?ae.message:"Error al crear cliente")}finally{oe(!1)}},st=async()=>{if(!w||!S||!E||!D){be("Faltan datos para crear la cita");return}try{fe(!0),be(null);const[ae,ge]=D.split(":").map(Number),Ee=sD(aD(O,ae),ge),dt=await t7({calendarId:E.calendarId,client:w,service:S,staffId:E.staffId,staffName:E.staffName,appointmentDate:Ee,notes:P.trim()||void 0,salonId:a});dt.success?(r(),e()):be(dt.error||"Error al crear la cita")}catch(ae){be(ae instanceof Error?ae.message:"Error al crear la cita")}finally{fe(!1)}},it=()=>{switch(c){case 1:return!!w;case 2:return!!S;case 3:return!!E;case 4:return!!D;case 5:return!0;default:return!1}},Ze=()=>{c<5&&it()&&d(ae=>ae+1)},de=()=>{c>1&&d(ae=>ae-1)};return t?f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ae=>ae.target===ae.currentTarget&&e(),children:f.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h2",{className:"text-lg font-bold text-white",children:"Nueva Cita"}),f.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:J2.map((ae,ge)=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${c>=ae.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:c>ae.number?f.jsx(Yn,{className:"h-4 w-4"}):ae.number}),ge<J2.length-1&&f.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${c>ae.number?"bg-indigo-600":"bg-slate-600"}`})]},ae.number))}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[b?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):f.jsxs(f.Fragment,{children:[c===1&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),W?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),f.jsx("input",{type:"text",value:B,onChange:ae=>H(ae.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),f.jsx("input",{type:"tel",value:te,onChange:ae=>le(ae.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email (opcional)"}),f.jsx("input",{type:"email",value:V,onChange:ae=>$(ae.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>ee(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsx("button",{onClick:Xe,disabled:!B.trim()||!te.trim()||X,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:X?"Creando...":"Crear cliente"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:C,onChange:ae=>q(ae.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),f.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 text-sm text-indigo-400 hover:text-indigo-300",children:[f.jsx(Vn,{className:"h-4 w-4"}),"Crear nuevo cliente"]}),f.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Pt.length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):Pt.map(ae=>f.jsxs("button",{onClick:()=>{_(ae),d(2)},className:`w-full text-left p-3 rounded-lg border transition-colors ${w?.id===ae.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsx("div",{className:"font-medium text-white",children:ae.name}),f.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Hl,{className:"h-3 w-3"}),ae.phone]}),ae.email&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(kd,{className:"h-3 w-3"}),ae.email]})]})]},ae.id))})]})]}),c===2&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),f.jsxs("div",{className:"relative",children:[f.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:U,onChange:ae=>z(ae.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),f.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(re).length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(re).map(([ae,ge])=>f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:ae}),f.jsx("div",{className:"space-y-2",children:ge.map(Ee=>f.jsxs("button",{onClick:()=>{j(Ee),d(3)},className:`w-full text-left p-3 rounded-lg border transition-colors ${S?.id===Ee.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"font-medium text-white",children:Ee.name}),f.jsxs("span",{className:"text-indigo-400 font-semibold",children:[Ee.price,""]})]}),f.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[f.jsx(sn,{className:"h-3 w-3"}),Ee.duration_minutes," min"]})]},Ee.id))})]},ae))})]}),c===3&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-sm text-slate-400",children:['Selecciona el profesional para "',S?.name,'"']}),(()=>{const ae=i.filter(ge=>{const Ee=pr[ge.staffId]||[];return S?Ee.includes(S.id):!0});return i.length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):ae.length===0?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[f.jsx(Ca,{className:"h-5 w-5 text-amber-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-300 font-medium",children:"No hay profesionales asignados a este servicio"}),f.jsxs("p",{className:"text-sm text-amber-300/70 mt-1",children:['Contacta al administrador para asignar profesionales a "',S?.name,'".']})]})]}),f.jsx("button",{onClick:()=>d(2),className:"w-full py-2 text-sm text-indigo-400 hover:text-indigo-300",children:"Seleccionar otro servicio"})]}):f.jsxs("div",{className:"space-y-2",children:[ae.map(ge=>f.jsxs("button",{onClick:()=>{T(ge),d(4)},className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${E?.staffId===ge.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:ge.color},children:ge.staffName.charAt(0).toUpperCase()}),f.jsx("span",{className:"font-medium text-white",children:ge.staffName})]},ge.staffId)),ae.length<i.length&&f.jsxs("p",{className:"text-xs text-slate-500 text-center pt-2",children:["Mostrando ",ae.length," de ",i.length," profesionales"]})]})})()]}),c===4&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),f.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[f.jsx("button",{onClick:xe,disabled:O<=Ir(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:f.jsx(Vy,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-medium text-white",children:Ct(O,"EEEE, d 'de' MMMM",{locale:qt})}),f.jsx("div",{className:"text-sm text-slate-400",children:Ct(O,"yyyy")})]}),f.jsx("button",{onClick:_e,className:"p-2 text-slate-400 hover:text-white transition-colors",children:f.jsx(Ai,{className:"h-5 w-5"})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),Pe&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[f.jsx(Tt,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),f.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),f.jsx("span",{children:"Disponible"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),f.jsx("span",{children:"Ocupado"})]})]}),f.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 max-h-60 overflow-y-auto",children:(vt.length>0?vt:h7.map(ae=>({slot:ae,available:!0}))).map(({slot:ae,available:ge})=>f.jsx("button",{onClick:()=>ge&&R(ae),disabled:!ge,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${D===ae?"bg-indigo-600 text-white":ge?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:ae},ae))}),!Pe&&vt.length>0&&!vt.some(ae=>ae.available)&&f.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[f.jsx(Ca,{className:"h-4 w-4 text-amber-400 mt-0.5"}),f.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),c===5&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los detalles de la cita"}),f.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(bn,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),f.jsx("div",{className:"text-white font-medium",children:w?.name}),f.jsx("div",{className:"text-sm text-slate-400",children:w?.phone})]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Fl,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),f.jsx("div",{className:"text-white font-medium",children:S?.name}),f.jsxs("div",{className:"text-sm text-slate-400",children:[S?.duration_minutes," min"]})]}),f.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[S?.price,""]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(qd,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),f.jsx("div",{className:"text-white font-medium",children:E?.staffName})]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(nn,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),f.jsx("div",{className:"text-white font-medium",children:Ct(O,"EEEE, d 'de' MMMM",{locale:qt})}),f.jsx("div",{className:"text-sm text-slate-400",children:D})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),f.jsx("textarea",{value:P,onChange:ae=>L(ae.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]})]})]}),pe&&f.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:pe})]}),f.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[f.jsx("button",{onClick:c===1?e:de,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:c===1?"Cancelar":"Atrs"}),c<5?f.jsxs("button",{onClick:Ze,disabled:!it(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",f.jsx(Ai,{className:"h-4 w-4"})]}):f.jsx("button",{onClick:st,disabled:ue,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:ue?f.jsxs(f.Fragment,{children:[f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Creando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Yn,{className:"h-4 w-4"}),"Crear Cita"]})})]})]})}):null}const Z2=[{number:1,title:"Cliente",icon:bn},{number:2,title:"Servicio",icon:Fl},{number:3,title:"Profesional",icon:qd},{number:4,title:"Fecha",icon:nn},{number:5,title:"Confirmar",icon:Yn}];function p7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&(t.push(`${e.toString().padStart(2,"0")}:15`),t.push(`${e.toString().padStart(2,"0")}:30`),t.push(`${e.toString().padStart(2,"0")}:45`));return t}const v7=p7();function g7(t){if(!t)return{};const e={},r=t.split(`
`);for(const a of r)a.startsWith("Cliente: ")?e.clientName=a.replace("Cliente: ","").trim():a.startsWith("Telfono: ")?e.clientPhone=a.replace("Telfono: ","").trim():a.startsWith("Email: ")?e.clientEmail=a.replace("Email: ","").trim():a.startsWith("Servicio: ")?e.serviceName=a.replace("Servicio: ","").trim():a.startsWith("Notas: ")&&(e.notes=a.replace("Notas: ","").trim());return e}function y7({event:t,onClose:e,onSuccess:r,salonId:a,staffList:i,salonWorkingHours:l}){const[c,d]=A.useState(1),[h,m]=A.useState([]),[v,y]=A.useState([]),[b,x]=A.useState(!0),[w,_]=A.useState(null),[S,j]=A.useState(null),[E,T]=A.useState(null),[O,M]=A.useState(new Date),[D,R]=A.useState(""),[P,L]=A.useState(null),[C,q]=A.useState(null),[U,z]=A.useState(null),[W,ee]=A.useState(Ir(new Date)),[B,H]=A.useState(null),[te,le]=A.useState(""),[V,$]=A.useState(""),[X,oe]=A.useState(""),[ue,fe]=A.useState(!1),[pe,be]=A.useState(null),[ke,Pe]=A.useState(!1),[bt,vt]=A.useState([]),[Wt,pr]=A.useState({});A.useEffect(()=>{t&&a&&(x(!0),d(1),be(null),Promise.all([oD(a),Nd(a),fD(a)]).then(([de,ae,ge])=>{m(de),y(ae),pr(ge);const Ee=g7(t.description),dt=de.find(ze=>ze.phone===Ee.clientPhone||ze.name===Ee.clientName);dt&&(L(dt),_(dt));const rr=ae.find(ze=>ze.name===Ee.serviceName);rr&&(q(rr),j(rr));const Vr=i.find(ze=>ze.staffId===t.staffId||ze.calendarId===t.calendarId);Vr&&(z(Vr),T(Vr));const vr=Ir(new Date(t.start)),ft=Ct(new Date(t.start),"HH:mm");ee(vr),M(vr),H(ft),R(ft),Ee.notes&&le(Ee.notes)}).catch(de=>{console.error("Error loading data:",de),be("Error al cargar datos")}).finally(()=>x(!1)))},[t,a,i]),A.useEffect(()=>{if(c===4&&U&&C&&t){Pe(!0);const de=U.workingHours,ae=cD(W,de,l);if(ae.length===0){vt([]),Pe(!1);return}lD(W).then(ge=>{const Ee=uD(ge,U.calendarId,C.duration_minutes,ae,W,t.googleEventId),dt=new Date,rr=QR(W,dt),Vr=Ee.map(vr=>{if(rr){const[ft,ze]=vr.slot.split(":").map(Number),gr=new Date;if(gr.setHours(ft,ze,0,0),gr<=dt)return{...vr,available:!1}}return vr});vt(Vr)}).catch(ge=>{console.error("Error loading availability:",ge),vt(ae.map(Ee=>({slot:Ee,available:!0})))}).finally(()=>Pe(!1))}},[c,W,U,C,t,l]);const xt=A.useCallback(de=>{de.key==="Escape"&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",xt),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",xt),document.body.style.overflow="unset"}),[t,xt]);const Ae=h.filter(de=>de.name.toLowerCase().includes(V.toLowerCase())||de.phone.includes(V)),De=v.filter(de=>de.name.toLowerCase().includes(X.toLowerCase())||(de.category?.toLowerCase().includes(X.toLowerCase())??!1)).reduce((de,ae)=>{const ge=ae.category||"Otros";return de[ge]||(de[ge]=[]),de[ge].push(ae),de},{}),re=()=>{const de=Os(W,-1);de>=Ir(new Date)&&(ee(de),H(null))},xe=()=>{ee(Os(W,1)),H(null)},_e=()=>P?.id!==w?.id||C?.id!==S?.id||U?.staffId!==E?.staffId||W.getTime()!==O.getTime()||B!==D,Xe=async()=>{if(!t||!P||!C||!U||!B){be("Faltan datos para actualizar la cita");return}if(!t.googleEventId){be("No se puede editar esta cita (falta ID de Google Calendar)");return}try{fe(!0),be(null);const[de,ae]=B.split(":").map(Number),ge=sD(aD(W,de),ae),Ee=U.calendarId!==E?.calendarId,dt=await n7({eventId:t.googleEventId,calendarId:U.calendarId,oldCalendarId:Ee?E?.calendarId:void 0,client:P,service:C,staffId:U.staffId,staffName:U.staffName,appointmentDate:ge,notes:te.trim()||void 0,salonId:a});dt.success?(r(),e()):be(dt.error||"Error al actualizar la cita")}catch(de){be(de instanceof Error?de.message:"Error al actualizar la cita")}finally{fe(!1)}},st=()=>{switch(c){case 1:return!!P;case 2:return!!C;case 3:return!!U;case 4:return!!B;case 5:return!0;default:return!1}},it=()=>{c<5&&st()&&d(de=>de+1)},Ze=()=>{c>1&&d(de=>de-1)};return t?f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:de=>de.target===de.currentTarget&&e(),children:f.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(VC,{className:"h-5 w-5 text-indigo-400"}),f.jsx("h2",{className:"text-lg font-bold text-white",children:"Editar Cita"})]}),f.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:Z2.map((de,ae)=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${c>=de.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:c>de.number?f.jsx(Yn,{className:"h-4 w-4"}):de.number}),ae<Z2.length-1&&f.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${c>de.number?"bg-indigo-600":"bg-slate-600"}`})]},de.number))}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[b?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):f.jsxs(f.Fragment,{children:[c===1&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),f.jsxs("div",{className:"relative",children:[f.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:V,onChange:de=>$(de.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),f.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Ae.length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):Ae.map(de=>f.jsxs("button",{onClick:()=>L(de),className:`w-full text-left p-3 rounded-lg border transition-colors ${P?.id===de.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"font-medium text-white",children:de.name}),w?.id===de.id&&f.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),f.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Hl,{className:"h-3 w-3"}),de.phone]}),de.email&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(kd,{className:"h-3 w-3"}),de.email]})]})]},de.id))})]}),c===2&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),f.jsxs("div",{className:"relative",children:[f.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:X,onChange:de=>oe(de.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),f.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(De).length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(De).map(([de,ae])=>f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:de}),f.jsx("div",{className:"space-y-2",children:ae.map(ge=>f.jsxs("button",{onClick:()=>q(ge),className:`w-full text-left p-3 rounded-lg border transition-colors ${C?.id===ge.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium text-white",children:ge.name}),S?.id===ge.id&&f.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),f.jsxs("span",{className:"text-indigo-400 font-semibold",children:[ge.price,""]})]}),f.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[f.jsx(sn,{className:"h-3 w-3"}),ge.duration_minutes," min"]})]},ge.id))})]},de))})]}),c===3&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-sm text-slate-400",children:['Selecciona el profesional para "',C?.name,'"']}),(()=>{const de=i.filter(ae=>{const ge=Wt[ae.staffId]||[];return C?ge.includes(C.id):!0});return i.length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):de.length===0?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[f.jsx(Ca,{className:"h-5 w-5 text-amber-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-300 font-medium",children:"No hay profesionales asignados a este servicio"}),f.jsxs("p",{className:"text-sm text-amber-300/70 mt-1",children:['Contacta al administrador para asignar profesionales a "',C?.name,'".']})]})]}),f.jsx("button",{onClick:()=>d(2),className:"w-full py-2 text-sm text-indigo-400 hover:text-indigo-300",children:"Seleccionar otro servicio"})]}):f.jsxs("div",{className:"space-y-2",children:[de.map(ae=>f.jsxs("button",{onClick:()=>z(ae),className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${U?.staffId===ae.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:ae.color},children:ae.staffName.charAt(0).toUpperCase()}),f.jsx("span",{className:"font-medium text-white flex-1",children:ae.staffName}),E?.staffId===ae.staffId&&f.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]},ae.staffId)),de.length<i.length&&f.jsxs("p",{className:"text-xs text-slate-500 text-center pt-2",children:["Mostrando ",de.length," de ",i.length," profesionales"]})]})})()]}),c===4&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),f.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[f.jsx("button",{onClick:re,disabled:W<=Ir(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:f.jsx(Vy,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-medium text-white",children:Ct(W,"EEEE, d 'de' MMMM",{locale:qt})}),f.jsx("div",{className:"text-sm text-slate-400",children:Ct(W,"yyyy")})]}),f.jsx("button",{onClick:xe,className:"p-2 text-slate-400 hover:text-white transition-colors",children:f.jsx(Ai,{className:"h-5 w-5"})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),ke&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[f.jsx(Tt,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),f.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),f.jsx("span",{children:"Disponible"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),f.jsx("span",{children:"Ocupado"})]})]}),f.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 max-h-60 overflow-y-auto",children:(bt.length>0?bt:v7.map(de=>({slot:de,available:!0}))).map(({slot:de,available:ae})=>f.jsx("button",{onClick:()=>ae&&H(de),disabled:!ae,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${B===de?"bg-indigo-600 text-white":ae?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:de},de))}),!ke&&bt.length>0&&!bt.some(de=>de.available)&&f.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[f.jsx(Ca,{className:"h-4 w-4 text-amber-400 mt-0.5"}),f.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),c===5&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los cambios de la cita"}),f.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(bn,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),f.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[P?.name,P?.id!==w?.id&&f.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),f.jsx("div",{className:"text-sm text-slate-400",children:P?.phone})]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Fl,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),f.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[C?.name,C?.id!==S?.id&&f.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),f.jsxs("div",{className:"text-sm text-slate-400",children:[C?.duration_minutes," min"]})]}),f.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[C?.price,""]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(qd,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),f.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[U?.staffName,U?.staffId!==E?.staffId&&f.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]})]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(nn,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),f.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[Ct(W,"EEEE, d 'de' MMMM",{locale:qt}),(W.getTime()!==O.getTime()||B!==D)&&f.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),f.jsx("div",{className:"text-sm text-slate-400",children:B})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),f.jsx("textarea",{value:te,onChange:de=>le(de.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]}),!_e()&&f.jsx("div",{className:"p-3 bg-slate-700/50 border border-slate-600 rounded-lg text-slate-400 text-sm text-center",children:"No se han realizado cambios"})]})]}),pe&&f.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:pe})]}),f.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[f.jsx("button",{onClick:c===1?e:Ze,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:c===1?"Cancelar":"Atrs"}),c<5?f.jsxs("button",{onClick:it,disabled:!st(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",f.jsx(Ai,{className:"h-4 w-4"})]}):f.jsx("button",{onClick:Xe,disabled:ue||!_e(),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:ue?f.jsxs(f.Fragment,{children:[f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Yn,{className:"h-4 w-4"}),"Guardar Cambios"]})})]})]})}):null}const b7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function x7(t,e){const{data:{session:r}}=await Te.auth.getSession();if(!r)throw new Error("No authenticated session");const a=await fetch(b7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({timeMin:t.toISOString(),timeMax:e.toISOString()})});if(!a.ok){const c=await a.json();throw new Error(c.error||"Failed to fetch calendar events")}const i=await a.json();if(i.error)throw new Error(i.error);return{events:i.events.map(c=>({...c,start:new Date(c.start),end:new Date(c.end)})),staffList:i.staffList||[],role:i.role,salon:i.salon}}const eO=3,w7=300*1e3;function _7(){const t=new Date,e=iD(t,eO),r=Gb(t,eO),a=Da(p8(e),{weekStartsOn:1}),i=ZR(JR(r),{weekStartsOn:1});return{start:a,end:i}}function hD(){const[t,e]=A.useState([]),[r,a]=A.useState([]),[i,l]=A.useState(null),[c,d]=A.useState(!0),[h,m]=A.useState(!1),[v,y]=A.useState(null),[b,x]=A.useState(null),w=A.useRef(!0),_=A.useRef(null),S=A.useRef(!1),j=A.useCallback(async(T=!1)=>{T?m(!0):d(!0);try{const{start:O,end:M}=_7(),D=await x7(O,M);if(!w.current)return;e(D.events),a(D.staffList),l(D.salon),y(null),x(new Date),_.current={start:O,end:M}}catch(O){if(!w.current)return;const M=O instanceof Error?O.message:"Error al cargar eventos";y(M),console.error("Calendar error:",O)}finally{w.current&&(d(!1),m(!1))}},[]),E=A.useCallback(async()=>{const T=t.length>0||r.length>0;await j(T)},[j,t.length,r.length]);return A.useEffect(()=>(w.current=!0,S.current||(S.current=!0,j(!1)),()=>{w.current=!1}),[j]),A.useEffect(()=>{const T=setInterval(()=>{w.current&&!c&&!h&&j(!0)},w7);return()=>clearInterval(T)},[j,c,h]),{events:t,staffList:r,salon:i,isInitialLoading:c,isRefreshing:h,error:v,lastUpdated:b,refresh:E}}const bl={monday:{open:"09:00",close:"20:00",enabled:!0},tuesday:{open:"09:00",close:"20:00",enabled:!0},wednesday:{open:"09:00",close:"20:00",enabled:!0},thursday:{open:"09:00",close:"20:00",enabled:!0},friday:{open:"09:00",close:"20:00",enabled:!0},saturday:{open:"09:00",close:"14:00",enabled:!0},sunday:{open:null,close:null,enabled:!1}},S7={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"},E7=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function j7(){const t=[];for(let e=7;e<=22;e++)for(let r=0;r<60&&!(e===22&&r>0);r+=15)t.push(`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`);return t}const tO=j7();function mD({value:t,onChange:e,showInheritOption:r=!1,inheritLabel:a="Usar horario del saln"}){const[i,l]=A.useState(t!==null),[c,d]=A.useState(t||bl);A.useEffect(()=>{l(t!==null),d(t||bl)},[t]);const h=y=>{l(y),e(y?c:null)},m=y=>{const b={...c,[y]:{...c[y],enabled:!c[y].enabled,open:c[y].enabled?c[y].open:"09:00",close:c[y].enabled?c[y].close:"20:00"}};d(b),i&&e(b)},v=(y,b,x)=>{const w={...c,[y]:{...c[y],[b]:x}};d(w),i&&e(w)};return f.jsxs("div",{className:"space-y-4",children:[r&&f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[f.jsx("button",{type:"button",onClick:()=>h(!i),className:`p-1 rounded-lg transition-colors ${i?"text-indigo-400 hover:bg-indigo-500/20":"text-slate-500 hover:bg-slate-600"}`,children:i?f.jsx(by,{className:"h-6 w-6"}):f.jsx(yy,{className:"h-6 w-6"})}),f.jsx("span",{className:"text-sm text-slate-300",children:i?"Horario personalizado":a})]}),(!r||i)&&f.jsx("div",{className:"space-y-2",children:E7.map(y=>f.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-colors ${c[y].enabled?"bg-slate-700/50 border-slate-600":"bg-slate-800/50 border-slate-700 opacity-60"}`,children:[f.jsx("button",{type:"button",onClick:()=>m(y),className:`p-1 rounded transition-colors ${c[y].enabled?"text-green-400 hover:bg-green-500/20":"text-slate-500 hover:bg-slate-600"}`,children:c[y].enabled?f.jsx(by,{className:"h-5 w-5"}):f.jsx(yy,{className:"h-5 w-5"})}),f.jsx("span",{className:"w-24 font-medium text-white text-sm",children:S7[y]}),c[y].enabled?f.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f.jsx(sn,{className:"h-4 w-4 text-slate-400"}),f.jsx("select",{value:c[y].open||"09:00",onChange:b=>v(y,"open",b.target.value),className:"bg-slate-700 border border-slate-600 rounded px-2 py-1 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:tO.map(b=>f.jsx("option",{value:b,children:b},b))}),f.jsx("span",{className:"text-slate-400",children:"-"}),f.jsx("select",{value:c[y].close||"20:00",onChange:b=>v(y,"close",b.target.value),className:"bg-slate-700 border border-slate-600 rounded px-2 py-1 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:tO.filter(b=>b>(c[y].open||"00:00")).map(b=>f.jsx("option",{value:b,children:b},b))})]}):f.jsx("span",{className:"text-sm text-slate-500 italic",children:"Cerrado"})]},y))})]})}const N7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/manage-users";async function pD(){const{data:t,error:e}=await Te.from("salons").select("*").order("name");if(e)throw new Error(e.message);return t||[]}async function T7(t){const{data:e,error:r}=await Te.from("salons").insert([{...t,slug:t.slug||t.name.toLowerCase().replace(/\s+/g,"-")}]).select().single();if(r)throw new Error(r.message);return e}async function vD(t,e){const{data:r,error:a}=await Te.from("salons").update(e).eq("id",t).select().single();if(a)throw new Error(a.message);return r}async function O7(t){const{error:e}=await Te.from("salons").delete().eq("id",t);if(e)throw new Error(e.message)}async function C7(){const{data:t,error:e}=await Te.from("profiles").select("*").order("full_name");if(e)throw new Error(e.message);return t||[]}async function pf(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(N7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Error en la operacin");return a}async function A7(t){return(await pf({action:"create",...t})).user}async function R7(t,e){return(await pf({action:"update",user_id:t,...e})).user}async function D7(t,e){await pf({action:"update_password",user_id:t,password:e})}async function k7(t){await pf({action:"delete",user_id:t})}async function M7(){const[t,e]=await Promise.all([Te.from("salons").select("id",{count:"exact",head:!0}),Te.from("profiles").select("role")]);if(t.error)throw new Error(t.error.message);if(e.error)throw new Error(e.error.message);const r=e.data||[];return{totalSalons:t.count||0,totalUsers:r.length,totalAdmins:r.filter(a=>a.role==="admin").length,totalStaff:r.filter(a=>a.role==="staff").length}}const rO={username:"",password:"",full_name:"",role:"staff",salon_id:"",google_calendar_id:"",selectedServiceIds:[],working_hours:null};function gD({onUpdate:t,salonFilter:e}){const[r,a]=A.useState([]),[i,l]=A.useState([]),[c,d]=A.useState(!0),[h,m]=A.useState(null),[v,y]=A.useState(""),[b,x]=A.useState(e||""),[w,_]=A.useState(!1),[S,j]=A.useState(null),[E,T]=A.useState(rO),[O,M]=A.useState(!1),[D,R]=A.useState(!1),[P,L]=A.useState(null),[C,q]=A.useState(null),[U,z]=A.useState(""),[W,ee]=A.useState(!1),[B,H]=A.useState([]),[te,le]=A.useState(!1),[V,$]=A.useState(new Set),[X,oe]=A.useState({}),ue=async()=>{try{d(!0),m(null);const[re,xe]=await Promise.all([C7(),pD()]);a(re),l(xe);const _e={};for(const Xe of re)if(Xe.role==="staff"||Xe.role==="admin")try{const st=await Q2(Xe.id);_e[Xe.id]=st.length}catch{_e[Xe.id]=0}oe(_e)}catch(re){m(re instanceof Error?re.message:"Error al cargar datos")}finally{d(!1)}};A.useEffect(()=>{ue()},[]);const fe=r.filter(re=>{if(e&&re.salon_id!==e||b&&re.salon_id!==b)return!1;const xe=v.toLowerCase();return re.full_name.toLowerCase().includes(xe)||re.username?.toLowerCase().includes(xe)||re.email?.toLowerCase().includes(xe)}),pe=re=>re?i.find(_e=>_e.id===re)?.name||"Desconocido":"Sin saln",be=re=>{switch(re){case"superadmin":return"bg-purple-500/20 text-purple-400";case"admin":return"bg-indigo-500/20 text-indigo-400";default:return"bg-slate-500/20 text-slate-400"}},ke=async()=>{j(null);const re=e||i[0]?.id||"";if(T({...rO,salon_id:re}),M(!1),H([]),$(new Set),_(!0),re){le(!0);try{const xe=await Nd(re);H(xe);const _e=new Set(xe.map(Xe=>Xe.category||"Otros"));$(_e)}catch(xe){console.error("Error loading services:",xe)}finally{le(!1)}}},Pe=async re=>{if(j(re),H([]),$(new Set),T({username:re.username||"",password:"",full_name:re.full_name,role:re.role==="superadmin"?"admin":re.role,salon_id:re.salon_id||"",google_calendar_id:re.google_calendar_id||"",selectedServiceIds:[],working_hours:re.working_hours||null}),_(!0),re.salon_id){le(!0);try{const[xe,_e]=await Promise.all([Nd(re.salon_id),Q2(re.id)]);H(xe),T(st=>({...st,selectedServiceIds:_e}));const Xe=new Set(xe.map(st=>st.category||"Otros"));$(Xe)}catch(xe){console.error("Error loading services:",xe)}finally{le(!1)}}},bt=async re=>{re.preventDefault(),R(!0),m(null);try{let xe;if(S)await R7(S.id,{full_name:E.full_name,role:E.role,salon_id:E.salon_id,google_calendar_id:E.google_calendar_id||void 0,working_hours:E.working_hours}),xe=S.id;else{if(!E.password){m("La contrasea es requerida"),R(!1);return}xe=(await A7({username:E.username,password:E.password,full_name:E.full_name,role:E.role,salon_id:E.salon_id,google_calendar_id:E.google_calendar_id||void 0})).id}(E.role==="staff"||E.role==="admin")&&await d7(xe,E.selectedServiceIds),_(!1),ue(),t?.()}catch(xe){m(xe instanceof Error?xe.message:"Error al guardar")}finally{R(!1)}},vt=re=>{$(xe=>{const _e=new Set(xe);return _e.has(re)?_e.delete(re):_e.add(re),_e})},Wt=re=>{T(xe=>{const _e=new Set(xe.selectedServiceIds);return _e.has(re)?_e.delete(re):_e.add(re),{...xe,selectedServiceIds:Array.from(_e)}})},pr=()=>{T(re=>({...re,selectedServiceIds:B.map(xe=>xe.id)}))},xt=()=>{T(re=>({...re,selectedServiceIds:[]}))},Ae=B.reduce((re,xe)=>{const _e=xe.category||"Otros";return re[_e]||(re[_e]=[]),re[_e].push(xe),re},{}),Pt=async()=>{if(!(!C||!U)){ee(!0);try{await D7(C,U),q(null),z("")}catch(re){m(re instanceof Error?re.message:"Error al cambiar contrasea")}finally{ee(!1)}}},De=async re=>{try{await k7(re),L(null),ue(),t?.()}catch(xe){m(xe instanceof Error?xe.message:"Error al eliminar")}};return c?f.jsx("div",{className:"p-12 flex justify-center",children:f.jsx(Tt,{className:"h-8 w-8 animate-spin text-indigo-400"})}):f.jsxs("div",{children:[f.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[f.jsxs("div",{className:"relative flex-1 max-w-md",children:[f.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:v,onChange:re=>y(re.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),!e&&f.jsxs("select",{value:b,onChange:re=>x(re.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:[f.jsx("option",{value:"",children:"Todos los salones"}),i.map(re=>f.jsx("option",{value:re.id,children:re.name},re.id))]})]}),f.jsxs("button",{onClick:ke,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[f.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Usuario"]})]}),h&&f.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:h}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Usuario"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Saln"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"Calendar ID"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden sm:table-cell",children:"Servicios"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),f.jsx("tbody",{children:fe.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-slate-400",children:v||b?"No se encontraron usuarios":"No hay usuarios registrados"})}):fe.map(re=>f.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-lg flex items-center justify-center",children:f.jsx(bn,{className:"h-5 w-5 text-slate-300"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:re.full_name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("p",{className:"text-xs text-slate-400",children:["@",re.username]}),f.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${be(re.role)}`,children:re.role})]})]})]})}),f.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:f.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-300",children:[f.jsx(md,{className:"h-3.5 w-3.5 text-slate-400"}),pe(re.salon_id)]})}),f.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(nn,{className:"h-3.5 w-3.5 text-slate-400"}),f.jsx("span",{className:"text-sm text-slate-300 font-mono truncate max-w-[200px]",children:re.google_calendar_id||"-"})]})}),f.jsx("td",{className:"px-4 py-4 hidden sm:table-cell",children:(re.role==="staff"||re.role==="admin")&&re.salon_id?f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(Fl,{className:"h-3.5 w-3.5 text-slate-400"}),f.jsxs("span",{className:`px-2 py-1 text-xs rounded-full ${X[re.id]>0?"bg-indigo-500/20 text-indigo-400":"bg-slate-500/20 text-slate-400"}`,children:[X[re.id]||0," servicios"]})]}):f.jsx("span",{className:"text-sm text-slate-500",children:"-"})}),f.jsx("td",{className:"px-4 py-4 text-right",children:P===re.id?f.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),f.jsx("button",{onClick:()=>De(re.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:f.jsx(Yn,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>L(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:f.jsx(Tr,{className:"h-4 w-4"})})]}):f.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[f.jsx("button",{onClick:()=>{q(re.id),z("")},className:"p-1.5 text-slate-400 hover:text-amber-400 hover:bg-amber-900/30 rounded-lg transition-colors",title:"Cambiar contrasea",children:f.jsx(n6,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>Pe(re),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:f.jsx(KC,{className:"h-4 w-4"})}),re.role!=="superadmin"&&f.jsx("button",{onClick:()=>L(re.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Eliminar",children:f.jsx(ys,{className:"h-4 w-4"})})]})})]},re.id))})]})}),w&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold",children:S?"Editar Usuario":"Nuevo Usuario"}),f.jsx("button",{onClick:()=>_(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:bt,className:"p-4 space-y-4",children:[!S&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre de usuario *"}),f.jsx("input",{type:"text",value:E.username,onChange:re=>T({...E,username:re.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")}),placeholder:"usuario123",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),f.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Solo letras minsculas, nmeros y guiones bajos"})]}),!S&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Contrasea *"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:O?"text":"password",value:E.password,onChange:re=>T({...E,password:re.target.value}),className:"w-full px-3 py-2 pr-10 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),f.jsx("button",{type:"button",onClick:()=>M(!O),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:O?f.jsx(GC,{className:"h-4 w-4"}):f.jsx(WC,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre completo *"}),f.jsx("input",{type:"text",value:E.full_name,onChange:re=>T({...E,full_name:re.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Rol *"}),f.jsxs("select",{value:E.role,onChange:re=>T({...E,role:re.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",disabled:!!e,children:[!e&&f.jsx("option",{value:"admin",children:"Admin"}),f.jsx("option",{value:"staff",children:"Staff"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Saln *"}),f.jsxs("select",{value:E.salon_id,onChange:re=>T({...E,salon_id:re.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0,disabled:!!e,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),i.map(re=>f.jsx("option",{value:re.id,children:re.name},re.id))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Google Calendar ID"}),f.jsx("input",{type:"text",value:E.google_calendar_id,onChange:re=>T({...E,google_calendar_id:re.target.value}),placeholder:"ejemplo@group.calendar.google.com",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),(E.role==="staff"||E.role==="admin")&&E.salon_id&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Servicios que puede realizar"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:pr,className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded transition-colors",children:"Todos"}),f.jsx("button",{type:"button",onClick:xt,className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded transition-colors",children:"Ninguno"})]})]}),te?f.jsx("div",{className:"flex items-center justify-center py-4",children:f.jsx(Tt,{className:"h-5 w-5 animate-spin text-indigo-400"})}):B.length===0?f.jsx("p",{className:"text-sm text-slate-500 py-2",children:"No hay servicios configurados para este saln"}):f.jsx("div",{className:"bg-slate-700/50 rounded-lg border border-slate-600 max-h-48 overflow-y-auto",children:Object.entries(Ae).map(([re,xe])=>f.jsxs("div",{className:"border-b border-slate-600 last:border-b-0",children:[f.jsxs("button",{type:"button",onClick:()=>vt(re),className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-slate-600/50 transition-colors",children:[V.has(re)?f.jsx(HC,{className:"h-4 w-4 text-slate-400"}):f.jsx(Ai,{className:"h-4 w-4 text-slate-400"}),f.jsx("span",{className:"text-sm font-medium text-slate-300",children:re}),f.jsxs("span",{className:"text-xs text-slate-500",children:["(",xe.filter(_e=>E.selectedServiceIds.includes(_e.id)).length,"/",xe.length,")"]})]}),V.has(re)&&f.jsx("div",{className:"pl-6 pr-3 pb-2 space-y-1",children:xe.map(_e=>f.jsxs("label",{className:"flex items-center gap-2 py-1 px-2 rounded hover:bg-slate-600/30 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:E.selectedServiceIds.includes(_e.id),onChange:()=>Wt(_e.id),className:"w-4 h-4 rounded border-slate-500 bg-slate-600 text-indigo-500 focus:ring-indigo-500 focus:ring-offset-0"}),f.jsx("span",{className:"text-sm text-slate-300",children:_e.name}),f.jsxs("span",{className:"text-xs text-slate-500",children:["(",_e.duration_minutes," min - ",_e.price,")"]})]},_e.id))})]},re))}),f.jsxs("p",{className:"text-xs text-slate-400 mt-1.5",children:[E.selectedServiceIds.length," de ",B.length," servicios seleccionados"]})]}),(E.role==="staff"||E.role==="admin")&&E.salon_id&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(sn,{className:"h-4 w-4 text-slate-400"}),f.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Horario de trabajo"})]}),f.jsx(mD,{value:E.working_hours,onChange:re=>T({...E,working_hours:re}),showInheritOption:!0,inheritLabel:"Usar horario del saln"}),f.jsx("p",{className:"text-xs text-slate-400 mt-2",children:E.working_hours===null?"El empleado usa el horario por defecto del saln":"El empleado tiene un horario personalizado"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsxs("button",{type:"submit",disabled:D,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),S?"Guardar":"Crear"]})]})]})]})}),C&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-sm",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Cambiar Contrasea"}),f.jsx("button",{onClick:()=>q(null),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nueva contrasea"}),f.jsx("input",{type:"password",value:U,onChange:re=>z(re.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",autoFocus:!0})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>q(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsxs("button",{onClick:Pt,disabled:W||!U,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[W&&f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Cambiar"]})]})]})]})})]})}const nO=[{value:"tariff_change",label:"Cambio de tarifas"},{value:"time_change",label:"Cambio de horarios"},{value:"bug",label:"Reportar error"},{value:"feature",label:"Sugerencia"},{value:"other",label:"Otro"}],aO=[{value:"open",label:"Abierto",color:"bg-blue-500/20 text-blue-400"},{value:"in_progress",label:"En progreso",color:"bg-yellow-500/20 text-yellow-400"},{value:"resolved",label:"Resuelto",color:"bg-green-500/20 text-green-400"},{value:"closed",label:"Cerrado",color:"bg-slate-500/20 text-slate-400"}],sO=[{value:"low",label:"Baja",color:"text-slate-400"},{value:"normal",label:"Normal",color:"text-blue-400"},{value:"high",label:"Alta",color:"text-orange-400"},{value:"urgent",label:"Urgente",color:"text-red-400"}];function yD({salonId:t,showAllSalons:e=!1}){const{profile:r,isSuperAdmin:a}=Bl(),[i,l]=A.useState([]),[c,d]=A.useState(!0),[h,m]=A.useState(null),[v,y]=A.useState(!1),[b,x]=A.useState(!1),[w,_]=A.useState(null),[S,j]=A.useState("other"),[E,T]=A.useState(""),[O,M]=A.useState(""),[D,R]=A.useState("normal"),[P,L]=A.useState(null),[C,q]=A.useState(""),U=async()=>{try{d(!0),m(null);let V=Te.from("tickets").select("*").order("created_at",{ascending:!1});t&&!e&&(V=V.eq("salon_id",t));const{data:$,error:X}=await V;if(X){console.error("Error fetching tickets:",X),m("No se pudieron cargar los tickets");return}if(e&&$&&$.length>0){const oe=[...new Set($.map(pe=>pe.salon_id))],{data:ue}=await Te.from("salons").select("id, name").in("id",oe),fe=new Map(ue?.map(pe=>[pe.id,pe.name])||[]);$.forEach(pe=>{pe.salon_name=fe.get(pe.salon_id)||"Desconocido"})}l($||[])}catch(V){console.error("Unexpected error:",V),m("Error inesperado al cargar tickets")}finally{d(!1)}};A.useEffect(()=>{U()},[t,e]);const z=async V=>{if(V.preventDefault(),!r?.salon_id&&!t){m("No se pudo determinar el saln");return}x(!0),m(null);try{const{error:$}=await Te.from("tickets").insert({salon_id:t||r?.salon_id,created_by:r?.id,type:S,subject:E.trim(),description:O.trim(),priority:D,status:"open"});if($){console.error("Error creating ticket:",$),m("No se pudo crear el ticket");return}j("other"),T(""),M(""),R("normal"),y(!1),U()}catch($){console.error("Unexpected error:",$),m("Error inesperado")}finally{x(!1)}},W=async(V,$)=>{L(V);try{const X={status:$};$==="resolved"&&(X.resolved_at=new Date().toISOString());const{error:oe}=await Te.from("tickets").update(X).eq("id",V);if(oe){console.error("Error updating ticket:",oe),m("No se pudo actualizar el ticket");return}U()}finally{L(null)}},ee=async V=>{if(C.trim())try{const{error:$}=await Te.from("tickets").update({admin_notes:C.trim()}).eq("id",V);if($){console.error("Error updating notes:",$);return}q(""),_(null),U()}catch($){console.error("Error:",$)}},B=V=>{const $=aO.find(X=>X.value===V);return f.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${$?.color}`,children:$?.label})},H=V=>{const $=sO.find(X=>X.value===V);return f.jsx("span",{className:`text-xs ${$?.color}`,children:$?.label})},te=V=>nO.find($=>$.value===V)?.label||V,le=V=>new Date(V).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:e?"Todos los Tickets":"Mis Tickets"}),f.jsx("p",{className:"text-sm text-slate-400",children:e?"Gestiona las solicitudes de todos los salones":"Enva solicitudes al equipo de Galia"})]}),!e&&f.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[f.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Ticket"]})]}),h&&f.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:h}),v&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[f.jsx("h4",{className:"text-lg font-semibold text-white",children:"Nuevo Ticket"}),f.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-white",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:z,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Tipo de solicitud"}),f.jsx("select",{value:S,onChange:V=>j(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:nO.map(V=>f.jsx("option",{value:V.value,children:V.label},V.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Prioridad"}),f.jsx("select",{value:D,onChange:V=>R(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:sO.map(V=>f.jsx("option",{value:V.value,children:V.label},V.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Asunto"}),f.jsx("input",{type:"text",value:E,onChange:V=>T(V.target.value),placeholder:"Resumen breve del problema",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),f.jsx("textarea",{value:O,onChange:V=>M(V.target.value),placeholder:"Describe con detalle tu solicitud...",rows:4,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none",required:!0})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),f.jsxs("button",{type:"submit",disabled:b,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[b?f.jsx(Tt,{className:"h-4 w-4 animate-spin"}):f.jsx(j6,{className:"h-4 w-4"}),"Enviar Ticket"]})]})]})]})}),w&&a&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[f.jsx("h4",{className:"text-lg font-semibold text-white",children:"Detalle del Ticket"}),f.jsx("button",{onClick:()=>_(null),className:"text-slate-400 hover:text-white",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Saln"}),f.jsx("p",{className:"text-white",children:w.salon_name})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Asunto"}),f.jsx("p",{className:"text-white",children:w.subject})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Descripcin"}),f.jsx("p",{className:"text-white whitespace-pre-wrap",children:w.description})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Tipo"}),f.jsx("p",{className:"text-white",children:te(w.type)})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Prioridad"}),H(w.priority)]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Estado"}),B(w.status)]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas internas"}),f.jsx("textarea",{value:C||w.admin_notes||"",onChange:V=>q(V.target.value),placeholder:"Aade notas sobre este ticket...",rows:3,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Cambiar estado"}),f.jsx("div",{className:"flex gap-2 flex-wrap",children:aO.map(V=>f.jsx("button",{onClick:()=>W(w.id,V.value),disabled:P===w.id,className:`px-3 py-1 rounded text-sm ${w.status===V.value?V.color+" ring-2 ring-offset-2 ring-offset-slate-800 ring-current":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:V.label},V.value))})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cerrar"}),f.jsx("button",{onClick:()=>ee(w.id),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:"Guardar Notas"})]})]})]})}),c?f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):i.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(YC,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-400",children:"No hay tickets"}),!e&&f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Crea uno para enviar una solicitud al equipo de Galia"})]}):f.jsx("div",{className:"space-y-3",children:i.map(V=>f.jsxs("div",{onClick:()=>a&&_(V),className:`bg-slate-900 border border-slate-700 rounded-lg p-4 ${a?"cursor-pointer hover:border-slate-600":""}`,children:[f.jsxs("div",{className:"flex justify-between items-start gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[B(V.status),H(V.priority),f.jsx("span",{className:"text-xs text-slate-500",children:te(V.type)})]}),f.jsx("h4",{className:"text-white font-medium truncate",children:V.subject}),f.jsx("p",{className:"text-sm text-slate-400 line-clamp-2 mt-1",children:V.description}),e&&V.salon_name&&f.jsx("p",{className:"text-xs text-indigo-400 mt-2",children:V.salon_name})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[f.jsx(sn,{className:"h-3 w-3"}),le(V.created_at)]}),V.status==="resolved"&&V.resolved_at&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-500 mt-1",children:[f.jsx(pd,{className:"h-3 w-3"}),"Resuelto"]}),a&&f.jsx(HC,{className:"h-4 w-4 text-slate-500 mt-2 ml-auto"})]})]}),V.admin_notes&&f.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[f.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Notas del equipo:"}),f.jsx("p",{className:"text-sm text-slate-300",children:V.admin_notes})]})]},V.id))})]})}const X0=[{value:"waiting",label:"Esperando",color:"bg-blue-500/20 text-blue-400",icon:f.jsx(sn,{className:"h-3 w-3"})},{value:"contacted",label:"Contactado",color:"bg-yellow-500/20 text-yellow-400",icon:f.jsx(QC,{className:"h-3 w-3"})},{value:"booked",label:"Agendado",color:"bg-green-500/20 text-green-400",icon:f.jsx(Lq,{className:"h-3 w-3"})},{value:"cancelled",label:"Cancelado",color:"bg-red-500/20 text-red-400",icon:f.jsx(gy,{className:"h-3 w-3"})},{value:"expired",label:"Expirado",color:"bg-slate-500/20 text-slate-400",icon:f.jsx(gy,{className:"h-3 w-3"})}];function q7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState(!1),[m,v]=A.useState(!1),[y,b]=A.useState("waiting"),[x,w]=A.useState(""),[_,S]=A.useState(""),[j,E]=A.useState(""),[T,O]=A.useState(""),[M,D]=A.useState(""),[R,P]=A.useState(""),L=async()=>{if(t)try{i(!0),c(null);let H=Te.from("waitlist").select("*").eq("salon_id",t).order("created_at",{ascending:!1});y!=="all"&&(H=H.eq("status",y));const{data:te,error:le}=await H;if(le){console.error("Error fetching waitlist:",le),c("No se pudo cargar la lista de espera");return}r(te||[])}catch(H){console.error("Unexpected error:",H),c("Error inesperado")}finally{i(!1)}};A.useEffect(()=>{L()},[t,y]);const C=async H=>{if(H.preventDefault(),!!t){v(!0),c(null);try{const{error:te}=await Te.from("waitlist").insert({salon_id:t,customer_name:x.trim(),customer_phone:_.trim(),preferred_date:j||null,preferred_time:T||null,service_type:M.trim()||null,notes:R.trim()||null,status:"waiting",source:"manual"});if(te){console.error("Error creating entry:",te),c("No se pudo aadir a la lista");return}w(""),S(""),E(""),O(""),D(""),P(""),h(!1),L()}catch(te){console.error("Unexpected error:",te),c("Error inesperado")}finally{v(!1)}}},q=async(H,te)=>{try{const le={status:te};te==="contacted"&&(le.contacted_at=new Date().toISOString());const{error:V}=await Te.from("waitlist").update(le).eq("id",H);if(V){console.error("Error updating entry:",V),c("No se pudo actualizar");return}L()}catch(le){console.error("Error:",le)}},U=async H=>{if(confirm("Eliminar esta entrada de la lista de espera?"))try{const{error:te}=await Te.from("waitlist").delete().eq("id",H);if(te){console.error("Error deleting entry:",te),c("No se pudo eliminar");return}L()}catch(te){console.error("Error:",te)}},z=H=>{const te=X0.find(le=>le.value===H);return f.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${te?.color}`,children:[te?.icon,te?.label]})},W=H=>new Date(H).toLocaleDateString("es-ES",{day:"2-digit",month:"short"}),ee=H=>new Date(H).toLocaleDateString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),B=e.filter(H=>H.status==="waiting").length;return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:"Lista de Espera"}),f.jsxs("p",{className:"text-sm text-slate-400",children:[B," cliente",B!==1?"s":""," esperando"]})]}),f.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[f.jsx(Vn,{className:"h-4 w-4"}),"Aadir"]})]}),l&&f.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:l}),f.jsxs("div",{className:"flex gap-2 mb-6 flex-wrap",children:[f.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${y==="all"?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Todos"}),X0.map(H=>f.jsxs("button",{onClick:()=>b(H.value),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${y===H.value?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[H.icon,H.label]},H.value))]}),d&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[f.jsx("h4",{className:"text-lg font-semibold text-white",children:"Aadir a Lista de Espera"}),f.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-white",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:C,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre del cliente *"}),f.jsx("input",{type:"text",value:x,onChange:H=>w(H.target.value),placeholder:"Nombre completo",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),f.jsx("input",{type:"tel",value:_,onChange:H=>S(H.target.value),placeholder:"+34 600 000 000",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Fecha preferida"}),f.jsx("input",{type:"date",value:j,onChange:H=>E(H.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Hora preferida"}),f.jsx("input",{type:"time",value:T,onChange:H=>O(H.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Servicio solicitado"}),f.jsx("input",{type:"text",value:M,onChange:H=>D(H.target.value),placeholder:"Ej: Corte y color",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),f.jsx("textarea",{value:R,onChange:H=>P(H.target.value),placeholder:"Informacin adicional...",rows:2,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),f.jsxs("button",{type:"submit",disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[m?f.jsx(Tt,{className:"h-4 w-4 animate-spin"}):f.jsx(Vn,{className:"h-4 w-4"}),"Aadir"]})]})]})]})}),a?f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):e.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(sn,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-400",children:y==="all"?"No hay nadie en la lista de espera":`No hay entradas con estado "${X0.find(H=>H.value===y)?.label}"`}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Aade clientes que quieran una cita cuando haya hueco"})]}):f.jsx("div",{className:"space-y-3",children:e.map(H=>f.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-start gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[z(H.status),H.source==="chatbot"&&f.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-purple-500/20 text-purple-400",children:"Chatbot"})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(bn,{className:"h-4 w-4 text-slate-500"}),f.jsx("span",{className:"text-white font-medium",children:H.customer_name})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Hl,{className:"h-4 w-4 text-slate-500"}),f.jsx("a",{href:`tel:${H.customer_phone}`,className:"text-indigo-400 hover:text-indigo-300 text-sm",children:H.customer_phone})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-400",children:[H.preferred_date&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(nn,{className:"h-3.5 w-3.5"}),W(H.preferred_date),H.preferred_time&&` a las ${H.preferred_time}`]}),H.service_type&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-slate-500",children:"Servicio:"}),H.service_type]})]}),H.notes&&f.jsxs("div",{className:"mt-2 flex items-start gap-1 text-sm text-slate-400",children:[f.jsx(YC,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),f.jsx("span",{children:H.notes})]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsx("p",{className:"text-xs text-slate-500 mb-2",children:ee(H.created_at)}),f.jsxs("div",{className:"flex gap-1",children:[H.status==="waiting"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>q(H.id,"contacted"),title:"Marcar como contactado",className:"p-1.5 bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30 rounded transition-colors",children:f.jsx(QC,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>q(H.id,"booked"),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:f.jsx(pd,{className:"h-4 w-4"})})]}),H.status==="contacted"&&f.jsx("button",{onClick:()=>q(H.id,"booked"),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:f.jsx(pd,{className:"h-4 w-4"})}),(H.status==="waiting"||H.status==="contacted")&&f.jsx("button",{onClick:()=>q(H.id,"cancelled"),title:"Cancelar",className:"p-1.5 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded transition-colors",children:f.jsx(gy,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>U(H.id),title:"Eliminar",className:"p-1.5 bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white rounded transition-colors",children:f.jsx(ys,{className:"h-4 w-4"})})]})]})]}),H.contacted_at&&f.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 text-xs text-slate-500",children:["Contactado el ",ee(H.contacted_at)]})]},H.id))})]})}const P7=["Corte","Color","Peinado","Tratamiento","Barba","Esttica","Manicura","Pedicura","Otro"];function L7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState(!1),[m,v]=A.useState(null),[y,b]=A.useState(!1),[x,w]=A.useState("all"),[_,S]=A.useState(!1),[j,E]=A.useState({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),T=async()=>{if(t)try{i(!0),c(null);let z=Te.from("services").select("*").eq("salon_id",t).order("display_order",{ascending:!0}).order("name",{ascending:!0});_||(z=z.eq("active",!0));const{data:W,error:ee}=await z;if(ee)throw ee;r(W||[])}catch(z){console.error("Error fetching services:",z),c("No se pudieron cargar los servicios.")}finally{i(!1)}};A.useEffect(()=>{T()},[t,_]);const O=()=>{v(null),E({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),h(!0)},M=z=>{v(z),E({name:z.name,description:z.description||"",duration_minutes:z.duration_minutes,price:z.price,category:z.category||"",active:z.active}),h(!0)},D=async z=>{if(z.preventDefault(),!!t)try{b(!0),c(null);const W={salon_id:t,name:j.name.trim(),description:j.description.trim()||null,duration_minutes:j.duration_minutes,price:j.price,category:j.category||null,active:j.active};if(m){const{error:ee}=await Te.from("services").update(W).eq("id",m.id);if(ee)throw ee}else{const ee=e.reduce((H,te)=>Math.max(H,te.display_order),0),{error:B}=await Te.from("services").insert({...W,display_order:ee+1});if(B)throw B}h(!1),T()}catch(W){console.error("Error saving service:",W),c("No se pudo guardar el servicio.")}finally{b(!1)}},R=async z=>{try{const{error:W}=await Te.from("services").update({active:!z.active}).eq("id",z.id);if(W)throw W;T()}catch(W){console.error("Error toggling service:",W),c("No se pudo actualizar el servicio.")}},P=async z=>{if(confirm(`Eliminar "${z.name}"? Esta accin no se puede deshacer.`))try{const{error:W}=await Te.from("services").delete().eq("id",z.id);if(W)throw W;T()}catch(W){console.error("Error deleting service:",W),c("No se pudo eliminar el servicio.")}},L=z=>{if(z<60)return`${z} min`;const W=Math.floor(z/60),ee=z%60;return ee>0?`${W}h ${ee}min`:`${W}h`},C=z=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(z),q=[...new Set(e.map(z=>z.category).filter(Boolean))],U=e.filter(z=>x==="all"?!0:x==="uncategorized"?!z.category:z.category===x);return a&&e.length===0?f.jsx("div",{className:"p-6",children:f.jsx(Ri,{text:"Cargando servicios..."})}):f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:"Catlogo de Servicios"}),f.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Define los servicios que ofrece tu saln. El chatbot usar esta informacin."})]}),f.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[f.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Servicio"]})]}),l&&f.jsx("div",{className:"mb-6",children:f.jsx(bs,{title:"Error",message:l,onRetry:T})}),f.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-sm text-slate-400",children:"Categora:"}),f.jsxs("select",{value:x,onChange:z=>w(z.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-1.5 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[f.jsx("option",{value:"all",children:"Todas"}),q.map(z=>f.jsx("option",{value:z,children:z},z)),f.jsx("option",{value:"uncategorized",children:"Sin categora"})]})]}),f.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-400 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:_,onChange:z=>S(z.target.checked),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Mostrar inactivos"]})]}),U.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(JC,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-400",children:"No hay servicios configurados."}),f.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Crear primer servicio"})]}):f.jsx("div",{className:"grid gap-3",children:U.map(z=>f.jsx("div",{className:`bg-slate-700/50 rounded-lg p-4 border ${z.active?"border-slate-600":"border-slate-700 opacity-60"}`,children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"p-1 text-slate-500 cursor-move",children:f.jsx(t6,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h4",{className:"font-medium text-white",children:z.name}),z.category&&f.jsx("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:z.category}),!z.active&&f.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-xs rounded",children:"Inactivo"})]}),z.description&&f.jsx("p",{className:"text-sm text-slate-400 mt-1",children:z.description}),f.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[f.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[f.jsx(sn,{className:"h-4 w-4"}),L(z.duration_minutes)]}),f.jsxs("span",{className:"flex items-center gap-1 text-green-400 font-medium",children:[f.jsx(FC,{className:"h-4 w-4"}),C(z.price)]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>R(z),className:`p-2 rounded-lg transition-colors ${z.active?"text-green-400 hover:bg-green-500/20":"text-slate-500 hover:bg-slate-600"}`,title:z.active?"Desactivar":"Activar",children:z.active?f.jsx(by,{className:"h-5 w-5"}):f.jsx(yy,{className:"h-5 w-5"})}),f.jsx("button",{onClick:()=>M(z),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:f.jsx(XC,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>P(z),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:f.jsx(ys,{className:"h-4 w-4"})})]})]})},z.id))}),d&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Servicio":"Nuevo Servicio"}),f.jsx("button",{onClick:()=>h(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),f.jsx("input",{type:"text",value:j.name,onChange:z=>E(W=>({...W,name:z.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ej: Corte de pelo",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),f.jsx("textarea",{value:j.description,onChange:z=>E(W=>({...W,description:z.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Descripcin opcional del servicio"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Duracin (min) *"}),f.jsx("input",{type:"number",value:j.duration_minutes,onChange:z=>E(W=>({...W,duration_minutes:parseInt(z.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"5",step:"5",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Precio () *"}),f.jsx("input",{type:"number",value:j.price,onChange:z=>E(W=>({...W,price:parseFloat(z.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"0",step:"0.50",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Categora"}),f.jsxs("select",{value:j.category,onChange:z=>E(W=>({...W,category:z.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Sin categora"}),P7.map(z=>f.jsx("option",{value:z,children:z},z))]})]}),f.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:j.active,onChange:z=>E(W=>({...W,active:z.target.checked})),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Servicio activo (visible para clientes)"]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:y||!j.name.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function $7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState(!1),[m,v]=A.useState(null),[y,b]=A.useState(!1),[x,w]=A.useState(""),[_,S]=A.useState("all"),[j,E]=A.useState({name:"",phone:"",email:"",notes:"",source:"manual"}),T=async()=>{if(t)try{i(!0),c(null);const{data:C,error:q}=await Te.from("clients").select("*").eq("salon_id",t).order("last_contact_at",{ascending:!1});if(q)throw q;r(C||[])}catch(C){console.error("Error fetching clients:",C),c("No se pudieron cargar los clientes.")}finally{i(!1)}};A.useEffect(()=>{T()},[t]);const O=()=>{v(null),E({name:"",phone:"",email:"",notes:"",source:"manual"}),h(!0)},M=C=>{v(C),E({name:C.name,phone:C.phone,email:C.email||"",notes:C.notes||"",source:C.source}),h(!0)},D=async C=>{if(C.preventDefault(),!!t)try{b(!0),c(null);const q={salon_id:t,name:j.name.trim(),phone:j.phone.trim(),email:j.email.trim()||null,notes:j.notes.trim()||null,source:j.source};if(m){const{error:U}=await Te.from("clients").update(q).eq("id",m.id);if(U)throw U}else{const{error:U}=await Te.from("clients").insert(q);if(U)throw U.code==="23505"?new Error("Ya existe un cliente con ese telfono."):U}h(!1),T()}catch(q){console.error("Error saving client:",q),c(q instanceof Error?q.message:"No se pudo guardar el cliente.")}finally{b(!1)}},R=async C=>{if(confirm(`Eliminar a "${C.name}"? Esta accin no se puede deshacer.`))try{const{error:q}=await Te.from("clients").delete().eq("id",C.id);if(q)throw q;T()}catch(q){console.error("Error deleting client:",q),c("No se pudo eliminar el cliente.")}},P=C=>{const q={whatsapp:{color:"bg-green-500/20 text-green-400",icon:f.jsx(Xy,{className:"h-3 w-3"}),label:"WhatsApp"},manual:{color:"bg-slate-600 text-slate-300",icon:f.jsx(bn,{className:"h-3 w-3"}),label:"Manual"},web:{color:"bg-blue-500/20 text-blue-400",icon:f.jsx(nn,{className:"h-3 w-3"}),label:"Web"}},U=q[C]||q.manual;return f.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${U.color}`,children:[U.icon,U.label]})},L=e.filter(C=>{const q=C.name.toLowerCase().includes(x.toLowerCase())||C.phone.includes(x)||C.email&&C.email.toLowerCase().includes(x.toLowerCase()),U=_==="all"||C.source===_;return q&&U});return a&&e.length===0?f.jsx("div",{className:"p-6",children:f.jsx(Ri,{text:"Cargando clientes..."})}):f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:"Base de Clientes"}),f.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[e.length," clientes registrados"]})]}),f.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[f.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Cliente"]})]}),l&&f.jsx("div",{className:"mb-6",children:f.jsx(bs,{title:"Error",message:l,onRetry:T})}),f.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[f.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[f.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:x,onChange:C=>w(C.target.value),placeholder:"Buscar por nombre, telfono o email...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),f.jsxs("select",{value:_,onChange:C=>S(C.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[f.jsx("option",{value:"all",children:"Todas las fuentes"}),f.jsx("option",{value:"whatsapp",children:"WhatsApp"}),f.jsx("option",{value:"manual",children:"Manual"}),f.jsx("option",{value:"web",children:"Web"})]})]}),L.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(bn,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-400",children:x||_!=="all"?"No se encontraron clientes con esos criterios.":"No hay clientes registrados."}),!x&&_==="all"&&f.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Agregar primer cliente"})]}):f.jsx("div",{className:"grid gap-3",children:L.map(C=>f.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("h4",{className:"font-medium text-white",children:C.name}),P(C.source),C.total_appointments>0&&f.jsxs("span",{className:"px-2 py-0.5 bg-indigo-500/20 text-indigo-400 text-xs rounded",children:[C.total_appointments," cita",C.total_appointments!==1?"s":""]})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-sm text-slate-400",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Hl,{className:"h-4 w-4"}),C.phone]}),C.email&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(kd,{className:"h-4 w-4"}),C.email]})]}),C.notes&&f.jsx("p",{className:"mt-2 text-sm text-slate-400 italic",children:C.notes}),f.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["ltimo contacto: ",jd(new Date(C.last_contact_at),{addSuffix:!0,locale:qt})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>M(C),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:f.jsx(XC,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>R(C),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:f.jsx(ys,{className:"h-4 w-4"})})]})]})},C.id))}),d&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Cliente":"Nuevo Cliente"}),f.jsx("button",{onClick:()=>h(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),f.jsx("input",{type:"text",value:j.name,onChange:C=>E(q=>({...q,name:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),f.jsx("input",{type:"tel",value:j.phone,onChange:C=>E(q=>({...q,phone:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),f.jsx("input",{type:"email",value:j.email,onChange:C=>E(q=>({...q,email:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),f.jsx("textarea",{value:j.notes,onChange:C=>E(q=>({...q,notes:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Preferencias, alergias, etc."})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:y||!j.name.trim()||!j.phone.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function U7({salon:t,onUpdate:e}){const[r,a]=A.useState(bl),[i,l]=A.useState(!1),[c,d]=A.useState(null),[h,m]=A.useState(null),[v,y]=A.useState(!1);A.useEffect(()=>{t?.working_hours?a(t.working_hours):a(bl),y(!1)},[t]);const b=w=>{a(w||bl),y(!0),m(null),d(null)},x=async()=>{if(t?.id){l(!0),d(null),m(null);try{await vD(t.id,{working_hours:r}),m("Horario del saln actualizado correctamente"),y(!1),e?.()}catch(w){d(w instanceof Error?w.message:"Error al guardar el horario")}finally{l(!1)}}};return t?f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-6",children:f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[f.jsx(C6,{className:"h-5 w-5"}),"Configuracin del Saln"]}),f.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Configura el horario por defecto de tu saln"})]})}),f.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600 mb-6",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-xl font-bold",children:t.name.charAt(0)})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-white",children:t.name}),t.address&&f.jsx("p",{className:"text-sm text-slate-400",children:t.address})]})]})}),f.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-6 border border-slate-600",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(sn,{className:"h-5 w-5 text-indigo-400"}),f.jsx("h4",{className:"font-semibold text-white",children:"Horario del Saln"})]}),f.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Este horario se aplicar por defecto a todos los empleados que no tengan un horario personalizado. Los empleados pueden tener horarios individuales que sobrescriben este horario."}),f.jsx(mD,{value:r,onChange:b,showInheritOption:!1}),c&&f.jsxs("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/30 rounded-lg flex items-center gap-2 text-red-400",children:[f.jsx(Ca,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm",children:c})]}),h&&f.jsxs("div",{className:"mt-4 p-3 bg-green-500/20 border border-green-500/30 rounded-lg flex items-center gap-2 text-green-400",children:[f.jsx(pd,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm",children:h})]}),f.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[f.jsx("p",{className:"text-xs text-slate-500",children:v?"Tienes cambios sin guardar":"Horario sincronizado"}),f.jsx("button",{onClick:x,disabled:i||!v,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${v?"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:i?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Guardando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(w6,{className:"h-4 w-4"}),"Guardar Horario"]})})]})]}),f.jsxs("div",{className:"mt-6 p-4 bg-indigo-500/10 border border-indigo-500/30 rounded-lg",children:[f.jsx("h5",{className:"font-medium text-indigo-400 mb-2",children:"Cmo funciona?"}),f.jsxs("ul",{className:"text-sm text-slate-400 space-y-1",children:[f.jsx("li",{children:" El horario del saln es el horario por defecto para todo el equipo."}),f.jsx("li",{children:' Cada empleado puede tener un horario personalizado en la pestaa "Staff".'}),f.jsx("li",{children:" Si un empleado no tiene horario personalizado, usa el horario del saln."}),f.jsx("li",{children:" El chatbot de WhatsApp respeta estos horarios al ofrecer citas."})]})]})]}):f.jsx("div",{className:"p-6",children:f.jsx(Ri,{text:"Cargando configuracin..."})})}function z7(){const{signOut:t}=Bl(),[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState("calendar"),[,m]=A.useState(0),[v,y]=A.useState(!1),[b,x]=A.useState(null);A.useEffect(()=>{const q=setInterval(()=>m(U=>U+1),3e4);return()=>clearInterval(q)},[]);const{events:w,staffList:_,salon:S,isInitialLoading:j,isRefreshing:E,error:T,refresh:O}=hD(),M=async q=>{if(!q){r([]),i(!1);return}try{i(!0),c(null);const{data:U,error:z}=await Te.from("logs").select("*").eq("salon_id",q).order("created_at",{ascending:!1}).limit(10);if(z){console.error("Error fetching logs:",z),c("No se pudieron cargar los logs.");return}r(U||[])}catch(U){console.error("Unexpected error fetching logs:",U),c("Error inesperado al cargar los logs.")}finally{i(!1)}};A.useEffect(()=>{S?.id&&M(S.id)},[S?.id]);const D=()=>{O(),M(S?.id)},R=async(q,U,z)=>{if(!q.googleEventId||!q.calendarId){console.error("Cannot reschedule: missing event ID or calendar ID");return}try{const W=await a7({eventId:q.googleEventId,calendarId:q.calendarId,newStart:U,newEnd:z,title:q.title,description:q.description});W.success?(O(),M(S?.id)):console.error("Reschedule failed:",W.error)}catch(W){console.error("Error rescheduling appointment:",W)}},P=()=>{O(),M(S?.id)},L=w.filter(q=>{const U=new Date;return q.start.toDateString()===U.toDateString()||q.end.toDateString()===U.toDateString()}).length,C=e.reduce((q,U)=>q+(U.revenue||0),0);return f.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[f.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-lg font-bold",children:"G"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold",children:S?.name||"Dashboard"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Administracion"}),S&&f.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${S.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[f.jsx(Xy,{className:"h-3 w-3"}),S.whatsapp_connected?`Hace ${S.whatsapp_last_ping?jd(new Date(S.whatsapp_last_ping),{locale:qt}):"poco"}`:"Desconectado"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:P,disabled:E,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(Md,{className:`h-4 w-4 ${E?"animate-spin":""}`}),"Actualizar"]}),f.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[f.jsx(Ky,{size:18})," Salir"]})]})]})})}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:f.jsx(FC,{className:"h-5 w-5 text-green-400"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-2xl font-bold",children:["$",C.toLocaleString()]}),f.jsx("p",{className:"text-xs text-slate-400",children:"Ingresos"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-blue-500/20 rounded-lg",children:f.jsx(nn,{className:"h-5 w-5 text-blue-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:L}),f.jsx("p",{className:"text-xs text-slate-400",children:"Citas Hoy"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:f.jsx(ms,{className:"h-5 w-5 text-indigo-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:_.length}),f.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:f.jsx(q1,{className:"h-5 w-5 text-purple-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:w.length}),f.jsx("p",{className:"text-xs text-slate-400",children:"Eventos"})]})]})})]}),f.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700 overflow-x-auto",children:[f.jsxs("button",{onClick:()=>h("calendar"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="calendar"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(nn,{className:"h-4 w-4"}),"Calendario"]}),f.jsxs("button",{onClick:()=>h("clients"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="clients"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(Wq,{className:"h-4 w-4"}),"Clientes"]}),f.jsxs("button",{onClick:()=>h("staff"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="staff"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(ms,{className:"h-4 w-4"}),"Staff"]}),f.jsxs("button",{onClick:()=>h("services"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="services"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(JC,{className:"h-4 w-4"}),"Servicios"]}),f.jsxs("button",{onClick:()=>h("waitlist"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="waitlist"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(sn,{className:"h-4 w-4"}),"Espera"]}),f.jsxs("button",{onClick:()=>h("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(ZC,{className:"h-4 w-4"}),"Soporte"]}),f.jsxs("button",{onClick:()=>h("logs"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="logs"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(q1,{className:"h-4 w-4"}),"Actividad"]}),f.jsxs("button",{onClick:()=>h("settings"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="settings"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(T6,{className:"h-4 w-4"}),"Configuracin"]})]}),f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="calendar"&&f.jsxs("div",{className:"p-6",children:[T&&f.jsx("div",{className:"mb-6",children:f.jsx(bs,{title:"Error del calendario",message:T,onRetry:O})}),j?f.jsx("div",{className:"py-12",children:f.jsx(Ri,{text:"Cargando calendarios..."})}):_.length===0?f.jsx("div",{className:"py-12 flex justify-center items-center",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-700",children:f.jsx(ms,{className:"h-8 w-8 text-slate-400"})}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sin calendarios configurados"}),f.jsx("p",{className:"text-slate-400",children:'No hay miembros del staff con calendarios de Google configurados. Ve a la pestana "Staff" para asignar Calendar IDs.'})]})}):f.jsx("div",{className:"calendar-dark",children:f.jsx(dD,{events:w,staffCalendars:_,isLoading:!1,isRefreshing:E,showStaffFilter:!0,onNewAppointment:()=>y(!0),onEventDelete:D,onEventEdit:q=>x(q),onEventReschedule:R,canDeleteEvents:!0,canEditEvents:!0,canDragEvents:!0})})]}),d==="clients"&&f.jsx($7,{salonId:S?.id}),d==="staff"&&f.jsx(gD,{salonFilter:S?.id,onUpdate:O}),d==="services"&&f.jsx(L7,{salonId:S?.id}),d==="waitlist"&&f.jsx(q7,{salonId:S?.id}),d==="tickets"&&f.jsx(yD,{salonId:S?.id}),d==="settings"&&f.jsx(U7,{salon:S,onUpdate:O}),d==="logs"&&f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Actividad Reciente"}),a?f.jsx("div",{className:"py-12",children:f.jsx(Ri,{text:"Cargando actividad..."})}):l?f.jsx(bs,{title:"Error al cargar actividad",message:l,onRetry:M}):e.length===0?f.jsx("div",{className:"py-12 text-center text-slate-400",children:f.jsx("p",{children:"No hay actividad registrada"})}):f.jsx("div",{className:"grid gap-3",children:e.map(q=>f.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:f.jsx("div",{className:"flex items-start justify-between gap-4",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"font-medium text-white",children:q.action}),q.source&&f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${q.source==="whatsapp"?"bg-green-500/20 text-green-400":q.source==="web"?"bg-blue-500/20 text-blue-400":"bg-slate-600 text-slate-300"}`,children:q.source==="whatsapp"?"WhatsApp":q.source==="web"?"Web":"Manual"}),q.revenue>0&&f.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded font-medium",children:["+",q.revenue,""]})]}),q.service_name&&f.jsxs("div",{className:"mt-2 text-sm",children:[f.jsx("span",{className:"text-indigo-400 font-medium",children:q.service_name}),q.appointment_date&&q.appointment_time&&f.jsxs("span",{className:"text-slate-400",children:[" "," ",new Date(q.appointment_date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})," a las ",q.appointment_time]}),q.duration_minutes&&f.jsxs("span",{className:"text-slate-500",children:[" (",q.duration_minutes," min)"]})]}),q.client_name&&f.jsxs("div",{className:"mt-1 text-sm text-slate-400",children:["Cliente: ",f.jsx("span",{className:"text-white",children:q.client_name}),q.client_phone&&f.jsxs("span",{className:"text-slate-500",children:["  ",q.client_phone]})]}),q.details&&!q.service_name&&f.jsx("p",{className:"mt-1 text-sm text-slate-400",children:q.details}),f.jsx("p",{className:"mt-2 text-xs text-slate-500",children:jd(new Date(q.created_at),{addSuffix:!0,locale:qt})})]})})},q.id))})]})]})]}),S?.id&&f.jsx(m7,{isOpen:v,onClose:()=>y(!1),onSuccess:D,salonId:S.id,staffList:_,salonWorkingHours:S.working_hours}),S?.id&&f.jsx(y7,{event:b,onClose:()=>x(null),onSuccess:D,salonId:S.id,staffList:_,salonWorkingHours:S.working_hours})]})}function I7(){const{profile:t,error:e,signOut:r}=Bl(),[,a]=A.useState(0);A.useEffect(()=>{const y=setInterval(()=>a(b=>b+1),3e4);return()=>clearInterval(y)},[]);const{events:i,salon:l,isInitialLoading:c,isRefreshing:d,error:h,refresh:m}=hD(),v=!!t?.google_calendar_id;return f.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[f.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-lg font-bold",children:"G"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-xl font-bold",children:["Hola, ",t?.full_name||"Usuario"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"text-xs text-slate-400",children:l?.name||"Tu agenda personal"}),l&&f.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${l.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[f.jsx(Xy,{className:"h-3 w-3"}),l.whatsapp_connected?`Hace ${l.whatsapp_last_ping?jd(new Date(l.whatsapp_last_ping),{locale:qt}):"poco"}`:"Desconectado"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:m,disabled:d,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(Md,{className:`h-4 w-4 ${d?"animate-spin":""}`}),"Actualizar"]}),f.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[f.jsx(Ky,{size:18})," Salir"]})]})]})})}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e&&f.jsx("div",{className:"mb-6",children:f.jsx(bs,{title:"Error de autenticacion",message:e})}),h&&f.jsx("div",{className:"mb-6",children:f.jsx(bs,{title:"Error del calendario",message:h,onRetry:m})}),f.jsx("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:v?c?f.jsx("div",{className:"p-12",children:f.jsx(Ri,{text:"Cargando tu calendario..."})}):f.jsx("div",{className:"p-6 calendar-dark",children:f.jsx(dD,{events:i,isLoading:!1,isRefreshing:d,showStaffFilter:!1})}):f.jsx("div",{className:"p-8 flex justify-center items-center min-h-[400px]",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-amber-500/20",children:f.jsx(Ca,{className:"h-8 w-8 text-amber-400"})}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Calendario no configurado"}),f.jsx("p",{className:"text-slate-400",children:"No tienes un calendario de Google asignado. Contacta al administrador para configurar tu calendario."})]})})})]})]})}const iO={name:"",slug:"",phone:"",email:"",address:"",whatsapp_number:""};function B7({onUpdate:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState(""),[m,v]=A.useState(!1),[y,b]=A.useState(null),[x,w]=A.useState(iO),[_,S]=A.useState(!1),[j,E]=A.useState(null),T=async()=>{try{i(!0),c(null);const C=await pD();r(C)}catch(C){c(C instanceof Error?C.message:"Error al cargar salones")}finally{i(!1)}};A.useEffect(()=>{T()},[]);const O=e.filter(C=>C.name.toLowerCase().includes(d.toLowerCase())||C.slug?.toLowerCase().includes(d.toLowerCase())),M=()=>{b(null),w(iO),v(!0)},D=C=>{b(C),w({name:C.name,slug:C.slug||"",phone:C.phone||"",email:C.email||"",address:C.address||"",whatsapp_number:C.whatsapp_number||""}),v(!0)},R=async C=>{C.preventDefault(),S(!0),c(null);try{y?await vD(y.id,x):await T7(x),v(!1),T(),t?.()}catch(q){c(q instanceof Error?q.message:"Error al guardar")}finally{S(!1)}},P=async C=>{try{await O7(C),E(null),T(),t?.()}catch(q){c(q instanceof Error?q.message:"Error al eliminar")}},L=C=>C.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return a?f.jsx("div",{className:"p-12 flex justify-center",children:f.jsx(Tt,{className:"h-8 w-8 animate-spin text-indigo-400"})}):f.jsxs("div",{children:[f.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[f.jsxs("div",{className:"relative flex-1 max-w-md",children:[f.jsx(gs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Buscar salones...",value:d,onChange:C=>h(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[f.jsx(Vn,{className:"h-4 w-4"}),"Nuevo Saln"]})]}),l&&f.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:l}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Saln"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Contacto"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"WhatsApp"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),f.jsx("tbody",{children:O.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:4,className:"px-4 py-12 text-center text-slate-400",children:d?"No se encontraron salones":"No hay salones registrados"})}):O.map(C=>f.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-indigo-500/20 rounded-lg flex items-center justify-center",children:f.jsx(md,{className:"h-5 w-5 text-indigo-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:C.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:["/",C.slug]})]})]})}),f.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:f.jsxs("div",{className:"space-y-1",children:[C.phone&&f.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[f.jsx(Hl,{className:"h-3.5 w-3.5 text-slate-400"}),C.phone]}),C.email&&f.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[f.jsx(kd,{className:"h-3.5 w-3.5 text-slate-400"}),C.email]})]})}),f.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${C.whatsapp_connected?"bg-green-400":"bg-slate-500"}`}),f.jsx("span",{className:"text-sm text-slate-300",children:C.whatsapp_number||"No configurado"})]})}),f.jsx("td",{className:"px-4 py-4 text-right",children:j===C.id?f.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),f.jsx("button",{onClick:()=>P(C.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:f.jsx(Yn,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>E(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:f.jsx(Tr,{className:"h-4 w-4"})})]}):f.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[f.jsx("button",{onClick:()=>D(C),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",children:f.jsx(KC,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>E(C.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",children:f.jsx(ys,{className:"h-4 w-4"})})]})})]},C.id))})]})}),m&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold",children:y?"Editar Saln":"Nuevo Saln"}),f.jsx("button",{onClick:()=>v(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:f.jsx(Tr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:R,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre del saln *"}),f.jsx("input",{type:"text",value:x.name,onChange:C=>{w({...x,name:C.target.value,slug:y?x.slug:L(C.target.value)})},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Slug (URL)"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-slate-400",children:"/"}),f.jsx("input",{type:"text",value:x.slug,onChange:C=>w({...x,slug:L(C.target.value)}),className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Telfono"}),f.jsx("input",{type:"tel",value:x.phone,onChange:C=>w({...x,phone:C.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Email"}),f.jsx("input",{type:"email",value:x.email,onChange:C=>w({...x,email:C.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Direccin"}),f.jsx("input",{type:"text",value:x.address,onChange:C=>w({...x,address:C.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"WhatsApp"}),f.jsx("input",{type:"tel",value:x.whatsapp_number,onChange:C=>w({...x,whatsapp_number:C.target.value}),placeholder:"+34612345678",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsxs("button",{type:"submit",disabled:_,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[_&&f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),y?"Guardar":"Crear"]})]})]})]})})]})}function H7(){const{signOut:t}=Bl(),[e,r]=A.useState(null),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState("salons"),m=async()=>{try{i(!0),c(null);const v=await M7();r(v)}catch(v){c(v instanceof Error?v.message:"Error al cargar estadsticas")}finally{i(!1)}};return A.useEffect(()=>{m()},[]),f.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[f.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-lg font-bold",children:"G"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold",children:"Galia Admin"}),f.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Control"})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(Md,{className:`h-4 w-4 ${a?"animate-spin":""}`}),"Actualizar"]}),f.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[f.jsx(Ky,{size:18})," Salir"]})]})]})})}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l&&f.jsx("div",{className:"mb-6",children:f.jsx(bs,{title:"Error",message:l,onRetry:m})}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:f.jsx(md,{className:"h-5 w-5 text-indigo-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:e?.totalSalons||0}),f.jsx("p",{className:"text-xs text-slate-400",children:"Salones"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:f.jsx(ms,{className:"h-5 w-5 text-green-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:e?.totalUsers||0}),f.jsx("p",{className:"text-xs text-slate-400",children:"Usuarios"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:f.jsx($6,{className:"h-5 w-5 text-purple-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:e?.totalAdmins||0}),f.jsx("p",{className:"text-xs text-slate-400",children:"Admins"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-amber-500/20 rounded-lg",children:f.jsx(ms,{className:"h-5 w-5 text-amber-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:e?.totalStaff||0}),f.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})})]}),f.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700",children:[f.jsxs("button",{onClick:()=>h("salons"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="salons"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(md,{className:"h-4 w-4"}),"Salones"]}),f.jsxs("button",{onClick:()=>h("users"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="users"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(ms,{className:"h-4 w-4"}),"Usuarios"]}),f.jsxs("button",{onClick:()=>h("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(ZC,{className:"h-4 w-4"}),"Tickets"]})]}),f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="salons"&&f.jsx(B7,{onUpdate:m}),d==="users"&&f.jsx(gD,{onUpdate:m}),d==="tickets"&&f.jsx(yD,{showAllSalons:!0})]})]})]})}const Q0=({children:t,requiredRole:e})=>{const{session:r,profile:a,loading:i}=Bl();if(i)return f.jsx("div",{className:"h-screen flex items-center justify-center text-indigo-600",children:"Cargando Galia..."});if(!r)return f.jsx(ul,{to:"/login",replace:!0});if(e&&a?.role!==e){if(e==="admin"&&a?.role==="superadmin")return t;switch(a?.role){case"superadmin":return f.jsx(ul,{to:"/superadmin",replace:!0});case"admin":return f.jsx(ul,{to:"/admin",replace:!0});default:return f.jsx(ul,{to:"/staff",replace:!0})}}return t};function F7(){return f.jsx(H6,{children:f.jsx(Oq,{children:f.jsx(s3,{children:f.jsxs(P4,{children:[f.jsx(_i,{path:"/login",element:f.jsx(G6,{})}),f.jsx(_i,{path:"/superadmin",element:f.jsx(Q0,{requiredRole:"superadmin",children:f.jsx(H7,{})})}),f.jsx(_i,{path:"/admin",element:f.jsx(Q0,{requiredRole:"admin",children:f.jsx(z7,{})})}),f.jsx(_i,{path:"/staff",element:f.jsx(Q0,{requiredRole:"staff",children:f.jsx(I7,{})})}),f.jsx(_i,{path:"*",element:f.jsx(ul,{to:"/login",replace:!0})})]})})})})}console.log(" Starting Galia Digital app...");const oO=document.getElementById("root");oO?(console.log(" Root element found, mounting React app..."),FM.createRoot(oO).render(f.jsx(A.StrictMode,{children:f.jsx(F7,{})})),console.log(" React app mounted successfully")):console.error(" Root element not found!");
