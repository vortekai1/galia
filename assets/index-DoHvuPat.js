function LM(t,e){for(var r=0;r<e.length;r++){const a=e[r];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=r(i);fetch(i.href,l)}})();var wu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sn(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function a(){var i=!1;try{i=this instanceof a}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var i=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(r,a,i.get?i:{enumerable:!0,get:function(){return t[a]}})}),r}var Cm={exports:{}},Vo={};var HS;function $M(){if(HS)return Vo;HS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(a,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var d in i)d!=="key"&&(l[d]=i[d])}else l=i;return i=l.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:l}}return Vo.Fragment=e,Vo.jsx=r,Vo.jsxs=r,Vo}var FS;function zM(){return FS||(FS=1,Cm.exports=$M()),Cm.exports}var f=zM(),Am={exports:{}},Oe={};var GS;function UM(){if(GS)return Oe;GS=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function E(M,F,ie){this.props=M,this.context=F,this.refs=S,this.updater=ie||w}E.prototype.isReactComponent={},E.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function j(){}j.prototype=E.prototype;function T(M,F,ie){this.props=M,this.context=F,this.refs=S,this.updater=ie||w}var O=T.prototype=new j;O.constructor=T,_(O,E.prototype),O.isPureReactComponent=!0;var q=Array.isArray;function D(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function $(M,F,ie){var ce=ie.ref;return{$$typeof:t,type:M,key:F,ref:ce!==void 0?ce:null,props:ie}}function C(M,F){return $(M.type,F,M.props)}function P(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function U(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ie){return F[ie]})}var z=/\/+/g;function W(M,F){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):F.toString(36)}function ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function B(M,F,ie,ce,fe){var pe=typeof M;(pe==="undefined"||pe==="boolean")&&(M=null);var be=!1;if(M===null)be=!0;else switch(pe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(M.$$typeof){case t:case e:be=!0;break;case v:return be=M._init,B(be(M._payload),F,ie,ce,fe)}}if(be)return fe=fe(M),be=ce===""?"."+W(M,0):ce,q(fe)?(ie="",be!=null&&(ie=be.replace(z,"$&/")+"/"),B(fe,F,ie,"",function(gt){return gt})):fe!=null&&(P(fe)&&(fe=C(fe,ie+(fe.key==null||M&&M.key===fe.key?"":(""+fe.key).replace(z,"$&/")+"/")+be)),F.push(fe)),1;be=0;var De=ce===""?".":ce+":";if(q(M))for(var Me=0;Me<M.length;Me++)ce=M[Me],pe=De+W(ce,Me),be+=B(ce,F,ie,pe,fe);else if(Me=x(M),typeof Me=="function")for(M=Me.call(M),Me=0;!(ce=M.next()).done;)ce=ce.value,pe=De+W(ce,Me++),be+=B(ce,F,ie,pe,fe);else if(pe==="object"){if(typeof M.then=="function")return B(ee(M),F,ie,ce,fe);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(M,F,ie){if(M==null)return M;var ce=[],fe=0;return B(M,ce,"","",function(pe){return F.call(ie,pe,fe++)}),ce}function ae(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(ie){(M._status===0||M._status===-1)&&(M._status=1,M._result=ie)},function(ie){(M._status===0||M._status===-1)&&(M._status=2,M._result=ie)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},V={map:K,forEach:function(M,F,ie){K(M,function(){F.apply(this,arguments)},ie)},count:function(M){var F=0;return K(M,function(){F++}),F},toArray:function(M){return K(M,function(F){return F})||[]},only:function(M){if(!P(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Oe.Activity=y,Oe.Children=V,Oe.Component=E,Oe.Fragment=r,Oe.Profiler=i,Oe.PureComponent=T,Oe.StrictMode=a,Oe.Suspense=h,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},Oe.cache=function(M){return function(){return M.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(M,F,ie){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=_({},M.props),fe=M.key;if(F!=null)for(pe in F.key!==void 0&&(fe=""+F.key),F)!L.call(F,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&F.ref===void 0||(ce[pe]=F[pe]);var pe=arguments.length-2;if(pe===1)ce.children=ie;else if(1<pe){for(var be=Array(pe),De=0;De<pe;De++)be[De]=arguments[De+2];ce.children=be}return $(M.type,fe,ce)},Oe.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Oe.createElement=function(M,F,ie){var ce,fe={},pe=null;if(F!=null)for(ce in F.key!==void 0&&(pe=""+F.key),F)L.call(F,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(fe[ce]=F[ce]);var be=arguments.length-2;if(be===1)fe.children=ie;else if(1<be){for(var De=Array(be),Me=0;Me<be;Me++)De[Me]=arguments[Me+2];fe.children=De}if(M&&M.defaultProps)for(ce in be=M.defaultProps,be)fe[ce]===void 0&&(fe[ce]=be[ce]);return $(M,pe,fe)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(M){return{$$typeof:d,render:M}},Oe.isValidElement=P,Oe.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ae}},Oe.memo=function(M,F){return{$$typeof:m,type:M,compare:F===void 0?null:F}},Oe.startTransition=function(M){var F=R.T,ie={};R.T=ie;try{var ce=M(),fe=R.S;fe!==null&&fe(ie,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(D,le)}catch(pe){le(pe)}finally{F!==null&&ie.types!==null&&(F.types=ie.types),R.T=F}},Oe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Oe.use=function(M){return R.H.use(M)},Oe.useActionState=function(M,F,ie){return R.H.useActionState(M,F,ie)},Oe.useCallback=function(M,F){return R.H.useCallback(M,F)},Oe.useContext=function(M){return R.H.useContext(M)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(M,F){return R.H.useDeferredValue(M,F)},Oe.useEffect=function(M,F){return R.H.useEffect(M,F)},Oe.useEffectEvent=function(M){return R.H.useEffectEvent(M)},Oe.useId=function(){return R.H.useId()},Oe.useImperativeHandle=function(M,F,ie){return R.H.useImperativeHandle(M,F,ie)},Oe.useInsertionEffect=function(M,F){return R.H.useInsertionEffect(M,F)},Oe.useLayoutEffect=function(M,F){return R.H.useLayoutEffect(M,F)},Oe.useMemo=function(M,F){return R.H.useMemo(M,F)},Oe.useOptimistic=function(M,F){return R.H.useOptimistic(M,F)},Oe.useReducer=function(M,F,ie){return R.H.useReducer(M,F,ie)},Oe.useRef=function(M){return R.H.useRef(M)},Oe.useState=function(M){return R.H.useState(M)},Oe.useSyncExternalStore=function(M,F,ie){return R.H.useSyncExternalStore(M,F,ie)},Oe.useTransition=function(){return R.H.useTransition()},Oe.version="19.2.1",Oe}var WS;function Cr(){return WS||(WS=1,Am.exports=UM()),Am.exports}var A=Cr();const Y=Qt(A);var Rm={exports:{}},Ko={},Dm={exports:{}},km={};var YS;function IM(){return YS||(YS=1,(function(t){function e(B,K){var ae=B.length;B.push(K);e:for(;0<ae;){var le=ae-1>>>1,V=B[le];if(0<i(V,K))B[le]=K,B[ae]=V,ae=le;else break e}}function r(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var K=B[0],ae=B.pop();if(ae!==K){B[0]=ae;e:for(var le=0,V=B.length,M=V>>>1;le<M;){var F=2*(le+1)-1,ie=B[F],ce=F+1,fe=B[ce];if(0>i(ie,ae))ce<V&&0>i(fe,ie)?(B[le]=fe,B[ce]=ae,le=ce):(B[le]=ie,B[F]=ae,le=F);else if(ce<V&&0>i(fe,ae))B[le]=fe,B[ce]=ae,le=ce;else break e}}return K}function i(B,K){var ae=B.sortIndex-K.sortIndex;return ae!==0?ae:B.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],v=1,y=null,b=3,x=!1,w=!1,_=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(B){for(var K=r(m);K!==null;){if(K.callback===null)a(m);else if(K.startTime<=B)a(m),K.sortIndex=K.expirationTime,e(h,K);else break;K=r(m)}}function q(B){if(_=!1,O(B),!w)if(r(h)!==null)w=!0,D||(D=!0,U());else{var K=r(m);K!==null&&ee(q,K.startTime-B)}}var D=!1,R=-1,L=5,$=-1;function C(){return S?!0:!(t.unstable_now()-$<L)}function P(){if(S=!1,D){var B=t.unstable_now();$=B;var K=!0;try{e:{w=!1,_&&(_=!1,j(R),R=-1),x=!0;var ae=b;try{t:{for(O(B),y=r(h);y!==null&&!(y.expirationTime>B&&C());){var le=y.callback;if(typeof le=="function"){y.callback=null,b=y.priorityLevel;var V=le(y.expirationTime<=B);if(B=t.unstable_now(),typeof V=="function"){y.callback=V,O(B),K=!0;break t}y===r(h)&&a(h),O(B)}else a(h);y=r(h)}if(y!==null)K=!0;else{var M=r(m);M!==null&&ee(q,M.startTime-B),K=!1}}break e}finally{y=null,b=ae,x=!1}K=void 0}}finally{K?U():D=!1}}}var U;if(typeof T=="function")U=function(){T(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,W=z.port2;z.port1.onmessage=P,U=function(){W.postMessage(null)}}else U=function(){E(P,0)};function ee(B,K){R=E(function(){B(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(B){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var ae=b;b=K;try{return B()}finally{b=ae}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ae=b;b=B;try{return K()}finally{b=ae}},t.unstable_scheduleCallback=function(B,K,ae){var le=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?le+ae:le):ae=le,B){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ae+V,B={id:v++,callback:K,priorityLevel:B,startTime:ae,expirationTime:V,sortIndex:-1},ae>le?(B.sortIndex=ae,e(m,B),r(h)===null&&B===r(m)&&(_?(j(R),R=-1):_=!0,ee(q,ae-le))):(B.sortIndex=V,e(h,B),w||x||(w=!0,D||(D=!0,U()))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var K=b;return function(){var ae=b;b=K;try{return B.apply(this,arguments)}finally{b=ae}}}})(km)),km}var VS;function BM(){return VS||(VS=1,Dm.exports=IM()),Dm.exports}var Mm={exports:{}},Vt={};var KS;function HM(){if(KS)return Vt;KS=1;var t=Cr();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,m,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:h,containerInfo:m,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Vt.createPortal=function(h,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,v)},Vt.flushSync=function(h){var m=c.T,v=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=m,a.p=v,a.d.f()}},Vt.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(h,m))},Vt.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},Vt.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:x}):v==="script"&&a.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Vt.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(h,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(h)},Vt.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,y=d(v,m.crossOrigin);a.d.L(h,v,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Vt.preloadModule=function(h,m){if(typeof h=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(h)},Vt.requestFormReset=function(h){a.d.r(h)},Vt.unstable_batchedUpdates=function(h,m){return h(m)},Vt.useFormState=function(h,m,v){return c.H.useFormState(h,m,v)},Vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Vt.version="19.2.1",Vt}var XS;function uO(){if(XS)return Mm.exports;XS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mm.exports=HM(),Mm.exports}var QS;function FM(){if(QS)return Ko;QS=1;var t=BM(),e=Cr(),r=uO();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(a(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(a(188));return s!==n?null:n}for(var o=n,u=s;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return h(p),n;if(g===u)return h(p),s;g=g.sibling}throw Error(a(188))}if(o.return!==u.return)o=p,u=g;else{for(var N=!1,k=p.child;k;){if(k===o){N=!0,o=p,u=g;break}if(k===u){N=!0,u=p,o=g;break}k=k.sibling}if(!N){for(k=g.child;k;){if(k===o){N=!0,o=g,u=p;break}if(k===u){N=!0,u=g,o=p;break}k=k.sibling}if(!N)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var z=Symbol.for("react.client.reference");function W(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case _:return"Fragment";case E:return"Profiler";case S:return"StrictMode";case q:return"Suspense";case D:return"SuspenseList";case $:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case T:return n.displayName||"Context";case j:return(n._context.displayName||"Context")+".Consumer";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case R:return s=n.displayName||null,s!==null?s:W(n.type)||"Memo";case L:s=n._payload,n=n._init;try{return W(n(s))}catch{}}return null}var ee=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},le=[],V=-1;function M(n){return{current:n}}function F(n){0>V||(n.current=le[V],le[V]=null,V--)}function ie(n,s){V++,le[V]=n.current,n.current=s}var ce=M(null),fe=M(null),pe=M(null),be=M(null);function De(n,s){switch(ie(pe,s),ie(fe,n),ie(ce,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?fS(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=fS(s),n=hS(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}F(ce),ie(ce,n)}function Me(){F(ce),F(fe),F(pe)}function gt(n){n.memoizedState!==null&&ie(be,n);var s=ce.current,o=hS(s,n.type);s!==o&&(ie(fe,n),ie(ce,o))}function ht(n){fe.current===n&&(F(ce),F(fe)),be.current===n&&(F(be),Fo._currentValue=ae)}var Wt,vr;function xt(n){if(Wt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Wt=s&&s[1]||"",vr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wt+n+vr}var Ae=!1;function Pt(n,s){if(!n||Ae)return"";Ae=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var J=Z}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(Z){J=Z}n.call(oe.prototype)}}else{try{throw Error()}catch(Z){J=Z}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&J&&typeof Z.stack=="string")return[Z.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),N=g[0],k=g[1];if(N&&k){var I=N.split(`
`),Q=k.split(`
`);for(p=u=0;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(u===I.length||p===Q.length)for(u=I.length-1,p=Q.length-1;1<=u&&0<=p&&I[u]!==Q[p];)p--;for(;1<=u&&0<=p;u--,p--)if(I[u]!==Q[p]){if(u!==1||p!==1)do if(u--,p--,0>p||I[u]!==Q[p]){var re=`
`+I[u].replace(" at new "," at ");return n.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",n.displayName)),re}while(1<=u&&0<=p);break}}}finally{Ae=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?xt(o):""}function ke(n,s){switch(n.tag){case 26:case 27:case 5:return xt(n.type);case 16:return xt("Lazy");case 13:return n.child!==s&&s!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Pt(n.type,!1);case 11:return Pt(n.type.render,!1);case 1:return Pt(n.type,!0);case 31:return xt("Activity");default:return""}}function te(n){try{var s="",o=null;do s+=ke(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xe=Object.prototype.hasOwnProperty,_e=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,st=t.unstable_shouldYield,it=t.unstable_requestPaint,Ze=t.unstable_now,de=t.unstable_getCurrentPriorityLevel,ne=t.unstable_ImmediatePriority,ge=t.unstable_UserBlockingPriority,Ee=t.unstable_NormalPriority,dt=t.unstable_LowPriority,rr=t.unstable_IdlePriority,Vr=t.log,gr=t.unstable_setDisableYieldValue,ft=null,Ue=null;function yr(n){if(typeof Vr=="function"&&gr(n),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(ft,n)}catch{}}var Yt=Math.clz32?Math.clz32:SD,wD=Math.log,_D=Math.LN2;function SD(n){return n>>>=0,n===0?32:31-(wD(n)/_D|0)|0}var sc=256,ic=262144,oc=4194304;function Ua(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function lc(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var p=0,g=n.suspendedLanes,N=n.pingedLanes;n=n.warmLanes;var k=u&134217727;return k!==0?(u=k&~g,u!==0?p=Ua(u):(N&=k,N!==0?p=Ua(N):o||(o=k&~n,o!==0&&(p=Ua(o))))):(k=u&~g,k!==0?p=Ua(k):N!==0?p=Ua(N):o||(o=u&~n,o!==0&&(p=Ua(o)))),p===0?0:s!==0&&s!==p&&(s&g)===0&&(g=p&-p,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:p}function ro(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function ED(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yb(){var n=oc;return oc<<=1,(oc&62914560)===0&&(oc=4194304),n}function gf(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function no(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function jD(n,s,o,u,p,g){var N=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var k=n.entanglements,I=n.expirationTimes,Q=n.hiddenUpdates;for(o=N&~o;0<o;){var re=31-Yt(o),oe=1<<re;k[re]=0,I[re]=-1;var J=Q[re];if(J!==null)for(Q[re]=null,re=0;re<J.length;re++){var Z=J[re];Z!==null&&(Z.lane&=-536870913)}o&=~oe}u!==0&&Vb(n,u,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(N&~s))}function Vb(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Yt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Kb(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Yt(o),p=1<<u;p&s|n[u]&s&&(n[u]|=s),o&=~p}}function Xb(n,s){var o=s&-s;return o=(o&42)!==0?1:yf(o),(o&(n.suspendedLanes|s))!==0?0:o}function yf(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function bf(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Qb(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:PS(n.type))}function Jb(n,s){var o=K.p;try{return K.p=n,s()}finally{K.p=o}}var ta=Math.random().toString(36).slice(2),Lt="__reactFiber$"+ta,nr="__reactProps$"+ta,ks="__reactContainer$"+ta,xf="__reactEvents$"+ta,ND="__reactListeners$"+ta,TD="__reactHandles$"+ta,Zb="__reactResources$"+ta,ao="__reactMarker$"+ta;function wf(n){delete n[Lt],delete n[nr],delete n[xf],delete n[ND],delete n[TD]}function Ms(n){var s=n[Lt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[ks]||o[Lt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=xS(n);n!==null;){if(o=n[Lt])return o;n=xS(n)}return s}n=o,o=n.parentNode}return null}function qs(n){if(n=n[Lt]||n[ks]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function so(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function Ps(n){var s=n[Zb];return s||(s=n[Zb]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(n){n[ao]=!0}var ex=new Set,tx={};function Ia(n,s){Ls(n,s),Ls(n+"Capture",s)}function Ls(n,s){for(tx[n]=s,n=0;n<s.length;n++)ex.add(s[n])}var OD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rx={},nx={};function CD(n){return xe.call(nx,n)?!0:xe.call(rx,n)?!1:OD.test(n)?nx[n]=!0:(rx[n]=!0,!1)}function cc(n,s,o){if(CD(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function uc(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Nn(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Ar(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ax(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function AD(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return p.call(this)},set:function(N){o=""+N,g.call(this,N)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(N){o=""+N},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function _f(n){if(!n._valueTracker){var s=ax(n)?"checked":"value";n._valueTracker=AD(n,s,""+n[s])}}function sx(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=ax(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function dc(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var RD=/[\n"\\]/g;function Rr(n){return n.replace(RD,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Sf(n,s,o,u,p,g,N,k){n.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.type=N:n.removeAttribute("type"),s!=null?N==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ar(s)):n.value!==""+Ar(s)&&(n.value=""+Ar(s)):N!=="submit"&&N!=="reset"||n.removeAttribute("value"),s!=null?Ef(n,N,Ar(s)):o!=null?Ef(n,N,Ar(o)):u!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?n.name=""+Ar(k):n.removeAttribute("name")}function ix(n,s,o,u,p,g,N,k){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){_f(n);return}o=o!=null?""+Ar(o):"",s=s!=null?""+Ar(s):o,k||s===n.value||(n.value=s),n.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=k?n.checked:!!u,n.defaultChecked=!!u,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(n.name=N),_f(n)}function Ef(n,s,o){s==="number"&&dc(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function $s(n,s,o,u){if(n=n.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=s.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Ar(o),s=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,u&&(n[p].defaultSelected=!0);return}s!==null||n[p].disabled||(s=n[p])}s!==null&&(s.selected=!0)}}function ox(n,s,o){if(s!=null&&(s=""+Ar(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Ar(o):""}function lx(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(a(92));if(ee(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Ar(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),_f(n)}function zs(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var DD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cx(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||DD.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function ux(n,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&o[p]!==u&&cx(n,p,u)}else for(var g in s)s.hasOwnProperty(g)&&cx(n,g,s[g])}function jf(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fc(n){return MD.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Tn(){}var Nf=null;function Tf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Us=null,Is=null;function dx(n){var s=qs(n);if(s&&(n=s.stateNode)){var o=n[nr]||null;e:switch(n=s.stateNode,s.type){case"input":if(Sf(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Rr(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var p=u[nr]||null;if(!p)throw Error(a(90));Sf(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&sx(u)}break e;case"textarea":ox(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&$s(n,!!o.multiple,s,!1)}}}var Of=!1;function fx(n,s,o){if(Of)return n(s,o);Of=!0;try{var u=n(s);return u}finally{if(Of=!1,(Us!==null||Is!==null)&&(Zc(),Us&&(s=Us,n=Is,Is=Us=null,dx(s),n)))for(s=0;s<n.length;s++)dx(n[s])}}function io(n,s){var o=n.stateNode;if(o===null)return null;var u=o[nr]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=!1;if(On)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){Cf=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{Cf=!1}var ra=null,Af=null,hc=null;function hx(){if(hc)return hc;var n,s=Af,o=s.length,u,p="value"in ra?ra.value:ra.textContent,g=p.length;for(n=0;n<o&&s[n]===p[n];n++);var N=o-n;for(u=1;u<=N&&s[o-u]===p[g-u];u++);return hc=p.slice(n,1<u?1-u:void 0)}function mc(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function pc(){return!0}function mx(){return!1}function ar(n){function s(o,u,p,g,N){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=N,this.currentTarget=null;for(var k in n)n.hasOwnProperty(k)&&(o=n[k],this[k]=o?o(g):g[k]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pc:mx,this.isPropagationStopped=mx,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pc)},persist:function(){},isPersistent:pc}),s}var Ba={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vc=ar(Ba),lo=y({},Ba,{view:0,detail:0}),qD=ar(lo),Rf,Df,co,gc=y({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mf,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==co&&(co&&n.type==="mousemove"?(Rf=n.screenX-co.screenX,Df=n.screenY-co.screenY):Df=Rf=0,co=n),Rf)},movementY:function(n){return"movementY"in n?n.movementY:Df}}),px=ar(gc),PD=y({},gc,{dataTransfer:0}),LD=ar(PD),$D=y({},lo,{relatedTarget:0}),kf=ar($D),zD=y({},Ba,{animationName:0,elapsedTime:0,pseudoElement:0}),UD=ar(zD),ID=y({},Ba,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),BD=ar(ID),HD=y({},Ba,{data:0}),vx=ar(HD),FD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YD(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=WD[n])?!!s[n]:!1}function Mf(){return YD}var VD=y({},lo,{key:function(n){if(n.key){var s=FD[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=mc(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?GD[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mf,charCode:function(n){return n.type==="keypress"?mc(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mc(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),KD=ar(VD),XD=y({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gx=ar(XD),QD=y({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mf}),JD=ar(QD),ZD=y({},Ba,{propertyName:0,elapsedTime:0,pseudoElement:0}),ek=ar(ZD),tk=y({},gc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rk=ar(tk),nk=y({},Ba,{newState:0,oldState:0}),ak=ar(nk),sk=[9,13,27,32],qf=On&&"CompositionEvent"in window,uo=null;On&&"documentMode"in document&&(uo=document.documentMode);var ik=On&&"TextEvent"in window&&!uo,yx=On&&(!qf||uo&&8<uo&&11>=uo),bx=" ",xx=!1;function wx(n,s){switch(n){case"keyup":return sk.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bs=!1;function ok(n,s){switch(n){case"compositionend":return _x(s);case"keypress":return s.which!==32?null:(xx=!0,bx);case"textInput":return n=s.data,n===bx&&xx?null:n;default:return null}}function lk(n,s){if(Bs)return n==="compositionend"||!qf&&wx(n,s)?(n=hx(),hc=Af=ra=null,Bs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return yx&&s.locale!=="ko"?null:s.data;default:return null}}var ck={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sx(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!ck[n.type]:s==="textarea"}function Ex(n,s,o,u){Us?Is?Is.push(u):Is=[u]:Us=u,s=iu(s,"onChange"),0<s.length&&(o=new vc("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var fo=null,ho=null;function uk(n){iS(n,0)}function yc(n){var s=so(n);if(sx(s))return n}function jx(n,s){if(n==="change")return s}var Nx=!1;if(On){var Pf;if(On){var Lf="oninput"in document;if(!Lf){var Tx=document.createElement("div");Tx.setAttribute("oninput","return;"),Lf=typeof Tx.oninput=="function"}Pf=Lf}else Pf=!1;Nx=Pf&&(!document.documentMode||9<document.documentMode)}function Ox(){fo&&(fo.detachEvent("onpropertychange",Cx),ho=fo=null)}function Cx(n){if(n.propertyName==="value"&&yc(ho)){var s=[];Ex(s,ho,n,Tf(n)),fx(uk,s)}}function dk(n,s,o){n==="focusin"?(Ox(),fo=s,ho=o,fo.attachEvent("onpropertychange",Cx)):n==="focusout"&&Ox()}function fk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yc(ho)}function hk(n,s){if(n==="click")return yc(s)}function mk(n,s){if(n==="input"||n==="change")return yc(s)}function pk(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var br=typeof Object.is=="function"?Object.is:pk;function mo(n,s){if(br(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!xe.call(s,p)||!br(n[p],s[p]))return!1}return!0}function Ax(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rx(n,s){var o=Ax(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ax(o)}}function Dx(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Dx(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function kx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=dc(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=dc(n.document)}return s}function $f(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var vk=On&&"documentMode"in document&&11>=document.documentMode,Hs=null,zf=null,po=null,Uf=!1;function Mx(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uf||Hs==null||Hs!==dc(u)||(u=Hs,"selectionStart"in u&&$f(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),po&&mo(po,u)||(po=u,u=iu(zf,"onSelect"),0<u.length&&(s=new vc("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Hs)))}function Ha(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Fs={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},If={},qx={};On&&(qx=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function Fa(n){if(If[n])return If[n];if(!Fs[n])return n;var s=Fs[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in qx)return If[n]=s[o];return n}var Px=Fa("animationend"),Lx=Fa("animationiteration"),$x=Fa("animationstart"),gk=Fa("transitionrun"),yk=Fa("transitionstart"),bk=Fa("transitioncancel"),zx=Fa("transitionend"),Ux=new Map,Bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bf.push("scrollEnd");function Kr(n,s){Ux.set(n,s),Ia(s,[n])}var bc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Dr=[],Gs=0,Hf=0;function xc(){for(var n=Gs,s=Hf=Gs=0;s<n;){var o=Dr[s];Dr[s++]=null;var u=Dr[s];Dr[s++]=null;var p=Dr[s];Dr[s++]=null;var g=Dr[s];if(Dr[s++]=null,u!==null&&p!==null){var N=u.pending;N===null?p.next=p:(p.next=N.next,N.next=p),u.pending=p}g!==0&&Ix(o,p,g)}}function wc(n,s,o,u){Dr[Gs++]=n,Dr[Gs++]=s,Dr[Gs++]=o,Dr[Gs++]=u,Hf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Ff(n,s,o,u){return wc(n,s,o,u),_c(n)}function Ga(n,s){return wc(n,null,null,s),_c(n)}function Ix(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&s!==null&&(p=31-Yt(o),n=g.hiddenUpdates,u=n[p],u===null?n[p]=[s]:u.push(s),s.lane=o|536870912),g):null}function _c(n){if(50<Lo)throw Lo=0,Zh=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ws={};function xk(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(n,s,o,u){return new xk(n,s,o,u)}function Gf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Cn(n,s){var o=n.alternate;return o===null?(o=xr(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Bx(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Sc(n,s,o,u,p,g){var N=0;if(u=n,typeof n=="function")Gf(n)&&(N=1);else if(typeof n=="string")N=jM(n,o,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case $:return n=xr(31,o,s,p),n.elementType=$,n.lanes=g,n;case _:return Wa(o.children,p,g,s);case S:N=8,p|=24;break;case E:return n=xr(12,o,s,p|2),n.elementType=E,n.lanes=g,n;case q:return n=xr(13,o,s,p),n.elementType=q,n.lanes=g,n;case D:return n=xr(19,o,s,p),n.elementType=D,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:N=10;break e;case j:N=9;break e;case O:N=11;break e;case R:N=14;break e;case L:N=16,u=null;break e}N=29,o=Error(a(130,n===null?"null":typeof n,"")),u=null}return s=xr(N,o,s,p),s.elementType=n,s.type=u,s.lanes=g,s}function Wa(n,s,o,u){return n=xr(7,n,u,s),n.lanes=o,n}function Wf(n,s,o){return n=xr(6,n,null,s),n.lanes=o,n}function Hx(n){var s=xr(18,null,null,0);return s.stateNode=n,s}function Yf(n,s,o){return s=xr(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Fx=new WeakMap;function kr(n,s){if(typeof n=="object"&&n!==null){var o=Fx.get(n);return o!==void 0?o:(s={value:n,source:s,stack:te(s)},Fx.set(n,s),s)}return{value:n,source:s,stack:te(s)}}var Ys=[],Vs=0,Ec=null,vo=0,Mr=[],qr=0,na=null,on=1,ln="";function An(n,s){Ys[Vs++]=vo,Ys[Vs++]=Ec,Ec=n,vo=s}function Gx(n,s,o){Mr[qr++]=on,Mr[qr++]=ln,Mr[qr++]=na,na=n;var u=on;n=ln;var p=32-Yt(u)-1;u&=~(1<<p),o+=1;var g=32-Yt(s)+p;if(30<g){var N=p-p%5;g=(u&(1<<N)-1).toString(32),u>>=N,p-=N,on=1<<32-Yt(s)+p|o<<p|u,ln=g+n}else on=1<<g|o<<p|u,ln=n}function Vf(n){n.return!==null&&(An(n,1),Gx(n,1,0))}function Kf(n){for(;n===Ec;)Ec=Ys[--Vs],Ys[Vs]=null,vo=Ys[--Vs],Ys[Vs]=null;for(;n===na;)na=Mr[--qr],Mr[qr]=null,ln=Mr[--qr],Mr[qr]=null,on=Mr[--qr],Mr[qr]=null}function Wx(n,s){Mr[qr++]=on,Mr[qr++]=ln,Mr[qr++]=na,on=s.id,ln=s.overflow,na=n}var $t=null,tt=null,ze=!1,aa=null,Pr=!1,Xf=Error(a(519));function sa(n){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw go(kr(s,n)),Xf}function Yx(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Lt]=n,s[nr]=u,o){case"dialog":Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":case"embed":Pe("load",s);break;case"video":case"audio":for(o=0;o<zo.length;o++)Pe(zo[o],s);break;case"source":Pe("error",s);break;case"img":case"image":case"link":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"input":Pe("invalid",s),ix(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pe("invalid",s);break;case"textarea":Pe("invalid",s),lx(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||uS(s.textContent,o)?(u.popover!=null&&(Pe("beforetoggle",s),Pe("toggle",s)),u.onScroll!=null&&Pe("scroll",s),u.onScrollEnd!=null&&Pe("scrollend",s),u.onClick!=null&&(s.onclick=Tn),s=!0):s=!1,s||sa(n,!0)}function Vx(n){for($t=n.return;$t;)switch($t.tag){case 5:case 31:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:$t=$t.return}}function Ks(n){if(n!==$t)return!1;if(!ze)return Vx(n),ze=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||mm(n.type,n.memoizedProps)),o=!o),o&&tt&&sa(n),Vx(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=bS(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));tt=bS(n)}else s===27?(s=tt,ba(n.type)?(n=bm,bm=null,tt=n):tt=s):tt=$t?$r(n.stateNode.nextSibling):null;return!0}function Ya(){tt=$t=null,ze=!1}function Qf(){var n=aa;return n!==null&&(lr===null?lr=n:lr.push.apply(lr,n),aa=null),n}function go(n){aa===null?aa=[n]:aa.push(n)}var Jf=M(null),Va=null,Rn=null;function ia(n,s,o){ie(Jf,s._currentValue),s._currentValue=o}function Dn(n){n._currentValue=Jf.current,F(Jf)}function Zf(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function eh(n,s,o,u){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var N=p.child;g=g.firstContext;e:for(;g!==null;){var k=g;g=p;for(var I=0;I<s.length;I++)if(k.context===s[I]){g.lanes|=o,k=g.alternate,k!==null&&(k.lanes|=o),Zf(g.return,o,n),u||(N=null);break e}g=k.next}}else if(p.tag===18){if(N=p.return,N===null)throw Error(a(341));N.lanes|=o,g=N.alternate,g!==null&&(g.lanes|=o),Zf(N,o,n),N=null}else N=p.child;if(N!==null)N.return=p;else for(N=p;N!==null;){if(N===n){N=null;break}if(p=N.sibling,p!==null){p.return=N.return,N=p;break}N=N.return}p=N}}function Xs(n,s,o,u){n=null;for(var p=s,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var N=p.alternate;if(N===null)throw Error(a(387));if(N=N.memoizedProps,N!==null){var k=p.type;br(p.pendingProps.value,N.value)||(n!==null?n.push(k):n=[k])}}else if(p===be.current){if(N=p.alternate,N===null)throw Error(a(387));N.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Fo):n=[Fo])}p=p.return}n!==null&&eh(s,n,o,u),s.flags|=262144}function jc(n){for(n=n.firstContext;n!==null;){if(!br(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ka(n){Va=n,Rn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function zt(n){return Kx(Va,n)}function Nc(n,s){return Va===null&&Ka(n),Kx(n,s)}function Kx(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Rn===null){if(n===null)throw Error(a(308));Rn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Rn=Rn.next=s;return o}var wk=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},_k=t.unstable_scheduleCallback,Sk=t.unstable_NormalPriority,wt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new wk,data:new Map,refCount:0}}function yo(n){n.refCount--,n.refCount===0&&_k(Sk,function(){n.controller.abort()})}var bo=null,rh=0,Qs=0,Js=null;function Ek(n,s){if(bo===null){var o=bo=[];rh=0,Qs=sm(),Js={status:"pending",value:void 0,then:function(u){o.push(u)}}}return rh++,s.then(Xx,Xx),s}function Xx(){if(--rh===0&&bo!==null){Js!==null&&(Js.status="fulfilled");var n=bo;bo=null,Qs=0,Js=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function jk(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var Qx=B.S;B.S=function(n,s){M_=Ze(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Ek(n,s),Qx!==null&&Qx(n,s)};var Xa=M(null);function nh(){var n=Xa.current;return n!==null?n:Qe.pooledCache}function Tc(n,s){s===null?ie(Xa,Xa.current):ie(Xa,s.pool)}function Jx(){var n=nh();return n===null?null:{parent:wt._currentValue,pool:n}}var Zs=Error(a(460)),ah=Error(a(474)),Oc=Error(a(542)),Cc={then:function(){}};function Zx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ew(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(Tn,Tn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,rw(n),n;default:if(typeof s.status=="string")s.then(Tn,Tn);else{if(n=Qe,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,rw(n),n}throw Ja=s,Zs}}function Qa(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ja=o,Zs):o}}var Ja=null;function tw(){if(Ja===null)throw Error(a(459));var n=Ja;return Ja=null,n}function rw(n){if(n===Zs||n===Oc)throw Error(a(483))}var ei=null,xo=0;function Ac(n){var s=xo;return xo+=1,ei===null&&(ei=[]),ew(ei,n,s)}function wo(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Rc(n,s){throw s.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function nw(n){function s(G,H){if(n){var X=G.deletions;X===null?(G.deletions=[H],G.flags|=16):X.push(H)}}function o(G,H){if(!n)return null;for(;H!==null;)s(G,H),H=H.sibling;return null}function u(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function p(G,H){return G=Cn(G,H),G.index=0,G.sibling=null,G}function g(G,H,X){return G.index=X,n?(X=G.alternate,X!==null?(X=X.index,X<H?(G.flags|=67108866,H):X):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function N(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function k(G,H,X,se){return H===null||H.tag!==6?(H=Wf(X,G.mode,se),H.return=G,H):(H=p(H,X),H.return=G,H)}function I(G,H,X,se){var we=X.type;return we===_?re(G,H,X.props.children,se,X.key):H!==null&&(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===L&&Qa(we)===H.type)?(H=p(H,X.props),wo(H,X),H.return=G,H):(H=Sc(X.type,X.key,X.props,null,G.mode,se),wo(H,X),H.return=G,H)}function Q(G,H,X,se){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=Yf(X,G.mode,se),H.return=G,H):(H=p(H,X.children||[]),H.return=G,H)}function re(G,H,X,se,we){return H===null||H.tag!==7?(H=Wa(X,G.mode,se,we),H.return=G,H):(H=p(H,X),H.return=G,H)}function oe(G,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Wf(""+H,G.mode,X),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return X=Sc(H.type,H.key,H.props,null,G.mode,X),wo(X,H),X.return=G,X;case w:return H=Yf(H,G.mode,X),H.return=G,H;case L:return H=Qa(H),oe(G,H,X)}if(ee(H)||U(H))return H=Wa(H,G.mode,X,null),H.return=G,H;if(typeof H.then=="function")return oe(G,Ac(H),X);if(H.$$typeof===T)return oe(G,Nc(G,H),X);Rc(G,H)}return null}function J(G,H,X,se){var we=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return we!==null?null:k(G,H,""+X,se);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case x:return X.key===we?I(G,H,X,se):null;case w:return X.key===we?Q(G,H,X,se):null;case L:return X=Qa(X),J(G,H,X,se)}if(ee(X)||U(X))return we!==null?null:re(G,H,X,se,null);if(typeof X.then=="function")return J(G,H,Ac(X),se);if(X.$$typeof===T)return J(G,H,Nc(G,X),se);Rc(G,X)}return null}function Z(G,H,X,se,we){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return G=G.get(X)||null,k(H,G,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case x:return G=G.get(se.key===null?X:se.key)||null,I(H,G,se,we);case w:return G=G.get(se.key===null?X:se.key)||null,Q(H,G,se,we);case L:return se=Qa(se),Z(G,H,X,se,we)}if(ee(se)||U(se))return G=G.get(X)||null,re(H,G,se,we,null);if(typeof se.then=="function")return Z(G,H,X,Ac(se),we);if(se.$$typeof===T)return Z(G,H,X,Nc(H,se),we);Rc(H,se)}return null}function me(G,H,X,se){for(var we=null,Ie=null,ve=H,Re=H=0,$e=null;ve!==null&&Re<X.length;Re++){ve.index>Re?($e=ve,ve=null):$e=ve.sibling;var Be=J(G,ve,X[Re],se);if(Be===null){ve===null&&(ve=$e);break}n&&ve&&Be.alternate===null&&s(G,ve),H=g(Be,H,Re),Ie===null?we=Be:Ie.sibling=Be,Ie=Be,ve=$e}if(Re===X.length)return o(G,ve),ze&&An(G,Re),we;if(ve===null){for(;Re<X.length;Re++)ve=oe(G,X[Re],se),ve!==null&&(H=g(ve,H,Re),Ie===null?we=ve:Ie.sibling=ve,Ie=ve);return ze&&An(G,Re),we}for(ve=u(ve);Re<X.length;Re++)$e=Z(ve,G,Re,X[Re],se),$e!==null&&(n&&$e.alternate!==null&&ve.delete($e.key===null?Re:$e.key),H=g($e,H,Re),Ie===null?we=$e:Ie.sibling=$e,Ie=$e);return n&&ve.forEach(function(Ea){return s(G,Ea)}),ze&&An(G,Re),we}function Se(G,H,X,se){if(X==null)throw Error(a(151));for(var we=null,Ie=null,ve=H,Re=H=0,$e=null,Be=X.next();ve!==null&&!Be.done;Re++,Be=X.next()){ve.index>Re?($e=ve,ve=null):$e=ve.sibling;var Ea=J(G,ve,Be.value,se);if(Ea===null){ve===null&&(ve=$e);break}n&&ve&&Ea.alternate===null&&s(G,ve),H=g(Ea,H,Re),Ie===null?we=Ea:Ie.sibling=Ea,Ie=Ea,ve=$e}if(Be.done)return o(G,ve),ze&&An(G,Re),we;if(ve===null){for(;!Be.done;Re++,Be=X.next())Be=oe(G,Be.value,se),Be!==null&&(H=g(Be,H,Re),Ie===null?we=Be:Ie.sibling=Be,Ie=Be);return ze&&An(G,Re),we}for(ve=u(ve);!Be.done;Re++,Be=X.next())Be=Z(ve,G,Re,Be.value,se),Be!==null&&(n&&Be.alternate!==null&&ve.delete(Be.key===null?Re:Be.key),H=g(Be,H,Re),Ie===null?we=Be:Ie.sibling=Be,Ie=Be);return n&&ve.forEach(function(PM){return s(G,PM)}),ze&&An(G,Re),we}function Ke(G,H,X,se){if(typeof X=="object"&&X!==null&&X.type===_&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case x:e:{for(var we=X.key;H!==null;){if(H.key===we){if(we=X.type,we===_){if(H.tag===7){o(G,H.sibling),se=p(H,X.props.children),se.return=G,G=se;break e}}else if(H.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===L&&Qa(we)===H.type){o(G,H.sibling),se=p(H,X.props),wo(se,X),se.return=G,G=se;break e}o(G,H);break}else s(G,H);H=H.sibling}X.type===_?(se=Wa(X.props.children,G.mode,se,X.key),se.return=G,G=se):(se=Sc(X.type,X.key,X.props,null,G.mode,se),wo(se,X),se.return=G,G=se)}return N(G);case w:e:{for(we=X.key;H!==null;){if(H.key===we)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){o(G,H.sibling),se=p(H,X.children||[]),se.return=G,G=se;break e}else{o(G,H);break}else s(G,H);H=H.sibling}se=Yf(X,G.mode,se),se.return=G,G=se}return N(G);case L:return X=Qa(X),Ke(G,H,X,se)}if(ee(X))return me(G,H,X,se);if(U(X)){if(we=U(X),typeof we!="function")throw Error(a(150));return X=we.call(X),Se(G,H,X,se)}if(typeof X.then=="function")return Ke(G,H,Ac(X),se);if(X.$$typeof===T)return Ke(G,H,Nc(G,X),se);Rc(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(o(G,H.sibling),se=p(H,X),se.return=G,G=se):(o(G,H),se=Wf(X,G.mode,se),se.return=G,G=se),N(G)):o(G,H)}return function(G,H,X,se){try{xo=0;var we=Ke(G,H,X,se);return ei=null,we}catch(ve){if(ve===Zs||ve===Oc)throw ve;var Ie=xr(29,ve,null,G.mode);return Ie.lanes=se,Ie.return=G,Ie}finally{}}}var Za=nw(!0),aw=nw(!1),oa=!1;function sh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ih(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function la(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ca(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(He&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=_c(n),Ix(n,null,o),s}return wc(n,u,s,o),_c(n)}function _o(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Kb(n,o)}}function oh(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var N={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=N:g=g.next=N,o=o.next}while(o!==null);g===null?p=g=s:g=g.next=s}else p=g=s;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var lh=!1;function So(){if(lh){var n=Js;if(n!==null)throw n}}function Eo(n,s,o,u){lh=!1;var p=n.updateQueue;oa=!1;var g=p.firstBaseUpdate,N=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var I=k,Q=I.next;I.next=null,N===null?g=Q:N.next=Q,N=I;var re=n.alternate;re!==null&&(re=re.updateQueue,k=re.lastBaseUpdate,k!==N&&(k===null?re.firstBaseUpdate=Q:k.next=Q,re.lastBaseUpdate=I))}if(g!==null){var oe=p.baseState;N=0,re=Q=I=null,k=g;do{var J=k.lane&-536870913,Z=J!==k.lane;if(Z?(Le&J)===J:(u&J)===J){J!==0&&J===Qs&&(lh=!0),re!==null&&(re=re.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var me=n,Se=k;J=s;var Ke=o;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){oe=me.call(Ke,oe,J);break e}oe=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,J=typeof me=="function"?me.call(Ke,oe,J):me,J==null)break e;oe=y({},oe,J);break e;case 2:oa=!0}}J=k.callback,J!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[J]:Z.push(J))}else Z={lane:J,tag:k.tag,payload:k.payload,callback:k.callback,next:null},re===null?(Q=re=Z,I=oe):re=re.next=Z,N|=J;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);re===null&&(I=oe),p.baseState=I,p.firstBaseUpdate=Q,p.lastBaseUpdate=re,g===null&&(p.shared.lanes=0),ma|=N,n.lanes=N,n.memoizedState=oe}}function sw(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function iw(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)sw(o[n],s)}var ti=M(null),Dc=M(0);function ow(n,s){n=In,ie(Dc,n),ie(ti,s),In=n|s.baseLanes}function ch(){ie(Dc,In),ie(ti,ti.current)}function uh(){In=Dc.current,F(ti),F(Dc)}var wr=M(null),Lr=null;function ua(n){var s=n.alternate;ie(yt,yt.current&1),ie(wr,n),Lr===null&&(s===null||ti.current!==null||s.memoizedState!==null)&&(Lr=n)}function dh(n){ie(yt,yt.current),ie(wr,n),Lr===null&&(Lr=n)}function lw(n){n.tag===22?(ie(yt,yt.current),ie(wr,n),Lr===null&&(Lr=n)):da()}function da(){ie(yt,yt.current),ie(wr,wr.current)}function _r(n){F(wr),Lr===n&&(Lr=null),F(yt)}var yt=M(0);function kc(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||gm(o)||ym(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var kn=0,Ce=null,Ye=null,_t=null,Mc=!1,ri=!1,es=!1,qc=0,jo=0,ni=null,Nk=0;function mt(){throw Error(a(321))}function fh(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!br(n[o],s[o]))return!1;return!0}function hh(n,s,o,u,p,g){return kn=g,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=n===null||n.memoizedState===null?Gw:Oh,es=!1,g=o(u,p),es=!1,ri&&(g=uw(s,o,u,p)),cw(n),g}function cw(n){B.H=Oo;var s=Ye!==null&&Ye.next!==null;if(kn=0,_t=Ye=Ce=null,Mc=!1,jo=0,ni=null,s)throw Error(a(300));n===null||St||(n=n.dependencies,n!==null&&jc(n)&&(St=!0))}function uw(n,s,o,u){Ce=n;var p=0;do{if(ri&&(ni=null),jo=0,ri=!1,25<=p)throw Error(a(301));if(p+=1,_t=Ye=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=Ww,g=s(o,u)}while(ri);return g}function Tk(){var n=B.H,s=n.useState()[0];return s=typeof s.then=="function"?No(s):s,n=n.useState()[0],(Ye!==null?Ye.memoizedState:null)!==n&&(Ce.flags|=1024),s}function mh(){var n=qc!==0;return qc=0,n}function ph(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function vh(n){if(Mc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Mc=!1}kn=0,_t=Ye=Ce=null,ri=!1,jo=qc=0,ni=null}function tr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?Ce.memoizedState=_t=n:_t=_t.next=n,_t}function bt(){if(Ye===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=Ye.next;var s=_t===null?Ce.memoizedState:_t.next;if(s!==null)_t=s,Ye=n;else{if(n===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));Ye=n,n={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},_t===null?Ce.memoizedState=_t=n:_t=_t.next=n}return _t}function Pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function No(n){var s=jo;return jo+=1,ni===null&&(ni=[]),n=ew(ni,n,s),s=Ce,(_t===null?s.memoizedState:_t.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Gw:Oh),n}function Lc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return No(n);if(n.$$typeof===T)return zt(n)}throw Error(a(438,String(n)))}function gh(n){var s=null,o=Ce.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Pc(),Ce.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=C;return s.index++,o}function Mn(n,s){return typeof s=="function"?s(n):s}function $c(n){var s=bt();return yh(s,Ye,n)}function yh(n,s,o){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var p=n.baseQueue,g=u.pending;if(g!==null){if(p!==null){var N=p.next;p.next=g.next,g.next=N}s.baseQueue=p=g,u.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{s=p.next;var k=N=null,I=null,Q=s,re=!1;do{var oe=Q.lane&-536870913;if(oe!==Q.lane?(Le&oe)===oe:(kn&oe)===oe){var J=Q.revertLane;if(J===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),oe===Qs&&(re=!0);else if((kn&J)===J){Q=Q.next,J===Qs&&(re=!0);continue}else oe={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(k=I=oe,N=g):I=I.next=oe,Ce.lanes|=J,ma|=J;oe=Q.action,es&&o(g,oe),g=Q.hasEagerState?Q.eagerState:o(g,oe)}else J={lane:oe,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(k=I=J,N=g):I=I.next=J,Ce.lanes|=oe,ma|=oe;Q=Q.next}while(Q!==null&&Q!==s);if(I===null?N=g:I.next=k,!br(g,n.memoizedState)&&(St=!0,re&&(o=Js,o!==null)))throw o;n.memoizedState=g,n.baseState=N,n.baseQueue=I,u.lastRenderedState=g}return p===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function bh(n){var s=bt(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var u=o.dispatch,p=o.pending,g=s.memoizedState;if(p!==null){o.pending=null;var N=p=p.next;do g=n(g,N.action),N=N.next;while(N!==p);br(g,s.memoizedState)||(St=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function dw(n,s,o){var u=Ce,p=bt(),g=ze;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=s();var N=!br((Ye||p).memoizedState,o);if(N&&(p.memoizedState=o,St=!0),p=p.queue,_h(mw.bind(null,u,p,n),[n]),p.getSnapshot!==s||N||_t!==null&&_t.memoizedState.tag&1){if(u.flags|=2048,ai(9,{destroy:void 0},hw.bind(null,u,p,o,s),null),Qe===null)throw Error(a(349));g||(kn&127)!==0||fw(u,s,o)}return o}function fw(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ce.updateQueue,s===null?(s=Pc(),Ce.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function hw(n,s,o,u){s.value=o,s.getSnapshot=u,pw(s)&&vw(n)}function mw(n,s,o){return o(function(){pw(s)&&vw(n)})}function pw(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!br(n,o)}catch{return!0}}function vw(n){var s=Ga(n,2);s!==null&&cr(s,n,2)}function xh(n){var s=tr();if(typeof n=="function"){var o=n;if(n=o(),es){yr(!0);try{o()}finally{yr(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:n},s}function gw(n,s,o,u){return n.baseState=o,yh(n,Ye,typeof u=="function"?u:Mn)}function Ok(n,s,o,u,p){if(Ic(n))throw Error(a(485));if(n=s.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){g.listeners.push(N)}};B.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,yw(s,g)):(g.next=o.next,s.pending=o.next=g)}}function yw(n,s){var o=s.action,u=s.payload,p=n.state;if(s.isTransition){var g=B.T,N={};B.T=N;try{var k=o(p,u),I=B.S;I!==null&&I(N,k),bw(n,s,k)}catch(Q){wh(n,s,Q)}finally{g!==null&&N.types!==null&&(g.types=N.types),B.T=g}}else try{g=o(p,u),bw(n,s,g)}catch(Q){wh(n,s,Q)}}function bw(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){xw(n,s,u)},function(u){return wh(n,s,u)}):xw(n,s,o)}function xw(n,s,o){s.status="fulfilled",s.value=o,ww(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,yw(n,o)))}function wh(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,ww(s),s=s.next;while(s!==u)}n.action=null}function ww(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function _w(n,s){return s}function Sw(n,s){if(ze){var o=Qe.formState;if(o!==null){e:{var u=Ce;if(ze){if(tt){t:{for(var p=tt,g=Pr;p.nodeType!==8;){if(!g){p=null;break t}if(p=$r(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){tt=$r(p.nextSibling),u=p.data==="F!";break e}}sa(u)}u=!1}u&&(s=o[0])}}return o=tr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_w,lastRenderedState:s},o.queue=u,o=Bw.bind(null,Ce,u),u.dispatch=o,u=xh(!1),g=Th.bind(null,Ce,!1,u.queue),u=tr(),p={state:s,dispatch:null,action:n,pending:null},u.queue=p,o=Ok.bind(null,Ce,p,g,o),p.dispatch=o,u.memoizedState=n,[s,o,!1]}function Ew(n){var s=bt();return jw(s,Ye,n)}function jw(n,s,o){if(s=yh(n,s,_w)[0],n=$c(Mn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=No(s)}catch(N){throw N===Zs?Oc:N}else u=s;s=bt();var p=s.queue,g=p.dispatch;return o!==s.memoizedState&&(Ce.flags|=2048,ai(9,{destroy:void 0},Ck.bind(null,p,o),null)),[u,g,n]}function Ck(n,s){n.action=s}function Nw(n){var s=bt(),o=Ye;if(o!==null)return jw(s,o,n);bt(),s=s.memoizedState,o=bt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function ai(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=Pc(),Ce.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function Tw(){return bt().memoizedState}function zc(n,s,o,u){var p=tr();Ce.flags|=n,p.memoizedState=ai(1|s,{destroy:void 0},o,u===void 0?null:u)}function Uc(n,s,o,u){var p=bt();u=u===void 0?null:u;var g=p.memoizedState.inst;Ye!==null&&u!==null&&fh(u,Ye.memoizedState.deps)?p.memoizedState=ai(s,g,o,u):(Ce.flags|=n,p.memoizedState=ai(1|s,g,o,u))}function Ow(n,s){zc(8390656,8,n,s)}function _h(n,s){Uc(2048,8,n,s)}function Ak(n){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=Pc(),Ce.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Cw(n){var s=bt().memoizedState;return Ak({ref:s,nextImpl:n}),function(){if((He&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function Aw(n,s){return Uc(4,2,n,s)}function Rw(n,s){return Uc(4,4,n,s)}function Dw(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function kw(n,s,o){o=o!=null?o.concat([n]):null,Uc(4,4,Dw.bind(null,s,n),o)}function Sh(){}function Mw(n,s){var o=bt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&fh(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function qw(n,s){var o=bt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&fh(s,u[1]))return u[0];if(u=n(),es){yr(!0);try{n()}finally{yr(!1)}}return o.memoizedState=[u,s],u}function Eh(n,s,o){return o===void 0||(kn&1073741824)!==0&&(Le&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=P_(),Ce.lanes|=n,ma|=n,o)}function Pw(n,s,o,u){return br(o,s)?o:ti.current!==null?(n=Eh(n,o,u),br(n,s)||(St=!0),n):(kn&42)===0||(kn&1073741824)!==0&&(Le&261930)===0?(St=!0,n.memoizedState=o):(n=P_(),Ce.lanes|=n,ma|=n,s)}function Lw(n,s,o,u,p){var g=K.p;K.p=g!==0&&8>g?g:8;var N=B.T,k={};B.T=k,Th(n,!1,s,o);try{var I=p(),Q=B.S;if(Q!==null&&Q(k,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var re=jk(I,u);To(n,s,re,jr(n))}else To(n,s,u,jr(n))}catch(oe){To(n,s,{then:function(){},status:"rejected",reason:oe},jr())}finally{K.p=g,N!==null&&k.types!==null&&(N.types=k.types),B.T=N}}function Rk(){}function jh(n,s,o,u){if(n.tag!==5)throw Error(a(476));var p=$w(n).queue;Lw(n,p,s,ae,o===null?Rk:function(){return zw(n),o(u)})}function $w(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:ae},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mn,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function zw(n){var s=$w(n);s.next===null&&(s=n.alternate.memoizedState),To(n,s.next.queue,{},jr())}function Nh(){return zt(Fo)}function Uw(){return bt().memoizedState}function Iw(){return bt().memoizedState}function Dk(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=jr();n=la(o);var u=ca(s,n,o);u!==null&&(cr(u,s,o),_o(u,s,o)),s={cache:th()},n.payload=s;return}s=s.return}}function kk(n,s,o){var u=jr();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ic(n)?Hw(s,o):(o=Ff(n,s,o,u),o!==null&&(cr(o,n,u),Fw(o,s,u)))}function Bw(n,s,o){var u=jr();To(n,s,o,u)}function To(n,s,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ic(n))Hw(s,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var N=s.lastRenderedState,k=g(N,o);if(p.hasEagerState=!0,p.eagerState=k,br(k,N))return wc(n,s,p,0),Qe===null&&xc(),!1}catch{}finally{}if(o=Ff(n,s,p,u),o!==null)return cr(o,n,u),Fw(o,s,u),!0}return!1}function Th(n,s,o,u){if(u={lane:2,revertLane:sm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ic(n)){if(s)throw Error(a(479))}else s=Ff(n,o,u,2),s!==null&&cr(s,n,2)}function Ic(n){var s=n.alternate;return n===Ce||s!==null&&s===Ce}function Hw(n,s){ri=Mc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Fw(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Kb(n,o)}}var Oo={readContext:zt,use:Lc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};Oo.useEffectEvent=mt;var Gw={readContext:zt,use:Lc,useCallback:function(n,s){return tr().memoizedState=[n,s===void 0?null:s],n},useContext:zt,useEffect:Ow,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,zc(4194308,4,Dw.bind(null,s,n),o)},useLayoutEffect:function(n,s){return zc(4194308,4,n,s)},useInsertionEffect:function(n,s){zc(4,2,n,s)},useMemo:function(n,s){var o=tr();s=s===void 0?null:s;var u=n();if(es){yr(!0);try{n()}finally{yr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=tr();if(o!==void 0){var p=o(s);if(es){yr(!0);try{o(s)}finally{yr(!1)}}}else p=s;return u.memoizedState=u.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},u.queue=n,n=n.dispatch=kk.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var s=tr();return n={current:n},s.memoizedState=n},useState:function(n){n=xh(n);var s=n.queue,o=Bw.bind(null,Ce,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Sh,useDeferredValue:function(n,s){var o=tr();return Eh(o,n,s)},useTransition:function(){var n=xh(!1);return n=Lw.bind(null,Ce,n.queue,!0,!1),tr().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Ce,p=tr();if(ze){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Qe===null)throw Error(a(349));(Le&127)!==0||fw(u,s,o)}p.memoizedState=o;var g={value:o,getSnapshot:s};return p.queue=g,Ow(mw.bind(null,u,g,n),[n]),u.flags|=2048,ai(9,{destroy:void 0},hw.bind(null,u,g,o,s),null),o},useId:function(){var n=tr(),s=Qe.identifierPrefix;if(ze){var o=ln,u=on;o=(u&~(1<<32-Yt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=qc++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=Nk++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Nh,useFormState:Sw,useActionState:Sw,useOptimistic:function(n){var s=tr();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Th.bind(null,Ce,!0,o),o.dispatch=s,[n,s]},useMemoCache:gh,useCacheRefresh:function(){return tr().memoizedState=Dk.bind(null,Ce)},useEffectEvent:function(n){var s=tr(),o={impl:n};return s.memoizedState=o,function(){if((He&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Oh={readContext:zt,use:Lc,useCallback:Mw,useContext:zt,useEffect:_h,useImperativeHandle:kw,useInsertionEffect:Aw,useLayoutEffect:Rw,useMemo:qw,useReducer:$c,useRef:Tw,useState:function(){return $c(Mn)},useDebugValue:Sh,useDeferredValue:function(n,s){var o=bt();return Pw(o,Ye.memoizedState,n,s)},useTransition:function(){var n=$c(Mn)[0],s=bt().memoizedState;return[typeof n=="boolean"?n:No(n),s]},useSyncExternalStore:dw,useId:Uw,useHostTransitionStatus:Nh,useFormState:Ew,useActionState:Ew,useOptimistic:function(n,s){var o=bt();return gw(o,Ye,n,s)},useMemoCache:gh,useCacheRefresh:Iw};Oh.useEffectEvent=Cw;var Ww={readContext:zt,use:Lc,useCallback:Mw,useContext:zt,useEffect:_h,useImperativeHandle:kw,useInsertionEffect:Aw,useLayoutEffect:Rw,useMemo:qw,useReducer:bh,useRef:Tw,useState:function(){return bh(Mn)},useDebugValue:Sh,useDeferredValue:function(n,s){var o=bt();return Ye===null?Eh(o,n,s):Pw(o,Ye.memoizedState,n,s)},useTransition:function(){var n=bh(Mn)[0],s=bt().memoizedState;return[typeof n=="boolean"?n:No(n),s]},useSyncExternalStore:dw,useId:Uw,useHostTransitionStatus:Nh,useFormState:Nw,useActionState:Nw,useOptimistic:function(n,s){var o=bt();return Ye!==null?gw(o,Ye,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:gh,useCacheRefresh:Iw};Ww.useEffectEvent=Cw;function Ch(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ah={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=jr(),p=la(u);p.payload=s,o!=null&&(p.callback=o),s=ca(n,p,u),s!==null&&(cr(s,n,u),_o(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=jr(),p=la(u);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ca(n,p,u),s!==null&&(cr(s,n,u),_o(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=jr(),u=la(o);u.tag=2,s!=null&&(u.callback=s),s=ca(n,u,o),s!==null&&(cr(s,n,o),_o(s,n,o))}};function Yw(n,s,o,u,p,g,N){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,N):s.prototype&&s.prototype.isPureReactComponent?!mo(o,u)||!mo(p,g):!0}function Vw(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Ah.enqueueReplaceState(s,s.state,null)}function ts(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=y({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}function Kw(n){bc(n)}function Xw(n){console.error(n)}function Qw(n){bc(n)}function Bc(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Jw(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Rh(n,s,o){return o=la(o),o.tag=3,o.payload={element:null},o.callback=function(){Bc(n,s)},o}function Zw(n){return n=la(n),n.tag=3,n}function e_(n,s,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;n.payload=function(){return p(g)},n.callback=function(){Jw(s,o,u)}}var N=o.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(n.callback=function(){Jw(s,o,u),typeof p!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function Mk(n,s,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Xs(s,o,p,!0),o=wr.current,o!==null){switch(o.tag){case 31:case 13:return Lr===null?eu():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===Cc?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),rm(n,u,p)),!1;case 22:return o.flags|=65536,u===Cc?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),rm(n,u,p)),!1}throw Error(a(435,o.tag))}return rm(n,u,p),eu(),!1}if(ze)return s=wr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==Xf&&(n=Error(a(422),{cause:u}),go(kr(n,o)))):(u!==Xf&&(s=Error(a(423),{cause:u}),go(kr(s,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,u=kr(u,o),p=Rh(n.stateNode,u,p),oh(n,p),pt!==4&&(pt=2)),!1;var g=Error(a(520),{cause:u});if(g=kr(g,o),Po===null?Po=[g]:Po.push(g),pt!==4&&(pt=2),s===null)return!0;u=kr(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Rh(o.stateNode,u,n),oh(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(pa===null||!pa.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Zw(p),e_(p,n,o,u),oh(o,p),!1}o=o.return}while(o!==null);return!1}var Dh=Error(a(461)),St=!1;function Ut(n,s,o,u){s.child=n===null?aw(s,null,o,u):Za(s,n.child,o,u)}function t_(n,s,o,u,p){o=o.render;var g=s.ref;if("ref"in u){var N={};for(var k in u)k!=="ref"&&(N[k]=u[k])}else N=u;return Ka(s),u=hh(n,s,o,N,g,p),k=mh(),n!==null&&!St?(ph(n,s,p),qn(n,s,p)):(ze&&k&&Vf(s),s.flags|=1,Ut(n,s,u,p),s.child)}function r_(n,s,o,u,p){if(n===null){var g=o.type;return typeof g=="function"&&!Gf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,n_(n,s,g,u,p)):(n=Sc(o.type,null,u,s,s.mode,p),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Uh(n,p)){var N=g.memoizedProps;if(o=o.compare,o=o!==null?o:mo,o(N,u)&&n.ref===s.ref)return qn(n,s,p)}return s.flags|=1,n=Cn(g,u),n.ref=s.ref,n.return=s,s.child=n}function n_(n,s,o,u,p){if(n!==null){var g=n.memoizedProps;if(mo(g,u)&&n.ref===s.ref)if(St=!1,s.pendingProps=u=g,Uh(n,p))(n.flags&131072)!==0&&(St=!0);else return s.lanes=n.lanes,qn(n,s,p)}return kh(n,s,o,u,p)}function a_(n,s,o,u){var p=u.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,n!==null){for(u=s.child=n.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,s.child=null;return s_(n,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Tc(s,g!==null?g.cachePool:null),g!==null?ow(s,g):ch(),lw(s);else return u=s.lanes=536870912,s_(n,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Tc(s,g.cachePool),ow(s,g),da(),s.memoizedState=null):(n!==null&&Tc(s,null),ch(),da());return Ut(n,s,p,o),s.child}function Co(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function s_(n,s,o,u,p){var g=nh();return g=g===null?null:{parent:wt._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},n!==null&&Tc(s,null),ch(),lw(s),n!==null&&Xs(n,s,u,!0),s.childLanes=p,null}function Hc(n,s){return s=Gc({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function i_(n,s,o){return Za(s,n.child,null,o),n=Hc(s,s.pendingProps),n.flags|=2,_r(s),s.memoizedState=null,n}function qk(n,s,o){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(ze){if(u.mode==="hidden")return n=Hc(s,u),s.lanes=536870912,Co(null,n);if(dh(s),(n=tt)?(n=yS(n,Pr),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:na!==null?{id:on,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},o=Hx(n),o.return=s,s.child=o,$t=s,tt=null)):n=null,n===null)throw sa(s);return s.lanes=536870912,null}return Hc(s,u)}var g=n.memoizedState;if(g!==null){var N=g.dehydrated;if(dh(s),p)if(s.flags&256)s.flags&=-257,s=i_(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(a(558));else if(St||Xs(n,s,o,!1),p=(o&n.childLanes)!==0,St||p){if(u=Qe,u!==null&&(N=Xb(u,o),N!==0&&N!==g.retryLane))throw g.retryLane=N,Ga(n,N),cr(u,n,N),Dh;eu(),s=i_(n,s,o)}else n=g.treeContext,tt=$r(N.nextSibling),$t=s,ze=!0,aa=null,Pr=!1,n!==null&&Wx(s,n),s=Hc(s,u),s.flags|=4096;return s}return n=Cn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Fc(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function kh(n,s,o,u,p){return Ka(s),o=hh(n,s,o,u,void 0,p),u=mh(),n!==null&&!St?(ph(n,s,p),qn(n,s,p)):(ze&&u&&Vf(s),s.flags|=1,Ut(n,s,o,p),s.child)}function o_(n,s,o,u,p,g){return Ka(s),s.updateQueue=null,o=uw(s,u,o,p),cw(n),u=mh(),n!==null&&!St?(ph(n,s,g),qn(n,s,g)):(ze&&u&&Vf(s),s.flags|=1,Ut(n,s,o,g),s.child)}function l_(n,s,o,u,p){if(Ka(s),s.stateNode===null){var g=Ws,N=o.contextType;typeof N=="object"&&N!==null&&(g=zt(N)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ah,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},sh(s),N=o.contextType,g.context=typeof N=="object"&&N!==null?zt(N):Ws,g.state=s.memoizedState,N=o.getDerivedStateFromProps,typeof N=="function"&&(Ch(s,o,N,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(N=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),N!==g.state&&Ah.enqueueReplaceState(g,g.state,null),Eo(s,u,g,p),So(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var k=s.memoizedProps,I=ts(o,k);g.props=I;var Q=g.context,re=o.contextType;N=Ws,typeof re=="object"&&re!==null&&(N=zt(re));var oe=o.getDerivedStateFromProps;re=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,re||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(k||Q!==N)&&Vw(s,g,u,N),oa=!1;var J=s.memoizedState;g.state=J,Eo(s,u,g,p),So(),Q=s.memoizedState,k||J!==Q||oa?(typeof oe=="function"&&(Ch(s,o,oe,u),Q=s.memoizedState),(I=oa||Yw(s,o,I,u,J,Q,N))?(re||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Q),g.props=u,g.state=Q,g.context=N,u=I):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,ih(n,s),N=s.memoizedProps,re=ts(o,N),g.props=re,oe=s.pendingProps,J=g.context,Q=o.contextType,I=Ws,typeof Q=="object"&&Q!==null&&(I=zt(Q)),k=o.getDerivedStateFromProps,(Q=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N!==oe||J!==I)&&Vw(s,g,u,I),oa=!1,J=s.memoizedState,g.state=J,Eo(s,u,g,p),So();var Z=s.memoizedState;N!==oe||J!==Z||oa||n!==null&&n.dependencies!==null&&jc(n.dependencies)?(typeof k=="function"&&(Ch(s,o,k,u),Z=s.memoizedState),(re=oa||Yw(s,o,re,u,J,Z,I)||n!==null&&n.dependencies!==null&&jc(n.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,I),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,I)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=I,u=re):(typeof g.componentDidUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||N===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,Fc(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=Za(s,n.child,null,p),s.child=Za(s,null,o,p)):Ut(n,s,o,p),s.memoizedState=g.state,n=s.child):n=qn(n,s,p),n}function c_(n,s,o,u){return Ya(),s.flags|=256,Ut(n,s,o,u),s.child}var Mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qh(n){return{baseLanes:n,cachePool:Jx()}}function Ph(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Er),n}function u_(n,s,o){var u=s.pendingProps,p=!1,g=(s.flags&128)!==0,N;if((N=g)||(N=n!==null&&n.memoizedState===null?!1:(yt.current&2)!==0),N&&(p=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,n===null){if(ze){if(p?ua(s):da(),(n=tt)?(n=yS(n,Pr),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:na!==null?{id:on,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},o=Hx(n),o.return=s,s.child=o,$t=s,tt=null)):n=null,n===null)throw sa(s);return ym(n)?s.lanes=32:s.lanes=536870912,null}var k=u.children;return u=u.fallback,p?(da(),p=s.mode,k=Gc({mode:"hidden",children:k},p),u=Wa(u,p,o,null),k.return=s,u.return=s,k.sibling=u,s.child=k,u=s.child,u.memoizedState=qh(o),u.childLanes=Ph(n,N,o),s.memoizedState=Mh,Co(null,u)):(ua(s),Lh(s,k))}var I=n.memoizedState;if(I!==null&&(k=I.dehydrated,k!==null)){if(g)s.flags&256?(ua(s),s.flags&=-257,s=$h(n,s,o)):s.memoizedState!==null?(da(),s.child=n.child,s.flags|=128,s=null):(da(),k=u.fallback,p=s.mode,u=Gc({mode:"visible",children:u.children},p),k=Wa(k,p,o,null),k.flags|=2,u.return=s,k.return=s,u.sibling=k,s.child=u,Za(s,n.child,null,o),u=s.child,u.memoizedState=qh(o),u.childLanes=Ph(n,N,o),s.memoizedState=Mh,s=Co(null,u));else if(ua(s),ym(k)){if(N=k.nextSibling&&k.nextSibling.dataset,N)var Q=N.dgst;N=Q,u=Error(a(419)),u.stack="",u.digest=N,go({value:u,source:null,stack:null}),s=$h(n,s,o)}else if(St||Xs(n,s,o,!1),N=(o&n.childLanes)!==0,St||N){if(N=Qe,N!==null&&(u=Xb(N,o),u!==0&&u!==I.retryLane))throw I.retryLane=u,Ga(n,u),cr(N,n,u),Dh;gm(k)||eu(),s=$h(n,s,o)}else gm(k)?(s.flags|=192,s.child=n.child,s=null):(n=I.treeContext,tt=$r(k.nextSibling),$t=s,ze=!0,aa=null,Pr=!1,n!==null&&Wx(s,n),s=Lh(s,u.children),s.flags|=4096);return s}return p?(da(),k=u.fallback,p=s.mode,I=n.child,Q=I.sibling,u=Cn(I,{mode:"hidden",children:u.children}),u.subtreeFlags=I.subtreeFlags&65011712,Q!==null?k=Cn(Q,k):(k=Wa(k,p,o,null),k.flags|=2),k.return=s,u.return=s,u.sibling=k,s.child=u,Co(null,u),u=s.child,k=n.child.memoizedState,k===null?k=qh(o):(p=k.cachePool,p!==null?(I=wt._currentValue,p=p.parent!==I?{parent:I,pool:I}:p):p=Jx(),k={baseLanes:k.baseLanes|o,cachePool:p}),u.memoizedState=k,u.childLanes=Ph(n,N,o),s.memoizedState=Mh,Co(n.child,u)):(ua(s),o=n.child,n=o.sibling,o=Cn(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(N=s.deletions,N===null?(s.deletions=[n],s.flags|=16):N.push(n)),s.child=o,s.memoizedState=null,o)}function Lh(n,s){return s=Gc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Gc(n,s){return n=xr(22,n,null,s),n.lanes=0,n}function $h(n,s,o){return Za(s,n.child,null,o),n=Lh(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function d_(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Zf(n.return,s,o)}function zh(n,s,o,u,p,g){var N=n.memoizedState;N===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:g}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=u,N.tail=o,N.tailMode=p,N.treeForkCount=g)}function f_(n,s,o){var u=s.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var N=yt.current,k=(N&2)!==0;if(k?(N=N&1|2,s.flags|=128):N&=1,ie(yt,N),Ut(n,s,u,o),u=ze?vo:0,!k&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&d_(n,o,s);else if(n.tag===19)d_(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(p){case"forwards":for(o=s.child,p=null;o!==null;)n=o.alternate,n!==null&&kc(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),zh(s,!1,p,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(n=p.alternate,n!==null&&kc(n)===null){s.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}zh(s,!0,o,null,g,u);break;case"together":zh(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function qn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ma|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(Xs(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,o=Cn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Cn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Uh(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&jc(n)))}function Pk(n,s,o){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),ia(s,wt,n.memoizedState.cache),Ya();break;case 27:case 5:gt(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:ia(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,dh(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ua(s),s.flags|=128,null):(o&s.child.childLanes)!==0?u_(n,s,o):(ua(s),n=qn(n,s,o),n!==null?n.sibling:null);ua(s);break;case 19:var p=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Xs(n,s,o,!1),u=(o&s.childLanes)!==0),p){if(u)return f_(n,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ie(yt,yt.current),u)break;return null;case 22:return s.lanes=0,a_(n,s,o,s.pendingProps);case 24:ia(s,wt,n.memoizedState.cache)}return qn(n,s,o)}function h_(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)St=!0;else{if(!Uh(n,o)&&(s.flags&128)===0)return St=!1,Pk(n,s,o);St=(n.flags&131072)!==0}else St=!1,ze&&(s.flags&1048576)!==0&&Gx(s,vo,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=Qa(s.elementType),s.type=n,typeof n=="function")Gf(n)?(u=ts(n,u),s.tag=1,s=l_(null,s,n,u,o)):(s.tag=0,s=kh(null,s,n,u,o));else{if(n!=null){var p=n.$$typeof;if(p===O){s.tag=11,s=t_(null,s,n,u,o);break e}else if(p===R){s.tag=14,s=r_(null,s,n,u,o);break e}}throw s=W(n)||n,Error(a(306,s,""))}}return s;case 0:return kh(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,p=ts(u,s.pendingProps),l_(n,s,u,p,o);case 3:e:{if(De(s,s.stateNode.containerInfo),n===null)throw Error(a(387));u=s.pendingProps;var g=s.memoizedState;p=g.element,ih(n,s),Eo(s,u,null,o);var N=s.memoizedState;if(u=N.cache,ia(s,wt,u),u!==g.cache&&eh(s,[wt],o,!0),So(),u=N.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=c_(n,s,u,o);break e}else if(u!==p){p=kr(Error(a(424)),s),go(p),s=c_(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(tt=$r(n.firstChild),$t=s,ze=!0,aa=null,Pr=!0,o=aw(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ya(),u===p){s=qn(n,s,o);break e}Ut(n,s,u,o)}s=s.child}return s;case 26:return Fc(n,s),n===null?(o=ES(s.type,null,s.pendingProps,null))?s.memoizedState=o:ze||(o=s.type,n=s.pendingProps,u=ou(pe.current).createElement(o),u[Lt]=s,u[nr]=n,It(u,o,n),kt(u),s.stateNode=u):s.memoizedState=ES(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return gt(s),n===null&&ze&&(u=s.stateNode=wS(s.type,s.pendingProps,pe.current),$t=s,Pr=!0,p=tt,ba(s.type)?(bm=p,tt=$r(u.firstChild)):tt=p),Ut(n,s,s.pendingProps.children,o),Fc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&ze&&((p=u=tt)&&(u=fM(u,s.type,s.pendingProps,Pr),u!==null?(s.stateNode=u,$t=s,tt=$r(u.firstChild),Pr=!1,p=!0):p=!1),p||sa(s)),gt(s),p=s.type,g=s.pendingProps,N=n!==null?n.memoizedProps:null,u=g.children,mm(p,g)?u=null:N!==null&&mm(p,N)&&(s.flags|=32),s.memoizedState!==null&&(p=hh(n,s,Tk,null,null,o),Fo._currentValue=p),Fc(n,s),Ut(n,s,u,o),s.child;case 6:return n===null&&ze&&((n=o=tt)&&(o=hM(o,s.pendingProps,Pr),o!==null?(s.stateNode=o,$t=s,tt=null,n=!0):n=!1),n||sa(s)),null;case 13:return u_(n,s,o);case 4:return De(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Za(s,null,u,o):Ut(n,s,u,o),s.child;case 11:return t_(n,s,s.type,s.pendingProps,o);case 7:return Ut(n,s,s.pendingProps,o),s.child;case 8:return Ut(n,s,s.pendingProps.children,o),s.child;case 12:return Ut(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,ia(s,s.type,u.value),Ut(n,s,u.children,o),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Ka(s),p=zt(p),u=u(p),s.flags|=1,Ut(n,s,u,o),s.child;case 14:return r_(n,s,s.type,s.pendingProps,o);case 15:return n_(n,s,s.type,s.pendingProps,o);case 19:return f_(n,s,o);case 31:return qk(n,s,o);case 22:return a_(n,s,o,s.pendingProps);case 24:return Ka(s),u=zt(wt),n===null?(p=nh(),p===null&&(p=Qe,g=th(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),s.memoizedState={parent:u,cache:p},sh(s),ia(s,wt,p)):((n.lanes&o)!==0&&(ih(n,s),Eo(s,null,null,o),So()),p=n.memoizedState,g=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ia(s,wt,u)):(u=g.cache,ia(s,wt,u),u!==p.cache&&eh(s,[wt],o,!0))),Ut(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Pn(n){n.flags|=4}function Ih(n,s,o,u,p){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(p&335544128)===p)if(n.stateNode.complete)n.flags|=8192;else if(U_())n.flags|=8192;else throw Ja=Cc,ah}else n.flags&=-16777217}function m_(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!CS(s))if(U_())n.flags|=8192;else throw Ja=Cc,ah}function Wc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Yb():536870912,n.lanes|=s,li|=s)}function Ao(n,s){if(!ze)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function rt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function Lk(n,s,o){var u=s.pendingProps;switch(Kf(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Dn(wt),Me(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ks(s)?Pn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Qf())),rt(s),null;case 26:var p=s.type,g=s.memoizedState;return n===null?(Pn(s),g!==null?(rt(s),m_(s,g)):(rt(s),Ih(s,p,null,u,o))):g?g!==n.memoizedState?(Pn(s),rt(s),m_(s,g)):(rt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Pn(s),rt(s),Ih(s,p,n,u,o)),null;case 27:if(ht(s),o=pe.current,p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Pn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return rt(s),null}n=ce.current,Ks(s)?Yx(s):(n=wS(p,u,o),s.stateNode=n,Pn(s))}return rt(s),null;case 5:if(ht(s),p=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Pn(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return rt(s),null}if(g=ce.current,Ks(s))Yx(s);else{var N=ou(pe.current);switch(g){case 1:g=N.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=N.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=N.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=N.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?N.createElement("select",{is:u.is}):N.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?N.createElement(p,{is:u.is}):N.createElement(p)}}g[Lt]=s,g[nr]=u;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)g.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=g;e:switch(It(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Pn(s)}}return rt(s),Ih(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Pn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(n=pe.current,Ks(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,p=$t,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}n[Lt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||uS(n.nodeValue,o)),n||sa(s,!0)}else n=ou(n).createTextNode(u),n[Lt]=s,s.stateNode=n}return rt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=Ks(s),o!==null){if(n===null){if(!u)throw Error(a(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[Lt]=s}else Ya(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),n=!1}else o=Qf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(_r(s),s):(_r(s),null);if((s.flags&128)!==0)throw Error(a(558))}return rt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Ks(s),u!==null&&u.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Lt]=s}else Ya(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),p=!1}else p=Qf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(_r(s),s):(_r(s),null)}return _r(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Wc(s,s.updateQueue),rt(s),null);case 4:return Me(),n===null&&cm(s.stateNode.containerInfo),rt(s),null;case 10:return Dn(s.type),rt(s),null;case 19:if(F(yt),u=s.memoizedState,u===null)return rt(s),null;if(p=(s.flags&128)!==0,g=u.rendering,g===null)if(p)Ao(u,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=kc(n),g!==null){for(s.flags|=128,Ao(u,!1),n=g.updateQueue,s.updateQueue=n,Wc(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Bx(o,n),o=o.sibling;return ie(yt,yt.current&1|2),ze&&An(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Ze()>Qc&&(s.flags|=128,p=!0,Ao(u,!1),s.lanes=4194304)}else{if(!p)if(n=kc(g),n!==null){if(s.flags|=128,p=!0,n=n.updateQueue,s.updateQueue=n,Wc(s,n),Ao(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!ze)return rt(s),null}else 2*Ze()-u.renderingStartTime>Qc&&o!==536870912&&(s.flags|=128,p=!0,Ao(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(n=u.last,n!==null?n.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ze(),n.sibling=null,o=yt.current,ie(yt,p?o&1|2:o&1),ze&&An(s,u.treeForkCount),n):(rt(s),null);case 22:case 23:return _r(s),uh(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),o=s.updateQueue,o!==null&&Wc(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&F(Xa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Dn(wt),rt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function $k(n,s){switch(Kf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Dn(wt),Me(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return ht(s),null;case 31:if(s.memoizedState!==null){if(_r(s),s.alternate===null)throw Error(a(340));Ya()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(_r(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ya()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return F(yt),null;case 4:return Me(),null;case 10:return Dn(s.type),null;case 22:case 23:return _r(s),uh(),n!==null&&F(Xa),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Dn(wt),null;case 25:return null;default:return null}}function p_(n,s){switch(Kf(s),s.tag){case 3:Dn(wt),Me();break;case 26:case 27:case 5:ht(s);break;case 4:Me();break;case 31:s.memoizedState!==null&&_r(s);break;case 13:_r(s);break;case 19:F(yt);break;case 10:Dn(s.type);break;case 22:case 23:_r(s),uh(),n!==null&&F(Xa);break;case 24:Dn(wt)}}function Ro(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&n)===n){u=void 0;var g=o.create,N=o.inst;u=g(),N.destroy=u}o=o.next}while(o!==p)}}catch(k){Ge(s,s.return,k)}}function fa(n,s,o){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&n)===n){var N=u.inst,k=N.destroy;if(k!==void 0){N.destroy=void 0,p=s;var I=o,Q=k;try{Q()}catch(re){Ge(p,I,re)}}}u=u.next}while(u!==g)}}catch(re){Ge(s,s.return,re)}}function v_(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{iw(s,o)}catch(u){Ge(n,n.return,u)}}}function g_(n,s,o){o.props=ts(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Ge(n,s,u)}}function Do(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(p){Ge(n,s,p)}}function cn(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){Ge(n,s,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ge(n,s,p)}else o.current=null}function y_(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){Ge(n,n.return,p)}}function Bh(n,s,o){try{var u=n.stateNode;iM(u,n.type,o,s),u[nr]=s}catch(p){Ge(n,n.return,p)}}function b_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ba(n.type)||n.tag===4}function Hh(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||b_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ba(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Tn));else if(u!==4&&(u===27&&ba(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Fh(n,s,o),n=n.sibling;n!==null;)Fh(n,s,o),n=n.sibling}function Yc(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&ba(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Yc(n,s,o),n=n.sibling;n!==null;)Yc(n,s,o),n=n.sibling}function x_(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);It(s,u,o),s[Lt]=n,s[nr]=o}catch(g){Ge(n,n.return,g)}}var Ln=!1,Et=!1,Gh=!1,w_=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function zk(n,s){if(n=n.containerInfo,fm=mu,n=kx(n),$f(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var N=0,k=-1,I=-1,Q=0,re=0,oe=n,J=null;t:for(;;){for(var Z;oe!==o||p!==0&&oe.nodeType!==3||(k=N+p),oe!==g||u!==0&&oe.nodeType!==3||(I=N+u),oe.nodeType===3&&(N+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)J=oe,oe=Z;for(;;){if(oe===n)break t;if(J===o&&++Q===p&&(k=N),J===g&&++re===u&&(I=N),(Z=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=Z}o=k===-1||I===-1?null:{start:k,end:I}}else o=null}o=o||{start:0,end:0}}else o=null;for(hm={focusedElem:n,selectionRange:o},mu=!1,Mt=s;Mt!==null;)if(s=Mt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Mt=n;else for(;Mt!==null;){switch(s=Mt,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)p=n[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var me=ts(o.type,p);n=u.getSnapshotBeforeUpdate(me,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Se){Ge(o,o.return,Se)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)vm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,Mt=n;break}Mt=s.return}}function __(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:zn(n,o),u&4&&Ro(5,o);break;case 1:if(zn(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(N){Ge(o,o.return,N)}else{var p=ts(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(p,s,n.__reactInternalSnapshotBeforeUpdate)}catch(N){Ge(o,o.return,N)}}u&64&&v_(o),u&512&&Do(o,o.return);break;case 3:if(zn(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{iw(n,s)}catch(N){Ge(o,o.return,N)}}break;case 27:s===null&&u&4&&x_(o);case 26:case 5:zn(n,o),s===null&&u&4&&y_(o),u&512&&Do(o,o.return);break;case 12:zn(n,o);break;case 31:zn(n,o),u&4&&j_(n,o);break;case 13:zn(n,o),u&4&&N_(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Vk.bind(null,o),mM(n,o))));break;case 22:if(u=o.memoizedState!==null||Ln,!u){s=s!==null&&s.memoizedState!==null||Et,p=Ln;var g=Et;Ln=u,(Et=s)&&!g?Un(n,o,(o.subtreeFlags&8772)!==0):zn(n,o),Ln=p,Et=g}break;case 30:break;default:zn(n,o)}}function S_(n){var s=n.alternate;s!==null&&(n.alternate=null,S_(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&wf(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,sr=!1;function $n(n,s,o){for(o=o.child;o!==null;)E_(n,s,o),o=o.sibling}function E_(n,s,o){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(ft,o)}catch{}switch(o.tag){case 26:Et||cn(o,s),$n(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Et||cn(o,s);var u=ot,p=sr;ba(o.type)&&(ot=o.stateNode,sr=!1),$n(n,s,o),Io(o.stateNode),ot=u,sr=p;break;case 5:Et||cn(o,s);case 6:if(u=ot,p=sr,ot=null,$n(n,s,o),ot=u,sr=p,ot!==null)if(sr)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(g){Ge(o,s,g)}else try{ot.removeChild(o.stateNode)}catch(g){Ge(o,s,g)}break;case 18:ot!==null&&(sr?(n=ot,vS(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),vi(n)):vS(ot,o.stateNode));break;case 4:u=ot,p=sr,ot=o.stateNode.containerInfo,sr=!0,$n(n,s,o),ot=u,sr=p;break;case 0:case 11:case 14:case 15:fa(2,o,s),Et||fa(4,o,s),$n(n,s,o);break;case 1:Et||(cn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&g_(o,s,u)),$n(n,s,o);break;case 21:$n(n,s,o);break;case 22:Et=(u=Et)||o.memoizedState!==null,$n(n,s,o),Et=u;break;default:$n(n,s,o)}}function j_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{vi(n)}catch(o){Ge(s,s.return,o)}}}function N_(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{vi(n)}catch(o){Ge(s,s.return,o)}}function Uk(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new w_),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new w_),s;default:throw Error(a(435,n.tag))}}function Vc(n,s){var o=Uk(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var p=Kk.bind(null,n,u);u.then(p,p)}})}function ir(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=n,N=s,k=N;e:for(;k!==null;){switch(k.tag){case 27:if(ba(k.type)){ot=k.stateNode,sr=!1;break e}break;case 5:ot=k.stateNode,sr=!1;break e;case 3:case 4:ot=k.stateNode.containerInfo,sr=!0;break e}k=k.return}if(ot===null)throw Error(a(160));E_(g,N,p),ot=null,sr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)T_(s,n),s=s.sibling}var Xr=null;function T_(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ir(s,n),or(n),u&4&&(fa(3,n,n.return),Ro(3,n),fa(5,n,n.return));break;case 1:ir(s,n),or(n),u&512&&(Et||o===null||cn(o,o.return)),u&64&&Ln&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Xr;if(ir(s,n),or(n),u&512&&(Et||o===null||cn(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[ao]||g[Lt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),It(g,u,o),g[Lt]=n,kt(g),u=g;break e;case"link":var N=TS("link","href",p).get(u+(o.href||""));if(N){for(var k=0;k<N.length;k++)if(g=N[k],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){N.splice(k,1);break t}}g=p.createElement(u),It(g,u,o),p.head.appendChild(g);break;case"meta":if(N=TS("meta","content",p).get(u+(o.content||""))){for(k=0;k<N.length;k++)if(g=N[k],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){N.splice(k,1);break t}}g=p.createElement(u),It(g,u,o),p.head.appendChild(g);break;default:throw Error(a(468,u))}g[Lt]=n,kt(g),u=g}n.stateNode=u}else OS(p,n.type,n.stateNode);else n.stateNode=NS(p,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?OS(p,n.type,n.stateNode):NS(p,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Bh(n,n.memoizedProps,o.memoizedProps)}break;case 27:ir(s,n),or(n),u&512&&(Et||o===null||cn(o,o.return)),o!==null&&u&4&&Bh(n,n.memoizedProps,o.memoizedProps);break;case 5:if(ir(s,n),or(n),u&512&&(Et||o===null||cn(o,o.return)),n.flags&32){p=n.stateNode;try{zs(p,"")}catch(me){Ge(n,n.return,me)}}u&4&&n.stateNode!=null&&(p=n.memoizedProps,Bh(n,p,o!==null?o.memoizedProps:p)),u&1024&&(Gh=!0);break;case 6:if(ir(s,n),or(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(me){Ge(n,n.return,me)}}break;case 3:if(uu=null,p=Xr,Xr=lu(s.containerInfo),ir(s,n),Xr=p,or(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{vi(s.containerInfo)}catch(me){Ge(n,n.return,me)}Gh&&(Gh=!1,O_(n));break;case 4:u=Xr,Xr=lu(n.stateNode.containerInfo),ir(s,n),or(n),Xr=u;break;case 12:ir(s,n),or(n);break;case 31:ir(s,n),or(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Vc(n,u)));break;case 13:ir(s,n),or(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xc=Ze()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Vc(n,u)));break;case 22:p=n.memoizedState!==null;var I=o!==null&&o.memoizedState!==null,Q=Ln,re=Et;if(Ln=Q||p,Et=re||I,ir(s,n),Et=re,Ln=Q,or(n),u&8192)e:for(s=n.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||I||Ln||Et||rs(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){I=o=s;try{if(g=I.stateNode,p)N=g.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{k=I.stateNode;var oe=I.memoizedProps.style,J=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;k.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(me){Ge(I,I.return,me)}}}else if(s.tag===6){if(o===null){I=s;try{I.stateNode.nodeValue=p?"":I.memoizedProps}catch(me){Ge(I,I.return,me)}}}else if(s.tag===18){if(o===null){I=s;try{var Z=I.stateNode;p?gS(Z,!0):gS(I.stateNode,!1)}catch(me){Ge(I,I.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Vc(n,o))));break;case 19:ir(s,n),or(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Vc(n,u)));break;case 30:break;case 21:break;default:ir(s,n),or(n)}}function or(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(b_(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,g=Hh(n);Yc(n,g,p);break;case 5:var N=o.stateNode;o.flags&32&&(zs(N,""),o.flags&=-33);var k=Hh(n);Yc(n,k,N);break;case 3:case 4:var I=o.stateNode.containerInfo,Q=Hh(n);Fh(n,Q,I);break;default:throw Error(a(161))}}catch(re){Ge(n,n.return,re)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function O_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;O_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function zn(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)__(n,s.alternate,s),s=s.sibling}function rs(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:fa(4,s,s.return),rs(s);break;case 1:cn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&g_(s,s.return,o),rs(s);break;case 27:Io(s.stateNode);case 26:case 5:cn(s,s.return),rs(s);break;case 22:s.memoizedState===null&&rs(s);break;case 30:rs(s);break;default:rs(s)}n=n.sibling}}function Un(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=n,g=s,N=g.flags;switch(g.tag){case 0:case 11:case 15:Un(p,g,o),Ro(4,g);break;case 1:if(Un(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){Ge(u,u.return,Q)}if(u=g,p=u.updateQueue,p!==null){var k=u.stateNode;try{var I=p.shared.hiddenCallbacks;if(I!==null)for(p.shared.hiddenCallbacks=null,p=0;p<I.length;p++)sw(I[p],k)}catch(Q){Ge(u,u.return,Q)}}o&&N&64&&v_(g),Do(g,g.return);break;case 27:x_(g);case 26:case 5:Un(p,g,o),o&&u===null&&N&4&&y_(g),Do(g,g.return);break;case 12:Un(p,g,o);break;case 31:Un(p,g,o),o&&N&4&&j_(p,g);break;case 13:Un(p,g,o),o&&N&4&&N_(p,g);break;case 22:g.memoizedState===null&&Un(p,g,o),Do(g,g.return);break;case 30:break;default:Un(p,g,o)}s=s.sibling}}function Wh(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&yo(o))}function Yh(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&yo(n))}function Qr(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)C_(n,s,o,u),s=s.sibling}function C_(n,s,o,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Qr(n,s,o,u),p&2048&&Ro(9,s);break;case 1:Qr(n,s,o,u);break;case 3:Qr(n,s,o,u),p&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&yo(n)));break;case 12:if(p&2048){Qr(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,N=g.id,k=g.onPostCommit;typeof k=="function"&&k(N,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){Ge(s,s.return,I)}}else Qr(n,s,o,u);break;case 31:Qr(n,s,o,u);break;case 13:Qr(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,N=s.alternate,s.memoizedState!==null?g._visibility&2?Qr(n,s,o,u):ko(n,s):g._visibility&2?Qr(n,s,o,u):(g._visibility|=2,si(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&Wh(N,s);break;case 24:Qr(n,s,o,u),p&2048&&Yh(s.alternate,s);break;default:Qr(n,s,o,u)}}function si(n,s,o,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,N=s,k=o,I=u,Q=N.flags;switch(N.tag){case 0:case 11:case 15:si(g,N,k,I,p),Ro(8,N);break;case 23:break;case 22:var re=N.stateNode;N.memoizedState!==null?re._visibility&2?si(g,N,k,I,p):ko(g,N):(re._visibility|=2,si(g,N,k,I,p)),p&&Q&2048&&Wh(N.alternate,N);break;case 24:si(g,N,k,I,p),p&&Q&2048&&Yh(N.alternate,N);break;default:si(g,N,k,I,p)}s=s.sibling}}function ko(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,p=u.flags;switch(u.tag){case 22:ko(o,u),p&2048&&Wh(u.alternate,u);break;case 24:ko(o,u),p&2048&&Yh(u.alternate,u);break;default:ko(o,u)}s=s.sibling}}var Mo=8192;function ii(n,s,o){if(n.subtreeFlags&Mo)for(n=n.child;n!==null;)A_(n,s,o),n=n.sibling}function A_(n,s,o){switch(n.tag){case 26:ii(n,s,o),n.flags&Mo&&n.memoizedState!==null&&NM(o,Xr,n.memoizedState,n.memoizedProps);break;case 5:ii(n,s,o);break;case 3:case 4:var u=Xr;Xr=lu(n.stateNode.containerInfo),ii(n,s,o),Xr=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Mo,Mo=16777216,ii(n,s,o),Mo=u):ii(n,s,o));break;default:ii(n,s,o)}}function R_(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function qo(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Mt=u,k_(u,n)}R_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)D_(n),n=n.sibling}function D_(n){switch(n.tag){case 0:case 11:case 15:qo(n),n.flags&2048&&fa(9,n,n.return);break;case 3:qo(n);break;case 12:qo(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Kc(n)):qo(n);break;default:qo(n)}}function Kc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Mt=u,k_(u,n)}R_(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:fa(8,s,s.return),Kc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Kc(s));break;default:Kc(s)}n=n.sibling}}function k_(n,s){for(;Mt!==null;){var o=Mt;switch(o.tag){case 0:case 11:case 15:fa(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:yo(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Mt=u;else e:for(o=n;Mt!==null;){u=Mt;var p=u.sibling,g=u.return;if(S_(u),u===o){Mt=null;break e}if(p!==null){p.return=g,Mt=p;break e}Mt=g}}}var Ik={getCacheForType:function(n){var s=zt(wt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return zt(wt).controller.signal}},Bk=typeof WeakMap=="function"?WeakMap:Map,He=0,Qe=null,qe=null,Le=0,Fe=0,Sr=null,ha=!1,oi=!1,Vh=!1,In=0,pt=0,ma=0,ns=0,Kh=0,Er=0,li=0,Po=null,lr=null,Xh=!1,Xc=0,M_=0,Qc=1/0,Jc=null,pa=null,Ot=0,va=null,ci=null,Bn=0,Qh=0,Jh=null,q_=null,Lo=0,Zh=null;function jr(){return(He&2)!==0&&Le!==0?Le&-Le:B.T!==null?sm():Qb()}function P_(){if(Er===0)if((Le&536870912)===0||ze){var n=ic;ic<<=1,(ic&3932160)===0&&(ic=262144),Er=n}else Er=536870912;return n=wr.current,n!==null&&(n.flags|=32),Er}function cr(n,s,o){(n===Qe&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&(ui(n,0),ga(n,Le,Er,!1)),no(n,o),((He&2)===0||n!==Qe)&&(n===Qe&&((He&2)===0&&(ns|=o),pt===4&&ga(n,Le,Er,!1)),un(n))}function L_(n,s,o){if((He&6)!==0)throw Error(a(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||ro(n,s),p=u?Gk(n,s):tm(n,s,!0),g=u;do{if(p===0){oi&&!u&&ga(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!Hk(o)){p=tm(n,s,!1),g=!1;continue}if(p===2){if(g=s,n.errorRecoveryDisabledLanes&g)var N=0;else N=n.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var k=n;p=Po;var I=k.current.memoizedState.isDehydrated;if(I&&(ui(k,N).flags|=256),N=tm(k,N,!1),N!==2){if(Vh&&!I){k.errorRecoveryDisabledLanes|=g,ns|=g,p=4;break e}g=lr,lr=p,g!==null&&(lr===null?lr=g:lr.push.apply(lr,g))}p=N}if(g=!1,p!==2)continue}}if(p===1){ui(n,0),ga(n,s,0,!0);break}e:{switch(u=n,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:ga(u,s,Er,!ha);break e;case 2:lr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(p=Xc+300-Ze(),10<p)){if(ga(u,s,Er,!ha),lc(u,0,!0)!==0)break e;Bn=s,u.timeoutHandle=mS($_.bind(null,u,o,lr,Jc,Xh,s,Er,ns,li,ha,g,"Throttled",-0,0),p);break e}$_(u,o,lr,Jc,Xh,s,Er,ns,li,ha,g,null,-0,0)}}break}while(!0);un(n)}function $_(n,s,o,u,p,g,N,k,I,Q,re,oe,J,Z){if(n.timeoutHandle=-1,oe=s.subtreeFlags,oe&8192||(oe&16785408)===16785408){oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tn},A_(s,g,oe);var me=(g&62914560)===g?Xc-Ze():(g&4194048)===g?M_-Ze():0;if(me=TM(oe,me),me!==null){Bn=g,n.cancelPendingCommit=me(W_.bind(null,n,s,g,o,u,p,N,k,I,re,oe,null,J,Z)),ga(n,g,N,!Q);return}}W_(n,s,g,o,u,p,N,k,I)}function Hk(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!br(g(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ga(n,s,o,u){s&=~Kh,s&=~ns,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var p=s;0<p;){var g=31-Yt(p),N=1<<g;u[g]=-1,p&=~N}o!==0&&Vb(n,o,s)}function Zc(){return(He&6)===0?($o(0),!1):!0}function em(){if(qe!==null){if(Fe===0)var n=qe.return;else n=qe,Rn=Va=null,vh(n),ei=null,xo=0,n=qe;for(;n!==null;)p_(n.alternate,n),n=n.return;qe=null}}function ui(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,cM(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Bn=0,em(),Qe=n,qe=o=Cn(n.current,null),Le=s,Fe=0,Sr=null,ha=!1,oi=ro(n,s),Vh=!1,li=Er=Kh=ns=ma=pt=0,lr=Po=null,Xh=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var p=31-Yt(u),g=1<<p;s|=n[p],u&=~g}return In=s,xc(),o}function z_(n,s){Ce=null,B.H=Oo,s===Zs||s===Oc?(s=tw(),Fe=3):s===ah?(s=tw(),Fe=4):Fe=s===Dh?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sr=s,qe===null&&(pt=1,Bc(n,kr(s,n.current)))}function U_(){var n=wr.current;return n===null?!0:(Le&4194048)===Le?Lr===null:(Le&62914560)===Le||(Le&536870912)!==0?n===Lr:!1}function I_(){var n=B.H;return B.H=Oo,n===null?Oo:n}function B_(){var n=B.A;return B.A=Ik,n}function eu(){pt=4,ha||(Le&4194048)!==Le&&wr.current!==null||(oi=!0),(ma&134217727)===0&&(ns&134217727)===0||Qe===null||ga(Qe,Le,Er,!1)}function tm(n,s,o){var u=He;He|=2;var p=I_(),g=B_();(Qe!==n||Le!==s)&&(Jc=null,ui(n,s)),s=!1;var N=pt;e:do try{if(Fe!==0&&qe!==null){var k=qe,I=Sr;switch(Fe){case 8:em(),N=6;break e;case 3:case 2:case 9:case 6:wr.current===null&&(s=!0);var Q=Fe;if(Fe=0,Sr=null,di(n,k,I,Q),o&&oi){N=0;break e}break;default:Q=Fe,Fe=0,Sr=null,di(n,k,I,Q)}}Fk(),N=pt;break}catch(re){z_(n,re)}while(!0);return s&&n.shellSuspendCounter++,Rn=Va=null,He=u,B.H=p,B.A=g,qe===null&&(Qe=null,Le=0,xc()),N}function Fk(){for(;qe!==null;)H_(qe)}function Gk(n,s){var o=He;He|=2;var u=I_(),p=B_();Qe!==n||Le!==s?(Jc=null,Qc=Ze()+500,ui(n,s)):oi=ro(n,s);e:do try{if(Fe!==0&&qe!==null){s=qe;var g=Sr;t:switch(Fe){case 1:Fe=0,Sr=null,di(n,s,g,1);break;case 2:case 9:if(Zx(g)){Fe=0,Sr=null,F_(s);break}s=function(){Fe!==2&&Fe!==9||Qe!==n||(Fe=7),un(n)},g.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Zx(g)?(Fe=0,Sr=null,F_(s)):(Fe=0,Sr=null,di(n,s,g,7));break;case 5:var N=null;switch(qe.tag){case 26:N=qe.memoizedState;case 5:case 27:var k=qe;if(N?CS(N):k.stateNode.complete){Fe=0,Sr=null;var I=k.sibling;if(I!==null)qe=I;else{var Q=k.return;Q!==null?(qe=Q,tu(Q)):qe=null}break t}}Fe=0,Sr=null,di(n,s,g,5);break;case 6:Fe=0,Sr=null,di(n,s,g,6);break;case 8:em(),pt=6;break e;default:throw Error(a(462))}}Wk();break}catch(re){z_(n,re)}while(!0);return Rn=Va=null,B.H=u,B.A=p,He=o,qe!==null?0:(Qe=null,Le=0,xc(),pt)}function Wk(){for(;qe!==null&&!st();)H_(qe)}function H_(n){var s=h_(n.alternate,n,In);n.memoizedProps=n.pendingProps,s===null?tu(n):qe=s}function F_(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=o_(o,s,s.pendingProps,s.type,void 0,Le);break;case 11:s=o_(o,s,s.pendingProps,s.type.render,s.ref,Le);break;case 5:vh(s);default:p_(o,s),s=qe=Bx(s,In),s=h_(o,s,In)}n.memoizedProps=n.pendingProps,s===null?tu(n):qe=s}function di(n,s,o,u){Rn=Va=null,vh(s),ei=null,xo=0;var p=s.return;try{if(Mk(n,p,s,o,Le)){pt=1,Bc(n,kr(o,n.current)),qe=null;return}}catch(g){if(p!==null)throw qe=p,g;pt=1,Bc(n,kr(o,n.current)),qe=null;return}s.flags&32768?(ze||u===1?n=!0:oi||(Le&536870912)!==0?n=!1:(ha=n=!0,(u===2||u===9||u===3||u===6)&&(u=wr.current,u!==null&&u.tag===13&&(u.flags|=16384))),G_(s,n)):tu(s)}function tu(n){var s=n;do{if((s.flags&32768)!==0){G_(s,ha);return}n=s.return;var o=Lk(s.alternate,s,In);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=n}while(s!==null);pt===0&&(pt=5)}function G_(n,s){do{var o=$k(n.alternate,n);if(o!==null){o.flags&=32767,qe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){qe=n;return}qe=n=o}while(n!==null);pt=6,qe=null}function W_(n,s,o,u,p,g,N,k,I){n.cancelPendingCommit=null;do ru();while(Ot!==0);if((He&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(g=s.lanes|s.childLanes,g|=Hf,jD(n,o,g,N,k,I),n===Qe&&(qe=Qe=null,Le=0),ci=s,va=n,Bn=o,Qh=g,Jh=p,q_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Xk(Ee,function(){return Q_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,p=K.p,K.p=2,N=He,He|=4;try{zk(n,s,o)}finally{He=N,K.p=p,B.T=u}}Ot=1,Y_(),V_(),K_()}}function Y_(){if(Ot===1){Ot=0;var n=va,s=ci,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=B.T,B.T=null;var u=K.p;K.p=2;var p=He;He|=4;try{T_(s,n);var g=hm,N=kx(n.containerInfo),k=g.focusedElem,I=g.selectionRange;if(N!==k&&k&&k.ownerDocument&&Dx(k.ownerDocument.documentElement,k)){if(I!==null&&$f(k)){var Q=I.start,re=I.end;if(re===void 0&&(re=Q),"selectionStart"in k)k.selectionStart=Q,k.selectionEnd=Math.min(re,k.value.length);else{var oe=k.ownerDocument||document,J=oe&&oe.defaultView||window;if(J.getSelection){var Z=J.getSelection(),me=k.textContent.length,Se=Math.min(I.start,me),Ke=I.end===void 0?Se:Math.min(I.end,me);!Z.extend&&Se>Ke&&(N=Ke,Ke=Se,Se=N);var G=Rx(k,Se),H=Rx(k,Ke);if(G&&H&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==H.node||Z.focusOffset!==H.offset)){var X=oe.createRange();X.setStart(G.node,G.offset),Z.removeAllRanges(),Se>Ke?(Z.addRange(X),Z.extend(H.node,H.offset)):(X.setEnd(H.node,H.offset),Z.addRange(X))}}}}for(oe=[],Z=k;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<oe.length;k++){var se=oe[k];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}mu=!!fm,hm=fm=null}finally{He=p,K.p=u,B.T=o}}n.current=s,Ot=2}}function V_(){if(Ot===2){Ot=0;var n=va,s=ci,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=B.T,B.T=null;var u=K.p;K.p=2;var p=He;He|=4;try{__(n,s.alternate,s)}finally{He=p,K.p=u,B.T=o}}Ot=3}}function K_(){if(Ot===4||Ot===3){Ot=0,it();var n=va,s=ci,o=Bn,u=q_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ot=5:(Ot=0,ci=va=null,X_(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(pa=null),bf(o),s=s.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(ft,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=B.T,p=K.p,K.p=2,B.T=null;try{for(var g=n.onRecoverableError,N=0;N<u.length;N++){var k=u[N];g(k.value,{componentStack:k.stack})}}finally{B.T=s,K.p=p}}(Bn&3)!==0&&ru(),un(n),p=n.pendingLanes,(o&261930)!==0&&(p&42)!==0?n===Zh?Lo++:(Lo=0,Zh=n):Lo=0,$o(0)}}function X_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,yo(s)))}function ru(){return Y_(),V_(),K_(),Q_()}function Q_(){if(Ot!==5)return!1;var n=va,s=Qh;Qh=0;var o=bf(Bn),u=B.T,p=K.p;try{K.p=32>o?32:o,B.T=null,o=Jh,Jh=null;var g=va,N=Bn;if(Ot=0,ci=va=null,Bn=0,(He&6)!==0)throw Error(a(331));var k=He;if(He|=4,D_(g.current),C_(g,g.current,N,o),He=k,$o(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(ft,g)}catch{}return!0}finally{K.p=p,B.T=u,X_(n,s)}}function J_(n,s,o){s=kr(o,s),s=Rh(n.stateNode,s,2),n=ca(n,s,2),n!==null&&(no(n,2),un(n))}function Ge(n,s,o){if(n.tag===3)J_(n,n,o);else for(;s!==null;){if(s.tag===3){J_(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pa===null||!pa.has(u))){n=kr(o,n),o=Zw(2),u=ca(s,o,2),u!==null&&(e_(o,u,s,n),no(u,2),un(u));break}}s=s.return}}function rm(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new Bk;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(o)||(Vh=!0,p.add(o),n=Yk.bind(null,n,s,o),s.then(n,n))}function Yk(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Qe===n&&(Le&o)===o&&(pt===4||pt===3&&(Le&62914560)===Le&&300>Ze()-Xc?(He&2)===0&&ui(n,0):Kh|=o,li===Le&&(li=0)),un(n)}function Z_(n,s){s===0&&(s=Yb()),n=Ga(n,s),n!==null&&(no(n,s),un(n))}function Vk(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Z_(n,o)}function Kk(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),Z_(n,o)}function Xk(n,s){return _e(n,s)}var nu=null,fi=null,nm=!1,au=!1,am=!1,ya=0;function un(n){n!==fi&&n.next===null&&(fi===null?nu=fi=n:fi=fi.next=n),au=!0,nm||(nm=!0,Jk())}function $o(n,s){if(!am&&au){am=!0;do for(var o=!1,u=nu;u!==null;){if(n!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var N=u.suspendedLanes,k=u.pingedLanes;g=(1<<31-Yt(42|n)+1)-1,g&=p&~(N&~k),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,nS(u,g))}else g=Le,g=lc(u,u===Qe?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ro(u,g)||(o=!0,nS(u,g));u=u.next}while(o);am=!1}}function Qk(){eS()}function eS(){au=nm=!1;var n=0;ya!==0&&lM()&&(n=ya);for(var s=Ze(),o=null,u=nu;u!==null;){var p=u.next,g=tS(u,s);g===0?(u.next=null,o===null?nu=p:o.next=p,p===null&&(fi=o)):(o=u,(n!==0||(g&3)!==0)&&(au=!0)),u=p}Ot!==0&&Ot!==5||$o(n),ya!==0&&(ya=0)}function tS(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var N=31-Yt(g),k=1<<N,I=p[N];I===-1?((k&o)===0||(k&u)!==0)&&(p[N]=ED(k,s)):I<=s&&(n.expiredLanes|=k),g&=~k}if(s=Qe,o=Le,o=lc(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Xe(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ro(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Xe(u),bf(o)){case 2:case 8:o=ge;break;case 32:o=Ee;break;case 268435456:o=rr;break;default:o=Ee}return u=rS.bind(null,n),o=_e(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Xe(u),n.callbackPriority=2,n.callbackNode=null,2}function rS(n,s){if(Ot!==0&&Ot!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(ru()&&n.callbackNode!==o)return null;var u=Le;return u=lc(n,n===Qe?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(L_(n,u,s),tS(n,Ze()),n.callbackNode!=null&&n.callbackNode===o?rS.bind(null,n):null)}function nS(n,s){if(ru())return null;L_(n,s,!0)}function Jk(){uM(function(){(He&6)!==0?_e(ne,Qk):eS()})}function sm(){if(ya===0){var n=Qs;n===0&&(n=sc,sc<<=1,(sc&261888)===0&&(sc=256)),ya=n}return ya}function aS(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fc(""+n)}function sS(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function Zk(n,s,o,u,p){if(s==="submit"&&o&&o.stateNode===p){var g=aS((p[nr]||null).action),N=u.submitter;N&&(s=(s=N[nr]||null)?aS(s.formAction):N.getAttribute("formAction"),s!==null&&(g=s,N=null));var k=new vc("action","action",null,u,p);n.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ya!==0){var I=N?sS(p,N):new FormData(p);jh(o,{pending:!0,data:I,method:p.method,action:g},null,I)}}else typeof g=="function"&&(k.preventDefault(),I=N?sS(p,N):new FormData(p),jh(o,{pending:!0,data:I,method:p.method,action:g},g,I))},currentTarget:p}]})}}for(var im=0;im<Bf.length;im++){var om=Bf[im],eM=om.toLowerCase(),tM=om[0].toUpperCase()+om.slice(1);Kr(eM,"on"+tM)}Kr(Px,"onAnimationEnd"),Kr(Lx,"onAnimationIteration"),Kr($x,"onAnimationStart"),Kr("dblclick","onDoubleClick"),Kr("focusin","onFocus"),Kr("focusout","onBlur"),Kr(gk,"onTransitionRun"),Kr(yk,"onTransitionStart"),Kr(bk,"onTransitionCancel"),Kr(zx,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zo));function iS(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],p=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var N=u.length-1;0<=N;N--){var k=u[N],I=k.instance,Q=k.currentTarget;if(k=k.listener,I!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=Q;try{g(p)}catch(re){bc(re)}p.currentTarget=null,g=I}else for(N=0;N<u.length;N++){if(k=u[N],I=k.instance,Q=k.currentTarget,k=k.listener,I!==g&&p.isPropagationStopped())break e;g=k,p.currentTarget=Q;try{g(p)}catch(re){bc(re)}p.currentTarget=null,g=I}}}}function Pe(n,s){var o=s[xf];o===void 0&&(o=s[xf]=new Set);var u=n+"__bubble";o.has(u)||(oS(s,n,2,!1),o.add(u))}function lm(n,s,o){var u=0;s&&(u|=4),oS(o,n,u,s)}var su="_reactListening"+Math.random().toString(36).slice(2);function cm(n){if(!n[su]){n[su]=!0,ex.forEach(function(o){o!=="selectionchange"&&(rM.has(o)||lm(o,!1,n),lm(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[su]||(s[su]=!0,lm("selectionchange",!1,s))}}function oS(n,s,o,u){switch(PS(s)){case 2:var p=AM;break;case 8:p=RM;break;default:p=Em}o=p.bind(null,s,o,n),p=void 0,!Cf||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?n.addEventListener(s,o,{capture:!0,passive:p}):n.addEventListener(s,o,!0):p!==void 0?n.addEventListener(s,o,{passive:p}):n.addEventListener(s,o,!1)}function um(n,s,o,u,p){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var N=u.tag;if(N===3||N===4){var k=u.stateNode.containerInfo;if(k===p)break;if(N===4)for(N=u.return;N!==null;){var I=N.tag;if((I===3||I===4)&&N.stateNode.containerInfo===p)return;N=N.return}for(;k!==null;){if(N=Ms(k),N===null)return;if(I=N.tag,I===5||I===6||I===26||I===27){u=g=N;continue e}k=k.parentNode}}u=u.return}fx(function(){var Q=g,re=Tf(o),oe=[];e:{var J=Ux.get(n);if(J!==void 0){var Z=vc,me=n;switch(n){case"keypress":if(mc(o)===0)break e;case"keydown":case"keyup":Z=KD;break;case"focusin":me="focus",Z=kf;break;case"focusout":me="blur",Z=kf;break;case"beforeblur":case"afterblur":Z=kf;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=px;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=LD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=JD;break;case Px:case Lx:case $x:Z=UD;break;case zx:Z=ek;break;case"scroll":case"scrollend":Z=qD;break;case"wheel":Z=rk;break;case"copy":case"cut":case"paste":Z=BD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=gx;break;case"toggle":case"beforetoggle":Z=ak}var Se=(s&4)!==0,Ke=!Se&&(n==="scroll"||n==="scrollend"),G=Se?J!==null?J+"Capture":null:J;Se=[];for(var H=Q,X;H!==null;){var se=H;if(X=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||X===null||G===null||(se=io(H,G),se!=null&&Se.push(Uo(H,se,X))),Ke)break;H=H.return}0<Se.length&&(J=new Z(J,me,null,o,re),oe.push({event:J,listeners:Se}))}}if((s&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",J&&o!==Nf&&(me=o.relatedTarget||o.fromElement)&&(Ms(me)||me[ks]))break e;if((Z||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,Z?(me=o.relatedTarget||o.toElement,Z=Q,me=me?Ms(me):null,me!==null&&(Ke=l(me),Se=me.tag,me!==Ke||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(Z=null,me=Q),Z!==me)){if(Se=px,se="onMouseLeave",G="onMouseEnter",H="mouse",(n==="pointerout"||n==="pointerover")&&(Se=gx,se="onPointerLeave",G="onPointerEnter",H="pointer"),Ke=Z==null?J:so(Z),X=me==null?J:so(me),J=new Se(se,H+"leave",Z,o,re),J.target=Ke,J.relatedTarget=X,se=null,Ms(re)===Q&&(Se=new Se(G,H+"enter",me,o,re),Se.target=X,Se.relatedTarget=Ke,se=Se),Ke=se,Z&&me)t:{for(Se=nM,G=Z,H=me,X=0,se=G;se;se=Se(se))X++;se=0;for(var we=H;we;we=Se(we))se++;for(;0<X-se;)G=Se(G),X--;for(;0<se-X;)H=Se(H),se--;for(;X--;){if(G===H||H!==null&&G===H.alternate){Se=G;break t}G=Se(G),H=Se(H)}Se=null}else Se=null;Z!==null&&lS(oe,J,Z,Se,!1),me!==null&&Ke!==null&&lS(oe,Ke,me,Se,!0)}}e:{if(J=Q?so(Q):window,Z=J.nodeName&&J.nodeName.toLowerCase(),Z==="select"||Z==="input"&&J.type==="file")var Ie=jx;else if(Sx(J))if(Nx)Ie=mk;else{Ie=fk;var ve=dk}else Z=J.nodeName,!Z||Z.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&jf(Q.elementType)&&(Ie=jx):Ie=hk;if(Ie&&(Ie=Ie(n,Q))){Ex(oe,Ie,o,re);break e}ve&&ve(n,J,Q),n==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&Ef(J,"number",J.value)}switch(ve=Q?so(Q):window,n){case"focusin":(Sx(ve)||ve.contentEditable==="true")&&(Hs=ve,zf=Q,po=null);break;case"focusout":po=zf=Hs=null;break;case"mousedown":Uf=!0;break;case"contextmenu":case"mouseup":case"dragend":Uf=!1,Mx(oe,o,re);break;case"selectionchange":if(vk)break;case"keydown":case"keyup":Mx(oe,o,re)}var Re;if(qf)e:{switch(n){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Bs?wx(n,o)&&($e="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(yx&&o.locale!=="ko"&&(Bs||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Bs&&(Re=hx()):(ra=re,Af="value"in ra?ra.value:ra.textContent,Bs=!0)),ve=iu(Q,$e),0<ve.length&&($e=new vx($e,n,null,o,re),oe.push({event:$e,listeners:ve}),Re?$e.data=Re:(Re=_x(o),Re!==null&&($e.data=Re)))),(Re=ik?ok(n,o):lk(n,o))&&($e=iu(Q,"onBeforeInput"),0<$e.length&&(ve=new vx("onBeforeInput","beforeinput",null,o,re),oe.push({event:ve,listeners:$e}),ve.data=Re)),Zk(oe,n,Q,o,re)}iS(oe,s)})}function Uo(n,s,o){return{instance:n,listener:s,currentTarget:o}}function iu(n,s){for(var o=s+"Capture",u=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=io(n,o),p!=null&&u.unshift(Uo(n,p,g)),p=io(n,s),p!=null&&u.push(Uo(n,p,g))),n.tag===3)return u;n=n.return}return[]}function nM(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function lS(n,s,o,u,p){for(var g=s._reactName,N=[];o!==null&&o!==u;){var k=o,I=k.alternate,Q=k.stateNode;if(k=k.tag,I!==null&&I===u)break;k!==5&&k!==26&&k!==27||Q===null||(I=Q,p?(Q=io(o,g),Q!=null&&N.unshift(Uo(o,Q,I))):p||(Q=io(o,g),Q!=null&&N.push(Uo(o,Q,I)))),o=o.return}N.length!==0&&n.push({event:s,listeners:N})}var aM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function cS(n){return(typeof n=="string"?n:""+n).replace(aM,`
`).replace(sM,"")}function uS(n,s){return s=cS(s),cS(n)===s}function Ve(n,s,o,u,p,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||zs(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&zs(n,""+u);break;case"className":uc(n,"class",u);break;case"tabIndex":uc(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":uc(n,o,u);break;case"style":ux(n,u,g);break;case"data":if(s!=="object"){uc(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=fc(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Ve(n,s,"name",p.name,p,null),Ve(n,s,"formEncType",p.formEncType,p,null),Ve(n,s,"formMethod",p.formMethod,p,null),Ve(n,s,"formTarget",p.formTarget,p,null)):(Ve(n,s,"encType",p.encType,p,null),Ve(n,s,"method",p.method,p,null),Ve(n,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=fc(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Tn);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=fc(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),cc(n,"popover",u);break;case"xlinkActuate":Nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Nn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Nn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Nn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Nn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":cc(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=kD.get(o)||o,cc(n,o,u))}}function dm(n,s,o,u,p,g){switch(o){case"style":ux(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof u=="string"?zs(n,u):(typeof u=="number"||typeof u=="bigint")&&zs(n,""+u);break;case"onScroll":u!=null&&Pe("scroll",n);break;case"onScrollEnd":u!=null&&Pe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Tn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tx.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),g=n[nr]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,p);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):cc(n,o,u)}}}function It(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var N=o[g];if(N!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ve(n,s,g,N,o,null)}}p&&Ve(n,s,"srcSet",o.srcSet,o,null),u&&Ve(n,s,"src",o.src,o,null);return;case"input":Pe("invalid",n);var k=g=N=p=null,I=null,Q=null;for(u in o)if(o.hasOwnProperty(u)){var re=o[u];if(re!=null)switch(u){case"name":p=re;break;case"type":N=re;break;case"checked":I=re;break;case"defaultChecked":Q=re;break;case"value":g=re;break;case"defaultValue":k=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,s));break;default:Ve(n,s,u,re,o,null)}}ix(n,g,k,I,Q,N,p,!1);return;case"select":Pe("invalid",n),u=N=g=null;for(p in o)if(o.hasOwnProperty(p)&&(k=o[p],k!=null))switch(p){case"value":g=k;break;case"defaultValue":N=k;break;case"multiple":u=k;default:Ve(n,s,p,k,o,null)}s=g,o=N,n.multiple=!!u,s!=null?$s(n,!!u,s,!1):o!=null&&$s(n,!!u,o,!0);return;case"textarea":Pe("invalid",n),g=p=u=null;for(N in o)if(o.hasOwnProperty(N)&&(k=o[N],k!=null))switch(N){case"value":u=k;break;case"defaultValue":p=k;break;case"children":g=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(91));break;default:Ve(n,s,N,k,o,null)}lx(n,u,p,g);return;case"option":for(I in o)if(o.hasOwnProperty(I)&&(u=o[I],u!=null))switch(I){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(n,s,I,u,o,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(u=0;u<zo.length;u++)Pe(zo[u],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Ve(n,s,Q,u,o,null)}return;default:if(jf(s)){for(re in o)o.hasOwnProperty(re)&&(u=o[re],u!==void 0&&dm(n,s,re,u,o,void 0));return}}for(k in o)o.hasOwnProperty(k)&&(u=o[k],u!=null&&Ve(n,s,k,u,o,null))}function iM(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,N=null,k=null,I=null,Q=null,re=null;for(Z in o){var oe=o[Z];if(o.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":I=oe;default:u.hasOwnProperty(Z)||Ve(n,s,Z,null,u,oe)}}for(var J in u){var Z=u[J];if(oe=o[J],u.hasOwnProperty(J)&&(Z!=null||oe!=null))switch(J){case"type":g=Z;break;case"name":p=Z;break;case"checked":Q=Z;break;case"defaultChecked":re=Z;break;case"value":N=Z;break;case"defaultValue":k=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,s));break;default:Z!==oe&&Ve(n,s,J,Z,u,oe)}}Sf(n,N,k,I,Q,re,g,p);return;case"select":Z=N=k=J=null;for(g in o)if(I=o[g],o.hasOwnProperty(g)&&I!=null)switch(g){case"value":break;case"multiple":Z=I;default:u.hasOwnProperty(g)||Ve(n,s,g,null,u,I)}for(p in u)if(g=u[p],I=o[p],u.hasOwnProperty(p)&&(g!=null||I!=null))switch(p){case"value":J=g;break;case"defaultValue":k=g;break;case"multiple":N=g;default:g!==I&&Ve(n,s,p,g,u,I)}s=k,o=N,u=Z,J!=null?$s(n,!!o,J,!1):!!u!=!!o&&(s!=null?$s(n,!!o,s,!0):$s(n,!!o,o?[]:"",!1));return;case"textarea":Z=J=null;for(k in o)if(p=o[k],o.hasOwnProperty(k)&&p!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ve(n,s,k,null,u,p)}for(N in u)if(p=u[N],g=o[N],u.hasOwnProperty(N)&&(p!=null||g!=null))switch(N){case"value":J=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Ve(n,s,N,p,u,g)}ox(n,J,Z);return;case"option":for(var me in o)if(J=o[me],o.hasOwnProperty(me)&&J!=null&&!u.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:Ve(n,s,me,null,u,J)}for(I in u)if(J=u[I],Z=o[I],u.hasOwnProperty(I)&&J!==Z&&(J!=null||Z!=null))switch(I){case"selected":n.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Ve(n,s,I,J,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)J=o[Se],o.hasOwnProperty(Se)&&J!=null&&!u.hasOwnProperty(Se)&&Ve(n,s,Se,null,u,J);for(Q in u)if(J=u[Q],Z=o[Q],u.hasOwnProperty(Q)&&J!==Z&&(J!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:Ve(n,s,Q,J,u,Z)}return;default:if(jf(s)){for(var Ke in o)J=o[Ke],o.hasOwnProperty(Ke)&&J!==void 0&&!u.hasOwnProperty(Ke)&&dm(n,s,Ke,void 0,u,J);for(re in u)J=u[re],Z=o[re],!u.hasOwnProperty(re)||J===Z||J===void 0&&Z===void 0||dm(n,s,re,J,u,Z);return}}for(var G in o)J=o[G],o.hasOwnProperty(G)&&J!=null&&!u.hasOwnProperty(G)&&Ve(n,s,G,null,u,J);for(oe in u)J=u[oe],Z=o[oe],!u.hasOwnProperty(oe)||J===Z||J==null&&Z==null||Ve(n,s,oe,J,u,Z)}function dS(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oM(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],g=p.transferSize,N=p.initiatorType,k=p.duration;if(g&&k&&dS(N)){for(N=0,k=p.responseEnd,u+=1;u<o.length;u++){var I=o[u],Q=I.startTime;if(Q>k)break;var re=I.transferSize,oe=I.initiatorType;re&&dS(oe)&&(I=I.responseEnd,N+=re*(I<k?1:(k-Q)/(I-Q)))}if(--u,s+=8*(g+N)/(p.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var fm=null,hm=null;function ou(n){return n.nodeType===9?n:n.ownerDocument}function fS(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hS(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function mm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pm=null;function lM(){var n=window.event;return n&&n.type==="popstate"?n===pm?!1:(pm=n,!0):(pm=null,!1)}var mS=typeof setTimeout=="function"?setTimeout:void 0,cM=typeof clearTimeout=="function"?clearTimeout:void 0,pS=typeof Promise=="function"?Promise:void 0,uM=typeof queueMicrotask=="function"?queueMicrotask:typeof pS<"u"?function(n){return pS.resolve(null).then(n).catch(dM)}:mS;function dM(n){setTimeout(function(){throw n})}function ba(n){return n==="head"}function vS(n,s){var o=s,u=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(p),vi(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Io(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Io(o);for(var g=o.firstChild;g;){var N=g.nextSibling,k=g.nodeName;g[ao]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=N}}else o==="body"&&Io(n.ownerDocument.body);o=p}while(o);vi(s)}function gS(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function vm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":vm(o),wf(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function fM(n,s,o,u){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ao])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=$r(n.nextSibling),n===null)break}return null}function hM(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=$r(n.nextSibling),n===null))return null;return n}function yS(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=$r(n.nextSibling),n===null))return null;return n}function gm(n){return n.data==="$?"||n.data==="$~"}function ym(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function mM(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function $r(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var bm=null;function bS(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return $r(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function xS(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function wS(n,s,o){switch(s=ou(o),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Io(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);wf(n)}var zr=new Map,_S=new Set;function lu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Hn=K.d;K.d={f:pM,r:vM,D:gM,C:yM,L:bM,m:xM,X:_M,S:wM,M:SM};function pM(){var n=Hn.f(),s=Zc();return n||s}function vM(n){var s=qs(n);s!==null&&s.tag===5&&s.type==="form"?zw(s):Hn.r(n)}var hi=typeof document>"u"?null:document;function SS(n,s,o){var u=hi;if(u&&typeof s=="string"&&s){var p=Rr(s);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),_S.has(p)||(_S.add(p),n={rel:n,crossOrigin:o,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),It(s,"link",n),kt(s),u.head.appendChild(s)))}}function gM(n){Hn.D(n),SS("dns-prefetch",n,null)}function yM(n,s){Hn.C(n,s),SS("preconnect",n,s)}function bM(n,s,o){Hn.L(n,s,o);var u=hi;if(u&&n&&s){var p='link[rel="preload"][as="'+Rr(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Rr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Rr(o.imageSizes)+'"]')):p+='[href="'+Rr(n)+'"]';var g=p;switch(s){case"style":g=mi(n);break;case"script":g=pi(n)}zr.has(g)||(n=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),zr.set(g,n),u.querySelector(p)!==null||s==="style"&&u.querySelector(Bo(g))||s==="script"&&u.querySelector(Ho(g))||(s=u.createElement("link"),It(s,"link",n),kt(s),u.head.appendChild(s)))}}function xM(n,s){Hn.m(n,s);var o=hi;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Rr(u)+'"][href="'+Rr(n)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=pi(n)}if(!zr.has(g)&&(n=y({rel:"modulepreload",href:n},s),zr.set(g,n),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Ho(g)))return}u=o.createElement("link"),It(u,"link",n),kt(u),o.head.appendChild(u)}}}function wM(n,s,o){Hn.S(n,s,o);var u=hi;if(u&&n){var p=Ps(u).hoistableStyles,g=mi(n);s=s||"default";var N=p.get(g);if(!N){var k={loading:0,preload:null};if(N=u.querySelector(Bo(g)))k.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},o),(o=zr.get(g))&&xm(n,o);var I=N=u.createElement("link");kt(I),It(I,"link",n),I._p=new Promise(function(Q,re){I.onload=Q,I.onerror=re}),I.addEventListener("load",function(){k.loading|=1}),I.addEventListener("error",function(){k.loading|=2}),k.loading|=4,cu(N,s,u)}N={type:"stylesheet",instance:N,count:1,state:k},p.set(g,N)}}}function _M(n,s){Hn.X(n,s);var o=hi;if(o&&n){var u=Ps(o).hoistableScripts,p=pi(n),g=u.get(p);g||(g=o.querySelector(Ho(p)),g||(n=y({src:n,async:!0},s),(s=zr.get(p))&&wm(n,s),g=o.createElement("script"),kt(g),It(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function SM(n,s){Hn.M(n,s);var o=hi;if(o&&n){var u=Ps(o).hoistableScripts,p=pi(n),g=u.get(p);g||(g=o.querySelector(Ho(p)),g||(n=y({src:n,async:!0,type:"module"},s),(s=zr.get(p))&&wm(n,s),g=o.createElement("script"),kt(g),It(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function ES(n,s,o,u){var p=(p=pe.current)?lu(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=mi(o.href),o=Ps(p).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=mi(o.href);var g=Ps(p).hoistableStyles,N=g.get(n);if(N||(p=p.ownerDocument||p,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,N),(g=p.querySelector(Bo(n)))&&!g._p&&(N.instance=g,N.state.loading=5),zr.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},zr.set(n,o),g||EM(p,n,o,N.state))),s&&u===null)throw Error(a(528,""));return N}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=pi(o),o=Ps(p).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function mi(n){return'href="'+Rr(n)+'"'}function Bo(n){return'link[rel="stylesheet"]['+n+"]"}function jS(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function EM(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),It(s,"link",o),kt(s),n.head.appendChild(s))}function pi(n){return'[src="'+Rr(n)+'"]'}function Ho(n){return"script[async]"+n}function NS(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Rr(o.href)+'"]');if(u)return s.instance=u,kt(u),u;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),kt(u),It(u,"style",p),cu(u,o.precedence,n),s.instance=u;case"stylesheet":p=mi(o.href);var g=n.querySelector(Bo(p));if(g)return s.state.loading|=4,s.instance=g,kt(g),g;u=jS(o),(p=zr.get(p))&&xm(u,p),g=(n.ownerDocument||n).createElement("link"),kt(g);var N=g;return N._p=new Promise(function(k,I){N.onload=k,N.onerror=I}),It(g,"link",u),s.state.loading|=4,cu(g,o.precedence,n),s.instance=g;case"script":return g=pi(o.src),(p=n.querySelector(Ho(g)))?(s.instance=p,kt(p),p):(u=o,(p=zr.get(g))&&(u=y({},o),wm(u,p)),n=n.ownerDocument||n,p=n.createElement("script"),kt(p),It(p,"link",u),n.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,cu(u,o.precedence,n));return s.instance}function cu(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,N=0;N<u.length;N++){var k=u[N];if(k.dataset.precedence===s)g=k;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function xm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function wm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var uu=null;function TS(n,s,o){if(uu===null){var u=new Map,p=uu=new Map;p.set(o,u)}else p=uu,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[ao]||g[Lt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var N=g.getAttribute(s)||"";N=n+N;var k=u.get(N);k?k.push(g):u.set(N,[g])}}return u}function OS(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function jM(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function CS(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function NM(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=mi(u.href),g=s.querySelector(Bo(p));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=du.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=g,kt(g);return}g=s.ownerDocument||s,u=jS(u),(p=zr.get(p))&&xm(u,p),g=g.createElement("link"),kt(g);var N=g;N._p=new Promise(function(k,I){N.onload=k,N.onerror=I}),It(g,"link",u),o.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=du.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var _m=0;function TM(n,s){return n.stylesheets&&n.count===0&&hu(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&hu(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&_m===0&&(_m=62500*oM());var p=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&hu(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>_m?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function du(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var fu=null;function hu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,fu=new Map,s.forEach(OM,n),fu=null,du.call(n))}function OM(n,s){if(!(s.state.loading&4)){var o=fu.get(n);if(o)var u=o.get(null);else{o=new Map,fu.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var N=p[g];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(o.set(N.dataset.precedence,N),u=N)}u&&o.set(null,u)}p=s.instance,N=p.getAttribute("data-precedence"),g=o.get(N)||u,g===u&&o.set(null,p),o.set(N,p),this.count++,u=du.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),s.state.loading|=4}}var Fo={$$typeof:T,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function CM(n,s,o,u,p,g,N,k,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.hiddenUpdates=gf(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function AS(n,s,o,u,p,g,N,k,I,Q,re,oe){return n=new CM(n,s,o,N,I,Q,re,oe,k),s=1,g===!0&&(s|=24),g=xr(3,null,null,s),n.current=g,g.stateNode=n,s=th(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},sh(g),n}function RS(n){return n?(n=Ws,n):Ws}function DS(n,s,o,u,p,g){p=RS(p),u.context===null?u.context=p:u.pendingContext=p,u=la(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=ca(n,u,s),o!==null&&(cr(o,n,s),_o(o,n,s))}function kS(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Sm(n,s){kS(n,s),(n=n.alternate)&&kS(n,s)}function MS(n){if(n.tag===13||n.tag===31){var s=Ga(n,67108864);s!==null&&cr(s,n,67108864),Sm(n,67108864)}}function qS(n){if(n.tag===13||n.tag===31){var s=jr();s=yf(s);var o=Ga(n,s);o!==null&&cr(o,n,s),Sm(n,s)}}var mu=!0;function AM(n,s,o,u){var p=B.T;B.T=null;var g=K.p;try{K.p=2,Em(n,s,o,u)}finally{K.p=g,B.T=p}}function RM(n,s,o,u){var p=B.T;B.T=null;var g=K.p;try{K.p=8,Em(n,s,o,u)}finally{K.p=g,B.T=p}}function Em(n,s,o,u){if(mu){var p=jm(u);if(p===null)um(n,s,u,pu,o),LS(n,u);else if(kM(p,n,s,o,u))u.stopPropagation();else if(LS(n,u),s&4&&-1<DM.indexOf(n)){for(;p!==null;){var g=qs(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var N=Ua(g.pendingLanes);if(N!==0){var k=g;for(k.pendingLanes|=2,k.entangledLanes|=2;N;){var I=1<<31-Yt(N);k.entanglements[1]|=I,N&=~I}un(g),(He&6)===0&&(Qc=Ze()+500,$o(0))}}break;case 31:case 13:k=Ga(g,2),k!==null&&cr(k,g,2),Zc(),Sm(g,2)}if(g=jm(u),g===null&&um(n,s,u,pu,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else um(n,s,u,null,o)}}function jm(n){return n=Tf(n),Nm(n)}var pu=null;function Nm(n){if(pu=null,n=Ms(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return pu=n,null}function PS(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case ne:return 2;case ge:return 8;case Ee:case dt:return 32;case rr:return 268435456;default:return 32}default:return 32}}var Tm=!1,xa=null,wa=null,_a=null,Go=new Map,Wo=new Map,Sa=[],DM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function LS(n,s){switch(n){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Go.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(s.pointerId)}}function Yo(n,s,o,u,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},s!==null&&(s=qs(s),s!==null&&MS(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),n)}function kM(n,s,o,u,p){switch(s){case"focusin":return xa=Yo(xa,n,s,o,u,p),!0;case"dragenter":return wa=Yo(wa,n,s,o,u,p),!0;case"mouseover":return _a=Yo(_a,n,s,o,u,p),!0;case"pointerover":var g=p.pointerId;return Go.set(g,Yo(Go.get(g)||null,n,s,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,Wo.set(g,Yo(Wo.get(g)||null,n,s,o,u,p)),!0}return!1}function $S(n){var s=Ms(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Jb(n.priority,function(){qS(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,Jb(n.priority,function(){qS(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vu(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=jm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Nf=u,o.target.dispatchEvent(u),Nf=null}else return s=qs(o),s!==null&&MS(s),n.blockedOn=o,!1;s.shift()}return!0}function zS(n,s,o){vu(n)&&o.delete(s)}function MM(){Tm=!1,xa!==null&&vu(xa)&&(xa=null),wa!==null&&vu(wa)&&(wa=null),_a!==null&&vu(_a)&&(_a=null),Go.forEach(zS),Wo.forEach(zS)}function gu(n,s){n.blockedOn===s&&(n.blockedOn=null,Tm||(Tm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,MM)))}var yu=null;function US(n){yu!==n&&(yu=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){yu===n&&(yu=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],p=n[s+2];if(typeof u!="function"){if(Nm(u||o)===null)continue;break}var g=qs(o);g!==null&&(n.splice(s,3),s-=3,jh(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function vi(n){function s(I){return gu(I,n)}xa!==null&&gu(xa,n),wa!==null&&gu(wa,n),_a!==null&&gu(_a,n),Go.forEach(s),Wo.forEach(s);for(var o=0;o<Sa.length;o++){var u=Sa[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Sa.length&&(o=Sa[0],o.blockedOn===null);)$S(o),o.blockedOn===null&&Sa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],N=p[nr]||null;if(typeof g=="function")N||US(o);else if(N){var k=null;if(g&&g.hasAttribute("formAction")){if(p=g,N=g[nr]||null)k=N.formAction;else if(Nm(p)!==null)continue}else k=N.action;typeof k=="function"?o[u+1]=k:(o.splice(u,3),u-=3),US(o)}}}function IS(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(N){return p=N})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function Om(n){this._internalRoot=n}bu.prototype.render=Om.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,u=jr();DS(o,u,n,s,null,null)},bu.prototype.unmount=Om.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;DS(n.current,2,null,n,null,null),Zc(),s[ks]=null}};function bu(n){this._internalRoot=n}bu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Qb();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Sa.length&&s!==0&&s<Sa[o].priority;o++);Sa.splice(o,0,n),o===0&&$S(n)}};var BS=e.version;if(BS!=="19.2.1")throw Error(a(527,BS,"19.2.1"));K.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=m(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var qM={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{ft=xu.inject(qM),Ue=xu}catch{}}return Ko.createRoot=function(n,s){if(!i(n))throw Error(a(299));var o=!1,u="",p=Kw,g=Xw,N=Qw;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=AS(n,1,!1,null,null,o,u,null,p,g,N,IS),n[ks]=s.current,cm(n),new Om(s)},Ko.hydrateRoot=function(n,s,o){if(!i(n))throw Error(a(299));var u=!1,p="",g=Kw,N=Xw,k=Qw,I=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError),o.formState!==void 0&&(I=o.formState)),s=AS(n,1,!0,s,o??null,u,p,I,g,N,k,IS),s.context=RS(null),o=s.current,u=jr(),u=yf(u),p=la(u),p.callback=null,ca(o,p,u),o=u,s.current.lanes=o,no(s,o),un(s),n[ks]=s.current,cm(n),new bu(s)},Ko.version="19.2.1",Ko}var JS;function GM(){if(JS)return Rm.exports;JS=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rm.exports=FM(),Rm.exports}var WM=GM();var ZS="popstate";function YM(t={}){function e(a,i){let{pathname:l,search:c,hash:d}=a.location;return Z0("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){return typeof i=="string"?i:xl(i)}return KM(e,r,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Br(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VM(){return Math.random().toString(36).substring(2,10)}function e1(t,e){return{usr:t.state,key:t.key,idx:e}}function Z0(t,e,r=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ui(e):e,state:r,key:e&&e.key||a||VM()}}function xl({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Ui(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function KM(t,e,r,a={}){let{window:i=document.defaultView,v5Compat:l=!1}=a,c=i.history,d="POP",h=null,m=v();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function v(){return(c.state||{idx:null}).idx}function y(){d="POP";let S=v(),E=S==null?null:S-m;m=S,h&&h({action:d,location:_.location,delta:E})}function b(S,E){d="PUSH";let j=Z0(_.location,S,E);m=v()+1;let T=e1(j,m),O=_.createHref(j);try{c.pushState(T,"",O)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(O)}l&&h&&h({action:d,location:_.location,delta:1})}function x(S,E){d="REPLACE";let j=Z0(_.location,S,E);m=v();let T=e1(j,m),O=_.createHref(j);c.replaceState(T,"",O),l&&h&&h({action:d,location:_.location,delta:0})}function w(S){return XM(S)}let _={get action(){return d},get location(){return t(i,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(ZS,y),h=S,()=>{i.removeEventListener(ZS,y),h=null}},createHref(S){return e(i,S)},createURL:w,encodeLocation(S){let E=w(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:x,go(S){return c.go(S)}};return _}function XM(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ct(r,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:xl(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=r+a),new URL(a,r)}function dO(t,e,r="/"){return QM(t,e,r,!1)}function QM(t,e,r,a){let i=typeof e=="string"?Ui(e):e,l=Vn(i.pathname||"/",r);if(l==null)return null;let c=fO(t);JM(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=c4(l);d=o4(c[h],m,a)}return d}function fO(t,e=[],r=[],a="",i=!1){let l=(c,d,h=i,m)=>{let v={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&h)return;ct(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let y=Yn([a,v.relativePath]),b=r.concat(v);c.children&&c.children.length>0&&(ct(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),fO(c.children,e,b,y,h)),!(c.path==null&&!c.index)&&e.push({path:y,score:s4(y,c.index),routesMeta:b})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let h of hO(c.path))l(c,d,!0,h)}),e}function hO(t){let e=t.split("/");if(e.length===0)return[];let[r,...a]=e,i=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let c=hO(a.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),i&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function JM(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:i4(e.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}var ZM=/^:[\w-]+$/,e4=3,t4=2,r4=1,n4=10,a4=-2,t1=t=>t==="*";function s4(t,e){let r=t.split("/"),a=r.length;return r.some(t1)&&(a+=a4),e&&(a+=t4),r.filter(i=>!t1(i)).reduce((i,l)=>i+(ZM.test(l)?e4:l===""?r4:n4),a)}function i4(t,e){return t.length===e.length&&t.slice(0,-1).every((a,i)=>a===e[i])?t[t.length-1]-e[e.length-1]:0}function o4(t,e,r=!1){let{routesMeta:a}=t,i={},l="/",c=[];for(let d=0;d<a.length;++d){let h=a[d],m=d===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=sd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},v),b=h.route;if(!y&&m&&r&&!a[a.length-1].route.index&&(y=sd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!y)return null;Object.assign(i,y.params),c.push({params:i,pathname:Yn([l,y.pathname]),pathnameBase:m4(Yn([l,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(l=Yn([l,y.pathnameBase]))}return c}function sd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,a]=l4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let l=i[0],c=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:y},b)=>{if(v==="*"){let w=d[b]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const x=d[b];return y&&!x?m[v]=void 0:m[v]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:t}}function l4(t,e=!1,r=!0){Br(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(a.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function c4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Br(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Vn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,a=t.charAt(r);return a&&a!=="/"?null:t.slice(r)||"/"}var u4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d4=t=>u4.test(t);function f4(t,e="/"){let{pathname:r,search:a="",hash:i=""}=typeof t=="string"?Ui(t):t,l;if(r)if(d4(r))l=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?l=r1(r.substring(1),"/"):l=r1(r,e)}else l=e;return{pathname:l,search:p4(a),hash:v4(i)}}function r1(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function qm(t,e,r,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function h4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Dy(t){let e=h4(t);return e.map((r,a)=>a===e.length-1?r.pathname:r.pathnameBase)}function ky(t,e,r,a=!1){let i;typeof t=="string"?i=Ui(t):(i={...t},ct(!i.pathname||!i.pathname.includes("?"),qm("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),qm("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),qm("#","search","hash",i)));let l=t===""||i.pathname==="",c=l?"/":i.pathname,d;if(c==null)d=r;else{let y=e.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;i.pathname=b.join("/")}d=y>=0?e[y]:"/"}let h=f4(i,d),m=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||v)&&(h.pathname+="/"),h}var Yn=t=>t.join("/").replace(/\/\/+/g,"/"),m4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function g4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function y4(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mO=["POST","PUT","PATCH","DELETE"];new Set(mO);var b4=["GET",...mO];new Set(b4);var Ii=A.createContext(null);Ii.displayName="DataRouter";var Od=A.createContext(null);Od.displayName="DataRouterState";A.createContext(!1);var pO=A.createContext({isTransitioning:!1});pO.displayName="ViewTransition";var x4=A.createContext(new Map);x4.displayName="Fetchers";var w4=A.createContext(null);w4.displayName="Await";var Wr=A.createContext(null);Wr.displayName="Navigation";var $l=A.createContext(null);$l.displayName="Location";var En=A.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var My=A.createContext(null);My.displayName="RouteError";function _4(t,{relative:e}={}){ct(Bi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:a}=A.useContext(Wr),{hash:i,pathname:l,search:c}=zl(t,{relative:e}),d=l;return r!=="/"&&(d=l==="/"?r:Yn([r,l])),a.createHref({pathname:d,search:c,hash:i})}function Bi(){return A.useContext($l)!=null}function Ma(){return ct(Bi(),"useLocation() may be used only in the context of a <Router> component."),A.useContext($l).location}var vO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gO(t){A.useContext(Wr).static||A.useLayoutEffect(t)}function qy(){let{isDataRoute:t}=A.useContext(En);return t?q4():S4()}function S4(){ct(Bi(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Ii),{basename:e,navigator:r}=A.useContext(Wr),{matches:a}=A.useContext(En),{pathname:i}=Ma(),l=JSON.stringify(Dy(a)),c=A.useRef(!1);return gO(()=>{c.current=!0}),A.useCallback((h,m={})=>{if(Br(c.current,vO),!c.current)return;if(typeof h=="number"){r.go(h);return}let v=ky(h,JSON.parse(l),i,m.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yn([e,v.pathname])),(m.replace?r.replace:r.push)(v,m.state,m)},[e,r,l,i,t])}A.createContext(null);function zl(t,{relative:e}={}){let{matches:r}=A.useContext(En),{pathname:a}=Ma(),i=JSON.stringify(Dy(r));return A.useMemo(()=>ky(t,JSON.parse(i),a,e==="path"),[t,i,a,e])}function E4(t,e){return yO(t,e)}function yO(t,e,r,a,i){ct(Bi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=A.useContext(Wr),{matches:c}=A.useContext(En),d=c[c.length-1],h=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",y=d&&d.route;{let j=y&&y.path||"";bO(m,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let b=Ma(),x;if(e){let j=typeof e=="string"?Ui(e):e;ct(v==="/"||j.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${j.pathname}" was given in the \`location\` prop.`),x=j}else x=b;let w=x.pathname||"/",_=w;if(v!=="/"){let j=v.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(j.length).join("/")}let S=dO(t,{pathname:_});Br(y||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Br(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=C4(S&&S.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Yn([v,l.encodeLocation?l.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:Yn([v,l.encodeLocation?l.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),c,r,a,i);return e&&E?A.createElement($l.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function j4(){let t=M4(),e=g4(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:l},"ErrorBoundary")," or"," ",A.createElement("code",{style:l},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),r?A.createElement("pre",{style:i},r):null,c)}var N4=A.createElement(j4,null),T4=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?A.createElement(En.Provider,{value:this.props.routeContext},A.createElement(My.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function O4({routeContext:t,match:e,children:r}){let a=A.useContext(Ii);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(En.Provider,{value:t},r)}function C4(t,e=[],r=null,a=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,c=r?.errors;if(c!=null){let v=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);ct(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,h=-1;if(r)for(let v=0;v<l.length;v++){let y=l[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=v),y.route.id){let{loaderData:b,errors:x}=r,w=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||w){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let m=r&&a?(v,y)=>{a(v,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:y4(r.matches),errorInfo:y})}:void 0;return l.reduceRight((v,y,b)=>{let x,w=!1,_=null,S=null;r&&(x=c&&y.route.id?c[y.route.id]:void 0,_=y.route.errorElement||N4,d&&(h<0&&b===0?(bO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):h===b&&(w=!0,S=y.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,b+1)),j=()=>{let T;return x?T=_:w?T=S:y.route.Component?T=A.createElement(y.route.Component,null):y.route.element?T=y.route.element:T=v,A.createElement(O4,{match:y,routeContext:{outlet:v,matches:E,isDataRoute:r!=null},children:T})};return r&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?A.createElement(T4,{location:r.location,revalidation:r.revalidation,component:_,error:x,children:j(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:m}):j()},null)}function Py(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A4(t){let e=A.useContext(Ii);return ct(e,Py(t)),e}function R4(t){let e=A.useContext(Od);return ct(e,Py(t)),e}function D4(t){let e=A.useContext(En);return ct(e,Py(t)),e}function Ly(t){let e=D4(t),r=e.matches[e.matches.length-1];return ct(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function k4(){return Ly("useRouteId")}function M4(){let t=A.useContext(My),e=R4("useRouteError"),r=Ly("useRouteError");return t!==void 0?t:e.errors?.[r]}function q4(){let{router:t}=A4("useNavigate"),e=Ly("useNavigate"),r=A.useRef(!1);return gO(()=>{r.current=!0}),A.useCallback(async(i,l={})=>{Br(r.current,vO),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...l}))},[t,e])}var n1={};function bO(t,e,r){!e&&!n1[t]&&(n1[t]=!0,Br(!1,r))}A.memo(P4);function P4({routes:t,future:e,state:r,unstable_onError:a}){return yO(t,void 0,r,a,e)}function dl({to:t,replace:e,state:r,relative:a}){ct(Bi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=A.useContext(Wr);Br(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=A.useContext(En),{pathname:c}=Ma(),d=qy(),h=ky(t,Dy(l),c,a==="path"),m=JSON.stringify(h);return A.useEffect(()=>{d(JSON.parse(m),{replace:e,state:r,relative:a})},[d,m,a,e,r]),null}function Si(t){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function L4({basename:t="/",children:e=null,location:r,navigationType:a="POP",navigator:i,static:l=!1,unstable_useTransitions:c}){ct(!Bi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=A.useMemo(()=>({basename:d,navigator:i,static:l,unstable_useTransitions:c,future:{}}),[d,i,l,c]);typeof r=="string"&&(r=Ui(r));let{pathname:m="/",search:v="",hash:y="",state:b=null,key:x="default"}=r,w=A.useMemo(()=>{let _=Vn(m,d);return _==null?null:{location:{pathname:_,search:v,hash:y,state:b,key:x},navigationType:a}},[d,m,v,y,b,x,a]);return Br(w!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:A.createElement(Wr.Provider,{value:h},A.createElement($l.Provider,{children:e,value:w}))}function $4({children:t,location:e}){return E4(ey(t),e)}function ey(t,e=[]){let r=[];return A.Children.forEach(t,(a,i)=>{if(!A.isValidElement(a))return;let l=[...e,i];if(a.type===A.Fragment){r.push.apply(r,ey(a.props.children,l));return}ct(a.type===Si,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=ey(a.props.children,l)),r.push(c)}),r}var zu="get",Uu="application/x-www-form-urlencoded";function Cd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function z4(t){return Cd(t)&&t.tagName.toLowerCase()==="button"}function U4(t){return Cd(t)&&t.tagName.toLowerCase()==="form"}function I4(t){return Cd(t)&&t.tagName.toLowerCase()==="input"}function B4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H4(t,e){return t.button===0&&(!e||e==="_self")&&!B4(t)}var _u=null;function F4(){if(_u===null)try{new FormData(document.createElement("form"),0),_u=!1}catch{_u=!0}return _u}var G4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(t){return t!=null&&!G4.has(t)?(Br(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uu}"`),null):t}function W4(t,e){let r,a,i,l,c;if(U4(t)){let d=t.getAttribute("action");a=d?Vn(d,e):null,r=t.getAttribute("method")||zu,i=Pm(t.getAttribute("enctype"))||Uu,l=new FormData(t)}else if(z4(t)||I4(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(a=h?Vn(h,e):null,r=t.getAttribute("formmethod")||d.getAttribute("method")||zu,i=Pm(t.getAttribute("formenctype"))||Pm(d.getAttribute("enctype"))||Uu,l=new FormData(d,t),!F4()){let{name:m,type:v,value:y}=t;if(v==="image"){let b=m?`${m}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else m&&l.append(m,y)}}else{if(Cd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=zu,a=null,i=Uu,c=t}return l&&i==="text/plain"&&(c=l,l=void 0),{action:a,method:r.toLowerCase(),encType:i,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $y(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Y4(t,e,r){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname=`_root.${r}`:e&&Vn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function V4(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function X4(t,e,r){let a=await Promise.all(t.map(async i=>{let l=e.routes[i.route.id];if(l){let c=await V4(l,r);return c.links?c.links():[]}return[]}));return e3(a.flat(1).filter(K4).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function a1(t,e,r,a,i,l){let c=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,d=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,m)=>c(h,m)||d(h,m)):l==="data"?e.filter((h,m)=>{let v=a.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(c(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Q4(t,e,{includeHydrateFallback:r}={}){return J4(t.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let l=[i.module];return i.clientActionModule&&(l=l.concat(i.clientActionModule)),i.clientLoaderModule&&(l=l.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(l=l.concat(i.hydrateFallbackModule)),i.imports&&(l=l.concat(i.imports)),l}).flat(1))}function J4(t){return[...new Set(t)]}function Z4(t){let e={},r=Object.keys(t).sort();for(let a of r)e[a]=t[a];return e}function e3(t,e){let r=new Set;return new Set(e),t.reduce((a,i)=>{let l=JSON.stringify(Z4(i));return r.has(l)||(r.add(l),a.push({key:l,link:i})),a},[])}function xO(){let t=A.useContext(Ii);return $y(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function t3(){let t=A.useContext(Od);return $y(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var zy=A.createContext(void 0);zy.displayName="FrameworkContext";function wO(){let t=A.useContext(zy);return $y(t,"You must render this element inside a <HydratedRouter> element"),t}function r3(t,e){let r=A.useContext(zy),[a,i]=A.useState(!1),[l,c]=A.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:v,onTouchStart:y}=e,b=A.useRef(null);A.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let _=E=>{E.forEach(j=>{c(j.isIntersecting)})},S=new IntersectionObserver(_,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[t]),A.useEffect(()=>{if(a){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[a]);let x=()=>{i(!0)},w=()=>{i(!1),c(!1)};return r?t!=="intent"?[l,b,{}]:[l,b,{onFocus:Xo(d,x),onBlur:Xo(h,w),onMouseEnter:Xo(m,x),onMouseLeave:Xo(v,w),onTouchStart:Xo(y,x)}]:[!1,b,{}]}function Xo(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function n3({page:t,...e}){let{router:r}=xO(),a=A.useMemo(()=>dO(r.routes,t,r.basename),[r.routes,t,r.basename]);return a?A.createElement(s3,{page:t,matches:a,...e}):null}function a3(t){let{manifest:e,routeModules:r}=wO(),[a,i]=A.useState([]);return A.useEffect(()=>{let l=!1;return X4(t,e,r).then(c=>{l||i(c)}),()=>{l=!0}},[t,e,r]),a}function s3({page:t,matches:e,...r}){let a=Ma(),{manifest:i,routeModules:l}=wO(),{basename:c}=xO(),{loaderData:d,matches:h}=t3(),m=A.useMemo(()=>a1(t,e,h,i,a,"data"),[t,e,h,i,a]),v=A.useMemo(()=>a1(t,e,h,i,a,"assets"),[t,e,h,i,a]),y=A.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let w=new Set,_=!1;if(e.forEach(E=>{let j=i.routes[E.route.id];!j||!j.hasLoader||(!m.some(T=>T.route.id===E.route.id)&&E.route.id in d&&l[E.route.id]?.shouldRevalidate||j.hasClientLoader?_=!0:w.add(E.route.id))}),w.size===0)return[];let S=Y4(t,c,"data");return _&&w.size>0&&S.searchParams.set("_routes",e.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[c,d,a,i,m,e,t,l]),b=A.useMemo(()=>Q4(v,i),[v,i]),x=a3(v);return A.createElement(A.Fragment,null,y.map(w=>A.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),b.map(w=>A.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),x.map(({key:w,link:_})=>A.createElement("link",{key:w,nonce:r.nonce,..._})))}function i3(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var _O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_O&&(window.__reactRouterVersion="7.10.1")}catch{}function o3({basename:t,children:e,unstable_useTransitions:r,window:a}){let i=A.useRef();i.current==null&&(i.current=YM({window:a,v5Compat:!0}));let l=i.current,[c,d]=A.useState({action:l.action,location:l.location}),h=A.useCallback(m=>{r===!1?d(m):A.startTransition(()=>d(m))},[r]);return A.useLayoutEffect(()=>l.listen(h),[l,h]),A.createElement(L4,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:r===!0})}var SO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EO=A.forwardRef(function({onClick:e,discover:r="render",prefetch:a="none",relative:i,reloadDocument:l,replace:c,state:d,target:h,to:m,preventScrollReset:v,viewTransition:y,...b},x){let{basename:w,unstable_useTransitions:_}=A.useContext(Wr),S=typeof m=="string"&&SO.test(m),E,j=!1;if(typeof m=="string"&&S&&(E=m,_O))try{let C=new URL(window.location.href),P=m.startsWith("//")?new URL(C.protocol+m):new URL(m),U=Vn(P.pathname,w);P.origin===C.origin&&U!=null?m=U+P.search+P.hash:j=!0}catch{Br(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=_4(m,{relative:i}),[O,q,D]=r3(a,b),R=d3(m,{replace:c,state:d,target:h,preventScrollReset:v,relative:i,viewTransition:y,unstable_useTransitions:_});function L(C){e&&e(C),C.defaultPrevented||R(C)}let $=A.createElement("a",{...b,...D,href:E||T,onClick:j||l?e:L,ref:i3(x,q),target:h,"data-discover":!S&&r==="render"?"true":void 0});return O&&!S?A.createElement(A.Fragment,null,$,A.createElement(n3,{page:T})):$});EO.displayName="Link";var l3=A.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:a="",end:i=!1,style:l,to:c,viewTransition:d,children:h,...m},v){let y=zl(c,{relative:m.relative}),b=Ma(),x=A.useContext(Od),{navigator:w,basename:_}=A.useContext(Wr),S=x!=null&&v3(y)&&d===!0,E=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,j=b.pathname,T=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;r||(j=j.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&_&&(T=Vn(T,_)||T);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let q=j===E||!i&&j.startsWith(E)&&j.charAt(O)==="/",D=T!=null&&(T===E||!i&&T.startsWith(E)&&T.charAt(E.length)==="/"),R={isActive:q,isPending:D,isTransitioning:S},L=q?e:void 0,$;typeof a=="function"?$=a(R):$=[a,q?"active":null,D?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(R):l;return A.createElement(EO,{...m,"aria-current":L,className:$,ref:v,style:C,to:c,viewTransition:d},typeof h=="function"?h(R):h)});l3.displayName="NavLink";var c3=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:a,replace:i,state:l,method:c=zu,action:d,onSubmit:h,relative:m,preventScrollReset:v,viewTransition:y,...b},x)=>{let{unstable_useTransitions:w}=A.useContext(Wr),_=m3(),S=p3(d,{relative:m}),E=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&SO.test(d),T=O=>{if(h&&h(O),O.defaultPrevented)return;O.preventDefault();let q=O.nativeEvent.submitter,D=q?.getAttribute("formmethod")||c,R=()=>_(q||O.currentTarget,{fetcherKey:e,method:D,navigate:r,replace:i,state:l,relative:m,preventScrollReset:v,viewTransition:y});w&&r!==!1?A.startTransition(()=>R()):R()};return A.createElement("form",{ref:x,method:E,action:S,onSubmit:a?h:T,...b,"data-discover":!j&&t==="render"?"true":void 0})});c3.displayName="Form";function u3(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jO(t){let e=A.useContext(Ii);return ct(e,u3(t)),e}function d3(t,{target:e,replace:r,state:a,preventScrollReset:i,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let h=qy(),m=Ma(),v=zl(t,{relative:l});return A.useCallback(y=>{if(H4(y,e)){y.preventDefault();let b=r!==void 0?r:xl(m)===xl(v),x=()=>h(t,{replace:b,state:a,preventScrollReset:i,relative:l,viewTransition:c});d?A.startTransition(()=>x()):x()}},[m,h,v,r,a,e,t,i,l,c,d])}var f3=0,h3=()=>`__${String(++f3)}__`;function m3(){let{router:t}=jO("useSubmit"),{basename:e}=A.useContext(Wr),r=k4(),a=t.fetch,i=t.navigate;return A.useCallback(async(l,c={})=>{let{action:d,method:h,encType:m,formData:v,body:y}=W4(l,e);if(c.navigate===!1){let b=c.fetcherKey||h3();await a(b,r,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||h,formEncType:c.encType||m,flushSync:c.flushSync})}else await i(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:y,formMethod:c.method||h,formEncType:c.encType||m,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,i,e,r])}function p3(t,{relative:e}={}){let{basename:r}=A.useContext(Wr),a=A.useContext(En);ct(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),l={...zl(t||".",{relative:e})},c=Ma();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(v=>v==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let v=d.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&i.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:Yn([r,l.pathname])),xl(l)}function v3(t,{relative:e}={}){let r=A.useContext(pO);ct(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=jO("useViewTransitionState"),i=zl(t,{relative:e});if(!r.isTransitioning)return!1;let l=Vn(r.currentLocation.pathname,a)||r.currentLocation.pathname,c=Vn(r.nextLocation.pathname,a)||r.nextLocation.pathname;return sd(i.pathname,c)!=null||sd(i.pathname,l)!=null}var g3=uO();const NO=Qt(g3);var Fn={},Su={},ty=function(t,e){return ty=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},ty(t,e)};function TO(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ty(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var id=function(){return id=Object.assign||function(e){for(var r,a=1,i=arguments.length;a<i;a++){r=arguments[a];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l])}return e},id.apply(this,arguments)};function Hi(t,e){var r={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(r[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(r[a[i]]=t[a[i]]);return r}function OO(t,e,r,a){var i=arguments.length,l=i<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,r):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,r,a);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(i<3?c(l):i>3?c(e,r,l):c(e,r))||l);return i>3&&l&&Object.defineProperty(e,r,l),l}function CO(t,e){return function(r,a){e(r,a,t)}}function AO(t,e,r,a,i,l){function c(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var d=a.kind,h=d==="getter"?"get":d==="setter"?"set":"value",m=!e&&t?a.static?t:t.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),y,b=!1,x=r.length-1;x>=0;x--){var w={};for(var _ in a)w[_]=_==="access"?{}:a[_];for(var _ in a.access)w.access[_]=a.access[_];w.addInitializer=function(E){if(b)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(E||null))};var S=(0,r[x])(d==="accessor"?{get:v.get,set:v.set}:v[h],w);if(d==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(y=c(S.get))&&(v.get=y),(y=c(S.set))&&(v.set=y),(y=c(S.init))&&i.unshift(y)}else(y=c(S))&&(d==="field"?i.unshift(y):v[h]=y)}m&&Object.defineProperty(m,a.name,v),b=!0}function RO(t,e,r){for(var a=arguments.length>2,i=0;i<e.length;i++)r=a?e[i].call(t,r):e[i].call(t);return a?r:void 0}function DO(t){return typeof t=="symbol"?t:"".concat(t)}function kO(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function MO(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function he(t,e,r,a){function i(l){return l instanceof r?l:new r(function(c){c(l)})}return new(r||(r=Promise))(function(l,c){function d(v){try{m(a.next(v))}catch(y){c(y)}}function h(v){try{m(a.throw(v))}catch(y){c(y)}}function m(v){v.done?l(v.value):i(v.value).then(d,h)}m((a=a.apply(t,e||[])).next())})}function qO(t,e){var r={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,i,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(m){return function(v){return h([m,v])}}function h(m){if(a)throw new TypeError("Generator is already executing.");for(;c&&(c=0,m[0]&&(r=0)),r;)try{if(a=1,i&&(l=m[0]&2?i.return:m[0]?i.throw||((l=i.return)&&l.call(i),0):i.next)&&!(l=l.call(i,m[1])).done)return l;switch(i=0,l&&(m=[m[0]&2,l.value]),m[0]){case 0:case 1:l=m;break;case 4:return r.label++,{value:m[1],done:!1};case 5:r.label++,i=m[1],m=[0];continue;case 7:m=r.ops.pop(),r.trys.pop();continue;default:if(l=r.trys,!(l=l.length>0&&l[l.length-1])&&(m[0]===6||m[0]===2)){r=0;continue}if(m[0]===3&&(!l||m[1]>l[0]&&m[1]<l[3])){r.label=m[1];break}if(m[0]===6&&r.label<l[1]){r.label=l[1],l=m;break}if(l&&r.label<l[2]){r.label=l[2],r.ops.push(m);break}l[2]&&r.ops.pop(),r.trys.pop();continue}m=e.call(t,r)}catch(v){m=[6,v],i=0}finally{a=l=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Ad=Object.create?(function(t,e,r,a){a===void 0&&(a=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,i)}):(function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]});function PO(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Ad(e,t,r)}function od(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],a=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uy(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var a=r.call(t),i,l=[],c;try{for(;(e===void 0||e-- >0)&&!(i=a.next()).done;)l.push(i.value)}catch(d){c={error:d}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}return l}function LO(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Uy(arguments[e]));return t}function $O(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var a=Array(t),i=0,e=0;e<r;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,i++)a[i]=l[c];return a}function zO(t,e,r){if(r||arguments.length===2)for(var a=0,i=e.length,l;a<i;a++)(l||!(a in e))&&(l||(l=Array.prototype.slice.call(e,0,a)),l[a]=e[a]);return t.concat(l||Array.prototype.slice.call(e))}function Ci(t){return this instanceof Ci?(this.v=t,this):new Ci(t)}function UO(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(t,e||[]),i,l=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),i[Symbol.asyncIterator]=function(){return this},i;function c(x){return function(w){return Promise.resolve(w).then(x,y)}}function d(x,w){a[x]&&(i[x]=function(_){return new Promise(function(S,E){l.push([x,_,S,E])>1||h(x,_)})},w&&(i[x]=w(i[x])))}function h(x,w){try{m(a[x](w))}catch(_){b(l[0][3],_)}}function m(x){x.value instanceof Ci?Promise.resolve(x.value.v).then(v,y):b(l[0][2],x)}function v(x){h("next",x)}function y(x){h("throw",x)}function b(x,w){x(w),l.shift(),l.length&&h(l[0][0],l[0][1])}}function IO(t){var e,r;return e={},a("next"),a("throw",function(i){throw i}),a("return"),e[Symbol.iterator]=function(){return this},e;function a(i,l){e[i]=t[i]?function(c){return(r=!r)?{value:Ci(t[i](c)),done:!1}:l?l(c):c}:l}}function BO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof od=="function"?od(t):t[Symbol.iterator](),r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r);function a(l){r[l]=t[l]&&function(c){return new Promise(function(d,h){c=t[l](c),i(d,h,c.done,c.value)})}}function i(l,c,d,h){Promise.resolve(h).then(function(m){l({value:m,done:d})},c)}}function HO(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var y3=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},ry=function(t){return ry=Object.getOwnPropertyNames||function(e){var r=[];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[r.length]=a);return r},ry(t)};function FO(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=ry(t),a=0;a<r.length;a++)r[a]!=="default"&&Ad(e,t,r[a]);return y3(e,t),e}function GO(t){return t&&t.__esModule?t:{default:t}}function WO(t,e,r,a){if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?a:r==="a"?a.call(t):a?a.value:e.get(t)}function YO(t,e,r,a,i){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function VO(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function KO(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var a,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=e[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=e[Symbol.dispose],r&&(i=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");i&&(a=function(){try{i.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:a,async:r})}else r&&t.stack.push({async:!0});return e}var b3=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var a=new Error(r);return a.name="SuppressedError",a.error=t,a.suppressed=e,a};function XO(t){function e(l){t.error=t.hasError?new b3(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var r,a=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&a===1)return a=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var l=r.dispose.call(r.value);if(r.async)return a|=2,Promise.resolve(l).then(i,function(c){return e(c),i()})}else a|=1}catch(c){e(c)}if(a===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function QO(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,a,i,l,c){return a?e?".jsx":".js":i&&(!l||!c)?r:i+l+"."+c.toLowerCase()+"js"}):t}const x3={__extends:TO,__assign:id,__rest:Hi,__decorate:OO,__param:CO,__esDecorate:AO,__runInitializers:RO,__propKey:DO,__setFunctionName:kO,__metadata:MO,__awaiter:he,__generator:qO,__createBinding:Ad,__exportStar:PO,__values:od,__read:Uy,__spread:LO,__spreadArrays:$O,__spreadArray:zO,__await:Ci,__asyncGenerator:UO,__asyncDelegator:IO,__asyncValues:BO,__makeTemplateObject:HO,__importStar:FO,__importDefault:GO,__classPrivateFieldGet:WO,__classPrivateFieldSet:YO,__classPrivateFieldIn:VO,__addDisposableResource:KO,__disposeResources:XO,__rewriteRelativeImportExtension:QO},w3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:KO,get __assign(){return id},__asyncDelegator:IO,__asyncGenerator:UO,__asyncValues:BO,__await:Ci,__awaiter:he,__classPrivateFieldGet:WO,__classPrivateFieldIn:VO,__classPrivateFieldSet:YO,__createBinding:Ad,__decorate:OO,__disposeResources:XO,__esDecorate:AO,__exportStar:PO,__extends:TO,__generator:qO,__importDefault:GO,__importStar:FO,__makeTemplateObject:HO,__metadata:MO,__param:CO,__propKey:DO,__read:Uy,__rest:Hi,__rewriteRelativeImportExtension:QO,__runInitializers:RO,__setFunctionName:kO,__spread:LO,__spreadArray:zO,__spreadArrays:$O,__values:od,default:x3},Symbol.toStringTag,{value:"Module"})),_3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Rd=class extends Error{constructor(e,r="FunctionsError",a){super(e),this.name=r,this.context=a}},JO=class extends Rd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},ny=class extends Rd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ay=class extends Rd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var ld;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ld||(ld={}));class S3{constructor(e,{headers:r={},customFetch:a,region:i=ld.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=_3(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return he(this,arguments,void 0,function*(r,a={}){var i;let l,c;try{const{headers:d,method:h,body:m,signal:v,timeout:y}=a;let b={},{region:x}=a;x||(x=this.region);const w=new URL(`${this.url}/${r}`);x&&x!=="any"&&(b["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let _;m&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",_=m):typeof m=="string"?(b["Content-Type"]="text/plain",_=m):typeof FormData<"u"&&m instanceof FormData?_=m:(b["Content-Type"]="application/json",_=JSON.stringify(m)):_=m;let S=v;y&&(c=new AbortController,l=setTimeout(()=>c.abort(),y),v?(S=c.signal,v.addEventListener("abort",()=>c.abort())):S=c.signal);const E=yield this.fetch(w.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),d),body:_,signal:S}).catch(q=>{throw new JO(q)}),j=E.headers.get("x-relay-error");if(j&&j==="true")throw new ny(E);if(!E.ok)throw new ay(E);let T=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return T==="application/json"?O=yield E.json():T==="application/octet-stream"||T==="application/pdf"?O=yield E.blob():T==="text/event-stream"?O=E:T==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(d){return{data:null,error:d,response:d instanceof ay||d instanceof ny?d.context:void 0}}finally{l&&clearTimeout(l)}})}}const E3=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return ld},FunctionsClient:S3,FunctionsError:Rd,FunctionsFetchError:JO,FunctionsHttpError:ay,FunctionsRelayError:ny},Symbol.toStringTag,{value:"Module"})),ZO=Sn(E3);var Kt={};const Fi=Sn(w3);var Eu={},ju={},Nu={},Tu={},Ou={},Cu={},s1;function eC(){if(s1)return Cu;s1=1,Object.defineProperty(Cu,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Cu.default=t,Cu}var i1;function tC(){if(i1)return Ou;i1=1,Object.defineProperty(Ou,"__esModule",{value:!0});const e=Fi.__importDefault(eC());let r=class{constructor(i){var l,c;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(l=i.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=i.signal,this.isMaybeSingle=(c=i.isMaybeSingle)!==null&&c!==void 0?c:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,l){return this.headers=new Headers(this.headers),this.headers.set(i,l),this}then(i,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var m,v,y,b;let x=null,w=null,_=null,S=h.status,E=h.statusText;if(h.ok){if(this.method!=="HEAD"){const q=await h.text();q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?w=q:w=JSON.parse(q))}const T=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),O=(y=h.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&O&&O.length>1&&(_=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,S=406,E="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const T=await h.text();try{x=JSON.parse(T),Array.isArray(x)&&h.status===404&&(w=[],x=null,S=200,E="OK")}catch{h.status===404&&T===""?(S=204,E="No Content"):x={message:T}}if(x&&this.isMaybeSingle&&(!((b=x?.details)===null||b===void 0)&&b.includes("0 rows"))&&(x=null,S=200,E="OK"),x&&this.shouldThrowOnError)throw new e.default(x)}return{error:x,data:w,count:_,status:S,statusText:E}});return this.shouldThrowOnError||(d=d.catch(h=>{var m,v,y,b,x,w;let _="";const S=h?.cause;if(S){const E=(m=S?.message)!==null&&m!==void 0?m:"",j=(v=S?.code)!==null&&v!==void 0?v:"";_=`${(y=h?.name)!==null&&y!==void 0?y:"FetchError"}: ${h?.message}`,_+=`

Caused by: ${(b=S?.name)!==null&&b!==void 0?b:"Error"}: ${E}`,j&&(_+=` (${j})`),S?.stack&&(_+=`
${S.stack}`)}else _=(x=h?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(w=h?.name)!==null&&w!==void 0?w:"FetchError"}: ${h?.message}`,details:_,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(i,l)}returns(){return this}overrideTypes(){return this}};return Ou.default=r,Ou}var o1;function rC(){if(o1)return Tu;o1=1,Object.defineProperty(Tu,"__esModule",{value:!0});const e=Fi.__importDefault(tC());let r=class extends e.default{select(i){let l=!1;const c=(i??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${i}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,l,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${i}`),this.url.searchParams.set(m,`${l-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var v;const y=[i?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};return Tu.default=r,Tu}var l1;function Iy(){if(l1)return Nu;l1=1,Object.defineProperty(Nu,"__esModule",{value:!0});const e=Fi.__importDefault(rC()),r=new RegExp("[,()]");let a=class extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${v}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}};return Nu.default=a,Nu}var c1;function nC(){if(c1)return ju;c1=1,Object.defineProperty(ju,"__esModule",{value:!0});const e=Fi.__importDefault(Iy());let r=class{constructor(i,{headers:l={},schema:c,fetch:d}){this.url=i,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(i,l){const{head:c=!1,count:d}=l??{},h=c?"HEAD":"GET";let m=!1;const v=(i??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",v),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:l,defaultToNull:c=!0}={}){var d;const h="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(m.length>0){const v=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(i,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:h=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(y.length>0){const b=[...new Set(y)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(i,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:i}={}){var l;const c="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};return ju.default=r,ju}var u1;function j3(){if(u1)return Eu;u1=1,Object.defineProperty(Eu,"__esModule",{value:!0});const t=Fi,e=t.__importDefault(nC()),r=t.__importDefault(Iy());let a=class aC{constructor(l,{headers:c={},schema:d,fetch:h}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=h}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new aC(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:h=!1,count:m}={}){var v;let y;const b=new URL(`${this.url}/rpc/${l}`);let x;d||h?(y=d?"HEAD":"GET",Object.entries(c).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{b.searchParams.append(_,S)})):(y="POST",x=c);const w=new Headers(this.headers);return m&&w.set("Prefer",`count=${m}`),new r.default({method:y,url:b,headers:w,schema:this.schemaName,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}};return Eu.default=a,Eu}var d1;function sC(){if(d1)return Kt;d1=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const t=Fi,e=t.__importDefault(j3());Kt.PostgrestClient=e.default;const r=t.__importDefault(nC());Kt.PostgrestQueryBuilder=r.default;const a=t.__importDefault(Iy());Kt.PostgrestFilterBuilder=a.default;const i=t.__importDefault(rC());Kt.PostgrestTransformBuilder=i.default;const l=t.__importDefault(tC());Kt.PostgrestBuilder=l.default;const c=t.__importDefault(eC());return Kt.PostgrestError=c.default,Kt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default},Kt}class iC{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const a=r.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const a=this.getWebSocketConstructor();return new a(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const N3="2.87.1",T3=`realtime-js/${N3}`,oC="1.0.0",O3="2.0.0",f1=oC,sy=1e4,C3=1e3,A3=100;var fs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(fs||(fs={}));var jt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(jt||(jt={}));var tn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tn||(tn={}));var iy;(function(t){t.websocket="websocket"})(iy||(iy={}));var hs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hs||(hs={}));class R3{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let a=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,a;const i=(a=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,a){var i,l;const c=e.topic,d=(i=e.ref)!==null&&i!==void 0?i:"",h=(l=e.join_ref)!==null&&l!==void 0?l:"",m=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+d.length+c.length+m.length+y.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let w=new DataView(x),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,h.length),w.setUint8(_++,d.length),w.setUint8(_++,c.length),w.setUint8(_++,m.length),w.setUint8(_++,y.length),w.setUint8(_++,r),Array.from(h,E=>w.setUint8(_++,E.charCodeAt(0))),Array.from(d,E=>w.setUint8(_++,E.charCodeAt(0))),Array.from(c,E=>w.setUint8(_++,E.charCodeAt(0))),Array.from(m,E=>w.setUint8(_++,E.charCodeAt(0))),Array.from(y,E=>w.setUint8(_++,E.charCodeAt(0)));var S=new Uint8Array(x.byteLength+a.byteLength);return S.set(new Uint8Array(x),0),S.set(new Uint8Array(a),x.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let a=this._binaryDecode(e);return r(a)}if(typeof e=="string"){const a=JSON.parse(e),[i,l,c,d,h]=a;return r({join_ref:i,ref:l,topic:c,event:d,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),a=r.getUint8(0),i=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,a){const i=r.getUint8(1),l=r.getUint8(2),c=r.getUint8(3),d=r.getUint8(4);let h=this.HEADER_LENGTH+4;const m=a.decode(e.slice(h,h+i));h=h+i;const v=a.decode(e.slice(h,h+l));h=h+l;const y=a.decode(e.slice(h,h+c));h=h+c;const b=e.slice(h,e.byteLength),x=d===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,w={type:this.BROADCAST_EVENT,event:v,payload:x};return c>0&&(w.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([a])=>r.includes(a)))}}class lC{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(et||(et={}));const h1=(t,e,r={})=>{var a;const i=(a=r.skipTypes)!==null&&a!==void 0?a:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=D3(c,t,e,i),l),{}):{}},D3=(t,e,r,a)=>{const i=e.find(d=>d.name===t),l=i?.type,c=r[t];return l&&!a.includes(l)?cC(l,c):oy(c)},cC=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return P3(e,r)}switch(t){case et.bool:return k3(e);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return M3(e);case et.json:case et.jsonb:return q3(e);case et.timestamp:return L3(e);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return oy(e);default:return oy(e)}},oy=t=>t,k3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},M3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},q3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},P3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,a=t[r];if(t[0]==="{"&&a==="}"){let l;const c=t.slice(1,r);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>cC(e,d))}return t},L3=t=>typeof t=="string"?t.replace(" ","T"):t,uC=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lm{constructor(e,r,a={},i=sy){this.channel=e,this.event=r,this.payload=a,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var a;return this._hasReceived(e)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ly;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ly||(ly={}));let dC=class Iu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Iu.syncState(this.state,i,l,c),this.pendingDiffs.forEach(h=>{this.state=Iu.syncDiff(this.state,h,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(a.diff,{},i=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Iu.syncDiff(this.state,i,l,c),d())}),this.onJoin((i,l,c)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:l,newPresences:c})}),this.onLeave((i,l,c)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,a,i){const l=this.cloneDeep(e),c=this.transformState(r),d={},h={};return this.map(l,(m,v)=>{c[m]||(h[m]=v)}),this.map(c,(m,v)=>{const y=l[m];if(y){const b=v.map(S=>S.presence_ref),x=y.map(S=>S.presence_ref),w=v.filter(S=>x.indexOf(S.presence_ref)<0),_=y.filter(S=>b.indexOf(S.presence_ref)<0);w.length>0&&(d[m]=w),_.length>0&&(h[m]=_)}else d[m]=v}),this.syncDiff(l,{joins:d,leaves:h},a,i)}static syncDiff(e,r,a,i){const{joins:l,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),i||(i=()=>{}),this.map(l,(d,h)=>{var m;const v=(m=e[d])!==null&&m!==void 0?m:[];if(e[d]=this.cloneDeep(h),v.length>0){const y=e[d].map(x=>x.presence_ref),b=v.filter(x=>y.indexOf(x.presence_ref)<0);e[d].unshift(...b)}a(d,v,h)}),this.map(c,(d,h)=>{let m=e[d];if(!m)return;const v=h.map(y=>y.presence_ref);m=m.filter(y=>v.indexOf(y.presence_ref)<0),e[d]=m,i(d,m,h),m.length===0&&delete e[d]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(a=>r(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,a)=>{const i=e[a];return"metas"in i?r[a]=i.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):r[a]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var cy;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cy||(cy={}));var Ni;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ni||(Ni={}));var hn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(hn||(hn={}));const $3=jt;let fC=class fl{constructor(e,r={config:{}},a){var i,l;if(this.topic=e,this.params=r,this.socket=a,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lm(this,tn.join,this.params,this.timeout),this.rejoinTimer=new lC(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new dC(this),this.broadcastEndpointURL=uC(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var a,i,l;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params,m=(i=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&i!==void 0?i:[],v=!!this.bindings[Ni.PRESENCE]&&this.bindings[Ni.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:v}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(x=>e?.(hn.CHANNEL_ERROR,x)),this._onClose(()=>e?.(hn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e?.(hn.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(w=_?.length)!==null&&w!==void 0?w:0,E=[];for(let j=0;j<S;j++){const T=_[j],{filter:{event:O,schema:q,table:D,filter:R}}=T,L=x&&x[j];if(L&&L.event===O&&fl.isFilterValueEqual(L.schema,q)&&fl.isFilterValueEqual(L.table,D)&&fl.isFilterValueEqual(L.filter,R))E.push(Object.assign(Object.assign({},T),{id:L.id}));else{this.unsubscribe(),this.state=jt.errored,e?.(hn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(hn.SUBSCRIBED);return}}).receive("error",x=>{this.state=jt.errored,e?.(hn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e?.(hn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,a){return this.state===jt.joined&&e===Ni.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,a)}async httpSend(e,r,a={}){var i;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);if(d.status===202)return{success:!0};let h=d.statusText;try{const m=await d.json();h=m.error||m.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var a,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((i=m.body)===null||i===void 0?void 0:i.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,h;const m=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),m.receive("ok",()=>l("ok")),m.receive("error",()=>l("error")),m.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(i=>{a=new Lm(this,tn.leave,{},e),a.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,r,a){const i=new AbortController,l=setTimeout(()=>i.abort(),a),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(l),c}_push(e,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Lm(this,e,r,a);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>A3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,a){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,a){var i,l;const c=e.toLocaleLowerCase(),{close:d,error:h,leave:m,join:v}=tn;if(a&&[d,h,m,v].indexOf(c)>=0&&a!==this._joinRef())return;let b=this._onMessage(c,r,a);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(x=>{var w,_,S;return((w=x.filter)===null||w===void 0?void 0:w.event)==="*"||((S=(_=x.filter)===null||_===void 0?void 0:_.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===c}).map(x=>x.callback(b,a)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var w,_,S,E,j,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const O=x.id,q=(w=x.filter)===null||w===void 0?void 0:w.event;return O&&((_=r.ids)===null||_===void 0?void 0:_.includes(O))&&(q==="*"||q?.toLocaleLowerCase()===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const O=(j=(E=x?.filter)===null||E===void 0?void 0:E.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return O==="*"||O===((T=r?.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof b=="object"&&"ids"in b){const w=b.data,{schema:_,table:S,commit_timestamp:E,type:j,errors:T}=w;b=Object.assign(Object.assign({},{schema:_,table:S,commit_timestamp:E,eventType:j,new:{},old:{},errors:T}),this._getPayloadRecords(w))}x.callback(b,a)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,a){const i=e.toLocaleLowerCase(),l={type:i,filter:r,callback:a};return this.bindings[i]?this.bindings[i].push(l):this.bindings[i]=[l],this}_off(e,r){const a=e.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(i=>{var l;return!(((l=i.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&fl.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const a in e)if(e[a]!==r[a])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tn.close,{},e)}_onError(e){this._on(tn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=h1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=h1(e.columns,e.old_record)),r}};const $m=()=>{},Au={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z3=[1e3,2e3,5e3,1e4],U3=1e4,I3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let B3=class{constructor(e,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sy,this.transport=null,this.heartbeatIntervalMs=Au.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=$m,this.ref=0,this.reconnectTimer=null,this.vsn=f1,this.logger=$m,this.conn=null,this.sendBuffer=[],this.serializer=new R3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...l)=>i(...l):(...l)=>fetch(...l),!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${iy.websocket}`,this.httpEndpoint=uC(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,a){this.logger(e,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case fs.connecting:return hs.Connecting;case fs.open:return hs.Open;case fs.closing:return hs.Closing;default:return hs.Closed}}isConnected(){return this.connectionState()===hs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const a=`realtime:${e}`,i=this.getChannels().find(l=>l.topic===a);if(i)return i;{const l=new fC(`realtime:${e}`,r,this);return this.channels.push(l),l}}push(e){const{topic:r,event:a,payload:i,ref:l}=e,c=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${a} (${l})`,i),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(C3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Au.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:i,payload:l,ref:c}=r,d=c?`(${c})`:"",h=l.status||"";this.log("receive",`${h} ${a} ${i} ${d}`.trim(),l),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(i,l,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===fs.open||this.conn.readyState===fs.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const a=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${a}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const a=new Blob([I3],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,a=!1;if(e)r=e,a=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const l={access_token:r,version:T3};r&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(a=>{try{a(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(a){this.log("error",`error triggering ${e} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new lC(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Au.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,a,i,l,c,d,h,m,v,y,b,x;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=e?.timeout)!==null&&a!==void 0?a:sy,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:Au.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:$m,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:f1,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=e?.reconnectAfterMs)!==null&&m!==void 0?m:(w=>z3[w-1]||U3),this.vsn){case oC:this.encode=(v=e?.encode)!==null&&v!==void 0?v:((w,_)=>_(JSON.stringify(w))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((w,_)=>_(JSON.parse(w)));break;case O3:this.encode=(b=e?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=e?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}};const H3=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:$3,get REALTIME_LISTEN_TYPES(){return Ni},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return cy},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ly},get REALTIME_SUBSCRIBE_STATES(){return hn},RealtimeChannel:fC,RealtimeClient:B3,RealtimePresence:dC,WebSocketFactory:iC},Symbol.toStringTag,{value:"Module"})),hC=Sn(H3);class Ul extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mC extends Ul{constructor(e,r,a){super(e),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cd extends Ul{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const By=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),F3=()=>Response,uy=t=>{if(Array.isArray(t))return t.map(r=>uy(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,a])=>{const i=r.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[i]=uy(a)}),e},G3=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},W3=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),zm=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Y3=(t,e,r)=>he(void 0,void 0,void 0,function*(){const a=yield F3();t instanceof a&&!r?.noResolveJson?t.json().then(i=>{const l=t.status||500,c=i?.statusCode||l+"";e(new mC(zm(i),l,c))}).catch(i=>{e(new cd(zm(i),i))}):e(new cd(zm(t),t))}),V3=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!a?i:(G3(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Il(t,e,r,a,i,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,V3(e,a,i,l)).then(h=>{if(!h.ok)throw h;return a?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>Y3(h,d,a))})})}function wl(t,e,r,a){return he(this,void 0,void 0,function*(){return Il(t,"GET",e,r,a)})}function en(t,e,r,a,i){return he(this,void 0,void 0,function*(){return Il(t,"POST",e,a,i,r)})}function dy(t,e,r,a,i){return he(this,void 0,void 0,function*(){return Il(t,"PUT",e,a,i,r)})}function K3(t,e,r,a){return he(this,void 0,void 0,function*(){return Il(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Hy(t,e,r,a,i){return he(this,void 0,void 0,function*(){return Il(t,"DELETE",e,a,i,r)})}class X3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return he(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}var pC;class Q3{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[pC]="BlobDownloadBuilder",this.promise=null}asStream(){return new X3(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return he(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(lt(e))return{data:null,error:e};throw e}})}}pC=Symbol.toStringTag;const J3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},m1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Z3{constructor(e,r={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=a,this.fetch=By(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,a,i){return he(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},m1),i);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&a instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",a)):typeof FormData<"u"&&a instanceof FormData?(l=a,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),h&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(h))):(l=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(d=Object.assign(Object.assign({},d),i.headers));const m=this._removeEmptyFolders(r),v=this._getFinalPath(m),y=yield(e=="PUT"?dy:en)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(lt(l))return{data:null,error:l};throw l}})}upload(e,r,a){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,a)})}uploadToSignedUrl(e,r,a,i){return he(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:m1.upsert},i),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.append("cacheControl",m.cacheControl)):(h=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const y=yield dy(this.fetch,d.toString(),h,{headers:v});return{data:{path:l,fullPath:y.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(lt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,r){return he(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const l=yield en(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:i}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new Ul("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}update(e,r,a){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,a)})}move(e,r,a){return he(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}copy(e,r,a){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,a){return he(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),l=yield en(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,a){return he(this,void 0,void 0,function*(){try{const i=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),l=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:i.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(r?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),h=()=>wl(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new Q3(h,this.shouldThrowOnError)}info(e){return he(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const a=yield wl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:uy(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}exists(e){return he(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield K3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a)&&a instanceof cd){const i=a.originalError;if([400,404].includes(i?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,r){const a=this._getFinalPath(e),i=[],l=r?.download?`download=${r.download===!0?"":r.download}`:"";l!==""&&i.push(l);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&i.push(h);let m=i.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${a}${m}`)}}}remove(e){return he(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}list(e,r,a){return he(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},J3),r),{prefix:e||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},a),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}listV2(e,r){return he(this,void 0,void 0,function*(){try{const a=Object.assign({},e);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const vC="2.87.1",gC={"X-Client-Info":`storage-js/${vC}`};class e5{constructor(e,r={},a,i){this.shouldThrowOnError=!1;const l=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gC),r),this.fetch=By(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return he(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield wl(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}createBucket(e){return he(this,arguments,void 0,function*(r,a={public:!1}){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(lt(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return he(this,void 0,void 0,function*(){try{return{data:yield dy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(lt(a))return{data:null,error:a};throw a}})}emptyBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var _l=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function t5(t,e,r){const a=new URL(e,t);if(r)for(const[i,l]of Object.entries(r))l!==void 0&&a.searchParams.set(i,l);return a.toString()}async function r5(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function n5(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:a,query:i,body:l,headers:c}){const d=t5(t.baseUrl,a,i),h=await r5(t.auth),m=await e(d,{method:r,headers:{...l?{"Content-Type":"application/json"}:{},...h,...c},body:l?JSON.stringify(l):void 0}),v=await m.text(),y=(m.headers.get("content-type")||"").includes("application/json"),b=y&&v?JSON.parse(v):v;if(!m.ok){const x=y?b:void 0,w=x?.error;throw new _l(w?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:w?.type,icebergCode:w?.code,details:x})}return{status:m.status,headers:m.headers,data:b}}}}function Ru(t){return t.join("")}var a5=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Ru(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ru(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ru(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ru(t.namespace)}`}),!0}catch(e){if(e instanceof _l&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof _l&&r.status===409)return;throw r}}};function gi(t){return t.join("")}var s5=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gi(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gi(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gi(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gi(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gi(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gi(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof _l&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof _l&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},i5=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=n5({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new a5(this.client,e),this.tableOps=new s5(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class yC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},gC),r),this.fetch=By(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}listBuckets(e){return he(this,void 0,void 0,function*(){try{const r=new URLSearchParams;e?.limit!==void 0&&r.set("limit",e.limit.toString()),e?.offset!==void 0&&r.set("offset",e.offset.toString()),e?.sortColumn&&r.set("sortColumn",e.sortColumn),e?.sortOrder&&r.set("sortOrder",e.sortOrder),e?.search&&r.set("search",e.search);const a=r.toString(),i=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield wl(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Hy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(lt(r))return{data:null,error:r};throw r}})}from(e){if(!W3(e))throw new Ul("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new i5({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>he(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(r,{get(l,c){const d=l[c];return typeof d!="function"?d:(...h)=>he(this,void 0,void 0,function*(){try{return{data:yield d.apply(l,h),error:null}}catch(m){if(a)throw m;return{data:null,error:m}}})}})}}const Fy={"X-Client-Info":`storage-js/${vC}`,"Content-Type":"application/json"};class Gy extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function dr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Bu extends Gy{constructor(e,r,a){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bC extends Gy{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var fy;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(fy||(fy={}));const Dd=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),o5=()=>Response,xC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},l5=t=>Array.from(new Float32Array(t)),c5=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},p1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),u5=(t,e,r)=>he(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const i=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||i+"";e(new Bu(p1(c),i,d))}).catch(()=>{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Bu(d,i,c))});else{const c=i+"",d=l.statusText||`HTTP ${i} error`;e(new Bu(d,i,c))}}else e(new bC(p1(t),t))}),d5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return a?(xC(a)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(a)):i.body=a,Object.assign(Object.assign({},i),r)):i};function f5(t,e,r,a,i,l){return he(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(r,d5(e,a,i,l)).then(h=>{if(!h.ok)throw h;if(a?.noResolveJson)return h;const m=h.headers.get("content-type");return!m||!m.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>u5(h,d,a))})})}function Tr(t,e,r,a,i){return he(this,void 0,void 0,function*(){return f5(t,"POST",e,a,i,r)})}class wC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fy),r),this.fetch=Dd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Tr(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getIndex(e,r){return he(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}})}listIndexes(e){return he(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return he(this,void 0,void 0,function*(){try{return{data:(yield Tr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(dr(a))return{data:null,error:a};throw a}})}}class _C{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fy),r),this.fetch=Dd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return he(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Tr(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}listVectors(e){return he(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Tr(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}queryVectors(e){return he(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteVectors(e){return he(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Tr(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}}class SC{constructor(e,r={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fy),r),this.fetch=Dd(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Tr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}getBucket(e){return he(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}listBuckets(){return he(this,arguments,void 0,function*(e={}){try{return{data:yield Tr(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return he(this,void 0,void 0,function*(){try{return{data:(yield Tr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(dr(r))return{data:null,error:r};throw r}})}}class EC extends SC{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new jC(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return he(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return he(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return he(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return he(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class jC extends wC{constructor(e,r,a,i){super(e,r,i),this.vectorBucketName=a}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return he(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return he(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return he(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return he(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new NC(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class NC extends _C{constructor(e,r,a,i,l){super(e,r,l),this.vectorBucketName=a,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return he(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return he(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return he(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return he(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return he(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class h5 extends e5{constructor(e,r={},a,i){super(e,r,a,i)}from(e){return new Z3(this.url,this.headers,e,this.fetch)}get vectors(){return new EC(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yC(this.url+"/iceberg",this.headers,this.fetch)}}const m5=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:yC,StorageApiError:mC,StorageClient:h5,StorageError:Ul,StorageUnknownError:cd,StorageVectorsApiError:Bu,StorageVectorsClient:EC,StorageVectorsError:Gy,get StorageVectorsErrorCode(){return fy},StorageVectorsUnknownError:bC,VectorBucketApi:SC,VectorBucketScope:jC,VectorDataApi:_C,VectorIndexApi:wC,VectorIndexScope:NC,isPlainObject:xC,isStorageError:lt,isStorageVectorsError:dr,normalizeToFloat32:l5,resolveFetch:Dd,resolveResponse:o5,validateVectorDimension:c5},Symbol.toStringTag,{value:"Module"})),p5=Sn(m5);var Um={},Qo={},v1;function v5(){return v1||(v1=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.version=void 0,Qo.version="2.87.1"),Qo}var g1;function g5(){return g1||(g1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=v5();let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(Um)),Um}var Im={},y1;function y5(){return y1||(y1=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=i=>i?(...l)=>i(...l):(...l)=>fetch(...l);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const a=(i,l,c)=>{const d=(0,t.resolveFetch)(c),h=(0,t.resolveHeadersConstructor)();return async(m,v)=>{var y;const b=(y=await l())!==null&&y!==void 0?y:i;let x=new h(v?.headers);return x.has("apikey")||x.set("apikey",i),x.has("Authorization")||x.set("Authorization",`Bearer ${b}`),d(m,Object.assign(Object.assign({},v),{headers:x}))}};t.fetchWithAuth=a})(Im)),Im}var Gn={},b1;function b5(){if(b1)return Gn;b1=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.isBrowser=void 0,Gn.uuid=t,Gn.ensureTrailingSlash=e,Gn.applySettingDefaults=a,Gn.validateSupabaseUrl=i;function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){var c=Math.random()*16|0,d=l=="x"?c:c&3|8;return d.toString(16)})}function e(l){return l.endsWith("/")?l:l+"/"}const r=()=>typeof window<"u";Gn.isBrowser=r;function a(l,c){var d,h;const{db:m,auth:v,realtime:y,global:b}=l,{db:x,auth:w,realtime:_,global:S}=c,E={db:Object.assign(Object.assign({},x),m),auth:Object.assign(Object.assign({},w),v),realtime:Object.assign(Object.assign({},_),y),storage:{},global:Object.assign(Object.assign(Object.assign({},S),b),{headers:Object.assign(Object.assign({},(d=S?.headers)!==null&&d!==void 0?d:{}),(h=b?.headers)!==null&&h!==void 0?h:{})}),accessToken:async()=>""};return l.accessToken?E.accessToken=l.accessToken:delete E.accessToken,E}function i(l){const c=l?.trim();if(!c)throw new Error("supabaseUrl is required.");if(!c.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e(c))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Gn}var Jo={};const TC="2.87.1",Ei=30*1e3,hy=3,Bm=hy*Ei,x5="http://localhost:9999",w5="supabase.auth.token",_5={"X-Client-Info":`gotrue-js/${TC}`},my="X-Supabase-Api-Version",OC={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},S5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,E5=600*1e3;let Ai=class extends Error{constructor(e,r,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}};function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let CC=class extends Ai{constructor(e,r,a){super(e,r,a),this.name="AuthApiError",this.status=r,this.code=a}};function AC(t){return ye(t)&&t.name==="AuthApiError"}let Oa=class extends Ai{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Zn=class extends Ai{constructor(e,r,a,i){super(e,a,i),this.name=r,this.status=a}},ur=class extends Zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function RC(t){return ye(t)&&t.name==="AuthSessionMissingError"}let ls=class extends Zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},hl=class extends Zn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},ml=class extends Zn{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function DC(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}let py=class extends Zn{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ud=class extends Zn{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Hu(t){return ye(t)&&t.name==="AuthRetryableFetchError"}let vy=class extends Zn{constructor(e,r,a){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}};function j5(t){return ye(t)&&t.name==="AuthWeakPasswordError"}let dd=class extends Zn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x1=` 	
\r=`.split(""),N5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<x1.length;e+=1)t[x1[e].charCodeAt(0)]=-2;for(let e=0;e<fd.length;e+=1)t[fd[e].charCodeAt(0)]=e;return t})();function w1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(fd[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;r(fd[a]),e.queuedBits-=6}}function kC(t,e,r){const a=N5[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _1(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},l=c=>{C5(c,a,r)};for(let c=0;c<t.length;c+=1)kC(t.charCodeAt(c),i,l);return e.join("")}function T5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function O5(t,e){for(let r=0;r<t.length;r+=1){let a=t.charCodeAt(r);if(a>55295&&a<=56319){const i=(a-55296)*1024&65535;a=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}T5(a,e)}}function C5(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ti(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)kC(t.charCodeAt(i),r,a);return new Uint8Array(e)}function A5(t){const e=[];return O5(t,r=>e.push(r)),new Uint8Array(e)}function ps(t){const e=[],r={queue:0,queuedBits:0},a=i=>{e.push(i)};return t.forEach(i=>w1(i,r,a)),w1(null,r,a),e.join("")}function R5(t){return Math.round(Date.now()/1e3)+t}function D5(){return Symbol("auth-callback")}const Ht=()=>typeof window<"u"&&typeof document<"u",as={tested:!1,writable:!1},MC=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(as.tested)return as.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),as.tested=!0,as.writable=!0}catch{as.tested=!0,as.writable=!1}return as.writable};function k5(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,l)=>{e[l]=i})}catch{}return r.searchParams.forEach((a,i)=>{e[i]=a}),e}const qC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),M5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ji=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ss=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bt=async(t,e)=>{await t.removeItem(e)};class kd{constructor(){this.promise=new kd.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}kd.promiseConstructor=Promise;function Hm(t){const e=t.split(".");if(e.length!==3)throw new dd("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!S5.test(e[a]))throw new dd("JWT not in base64url format");return{header:JSON.parse(_1(e[0])),payload:JSON.parse(_1(e[1])),signature:Ti(e[2]),raw:{header:e[0],payload:e[1]}}}async function q5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function P5(t,e){return new Promise((a,i)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){a(c);return}}catch(c){if(!e(l,c)){i(c);return}}})()})}function L5(t){return("0"+t.toString(16)).substr(-2)}function $5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let i="";for(let l=0;l<56;l++)i+=r.charAt(Math.floor(Math.random()*a));return i}return crypto.getRandomValues(e),Array.from(e,L5).join("")}async function z5(t){const r=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(a);return Array.from(i).map(l=>String.fromCharCode(l)).join("")}async function U5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await z5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yi(t,e,r=!1){const a=$5();let i=a;r&&(i+="/PASSWORD_RECOVERY"),await ji(t,`${e}-code-verifier`,i);const l=await U5(a);return[l,a===l?"plain":"s256"]}const I5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function B5(t){const e=t.headers.get(my);if(!e||!e.match(I5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function H5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function F5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const G5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bi(t){if(!G5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fm(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function W5(t,e){return new Proxy(t,{get:(r,a,i)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,a,i)}return!e.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,a,i)}})}function S1(t){return JSON.parse(JSON.stringify(t))}const cs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Y5=[502,503,504];async function E1(t){var e;if(!M5(t))throw new ud(cs(t),0);if(Y5.includes(t.status))throw new ud(cs(t),t.status);let r;try{r=await t.json()}catch(l){throw new Oa(cs(l),l)}let a;const i=B5(t);if(i&&i.getTime()>=OC["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new vy(cs(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new ur}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new vy(cs(r),t.status,r.weak_password.reasons);throw new CC(cs(r),t.status||500,a)}const V5=(t,e,r,a)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(a),Object.assign(Object.assign({},i),r))};async function je(t,e,r,a){var i;const l=Object.assign({},a?.headers);l[my]||(l[my]=OC["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const c=(i=a?.query)!==null&&i!==void 0?i:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await K5(t,e,r+d,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function K5(t,e,r,a,i,l){const c=V5(e,a,i,l);let d;try{d=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new ud(cs(h),0)}if(d.ok||await E1(d),a?.noResolveJson)return d;try{return await d.json()}catch(h){await E1(h)}}function Zr(t){var e;let r=null;J5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=R5(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:a},error:null}}function j1(t){const e=Zr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ca(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function X5(t){return{data:t,error:null}}function Q5(t){const{action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l}=t,c=Hi(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:r,hashed_token:a,redirect_to:i,verification_type:l},h=Object.assign({},c);return{data:{properties:d,user:h},error:null}}function N1(t){return t}function J5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fu=["global","local","others"];let Wy=class{constructor({url:e="",headers:r={},fetch:a}){this.url=e,this.headers=r,this.fetch=qC(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Fu[0]){if(Fu.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fu.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ye(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,r={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ca})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:r}=e,a=Hi(e,["options"]),i=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(i.new_email=a?.newEmail,delete i.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Q5,redirectTo:r?.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ca})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,a,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:N1});if(v.error)throw v.error;const y=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);m[`${S}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ye(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){bi(e);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ca})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){bi(e);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ca})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,r=!1){bi(e);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ca})}catch(a){if(ye(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){bi(e.userId);try{const{data:r,error:a}=await je(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:a}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(e){bi(e.userId),bi(e.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,a,i,l,c,d,h;try{const m={nextPage:null,lastPage:0,total:0},v=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(l=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&l!==void 0?l:""},xform:N1});if(v.error)throw v.error;const y=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(h=(d=v.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return x.length>0&&(x.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(w.split(";")[1].split("=")[1]);m[`${S}Page`]=_}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(ye(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(ye(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(e){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}};function T1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const us={debug:!!(globalThis&&MC()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let PC=class extends Yy{};class Z5 extends Yy{}async function LC(t,e,r){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async i=>{if(i){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new PC(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(us.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const O1={};async function eq(t,e,r){var a;const i=(a=O1[t])!==null&&a!==void 0?a:Promise.resolve(),l=Promise.race([i.catch(()=>null),e>=0?new Promise((c,d)=>{setTimeout(()=>{d(new Z5(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(c=>c)).catch(c=>{if(c&&c.isAcquireTimeout)throw c;return null}).then(async()=>await r());return O1[t]=l.catch(async c=>{if(c&&c.isAcquireTimeout)return await i,null;throw c}),await l}function tq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $C(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function rq(t){return parseInt(t,16)}function nq(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,a=>a.toString(16).padStart(2,"0")).join("")}function aq(t){var e;const{chainId:r,domain:a,expirationTime:i,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:h,resources:m,scheme:v,uri:y,version:b}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=$C(t.address),w=v?`${v}://${a}`:a,_=t.statement?`${t.statement}
`:"",S=`${w} wants you to sign in with your Ethereum account:
${x}

${_}`;let E=`URI: ${y}
Version: ${b}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),d&&(E+=`
Not Before: ${d.toISOString()}`),h&&(E+=`
Request ID: ${h}`),m){let j=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);j+=`
- ${T}`}E+=j}return`${S}
${E}`}class Nt extends Error{constructor({message:e,code:r,cause:a,name:i}){var l;super(e,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=i??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=r}}class hd extends Nt{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function sq({error:t,options:e}){var r,a,i;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(zC(c)){if(l.rp.id!==c)return new Nt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function iq({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Nt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(zC(a)){if(r.rpId!==a)return new Nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class oq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lq=new oq;function cq(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:a}=t,i=Hi(t,["challenge","user","excludeCredentials"]),l=Ti(e).buffer,c=Object.assign(Object.assign({},r),{id:Ti(r.id).buffer}),d=Object.assign(Object.assign({},i),{challenge:l,user:c});if(a&&a.length>0){d.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const m=a[h];d.excludeCredentials[h]=Object.assign(Object.assign({},m),{id:Ti(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function uq(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,a=Hi(t,["challenge","allowCredentials"]),i=Ti(e).buffer,l=Object.assign(Object.assign({},a),{challenge:i});if(r&&r.length>0){l.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const d=r[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:Ti(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function dq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ps(new Uint8Array(t.response.attestationObject)),clientDataJSON:ps(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function fq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,a=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ps(new Uint8Array(i.authenticatorData)),clientDataJSON:ps(new Uint8Array(i.clientDataJSON)),signature:ps(new Uint8Array(i.signature)),userHandle:i.userHandle?ps(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zC(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function C1(){var t,e;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hq(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hd("Browser returned unexpected credential type",e)}:{data:null,error:new hd("Empty credential response",e)}}catch(e){return{data:null,error:sq({error:e,options:t})}}}async function mq(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hd("Browser returned unexpected credential type",e)}:{data:null,error:new hd("Empty credential response",e)}}catch(e){return{data:null,error:iq({error:e,options:t})}}}const pq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vq={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function md(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),a={};for(const i of t)if(i)for(const l in i){const c=i[l];if(c!==void 0)if(Array.isArray(c))a[l]=c;else if(r(c))a[l]=c;else if(e(c)){const d=a[l];e(d)?a[l]=md(d,c):a[l]=md(c)}else a[l]=c}return a}function gq(t,e){return md(pq,t,e||{})}function yq(t,e){return md(vq,t,e||{})}class bq{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:a,signal:i},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:d};const h=i??lq.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:m}=c.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(c.webauthn.type){case"create":{const m=gq(c.webauthn.credential_options.publicKey,l?.create),{data:v,error:y}=await hq({publicKey:m,signal:h});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const m=yq(c.webauthn.credential_options.publicKey,l?.request),{data:v,error:y}=await mq(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:m,signal:h}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(c){return ye(c)?{data:null,error:c}:{data:null,error:new Oa("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:a}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:a})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ai("rpId is required for WebAuthn authentication")};try{if(!C1())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:a},signal:i},{request:l});if(!c)return{data:null,error:d};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:a,credential_response:h.credential_response}})}catch(c){return ye(c)?{data:null,error:c}:{data:null,error:new Oa("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},l){if(!r)return{data:null,error:new Ai("rpId is required for WebAuthn registration")};try{if(!C1())return{data:null,error:new Oa("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:d};const{data:h,error:m}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:i},{create:l});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:m}}catch(c){return ye(c)?{data:null,error:c}:{data:null,error:new Oa("Unexpected error in register",c)}}}}tq();const xq={url:x5,storageKey:w5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function A1(t,e,r){return await r()}const xi={};let Vy=class gy{get jwks(){var e,r;return(r=(e=xi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=xi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{cachedAt:e})}constructor(e){var r,a,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},xq),e);if(this.storageKey=l.storageKey,this.instanceID=(r=gy.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,gy.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Ht()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Wy({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=qC(l.fetch),this.lock=l.lock||A1,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:this.persistSession&&Ht()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=LC:this.lock=A1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:MC()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=T1(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=T1(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${TC}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},a="none";if(Ht()&&(r=k5(window.location.href),this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce")),Ht()&&this.detectSessionInUrl&&a!=="none"){const{data:i,error:l}=await this._getSessionFromURL(r,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),DC(l)){const h=(e=l.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?this._returnResult({error:r}):this._returnResult({error:new Oa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,a,i;try{const l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Zr}),{data:c,error:d}=l;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var r,a,i;try{let l;if("email"in e){const{email:v,password:y,options:b}=e;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await yi(this.storage,this.storageKey)),l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:v,password:y,data:(r=b?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:x,code_challenge_method:w},xform:Zr})}else if("phone"in e){const{phone:v,password:y,options:b}=e;l=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(i=b?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Zr})}else throw new hl("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return await Bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const h=c.session,m=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(l){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let r;if("email"in e){const{email:l,password:c,options:d}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:j1})}else if("phone"in e){const{phone:l,password:c,options:d}=e;r=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:j1})}else throw new hl("You must provide either an email or phone number and a password");const{data:a,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!a||!a.session||!a.user){const l=new ls;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:i})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,a,i,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,a,i,l,c,d,h,m,v,y,b;let x,w;if("message"in e)x=e.message,w=e.signature;else{const{chain:_,wallet:S,statement:E,options:j}=e;let T;if(Ht())if(typeof S=="object")T=S;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")T=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const O=new URL((r=j?.url)!==null&&r!==void 0?r:window.location.href),q=await T.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=$C(q[0]);let R=(a=j?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!R){const $=await T.request({method:"eth_chainId"});R=rq($)}const L={domain:O.host,address:D,statement:E,uri:O.href,version:"1",chainId:R,nonce:(i=j?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(c=(l=j?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=j?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(h=j?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(m=j?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=j?.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=aq(L),w=await T.request({method:"personal_sign",params:[nq(x),D]})}try{const{data:_,error:S}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:w},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Zr});if(S)throw S;if(!_||!_.session||!_.user){const E=new ls;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:S})}catch(_){if(ye(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var r,a,i,l,c,d,h,m,v,y,b,x;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:S,wallet:E,statement:j,options:T}=e;let O;if(Ht())if(typeof E=="object")O=E;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))O=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const q=new URL((r=T?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const D=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),j?{statement:j}:null));let R;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")R=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)R=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)w=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${q.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(i=(a=T?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((l=T?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((d=T?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(v=T?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const D=await O.signMessage(new TextEncoder().encode(w),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:S,error:E}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:ps(_)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Zr});if(E)throw E;if(!S||!S.session||!S.user){const j=new ls;return this._returnResult({data:{user:null,session:null},error:j})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:E})}catch(S){if(ye(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await ss(this.storage,`${this.storageKey}-code-verifier`),[a,i]=(r??"").split("/");try{const{data:l,error:c}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:Zr});if(await Bt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const d=new ls;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:i??null}),error:c})}catch(l){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:r,provider:a,token:i,access_token:l,nonce:c}=e,d=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:i,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Zr}),{data:h,error:m}=d;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h||!h.session||!h.user){const v=new ls;return this._returnResult({data:{user:null,session:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:m})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,a,i,l,c;try{if("email"in e){const{email:d,options:h}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await yi(this.storage,this.storageKey));const{error:y}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:d,options:h}=e,{data:m,error:v}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(l=h?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new hl("You must provide either an email or phone number.")}catch(d){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(e){var r,a;try{let i,l;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,l=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:d}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:i,xform:Zr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,m=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:m,session:h},error:null})}catch(i){if(ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,a,i,l,c;try{let d=null,h=null;this.flowType==="pkce"&&([d,h]=await yi(this.storage,this.storageKey));const m=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:h}),headers:this.headers,xform:X5});return!((l=m.data)===null||l===void 0)&&l.url&&Ht()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(d){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;if(a)throw a;if(!r)throw new ur;const{error:i}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(ye(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:a,type:i,options:l}=e,{error:c}=await je(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:a,type:i,options:l}=e,{data:c,error:d}=await je(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:i,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new hl("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Bm:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const c=await ss(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=Fm()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=W5(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ca}):await this._useSession(async r=>{var a,i,l;const{data:c,error:d}=r;if(d)throw d;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ur}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0,xform:Ca})})}catch(r){if(ye(r))return RC(r)&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async a=>{const{data:i,error:l}=a;if(l)throw l;if(!i.session)throw new ur;const c=i.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await yi(this.storage,this.storageKey));const{data:m,error:v}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:c.access_token,xform:Ca});if(v)throw v;return c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ur;const r=Date.now()/1e3;let a=r,i=!0,l=null;const{payload:c}=Hm(e.access_token);if(c.exp&&(a=c.exp,i=a<=r),i){const{data:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(r){if(ye(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var a;if(!e){const{data:c,error:d}=r;if(d)throw d;e=(a=c.session)!==null&&a!==void 0?a:void 0}if(!e?.refresh_token)throw new ur;const{data:i,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ye(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ht())throw new ml("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ml(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new py("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ml("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new py("No code detected.");const{data:j,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:i,access_token:l,refresh_token:c,expires_in:d,expires_at:h,token_type:m}=e;if(!l||!d||!c||!m)throw new ml("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(d);let b=v+y;h&&(b=parseInt(h));const x=b-v;x*1e3<=Ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${y}s`);const w=b-y;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,b,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,b,v);const{data:_,error:S}=await this._getUser(l);if(S)throw S;const E={provider_token:a,provider_refresh_token:i,access_token:l,expires_in:y,expires_at:b,refresh_token:c,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(a){if(ye(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({error:l});const c=(a=i.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(AC(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return e!=="others"&&(await this._removeSession(),await Bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=D5(),a={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async r=>{var a,i;try{const{data:{session:l},error:c}=r;if(c)throw c;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,r={}){let a=null,i=null;this.flowType==="pkce"&&([a,i]=await yi(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(l){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:a,error:i}=await this._useSession(async l=>{var c,d,h,m,v;const{data:y,error:b}=l;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(i)throw i;return Ht()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:e.provider,url:a?.url},error:null})}catch(a){if(ye(a))return this._returnResult({data:{provider:e.provider,url:null},error:a});throw a}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var a;try{const{error:i,data:{session:l}}=r;if(i)throw i;const{options:c,provider:d,token:h,access_token:m,nonce:v}=e,y=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:d,id_token:h,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Zr}),{data:b,error:x}=y;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new ls}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(i){if(await Bt(this.storage,`${this.storageKey}-code-verifier`),ye(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:c}=r;if(c)throw c;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await P5(async i=>(i>0&&await q5(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Zr})),(i,l)=>{const c=200*Math.pow(2,i);return l&&Hu(l)&&Date.now()+c-a<Ei})}catch(a){if(this._debug(r,"error",a),ye(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",a),Ht()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const i=await ss(this.storage,this.storageKey);if(i&&this.userStorage){let c=await ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:i.user},await ji(this.userStorage,this.storageKey+"-user",c)),i.user=(e=c?.user)!==null&&e!==void 0?e:Fm()}else if(i&&!i.user&&!i.user){const c=await ss(this.storage,this.storageKey+"-user");c&&c?.user?(i.user=c.user,await Bt(this.storage,this.storageKey+"-user"),await ji(this.storage,this.storageKey,i)):i.user=Fm()}if(this._debug(a,"session from storage",i),!this._isValidSession(i)){this._debug(a,"session is not valid"),i!==null&&await this._removeSession();return}const l=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bm;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Bm}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),Hu(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(i.access_token);!d&&c?.user?(i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(a,"error",i),console.error(i);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var r,a;if(!e)throw new ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new kd;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new ur;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(i,"error",l),ye(l)){const c={data:null,error:l};return Hu(l)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,a=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:r});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,r)}catch(h){l.push(h)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Bt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await ji(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const l=S1(i);await ji(this.storage,this.storageKey,l)}else{const i=S1(r);await ji(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Bt(this.storage,this.storageKey),await Bt(this.storage,this.storageKey+"-code-verifier"),await Bt(this.storage,this.storageKey+"-user"),this.userStorage&&await Bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((a.expires_at*1e3-e)/Ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ei}ms, refresh threshold is ${hy} ticks`),i<=hy&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,a){const i=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&i.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,c]=await yi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});i.push(d.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);i.push(l.toString())}return a?.skipBrowserRedirect&&i.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;return l?this._returnResult({data:null,error:l}):await je(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var a,i;const{data:l,error:c}=r;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:m}=await je(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(e.factorType==="totp"&&h.type==="totp"&&(!((i=h?.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?dq(e.webauthn.credential_response):fq(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:h}=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:h}))})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=await je(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:cq(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:uq(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:a}=await this._challenge({factorId:e.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:a}=await this.getUser();if(a)return{data:null,error:a};const i={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(l),l.status==="verified"&&i[l.factor_type].push(l);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:a},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Hm(a.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new ur})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new ur});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(e,r){try{return await this._useSession(async a=>{const{data:{session:i},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!i)return this._returnResult({data:null,error:new ur});const c=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&Ht()&&!r?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:a}=e;return a?this._returnResult({data:null,error:a}):r?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ur})})}catch(e){if(ye(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:a},error:i}=r;return i?this._returnResult({data:null,error:i}):a?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ur})})}catch(r){if(ye(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let a=r.keys.find(d=>d.kid===e);if(a)return a;const i=Date.now();if(a=this.jwks.keys.find(d=>d.kid===e),a&&this.jwks_cached_at+E5>i)return a;const{data:l,error:c}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=i,a=l.keys.find(d=>d.kid===e),!a)?null:a}async getClaims(e,r={}){try{let a=e;if(!a){const{data:x,error:w}=await this.getSession();if(w||!x.session)return this._returnResult({data:null,error:w});a=x.session.access_token}const{header:i,payload:l,signature:c,raw:{header:d,payload:h}}=Hm(a);r?.allowExpired||H5(l.exp);const m=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:l,header:i,signature:c},error:null}}const v=F5(i.alg),y=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,A5(`${d}.${h}`)))throw new dd("Invalid JWT signature");return{data:{claims:l,header:i,signature:c},error:null}}catch(a){if(ye(a))return this._returnResult({data:null,error:a});throw a}}};Vy.nextInstanceID={};const wq=Wy,_q=Vy,Sq=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:wq,AuthApiError:CC,AuthClient:_q,AuthError:Ai,AuthImplicitGrantRedirectError:ml,AuthInvalidCredentialsError:hl,AuthInvalidJwtError:dd,AuthInvalidTokenResponseError:ls,AuthPKCEGrantCodeExchangeError:py,AuthRetryableFetchError:ud,AuthSessionMissingError:ur,AuthUnknownError:Oa,AuthWeakPasswordError:vy,CustomAuthError:Zn,GoTrueAdminApi:Wy,GoTrueClient:Vy,NavigatorLockAcquireTimeoutError:PC,SIGN_OUT_SCOPES:Fu,isAuthApiError:AC,isAuthError:ye,isAuthImplicitGrantRedirectError:DC,isAuthRetryableFetchError:Hu,isAuthSessionMissingError:RC,isAuthWeakPasswordError:j5,lockInternals:us,navigatorLock:LC,processLock:eq},Symbol.toStringTag,{value:"Module"})),UC=Sn(Sq);var R1;function Eq(){if(R1)return Jo;R1=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.SupabaseAuthClient=void 0;const t=UC;let e=class extends t.AuthClient{constructor(a){super(a)}};return Jo.SupabaseAuthClient=e,Jo}var D1;function k1(){if(D1)return Su;D1=1,Object.defineProperty(Su,"__esModule",{value:!0});const t=ZO,e=sC(),r=hC,a=p5,i=g5(),l=y5(),c=b5(),d=Eq();class h{constructor(v,y,b){var x,w,_;this.supabaseUrl=v,this.supabaseKey=y;const S=(0,c.validateSupabaseUrl)(v);if(!y)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",S),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",S),this.storageUrl=new URL("storage/v1",S),this.functionsUrl=new URL("functions/v1",S);const E=`sb-${S.hostname.split(".")[0]}-auth-token`,j={db:i.DEFAULT_DB_OPTIONS,realtime:i.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},i.DEFAULT_AUTH_OPTIONS),{storageKey:E}),global:i.DEFAULT_GLOBAL_OPTIONS},T=(0,c.applySettingDefaults)(b??{},j);this.storageKey=(x=T.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(w=T.global.headers)!==null&&w!==void 0?w:{},T.accessToken?(this.accessToken=T.accessToken,this.auth=new Proxy({},{get:(O,q)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(q)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((_=T.auth)!==null&&_!==void 0?_:{},this.headers,T.global.fetch),this.fetch=(0,l.fetchWithAuth)(y,this._getAccessToken.bind(this),T.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},T.realtime)),this.accessToken&&this.accessToken().then(O=>this.realtime.setAuth(O)).catch(O=>console.warn("Failed to set initial Realtime auth token:",O)),this.rest=new e.PostgrestClient(new URL("rest/v1",S).href,{headers:this.headers,schema:T.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,b?.storage),T.accessToken||this._listenForAuthEvents()}get functions(){return new t.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(v){return this.rest.from(v)}schema(v){return this.rest.schema(v)}rpc(v,y={},b={head:!1,get:!1,count:void 0}){return this.rest.rpc(v,y,b)}channel(v,y={config:{}}){return this.realtime.channel(v,y)}getChannels(){return this.realtime.getChannels()}removeChannel(v){return this.realtime.removeChannel(v)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var v,y;if(this.accessToken)return await this.accessToken();const{data:b}=await this.auth.getSession();return(y=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,storageKey:_,flowType:S,lock:E,debug:j,throwOnError:T},O,q){const D={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},D),O),storageKey:_,autoRefreshToken:v,persistSession:y,detectSessionInUrl:b,storage:x,userStorage:w,flowType:S,lock:E,debug:j,throwOnError:T,fetch:q,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(v){return new r.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},v),{params:Object.assign({apikey:this.supabaseKey},v?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((y,b)=>{this._handleTokenChanged(y,"CLIENT",b?.access_token)})}_handleTokenChanged(v,y,b){(v==="TOKEN_REFRESHED"||v==="SIGNED_IN")&&this.changedAccessToken!==b?(this.changedAccessToken=b,this.realtime.setAuth(b)):v==="SIGNED_OUT"&&(this.realtime.setAuth(),y=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return Su.default=h,Su}var M1;function jq(){return M1||(M1=1,(function(t){var e=Fn&&Fn.__createBinding||(Object.create?(function(v,y,b,x){x===void 0&&(x=b);var w=Object.getOwnPropertyDescriptor(y,b);(!w||("get"in w?!y.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return y[b]}}),Object.defineProperty(v,x,w)}):(function(v,y,b,x){x===void 0&&(x=b),v[x]=y[b]})),r=Fn&&Fn.__exportStar||function(v,y){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(y,b)&&e(y,v,b)},a=Fn&&Fn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const i=a(k1());r(UC,t);var l=sC();Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return l.PostgrestError}});var c=ZO;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return c.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return c.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return c.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return c.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return c.FunctionRegion}}),r(hC,t);var d=k1();Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return a(d).default}});const h=(v,y,b)=>new i.default(v,y,b);t.createClient=h;function m(){if(typeof window<"u"||typeof process>"u")return!1;const v=process.version;if(v==null)return!1;const y=v.match(/^v(\d+)\./);return y?parseInt(y[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Fn)),Fn}var IC=jq();const BC=Qt(IC),Nq=LM({__proto__:null,default:BC},[IC]),{PostgrestError:y9,FunctionsHttpError:b9,FunctionsFetchError:x9,FunctionsRelayError:w9,FunctionsError:_9,FunctionRegion:S9,SupabaseClient:E9,createClient:Tq,GoTrueAdminApi:j9,GoTrueClient:N9,AuthAdminApi:T9,AuthClient:O9,navigatorLock:C9,NavigatorLockAcquireTimeoutError:A9,lockInternals:R9,processLock:D9,SIGN_OUT_SCOPES:k9,AuthError:M9,AuthApiError:q9,AuthUnknownError:P9,CustomAuthError:L9,AuthSessionMissingError:$9,AuthInvalidTokenResponseError:z9,AuthInvalidCredentialsError:U9,AuthImplicitGrantRedirectError:I9,AuthPKCEGrantCodeExchangeError:B9,AuthRetryableFetchError:H9,AuthWeakPasswordError:F9,AuthInvalidJwtError:G9,isAuthError:W9,isAuthApiError:Y9,isAuthSessionMissingError:V9,isAuthImplicitGrantRedirectError:K9,isAuthRetryableFetchError:X9,isAuthWeakPasswordError:Q9,RealtimePresence:J9,RealtimeChannel:Z9,RealtimeClient:eF,REALTIME_LISTEN_TYPES:tF,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:rF,REALTIME_PRESENCE_LISTEN_EVENTS:nF,REALTIME_SUBSCRIBE_STATES:aF,REALTIME_CHANNEL_STATES:sF}=BC||Nq,Oq="https://qtbdvbhewbrgvweeruhz.supabase.co",Cq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF0YmR2Ymhld2JyZ3Z3ZWVydWh6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUzODQxODgsImV4cCI6MjA4MDk2MDE4OH0.GwOJ29umkje7Ko6ShUeNmHP_TkgIXByGphthll8QzCY";console.log(" Checking environment variables...");console.log("VITE_SUPABASE_URL:"," Set");console.log("VITE_SUPABASE_ANON_KEY:"," Set");const Te=Tq(Oq,Cq),HC=A.createContext(void 0),Aq=({children:t})=>{const[e,r]=A.useState(null),[a,i]=A.useState(null),[l,c]=A.useState(!0),[d,h]=A.useState(null);A.useEffect(()=>{Te.auth.getSession().then(({data:{session:x}})=>{r(x),x?m(x.user.id):c(!1)});const{data:{subscription:b}}=Te.auth.onAuthStateChange((x,w)=>{r(w),w?m(w.user.id):(i(null),c(!1))});return()=>b.unsubscribe()},[]);const m=async b=>{try{h(null);const{data:x,error:w}=await Te.from("profiles").select("*").eq("id",b).single();if(w){console.error("Error fetching profile:",w),h("No se pudo cargar el perfil de usuario"),i(null);return}if(!x){h("Perfil de usuario no encontrado"),i(null);return}if(!x.id||!x.role||!x.full_name){console.error("Invalid profile data structure:",x),h("Datos de perfil invlidos"),i(null);return}if(x.role!=="superadmin"&&!x.salon_id){console.error("Missing salon_id for non-superadmin user:",x),h("Usuario sin saln asignado"),i(null);return}i(x)}catch(x){console.error("Unexpected error fetching profile:",x),h("Error inesperado al cargar el perfil"),i(null)}finally{c(!1)}},v=async()=>{await Te.auth.signOut(),i(null),r(null)},y={session:e,profile:a,loading:l,error:d,isSuperAdmin:a?.role==="superadmin",isAdmin:a?.role==="admin"||a?.role==="superadmin",signOut:v};return f.jsx(HC.Provider,{value:y,children:t})},Bl=()=>{const t=A.useContext(HC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};const Rq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,a)=>a?a.toUpperCase():r.toLowerCase()),q1=t=>{const e=Dq(t);return e.charAt(0).toUpperCase()+e.slice(1)},FC=(...t)=>t.filter((e,r,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===r).join(" ").trim(),kq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Mq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qq=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:i="",children:l,iconNode:c,...d},h)=>A.createElement("svg",{ref:h,...Mq,width:e,height:e,stroke:t,strokeWidth:a?Number(r)*24/Number(e):r,className:FC("lucide",i),...!l&&!kq(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,v])=>A.createElement(m,v)),...Array.isArray(l)?l:[l]]));const Ne=(t,e)=>{const r=A.forwardRef(({className:a,...i},l)=>A.createElement(qq,{ref:l,iconNode:e,className:FC(`lucide-${Rq(q1(t))}`,`lucide-${t}`,a),...i}));return r.displayName=q1(t),r};const Pq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],P1=Ne("activity",Pq);const Lq=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],pd=Ne("building-2",Lq);const $q=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],zq=Ne("calendar-check",$q);const Uq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nn=Ne("calendar",Uq);const Iq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kn=Ne("check",Iq);const Bq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],GC=Ne("chevron-down",Bq);const Hq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ky=Ne("chevron-left",Hq);const Fq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ri=Ne("chevron-right",Fq);const Gq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gn=Ne("circle-alert",Gq);const Wq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vd=Ne("circle-check-big",Wq);const Yq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Vq=Ne("circle-user",Yq);const Kq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yy=Ne("circle-x",Kq);const Xq=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sn=Ne("clock",Xq);const Qq=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],WC=Ne("dollar-sign",Qq);const Jq=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],YC=Ne("eye-off",Jq);const Zq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VC=Ne("eye",Zq);const e6=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],t6=Ne("file-text",e6);const r6=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],n6=Ne("grip-vertical",r6);const a6=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],s6=Ne("key",a6);const i6=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tt=Ne("loader-circle",i6);const o6=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],l6=Ne("lock",o6);const c6=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Xy=Ne("log-out",c6);const u6=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Md=Ne("mail",u6);const d6=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],f6=Ne("map-pin",d6);const h6=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Qy=Ne("message-circle",h6);const m6=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],KC=Ne("message-square",m6);const p6=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],XC=Ne("pen-line",p6);const v6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QC=Ne("pen",v6);const g6=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],JC=Ne("pencil",g6);const y6=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ZC=Ne("phone-call",y6);const b6=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Hl=Ne("phone",b6);const x6=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xn=Ne("plus",x6);const w6=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],qd=Ne("refresh-cw",w6);const _6=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],S6=Ne("save",_6);const E6=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Fl=Ne("scissors",E6);const j6=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bs=Ne("search",j6);const N6=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],T6=Ne("send",N6);const O6=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C6=Ne("settings",O6);const A6=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],R6=Ne("store",A6);const D6=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],eA=Ne("tag",D6);const k6=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],tA=Ne("ticket",k6);const M6=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],by=Ne("toggle-left",M6);const q6=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],xy=Ne("toggle-right",q6);const P6=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Aa=Ne("trash-2",P6);const L6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$6=Ne("triangle-alert",L6);const z6=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],U6=Ne("user-cog",z6);const I6=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pd=Ne("user-check",I6);const B6=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wn=Ne("user",B6);const H6=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vs=Ne("users",H6);const F6=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fr=Ne("x",F6);class G6 extends A.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}handleReset=()=>{this.setState({hasError:!1,error:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-6",children:f.jsxs("div",{className:"max-w-md w-full p-8 bg-white rounded-xl shadow-lg border border-slate-200",children:[f.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[f.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:f.jsx($6,{className:"h-6 w-6 text-yellow-600"})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-2",children:"Algo sali mal"}),f.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"La aplicacin encontr un error inesperado. Por favor, recarga la pgina o contacta al soporte."}),this.state.error&&f.jsxs("details",{className:"text-xs text-slate-500 mb-4",children:[f.jsx("summary",{className:"cursor-pointer font-medium mb-1",children:"Detalles tcnicos"}),f.jsx("pre",{className:"mt-2 p-2 bg-slate-100 rounded overflow-auto",children:this.state.error.toString()})]})]})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-indigo-600 text-white text-sm font-medium rounded-lg hover:bg-indigo-700 transition",children:"Intentar de nuevo"}),f.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-700 text-sm font-medium rounded-lg hover:bg-slate-300 transition",children:"Recargar pgina"})]})]})}):this.props.children}}const W6="@galia.local";function Y6(){const[t,e]=A.useState(""),[r,a]=A.useState(""),[i,l]=A.useState(!1),[c,d]=A.useState(!1),[h,m]=A.useState(null),v=qy(),y=async b=>{b.preventDefault(),d(!0),m(null);const x=t.includes("@")?t:`${t}${W6}`;try{const{data:{user:w},error:_}=await Te.auth.signInWithPassword({email:x,password:r});if(_){m(_.message==="Invalid login credentials"?"Credenciales invlidas. Por favor verifica tu usuario y contrasea.":_.message),d(!1);return}if(w){const{data:S,error:E}=await Te.from("profiles").select("role").eq("id",w.id).single();if(E){m("No se pudo cargar tu perfil. Contacta al administrador."),d(!1);return}if(!S){m("Perfil no encontrado. Contacta al administrador."),d(!1);return}switch(S.role){case"superadmin":v("/superadmin");break;case"admin":v("/admin");break;default:v("/staff")}}}catch(w){m("Error inesperado. Por favor intenta de nuevo."),console.error("Login error:",w)}finally{d(!1)}};return f.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-900 p-4",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-indigo-900/50 rounded-full opacity-50 blur-3xl"}),f.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-900/50 rounded-full opacity-50 blur-3xl"})]}),f.jsxs("div",{className:"relative w-full max-w-md",children:[f.jsxs("div",{className:"bg-slate-800 backdrop-blur-xl rounded-2xl shadow-xl shadow-black/20 border border-slate-700 p-8 sm:p-10",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl shadow-lg shadow-indigo-500/30 mb-4",children:f.jsx("span",{className:"text-2xl font-bold text-white",children:"G"})}),f.jsx("h1",{className:"text-2xl font-semibold text-white tracking-tight",children:"Bienvenido"}),f.jsx("p",{className:"text-slate-400 mt-1",children:"Ingresa a tu cuenta para continuar"})]}),h&&f.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[f.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-red-500/20 flex items-center justify-center mt-0.5",children:f.jsx(gn,{className:"h-3.5 w-3.5 text-red-400"})}),f.jsx("p",{className:"text-sm text-red-400 leading-relaxed",children:h})]}),f.jsxs("form",{onSubmit:y,className:"space-y-5",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Usuario"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:f.jsx(wn,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),f.jsx("input",{type:"text",value:t,onChange:b=>e(b.target.value.toLowerCase().trim()),placeholder:"tu_usuario",className:"w-full pl-11 pr-4 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"username"})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Contrasea"}),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:f.jsx(l6,{className:"h-5 w-5 text-slate-500 group-focus-within:text-indigo-400 transition-colors"})}),f.jsx("input",{type:i?"text":"password",value:r,onChange:b=>a(b.target.value),placeholder:"",className:"w-full pl-11 pr-12 py-3 bg-slate-900 border border-slate-600 rounded-xl text-white placeholder:text-slate-500 focus:bg-slate-900 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 outline-none transition-all duration-200",required:!0,autoComplete:"current-password"}),f.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute inset-y-0 right-0 pr-3.5 flex items-center text-slate-500 hover:text-slate-300 transition-colors",children:i?f.jsx(YC,{className:"h-5 w-5"}):f.jsx(VC,{className:"h-5 w-5"})})]})]}),f.jsx("button",{type:"submit",disabled:c,className:"w-full py-3.5 bg-gradient-to-r from-indigo-600 to-indigo-700 hover:from-indigo-700 hover:to-indigo-800 text-white font-medium rounded-xl shadow-lg shadow-indigo-500/25 hover:shadow-indigo-500/40 focus:ring-4 focus:ring-indigo-500/20 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2",children:c?f.jsxs(f.Fragment,{children:[f.jsx(Tt,{className:"h-5 w-5 animate-spin"}),f.jsx("span",{children:"Ingresando..."})]}):"Iniciar Sesin"})]}),f.jsx("div",{className:"mt-8 pt-6 border-t border-slate-700",children:f.jsxs("p",{className:"text-center text-sm text-slate-400",children:["Problemas para acceder?"," ",f.jsx("a",{href:"#",className:"text-indigo-400 hover:text-indigo-300 font-medium hover:underline",children:"Contacta soporte"})]})})]}),f.jsxs("p",{className:"text-center text-xs text-slate-500 mt-6",children:["GALia Digital  ",new Date().getFullYear()]})]})]})}function Di({size:t="md",text:e}){const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return f.jsxs("div",{className:"flex flex-col items-center justify-center gap-3",children:[f.jsx(Tt,{className:`${r[t]} animate-spin text-indigo-600`}),e&&f.jsx("p",{className:"text-sm text-slate-600",children:e})]})}function xs({title:t="Error",message:e,onRetry:r}){return f.jsx("div",{className:"flex items-center justify-center min-h-[200px]",children:f.jsx("div",{className:"max-w-md w-full p-6 bg-red-50 border border-red-200 rounded-xl",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(gn,{className:"h-6 w-6 text-red-600 flex-shrink-0 mt-0.5"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("h3",{className:"font-semibold text-red-900 mb-1",children:t}),f.jsx("p",{className:"text-sm text-red-700 mb-4",children:e}),r&&f.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition",children:[f.jsx(qd,{className:"h-4 w-4"}),"Reintentar"]})]})]})})})}function Xn(t){"@babel/helpers - typeof";return Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xn(t)}function V6(t,e){if(Xn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e);if(Xn(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rA(t){var e=V6(t,"string");return Xn(e)=="symbol"?e:e+""}function ms(t,e,r){return(e=rA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,a)}return r}function Je(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L1(Object(r),!0).forEach(function(a){ms(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L1(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Ld(t,e){if(t==null)return{};var r={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;r[a]=t[a]}return r}function _n(t,e){if(t==null)return{};var r,a,i=Ld(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)r=l[a],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $1(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,rA(a.key),a)}}function Dt(t,e,r){return e&&$1(t.prototype,e),r&&$1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gd(t){return gd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gd(t)}function nA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nA=function(){return!!t})()}function K6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X6(t,e){if(e&&(Xn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K6(t)}function Jt(t,e,r){return e=gd(e),X6(t,nA()?Reflect.construct(e,r||[],gd(t).constructor):e.apply(t,r))}function yd(t,e){return yd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},yd(t,e)}function Zt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yd(t,e)}function aA(t){if(Array.isArray(t))return t}function Q6(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var a,i,l,c,d=[],h=!0,m=!1;try{if(l=(r=r.call(t)).next,e!==0)for(;!(h=(a=l.call(r)).done)&&(d.push(a.value),d.length!==e);h=!0);}catch(v){m=!0,i=v}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(m)throw i}}return d}}function wy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=Array(e);r<e;r++)a[r]=t[r];return a}function Jy(t,e){if(t){if(typeof t=="string")return wy(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wy(t,e):void 0}}function sA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ws(t,e){return aA(t)||Q6(t,e)||Jy(t,e)||sA()}function iA(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=iA(t[e]))&&(a&&(a+=" "),a+=r);else for(e in t)t[e]&&(a&&(a+=" "),a+=e);return a}function ut(){for(var t,e,r=0,a="";r<arguments.length;)(t=arguments[r++])&&(e=iA(t))&&(a&&(a+=" "),a+=e);return a}const J6=Object.freeze(Object.defineProperty({__proto__:null,clsx:ut,default:ut},Symbol.toStringTag,{value:"Module"}));function vt(){return vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)({}).hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},vt.apply(null,arguments)}var Gm,z1;function Z6(){if(z1)return Gm;z1=1;var t=function(e,r,a,i,l,c,d,h){if(!e){var m;if(r===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[a,i,l,c,d,h],y=0;m=new Error(r.replace(/%s/g,function(){return v[y++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return Gm=t,Gm}var eP=Z6();const Sl=Qt(eP);var tP=function(){};function rP(t,e){var r={};return Object.keys(t).forEach(function(a){r[Gu(a)]=tP}),r}function U1(t,e){return t[e]!==void 0}function Gu(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function nP(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function aP(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,yd(t,e)}function oA(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function lA(t){function e(r){var a=this.constructor.getDerivedStateFromProps(t,r);return a??null}this.setState(e.bind(this))}function cA(t,e){try{var r=this.props,a=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,a)}finally{this.props=r,this.state=a}}oA.__suppressDeprecationWarning=!0;lA.__suppressDeprecationWarning=!0;cA.__suppressDeprecationWarning=!0;function sP(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var r=null,a=null,i=null;if(typeof e.componentWillMount=="function"?r="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?a="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(a="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),r!==null||a!==null||i!==null){var l=t.displayName||t.name,c=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+l+" uses "+c+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=oA,e.componentWillReceiveProps=lA),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=cA;var d=e.componentDidUpdate;e.componentDidUpdate=function(m,v,y){var b=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:y;d.call(this,m,v,b)}}return t}var iP="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function uA(t,e,r){r===void 0&&(r=[]);var a=t.displayName||t.name||"Component",i=nP(t),l=Object.keys(e),c=l.map(Gu);i||!r.length||Sl(!1);var d=(function(m){aP(v,m);function v(){for(var b,x=arguments.length,w=new Array(x),_=0;_<x;_++)w[_]=arguments[_];b=m.call.apply(m,[this].concat(w))||this,b.handlers=Object.create(null),l.forEach(function(E){var j=e[E],T=function(q){if(b.props[j]){var D;b._notifying=!0;for(var R=arguments.length,L=new Array(R>1?R-1:0),$=1;$<R;$++)L[$-1]=arguments[$];(D=b.props)[j].apply(D,[q].concat(L)),b._notifying=!1}b.unmounted||b.setState(function(C){var P,U=C.values;return{values:vt(Object.create(null),U,(P={},P[E]=q,P))}})};b.handlers[j]=T}),r.length&&(b.attachRef=function(E){b.inner=E});var S=Object.create(null);return l.forEach(function(E){S[E]=b.props[Gu(E)]}),b.state={values:S,prevProps:{}},b}var y=v.prototype;return y.shouldComponentUpdate=function(){return!this._notifying},v.getDerivedStateFromProps=function(x,w){var _=w.values,S=w.prevProps,E={values:vt(Object.create(null),_),prevProps:{}};return l.forEach(function(j){E.prevProps[j]=x[j],!U1(x,j)&&U1(S,j)&&(E.values[j]=x[Gu(j)])}),E},y.componentWillUnmount=function(){this.unmounted=!0},y.render=function(){var x=this,w=this.props,_=w.innerRef,S=Ld(w,["innerRef"]);c.forEach(function(j){delete S[j]});var E={};return l.forEach(function(j){var T=x.props[j];E[j]=T!==void 0?T:x.state.values[j]}),Y.createElement(t,vt({},S,E,this.handlers,{ref:_||this.attachRef}))},v})(Y.Component);sP(d),d.displayName="Uncontrolled("+a+")",d.propTypes=vt({innerRef:function(){}},rP(e)),r.forEach(function(m){d.prototype[m]=function(){var y;return(y=this.inner)[m].apply(y,arguments)}});var h=d;return Y.forwardRef&&(h=Y.forwardRef(function(m,v){return Y.createElement(d,vt({},m,{innerRef:v,__source:{fileName:iP,lineNumber:128},__self:this}))}),h.propTypes=d.propTypes),h.ControlledComponent=t,h.deferControlTo=function(m,v,y){return v===void 0&&(v={}),uA(m,vt({},e,v),y)},h}var Wm={exports:{}},Ym,I1;function oP(){if(I1)return Ym;I1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ym=t,Ym}var Vm,B1;function lP(){if(B1)return Vm;B1=1;var t=oP();function e(){}function r(){}return r.resetWarningCache=e,Vm=function(){function a(c,d,h,m,v,y){if(y!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}a.isRequired=a;function i(){return a}var l={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:i,element:a,elementType:a,instanceOf:i,node:a,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return l.PropTypes=l,l},Vm}var H1;function Zy(){return H1||(H1=1,Wm.exports=lP()()),Wm.exports}var cP=Zy();const ue=Qt(cP);var bd="milliseconds",El="seconds",jl="minutes",Nl="hours",_s="day",ki="week",Tl="month",Ss="year",Es="decade",js="century",dA={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:3600*1e3,day:1440*60*1e3,week:10080*60*1e3},uP={month:1,year:12,decade:120,century:1200};function dP(t){return[31,fP(t),31,30,31,30,31,31,30,31,30,31]}function fP(t){return t%4===0&&t%100!==0||t%400===0?29:28}function an(t,e,r){switch(t=new Date(t),r){case bd:case El:case jl:case Nl:case _s:case ki:return hP(t,e*dA[r]);case Tl:case Ss:case Es:case js:return mP(t,e*uP[r])}throw new TypeError('Invalid units: "'+r+'"')}function hP(t,e){var r=new Date(+t+e);return pP(t,r)}function mP(t,e){var r=t.getFullYear(),a=t.getMonth(),i=t.getDate(),l=r*12+a+e,c=Math.trunc(l/12),d=l%12,h=Math.min(i,dP(c)[d]),m=new Date(t);return m.setFullYear(c),m.setDate(1),m.setMonth(d),m.setDate(h),m}function pP(t,e){var r=t.getTimezoneOffset(),a=e.getTimezoneOffset(),i=a-r;return new Date(+e+i*dA.minutes)}function Ol(t,e,r){return an(t,-e,r)}function Gt(t,e,r){switch(t=new Date(t),e){case js:case Es:case Ss:t=wd(t,0);case Tl:t=vA(t,1);case ki:case _s:t=Rl(t,0);case Nl:t=Mi(t,0);case jl:t=Al(t,0);case El:t=Cl(t,0)}return e===Es&&(t=Ol(t,Ns(t)%10,"year")),e===js&&(t=Ol(t,Ns(t)%100,"year")),e===ki&&(t=gA(t,0,r)),t}function xd(t,e,r){switch(t=new Date(t),t=Gt(t,e,r),e){case js:case Es:case Ss:case Tl:case ki:t=an(t,1,e),t=Ol(t,1,_s),t.setHours(23,59,59,999);break;case _s:t.setHours(23,59,59,999);break;case Nl:case jl:case El:t=an(t,1,e),t=Ol(t,1,bd)}return t}var Gi=Yi(function(t,e){return t===e}),eb=Yi(function(t,e){return t!==e}),$d=Yi(function(t,e){return t>e}),Gl=Yi(function(t,e){return t>=e}),tb=Yi(function(t,e){return t<e}),Wi=Yi(function(t,e){return t<=e});function fA(){return new Date(Math.min.apply(Math,arguments))}function hA(){return new Date(Math.max.apply(Math,arguments))}function mA(t,e,r,a){return a=a||"day",(!e||Gl(t,e,a))&&(!r||Wi(t,r,a))}var Cl=qa("Milliseconds"),Al=qa("Seconds"),Mi=qa("Minutes"),Rl=qa("Hours"),pA=qa("Day"),vA=qa("Date"),wd=qa("Month"),Ns=qa("FullYear");function vP(t,e){return e===void 0?Ns(Gt(t,Es)):an(t,e+10,Ss)}function gP(t,e){return e===void 0?Ns(Gt(t,js)):an(t,e+100,Ss)}function gA(t,e,r){var a=(pA(t)+7-(r||0))%7;return e===void 0?a:an(t,e-a,_s)}function yP(t,e,r,a){var i,l,c;switch(r){case bd:case El:case jl:case Nl:case _s:case ki:i=e.getTime()-t.getTime();break;case Tl:case Ss:case Es:case js:i=(Ns(e)-Ns(t))*12+wd(e)-wd(t);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case bd:l=1;break;case El:l=1e3;break;case jl:l=1e3*60;break;case Nl:l=1e3*60*60;break;case _s:l=1e3*60*60*24;break;case ki:l=1e3*60*60*24*7;break;case Tl:l=1;break;case Ss:l=12;break;case Es:l=120;break;case js:l=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return c=i/l,a?c:Math.round(c)}function qa(t){var e=(function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}})(t);return function(r,a){if(a===void 0)return r["get"+t]();var i=new Date(r);return i["set"+t](a),e&&i["get"+t]()!=a&&(t==="Hours"||a>=e&&i.getHours()-r.getHours()<Math.floor(a/e))&&i["set"+t](a+e),i}}function Yi(t){return function(e,r,a){return t(+Gt(e,a),+Gt(r,a))}}const F1=Object.freeze(Object.defineProperty({__proto__:null,add:an,century:gP,date:vA,day:pA,decade:vP,diff:yP,endOf:xd,eq:Gi,gt:$d,gte:Gl,hours:Rl,inRange:mA,lt:tb,lte:Wi,max:hA,milliseconds:Cl,min:fA,minutes:Mi,month:wd,neq:eb,seconds:Al,startOf:Gt,subtract:Ol,weekday:gA,year:Ns},Symbol.toStringTag,{value:"Module"}));function bP(t){if(Array.isArray(t))return wy(t)}function yA(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wu(t){return bP(t)||yA(t)||Jy(t)||xP()}var Km,G1;function bA(){if(G1)return Km;G1=1;function t(e,r,a){var i=-1,l=e.length;r<0&&(r=-r>l?0:l+r),a=a>l?l:a,a<0&&(a+=l),l=r>a?0:a-r>>>0,r>>>=0;for(var c=Array(l);++i<l;)c[i]=e[i+r];return c}return Km=t,Km}var Xm,W1;function Wl(){if(W1)return Xm;W1=1;function t(e,r){return e===r||e!==e&&r!==r}return Xm=t,Xm}var Qm,Y1;function xA(){if(Y1)return Qm;Y1=1;var t=typeof wu=="object"&&wu&&wu.Object===Object&&wu;return Qm=t,Qm}var Jm,V1;function jn(){if(V1)return Jm;V1=1;var t=xA(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Jm=r,Jm}var Zm,K1;function Vi(){if(K1)return Zm;K1=1;var t=jn(),e=t.Symbol;return Zm=e,Zm}var ep,X1;function wP(){if(X1)return ep;X1=1;var t=Vi(),e=Object.prototype,r=e.hasOwnProperty,a=e.toString,i=t?t.toStringTag:void 0;function l(c){var d=r.call(c,i),h=c[i];try{c[i]=void 0;var m=!0}catch{}var v=a.call(c);return m&&(d?c[i]=h:delete c[i]),v}return ep=l,ep}var tp,Q1;function _P(){if(Q1)return tp;Q1=1;var t=Object.prototype,e=t.toString;function r(a){return e.call(a)}return tp=r,tp}var rp,J1;function Ki(){if(J1)return rp;J1=1;var t=Vi(),e=wP(),r=_P(),a="[object Null]",i="[object Undefined]",l=t?t.toStringTag:void 0;function c(d){return d==null?d===void 0?i:a:l&&l in Object(d)?e(d):r(d)}return rp=c,rp}var np,Z1;function ea(){if(Z1)return np;Z1=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return np=t,np}var ap,eE;function rb(){if(eE)return ap;eE=1;var t=Ki(),e=ea(),r="[object AsyncFunction]",a="[object Function]",i="[object GeneratorFunction]",l="[object Proxy]";function c(d){if(!e(d))return!1;var h=t(d);return h==a||h==i||h==r||h==l}return ap=c,ap}var sp,tE;function nb(){if(tE)return sp;tE=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return sp=e,sp}var ip,rE;function Yl(){if(rE)return ip;rE=1;var t=rb(),e=nb();function r(a){return a!=null&&e(a.length)&&!t(a)}return ip=r,ip}var op,nE;function ab(){if(nE)return op;nE=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(a,i){var l=typeof a;return i=i??t,!!i&&(l=="number"||l!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<i}return op=r,op}var lp,aE;function zd(){if(aE)return lp;aE=1;var t=Wl(),e=Yl(),r=ab(),a=ea();function i(l,c,d){if(!a(d))return!1;var h=typeof c;return(h=="number"?e(d)&&r(c,d.length):h=="string"&&c in d)?t(d[c],l):!1}return lp=i,lp}var cp,sE;function SP(){if(sE)return cp;sE=1;var t=/\s/;function e(r){for(var a=r.length;a--&&t.test(r.charAt(a)););return a}return cp=e,cp}var up,iE;function EP(){if(iE)return up;iE=1;var t=SP(),e=/^\s+/;function r(a){return a&&a.slice(0,t(a)+1).replace(e,"")}return up=r,up}var dp,oE;function Pa(){if(oE)return dp;oE=1;function t(e){return e!=null&&typeof e=="object"}return dp=t,dp}var fp,lE;function Vl(){if(lE)return fp;lE=1;var t=Ki(),e=Pa(),r="[object Symbol]";function a(i){return typeof i=="symbol"||e(i)&&t(i)==r}return fp=a,fp}var hp,cE;function jP(){if(cE)return hp;cE=1;var t=EP(),e=ea(),r=Vl(),a=NaN,i=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,d=parseInt;function h(m){if(typeof m=="number")return m;if(r(m))return a;if(e(m)){var v=typeof m.valueOf=="function"?m.valueOf():m;m=e(v)?v+"":v}if(typeof m!="string")return m===0?m:+m;m=t(m);var y=l.test(m);return y||c.test(m)?d(m.slice(2),y?2:8):i.test(m)?a:+m}return hp=h,hp}var mp,uE;function wA(){if(uE)return mp;uE=1;var t=jP(),e=1/0,r=17976931348623157e292;function a(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var l=i<0?-1:1;return l*r}return i===i?i:0}return mp=a,mp}var pp,dE;function _A(){if(dE)return pp;dE=1;var t=wA();function e(r){var a=t(r),i=a%1;return a===a?i?a-i:a:0}return pp=e,pp}var vp,fE;function NP(){if(fE)return vp;fE=1;var t=bA(),e=zd(),r=_A(),a=Math.ceil,i=Math.max;function l(c,d,h){(h?e(c,d,h):d===void 0)?d=1:d=i(r(d),0);var m=c==null?0:c.length;if(!m||d<1)return[];for(var v=0,y=0,b=Array(a(m/d));v<m;)b[y++]=t(c,v,v+=d);return b}return vp=l,vp}var TP=NP();const OP=Qt(TP);function La(t){return t&&t.ownerDocument||document}function sb(t){var e=La(t);return e&&e.defaultView||window}function ib(t,e){return sb(t).getComputedStyle(t,e)}var CP=/([A-Z])/g;function SA(t){return t.replace(CP,"-$1").toLowerCase()}var AP=/^ms-/;function Du(t){return SA(t).replace(AP,"-ms-")}var RP=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function EA(t){return!!(t&&RP.test(t))}function Ft(t,e){var r="",a="";if(typeof e=="string")return t.style.getPropertyValue(Du(e))||ib(t).getPropertyValue(Du(e));Object.keys(e).forEach(function(i){var l=e[i];!l&&l!==0?t.style.removeProperty(Du(i)):EA(i)?a+=i+"("+l+") ":r+=Du(i)+": "+l+";"}),a&&(r+="transform: "+a+";"),t.style.cssText+=";"+r}function Qn(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const DP=Object.freeze(Object.defineProperty({__proto__:null,default:Qn},Symbol.toStringTag,{value:"Module"}));function jA(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function Ud(t){return"window"in t&&t.window===t?t:jA(t)&&t.defaultView||!1}function NA(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function r(a,i){var l=Ud(a);if(i===void 0)return l?l[t]:a[e];l?l.scrollTo(l[t],i):a[e]=i}return r}const Id=NA("pageXOffset"),qi=NA("pageYOffset");function rn(t){var e=La(t),r={top:0,left:0,height:0,width:0},a=e&&e.documentElement;return!a||!Qn(a,t)||(t.getBoundingClientRect!==void 0&&(r=t.getBoundingClientRect()),r={top:r.top+qi(a)-(a.clientTop||0),left:r.left+Id(a)-(a.clientLeft||0),width:r.width,height:r.height}),r}var kP=function(e){return!!e&&"offsetParent"in e};function ob(t){for(var e=La(t),r=t&&t.offsetParent;kP(r)&&r.nodeName!=="HTML"&&Ft(r,"position")==="static";)r=r.offsetParent;return r||e.documentElement}var MP=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function Bd(t,e){var r={top:0,left:0},a;if(Ft(t,"position")==="fixed")a=t.getBoundingClientRect();else{var i=e||ob(t);a=rn(t),MP(i)!=="html"&&(r=rn(i));var l=String(Ft(i,"borderTopWidth")||0);r.top+=parseInt(l,10)-qi(i)||0;var c=String(Ft(i,"borderLeftWidth")||0);r.left+=parseInt(c,10)-Id(i)||0}var d=String(Ft(t,"marginTop")||0),h=String(Ft(t,"marginLeft")||0);return vt({},a,{top:a.top-r.top-(parseInt(d,10)||0),left:a.left-r.left-(parseInt(h,10)||0)})}const lb=!!(typeof window<"u"&&window.document&&window.document.createElement);var hE=new Date().getTime();function qP(t){var e=new Date().getTime(),r=Math.max(0,16-(e-hE)),a=setTimeout(t,r);return hE=e,a}var PP=["","webkit","moz","o","ms"],_y="clearTimeout",Sy=qP,mE=function(e,r){return e+(e?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};lb&&PP.some(function(t){var e=mE(t,"request");return e in window&&(_y=mE(t,"cancel"),Sy=function(a){return window[e](a)}),!!Sy});var Dl=function(e){typeof window[_y]=="function"&&window[_y](e)},Kl=Sy,gp;function Hd(t,e){if(!gp){var r=document.body,a=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;gp=function(l,c){return a.call(l,c)}}return gp(t,e)}var LP=Function.prototype.bind.call(Function.prototype.call,[].slice);function Fd(t,e){return LP(t.querySelectorAll(e))}var Ey=!1,jy=!1;try{var yp={get passive(){return Ey=!0},get once(){return jy=Ey=!0}};lb&&(window.addEventListener("test",yp,yp),window.removeEventListener("test",yp,!0))}catch{}function cb(t,e,r,a){if(a&&typeof a!="boolean"&&!jy){var i=a.once,l=a.capture,c=r;!jy&&i&&(c=r.__once||function d(h){this.removeEventListener(e,d,l),r.call(this,h)},r.__once=c),t.addEventListener(e,c,Ey?a:l)}t.addEventListener(e,r,a)}function $P(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t},[t]),e}function pE(t){const e=$P(t);return A.useCallback(function(...r){return e.current&&e.current(...r)},[e])}function vE(){return A.useState(null)}function zP(){const t=A.useRef(!0),e=A.useRef(()=>t.current);return A.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function UP(t){const e=zP();return[t[0],A.useCallback(r=>{if(e())return t[1](r)},[e,t[1]])]}var hr="top",Hr="bottom",Fr="right",mr="left",ub="auto",Xl=[hr,Hr,Fr,mr],Pi="start",kl="end",IP="clippingParents",TA="viewport",Zo="popper",BP="reference",gE=Xl.reduce(function(t,e){return t.concat([e+"-"+Pi,e+"-"+kl])},[]),db=[].concat(Xl,[ub]).reduce(function(t,e){return t.concat([e,e+"-"+Pi,e+"-"+kl])},[]),HP="beforeRead",FP="read",GP="afterRead",WP="beforeMain",YP="main",VP="afterMain",KP="beforeWrite",XP="write",QP="afterWrite",JP=[HP,FP,GP,WP,YP,VP,KP,XP,QP];function yn(t){return t.split("-")[0]}function Or(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ts(t){var e=Or(t).Element;return t instanceof e||t instanceof Element}function bn(t){var e=Or(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function fb(t){if(typeof ShadowRoot>"u")return!1;var e=Or(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var gs=Math.max,_d=Math.min,Li=Math.round;function Ny(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function OA(){return!/^((?!chrome|android).)*safari/i.test(Ny())}function $i(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var a=t.getBoundingClientRect(),i=1,l=1;e&&bn(t)&&(i=t.offsetWidth>0&&Li(a.width)/t.offsetWidth||1,l=t.offsetHeight>0&&Li(a.height)/t.offsetHeight||1);var c=Ts(t)?Or(t):window,d=c.visualViewport,h=!OA()&&r,m=(a.left+(h&&d?d.offsetLeft:0))/i,v=(a.top+(h&&d?d.offsetTop:0))/l,y=a.width/i,b=a.height/l;return{width:y,height:b,top:v,right:m+y,bottom:v+b,left:m,x:m,y:v}}function hb(t){var e=$i(t),r=t.offsetWidth,a=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:a}}function CA(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&fb(r)){var a=e;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Ra(t){return t?(t.nodeName||"").toLowerCase():null}function Jn(t){return Or(t).getComputedStyle(t)}function ZP(t){return["table","td","th"].indexOf(Ra(t))>=0}function $a(t){return((Ts(t)?t.ownerDocument:t.document)||window.document).documentElement}function Gd(t){return Ra(t)==="html"?t:t.assignedSlot||t.parentNode||(fb(t)?t.host:null)||$a(t)}function yE(t){return!bn(t)||Jn(t).position==="fixed"?null:t.offsetParent}function eL(t){var e=/firefox/i.test(Ny()),r=/Trident/i.test(Ny());if(r&&bn(t)){var a=Jn(t);if(a.position==="fixed")return null}var i=Gd(t);for(fb(i)&&(i=i.host);bn(i)&&["html","body"].indexOf(Ra(i))<0;){var l=Jn(i);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return i;i=i.parentNode}return null}function Ql(t){for(var e=Or(t),r=yE(t);r&&ZP(r)&&Jn(r).position==="static";)r=yE(r);return r&&(Ra(r)==="html"||Ra(r)==="body"&&Jn(r).position==="static")?e:r||eL(t)||e}function mb(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yl(t,e,r){return gs(t,_d(e,r))}function tL(t,e,r){var a=yl(t,e,r);return a>r?r:a}function AA(){return{top:0,right:0,bottom:0,left:0}}function RA(t){return Object.assign({},AA(),t)}function DA(t,e){return e.reduce(function(r,a){return r[a]=t,r},{})}var rL=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,RA(typeof e!="number"?e:DA(e,Xl))};function nL(t){var e,r=t.state,a=t.name,i=t.options,l=r.elements.arrow,c=r.modifiersData.popperOffsets,d=yn(r.placement),h=mb(d),m=[mr,Fr].indexOf(d)>=0,v=m?"height":"width";if(!(!l||!c)){var y=rL(i.padding,r),b=hb(l),x=h==="y"?hr:mr,w=h==="y"?Hr:Fr,_=r.rects.reference[v]+r.rects.reference[h]-c[h]-r.rects.popper[v],S=c[h]-r.rects.reference[h],E=Ql(l),j=E?h==="y"?E.clientHeight||0:E.clientWidth||0:0,T=_/2-S/2,O=y[x],q=j-b[v]-y[w],D=j/2-b[v]/2+T,R=yl(O,D,q),L=h;r.modifiersData[a]=(e={},e[L]=R,e.centerOffset=R-D,e)}}function aL(t){var e=t.state,r=t.options,a=r.element,i=a===void 0?"[data-popper-arrow]":a;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||CA(e.elements.popper,i)&&(e.elements.arrow=i))}const sL={name:"arrow",enabled:!0,phase:"main",fn:nL,effect:aL,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function zi(t){return t.split("-")[1]}var iL={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oL(t,e){var r=t.x,a=t.y,i=e.devicePixelRatio||1;return{x:Li(r*i)/i||0,y:Li(a*i)/i||0}}function bE(t){var e,r=t.popper,a=t.popperRect,i=t.placement,l=t.variation,c=t.offsets,d=t.position,h=t.gpuAcceleration,m=t.adaptive,v=t.roundOffsets,y=t.isFixed,b=c.x,x=b===void 0?0:b,w=c.y,_=w===void 0?0:w,S=typeof v=="function"?v({x,y:_}):{x,y:_};x=S.x,_=S.y;var E=c.hasOwnProperty("x"),j=c.hasOwnProperty("y"),T=mr,O=hr,q=window;if(m){var D=Ql(r),R="clientHeight",L="clientWidth";if(D===Or(r)&&(D=$a(r),Jn(D).position!=="static"&&d==="absolute"&&(R="scrollHeight",L="scrollWidth")),D=D,i===hr||(i===mr||i===Fr)&&l===kl){O=Hr;var $=y&&D===q&&q.visualViewport?q.visualViewport.height:D[R];_-=$-a.height,_*=h?1:-1}if(i===mr||(i===hr||i===Hr)&&l===kl){T=Fr;var C=y&&D===q&&q.visualViewport?q.visualViewport.width:D[L];x-=C-a.width,x*=h?1:-1}}var P=Object.assign({position:d},m&&iL),U=v===!0?oL({x,y:_},Or(r)):{x,y:_};if(x=U.x,_=U.y,h){var z;return Object.assign({},P,(z={},z[O]=j?"0":"",z[T]=E?"0":"",z.transform=(q.devicePixelRatio||1)<=1?"translate("+x+"px, "+_+"px)":"translate3d("+x+"px, "+_+"px, 0)",z))}return Object.assign({},P,(e={},e[O]=j?_+"px":"",e[T]=E?x+"px":"",e.transform="",e))}function lL(t){var e=t.state,r=t.options,a=r.gpuAcceleration,i=a===void 0?!0:a,l=r.adaptive,c=l===void 0?!0:l,d=r.roundOffsets,h=d===void 0?!0:d,m={placement:yn(e.placement),variation:zi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,bE(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:h})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,bE(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const cL={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:lL,data:{}};var ku={passive:!0};function uL(t){var e=t.state,r=t.instance,a=t.options,i=a.scroll,l=i===void 0?!0:i,c=a.resize,d=c===void 0?!0:c,h=Or(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(v){v.addEventListener("scroll",r.update,ku)}),d&&h.addEventListener("resize",r.update,ku),function(){l&&m.forEach(function(v){v.removeEventListener("scroll",r.update,ku)}),d&&h.removeEventListener("resize",r.update,ku)}}const dL={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:uL,data:{}};var fL={left:"right",right:"left",bottom:"top",top:"bottom"};function Yu(t){return t.replace(/left|right|bottom|top/g,function(e){return fL[e]})}var hL={start:"end",end:"start"};function xE(t){return t.replace(/start|end/g,function(e){return hL[e]})}function pb(t){var e=Or(t),r=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:r,scrollTop:a}}function vb(t){return $i($a(t)).left+pb(t).scrollLeft}function mL(t,e){var r=Or(t),a=$a(t),i=r.visualViewport,l=a.clientWidth,c=a.clientHeight,d=0,h=0;if(i){l=i.width,c=i.height;var m=OA();(m||!m&&e==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:l,height:c,x:d+vb(t),y:h}}function pL(t){var e,r=$a(t),a=pb(t),i=(e=t.ownerDocument)==null?void 0:e.body,l=gs(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=gs(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),d=-a.scrollLeft+vb(t),h=-a.scrollTop;return Jn(i||r).direction==="rtl"&&(d+=gs(r.clientWidth,i?i.clientWidth:0)-l),{width:l,height:c,x:d,y:h}}function gb(t){var e=Jn(t),r=e.overflow,a=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+a)}function kA(t){return["html","body","#document"].indexOf(Ra(t))>=0?t.ownerDocument.body:bn(t)&&gb(t)?t:kA(Gd(t))}function bl(t,e){var r;e===void 0&&(e=[]);var a=kA(t),i=a===((r=t.ownerDocument)==null?void 0:r.body),l=Or(a),c=i?[l].concat(l.visualViewport||[],gb(a)?a:[]):a,d=e.concat(c);return i?d:d.concat(bl(Gd(c)))}function Ty(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function vL(t,e){var r=$i(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function wE(t,e,r){return e===TA?Ty(mL(t,r)):Ts(e)?vL(e,r):Ty(pL($a(t)))}function gL(t){var e=bl(Gd(t)),r=["absolute","fixed"].indexOf(Jn(t).position)>=0,a=r&&bn(t)?Ql(t):t;return Ts(a)?e.filter(function(i){return Ts(i)&&CA(i,a)&&Ra(i)!=="body"}):[]}function yL(t,e,r,a){var i=e==="clippingParents"?gL(t):[].concat(e),l=[].concat(i,[r]),c=l[0],d=l.reduce(function(h,m){var v=wE(t,m,a);return h.top=gs(v.top,h.top),h.right=_d(v.right,h.right),h.bottom=_d(v.bottom,h.bottom),h.left=gs(v.left,h.left),h},wE(t,c,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function MA(t){var e=t.reference,r=t.element,a=t.placement,i=a?yn(a):null,l=a?zi(a):null,c=e.x+e.width/2-r.width/2,d=e.y+e.height/2-r.height/2,h;switch(i){case hr:h={x:c,y:e.y-r.height};break;case Hr:h={x:c,y:e.y+e.height};break;case Fr:h={x:e.x+e.width,y:d};break;case mr:h={x:e.x-r.width,y:d};break;default:h={x:e.x,y:e.y}}var m=i?mb(i):null;if(m!=null){var v=m==="y"?"height":"width";switch(l){case Pi:h[m]=h[m]-(e[v]/2-r[v]/2);break;case kl:h[m]=h[m]+(e[v]/2-r[v]/2);break}}return h}function Ml(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=a===void 0?t.placement:a,l=r.strategy,c=l===void 0?t.strategy:l,d=r.boundary,h=d===void 0?IP:d,m=r.rootBoundary,v=m===void 0?TA:m,y=r.elementContext,b=y===void 0?Zo:y,x=r.altBoundary,w=x===void 0?!1:x,_=r.padding,S=_===void 0?0:_,E=RA(typeof S!="number"?S:DA(S,Xl)),j=b===Zo?BP:Zo,T=t.rects.popper,O=t.elements[w?j:b],q=yL(Ts(O)?O:O.contextElement||$a(t.elements.popper),h,v,c),D=$i(t.elements.reference),R=MA({reference:D,element:T,placement:i}),L=Ty(Object.assign({},T,R)),$=b===Zo?L:D,C={top:q.top-$.top+E.top,bottom:$.bottom-q.bottom+E.bottom,left:q.left-$.left+E.left,right:$.right-q.right+E.right},P=t.modifiersData.offset;if(b===Zo&&P){var U=P[i];Object.keys(C).forEach(function(z){var W=[Fr,Hr].indexOf(z)>=0?1:-1,ee=[hr,Hr].indexOf(z)>=0?"y":"x";C[z]+=U[ee]*W})}return C}function bL(t,e){e===void 0&&(e={});var r=e,a=r.placement,i=r.boundary,l=r.rootBoundary,c=r.padding,d=r.flipVariations,h=r.allowedAutoPlacements,m=h===void 0?db:h,v=zi(a),y=v?d?gE:gE.filter(function(w){return zi(w)===v}):Xl,b=y.filter(function(w){return m.indexOf(w)>=0});b.length===0&&(b=y);var x=b.reduce(function(w,_){return w[_]=Ml(t,{placement:_,boundary:i,rootBoundary:l,padding:c})[yn(_)],w},{});return Object.keys(x).sort(function(w,_){return x[w]-x[_]})}function xL(t){if(yn(t)===ub)return[];var e=Yu(t);return[xE(t),e,xE(e)]}function wL(t){var e=t.state,r=t.options,a=t.name;if(!e.modifiersData[a]._skip){for(var i=r.mainAxis,l=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!0:c,h=r.fallbackPlacements,m=r.padding,v=r.boundary,y=r.rootBoundary,b=r.altBoundary,x=r.flipVariations,w=x===void 0?!0:x,_=r.allowedAutoPlacements,S=e.options.placement,E=yn(S),j=E===S,T=h||(j||!w?[Yu(S)]:xL(S)),O=[S].concat(T).reduce(function(ce,fe){return ce.concat(yn(fe)===ub?bL(e,{placement:fe,boundary:v,rootBoundary:y,padding:m,flipVariations:w,allowedAutoPlacements:_}):fe)},[]),q=e.rects.reference,D=e.rects.popper,R=new Map,L=!0,$=O[0],C=0;C<O.length;C++){var P=O[C],U=yn(P),z=zi(P)===Pi,W=[hr,Hr].indexOf(U)>=0,ee=W?"width":"height",B=Ml(e,{placement:P,boundary:v,rootBoundary:y,altBoundary:b,padding:m}),K=W?z?Fr:mr:z?Hr:hr;q[ee]>D[ee]&&(K=Yu(K));var ae=Yu(K),le=[];if(l&&le.push(B[U]<=0),d&&le.push(B[K]<=0,B[ae]<=0),le.every(function(ce){return ce})){$=P,L=!1;break}R.set(P,le)}if(L)for(var V=w?3:1,M=function(fe){var pe=O.find(function(be){var De=R.get(be);if(De)return De.slice(0,fe).every(function(Me){return Me})});if(pe)return $=pe,"break"},F=V;F>0;F--){var ie=M(F);if(ie==="break")break}e.placement!==$&&(e.modifiersData[a]._skip=!0,e.placement=$,e.reset=!0)}}const _L={name:"flip",enabled:!0,phase:"main",fn:wL,requiresIfExists:["offset"],data:{_skip:!1}};function _E(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function SE(t){return[hr,Fr,Hr,mr].some(function(e){return t[e]>=0})}function SL(t){var e=t.state,r=t.name,a=e.rects.reference,i=e.rects.popper,l=e.modifiersData.preventOverflow,c=Ml(e,{elementContext:"reference"}),d=Ml(e,{altBoundary:!0}),h=_E(c,a),m=_E(d,i,l),v=SE(h),y=SE(m);e.modifiersData[r]={referenceClippingOffsets:h,popperEscapeOffsets:m,isReferenceHidden:v,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":v,"data-popper-escaped":y})}const EL={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:SL};function jL(t,e,r){var a=yn(t),i=[mr,hr].indexOf(a)>=0?-1:1,l=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,c=l[0],d=l[1];return c=c||0,d=(d||0)*i,[mr,Fr].indexOf(a)>=0?{x:d,y:c}:{x:c,y:d}}function NL(t){var e=t.state,r=t.options,a=t.name,i=r.offset,l=i===void 0?[0,0]:i,c=db.reduce(function(v,y){return v[y]=jL(y,e.rects,l),v},{}),d=c[e.placement],h=d.x,m=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=m),e.modifiersData[a]=c}const TL={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:NL};function OL(t){var e=t.state,r=t.name;e.modifiersData[r]=MA({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const CL={name:"popperOffsets",enabled:!0,phase:"read",fn:OL,data:{}};function AL(t){return t==="x"?"y":"x"}function RL(t){var e=t.state,r=t.options,a=t.name,i=r.mainAxis,l=i===void 0?!0:i,c=r.altAxis,d=c===void 0?!1:c,h=r.boundary,m=r.rootBoundary,v=r.altBoundary,y=r.padding,b=r.tether,x=b===void 0?!0:b,w=r.tetherOffset,_=w===void 0?0:w,S=Ml(e,{boundary:h,rootBoundary:m,padding:y,altBoundary:v}),E=yn(e.placement),j=zi(e.placement),T=!j,O=mb(E),q=AL(O),D=e.modifiersData.popperOffsets,R=e.rects.reference,L=e.rects.popper,$=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,C=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(D){if(l){var z,W=O==="y"?hr:mr,ee=O==="y"?Hr:Fr,B=O==="y"?"height":"width",K=D[O],ae=K+S[W],le=K-S[ee],V=x?-L[B]/2:0,M=j===Pi?R[B]:L[B],F=j===Pi?-L[B]:-R[B],ie=e.elements.arrow,ce=x&&ie?hb(ie):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:AA(),pe=fe[W],be=fe[ee],De=yl(0,R[B],ce[B]),Me=T?R[B]/2-V-De-pe-C.mainAxis:M-De-pe-C.mainAxis,gt=T?-R[B]/2+V+De+be+C.mainAxis:F+De+be+C.mainAxis,ht=e.elements.arrow&&Ql(e.elements.arrow),Wt=ht?O==="y"?ht.clientTop||0:ht.clientLeft||0:0,vr=(z=P?.[O])!=null?z:0,xt=K+Me-vr-Wt,Ae=K+gt-vr,Pt=yl(x?_d(ae,xt):ae,K,x?gs(le,Ae):le);D[O]=Pt,U[O]=Pt-K}if(d){var ke,te=O==="x"?hr:mr,xe=O==="x"?Hr:Fr,_e=D[q],Xe=q==="y"?"height":"width",st=_e+S[te],it=_e-S[xe],Ze=[hr,mr].indexOf(E)!==-1,de=(ke=P?.[q])!=null?ke:0,ne=Ze?st:_e-R[Xe]-L[Xe]-de+C.altAxis,ge=Ze?_e+R[Xe]+L[Xe]-de-C.altAxis:it,Ee=x&&Ze?tL(ne,_e,ge):yl(x?ne:st,_e,x?ge:it);D[q]=Ee,U[q]=Ee-_e}e.modifiersData[a]=U}}const DL={name:"preventOverflow",enabled:!0,phase:"main",fn:RL,requiresIfExists:["offset"]};function kL(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function ML(t){return t===Or(t)||!bn(t)?pb(t):kL(t)}function qL(t){var e=t.getBoundingClientRect(),r=Li(e.width)/t.offsetWidth||1,a=Li(e.height)/t.offsetHeight||1;return r!==1||a!==1}function PL(t,e,r){r===void 0&&(r=!1);var a=bn(e),i=bn(e)&&qL(e),l=$a(e),c=$i(t,i,r),d={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(a||!a&&!r)&&((Ra(e)!=="body"||gb(l))&&(d=ML(e)),bn(e)?(h=$i(e,!0),h.x+=e.clientLeft,h.y+=e.clientTop):l&&(h.x=vb(l))),{x:c.left+d.scrollLeft-h.x,y:c.top+d.scrollTop-h.y,width:c.width,height:c.height}}function LL(t){var e=new Map,r=new Set,a=[];t.forEach(function(l){e.set(l.name,l)});function i(l){r.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(d){if(!r.has(d)){var h=e.get(d);h&&i(h)}}),a.push(l)}return t.forEach(function(l){r.has(l.name)||i(l)}),a}function $L(t){var e=LL(t);return JP.reduce(function(r,a){return r.concat(e.filter(function(i){return i.phase===a}))},[])}function zL(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function UL(t){var e=t.reduce(function(r,a){var i=r[a.name];return r[a.name]=i?Object.assign({},i,a,{options:Object.assign({},i.options,a.options),data:Object.assign({},i.data,a.data)}):a,r},{});return Object.keys(e).map(function(r){return e[r]})}var EE={placement:"bottom",modifiers:[],strategy:"absolute"};function jE(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function IL(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,a=r===void 0?[]:r,i=e.defaultOptions,l=i===void 0?EE:i;return function(d,h,m){m===void 0&&(m=l);var v={placement:"bottom",orderedModifiers:[],options:Object.assign({},EE,l),modifiersData:{},elements:{reference:d,popper:h},attributes:{},styles:{}},y=[],b=!1,x={state:v,setOptions:function(E){var j=typeof E=="function"?E(v.options):E;_(),v.options=Object.assign({},l,v.options,j),v.scrollParents={reference:Ts(d)?bl(d):d.contextElement?bl(d.contextElement):[],popper:bl(h)};var T=$L(UL([].concat(a,v.options.modifiers)));return v.orderedModifiers=T.filter(function(O){return O.enabled}),w(),x.update()},forceUpdate:function(){if(!b){var E=v.elements,j=E.reference,T=E.popper;if(jE(j,T)){v.rects={reference:PL(j,Ql(T),v.options.strategy==="fixed"),popper:hb(T)},v.reset=!1,v.placement=v.options.placement,v.orderedModifiers.forEach(function(C){return v.modifiersData[C.name]=Object.assign({},C.data)});for(var O=0;O<v.orderedModifiers.length;O++){if(v.reset===!0){v.reset=!1,O=-1;continue}var q=v.orderedModifiers[O],D=q.fn,R=q.options,L=R===void 0?{}:R,$=q.name;typeof D=="function"&&(v=D({state:v,options:L,name:$,instance:x})||v)}}}},update:zL(function(){return new Promise(function(S){x.forceUpdate(),S(v)})}),destroy:function(){_(),b=!0}};if(!jE(d,h))return x;x.setOptions(m).then(function(S){!b&&m.onFirstUpdate&&m.onFirstUpdate(S)});function w(){v.orderedModifiers.forEach(function(S){var E=S.name,j=S.options,T=j===void 0?{}:j,O=S.effect;if(typeof O=="function"){var q=O({state:v,name:E,instance:x,options:T}),D=function(){};y.push(q||D)}})}function _(){y.forEach(function(S){return S()}),y=[]}return x}}var BL=IL({defaultModifiers:[EL,CL,cL,dL,TL,_L,DL,sL]}),NE=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},HL={name:"applyStyles",enabled:!1},FL={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var r=e.state;return function(){var a=r.elements,i=a.reference,l=a.popper;if("removeAttribute"in i){var c=(i.getAttribute("aria-describedby")||"").split(",").filter(function(d){return d.trim()!==l.id});c.length?i.setAttribute("aria-describedby",c.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var r,a=e.state,i=a.elements,l=i.popper,c=i.reference,d=(r=l.getAttribute("role"))==null?void 0:r.toLowerCase();if(l.id&&d==="tooltip"&&"setAttribute"in c){var h=c.getAttribute("aria-describedby");if(h&&h.split(",").indexOf(l.id)!==-1)return;c.setAttribute("aria-describedby",h?h+","+l.id:l.id)}}},GL=[];function WL(t,e,r){var a=r===void 0?{}:r,i=a.enabled,l=i===void 0?!0:i,c=a.placement,d=c===void 0?"bottom":c,h=a.strategy,m=h===void 0?"absolute":h,v=a.modifiers,y=v===void 0?GL:v,b=Ld(a,["enabled","placement","strategy","modifiers"]),x=A.useRef(),w=A.useCallback(function(){var O;(O=x.current)==null||O.update()},[]),_=A.useCallback(function(){var O;(O=x.current)==null||O.forceUpdate()},[]),S=UP(A.useState({placement:d,update:w,forceUpdate:_,attributes:{},styles:{popper:NE(m),arrow:{}}})),E=S[0],j=S[1],T=A.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(q){var D=q.state,R={},L={};Object.keys(D.elements).forEach(function($){R[$]=D.styles[$],L[$]=D.attributes[$]}),j({state:D,styles:R,attributes:L,update:w,forceUpdate:_,placement:D.placement})}}},[w,_,j]);return A.useEffect(function(){!x.current||!l||x.current.setOptions({placement:d,strategy:m,modifiers:[].concat(y,[T,HL])})},[m,d,T,l]),A.useEffect(function(){if(!(!l||t==null||e==null))return x.current=BL(t,e,vt({},b,{placement:d,strategy:m,modifiers:[].concat(y,[FL,T])})),function(){x.current!=null&&(x.current.destroy(),x.current=void 0,j(function(O){return vt({},O,{attributes:{},styles:{popper:NE(m)}})}))}},[l,t,e]),E}function yb(t,e,r,a){var i=a&&typeof a!="boolean"?a.capture:a;t.removeEventListener(e,r,i),r.__once&&t.removeEventListener(e,r.__once,i)}function vn(t,e,r,a){return cb(t,e,r,a),function(){yb(t,e,r,a)}}const YL=Object.freeze(Object.defineProperty({__proto__:null,default:vn},Symbol.toStringTag,{value:"Module"}));var bp,TE;function VL(){if(TE)return bp;TE=1;var t=function(){};return bp=t,bp}var KL=VL();const XL=Qt(KL);function QL(t){return t&&"setState"in t?NO.findDOMNode(t):t??null}const JL=(function(t){return La(QL(t))});var ZL=27,OE=function(){};function e$(t){return t.button===0}function t$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var CE=function(e){return e&&("current"in e?e.current:e)};function r$(t,e,r){var a=r===void 0?{}:r,i=a.disabled,l=a.clickTrigger,c=l===void 0?"click":l,d=A.useRef(!1),h=e||OE,m=A.useCallback(function(b){var x,w=CE(t);XL(!!w,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),d.current=!w||t$(b)||!e$(b)||!!Qn(w,(x=b.composedPath==null?void 0:b.composedPath()[0])!=null?x:b.target)},[t]),v=pE(function(b){d.current||h(b)}),y=pE(function(b){b.keyCode===ZL&&h(b)});A.useEffect(function(){if(!(i||t==null)){var b=window.event,x=JL(CE(t)),w=vn(x,c,m,!0),_=vn(x,c,function(j){if(j===b){b=void 0;return}v(j)}),S=vn(x,"keyup",function(j){if(j===b){b=void 0;return}y(j)}),E=[];return"ontouchstart"in x.documentElement&&(E=[].slice.call(x.body.children).map(function(j){return vn(j,"mousemove",OE)})),function(){w(),_(),S(),E.forEach(function(j){return j()})}}},[t,i,c,m,v,y])}function n$(t){var e={};return Array.isArray(t)?(t?.forEach(function(r){e[r.name]=r}),e):t||e}function a$(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function s$(t){var e,r,a,i,l=t.enabled,c=t.enableEvents,d=t.placement,h=t.flip,m=t.offset,v=t.fixed,y=t.containerPadding,b=t.arrowElement,x=t.popperConfig,w=x===void 0?{}:x,_=n$(w.modifiers);return vt({},w,{placement:d,enabled:l,strategy:v?"fixed":w.strategy,modifiers:a$(vt({},_,{eventListeners:{enabled:c},preventOverflow:vt({},_.preventOverflow,{options:y?vt({padding:y},(e=_.preventOverflow)==null?void 0:e.options):(r=_.preventOverflow)==null?void 0:r.options}),offset:{options:vt({offset:m},(a=_.offset)==null?void 0:a.options)},arrow:vt({},_.arrow,{enabled:!!b,options:vt({},(i=_.arrow)==null?void 0:i.options,{element:b})}),flip:vt({enabled:!!h},_.flip)}))})}function qA(t){t===void 0&&(t=La());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Wd(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Yd(t,e){t.classList?t.classList.add(e):Wd(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function AE(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Vd(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=AE(t.className,e):t.setAttribute("class",AE(t.className&&t.className.baseVal||"",e))}var Mu;function Jl(t){if((!Mu&&Mu!==0||t)&&lb){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Mu=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Mu}var xp=function(e){var r;return typeof document>"u"?null:e==null?La().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(r=e)!=null&&r.nodeType&&e||null)};function RE(t,e){var r=A.useState(function(){return xp(t)}),a=r[0],i=r[1];if(!a){var l=xp(t);l&&i(l)}return A.useEffect(function(){},[e,a]),A.useEffect(function(){var c=xp(t);c!==a&&i(c)},[t,a]),a}const DE=t=>!t||typeof t=="function"?t:e=>{t.current=e};function i$(t,e){const r=DE(t),a=DE(e);return i=>{r&&r(i),a&&a(i)}}function o$(t,e){return A.useMemo(()=>i$(t,e),[t,e])}var bb=Y.forwardRef(function(t,e){var r=t.flip,a=t.offset,i=t.placement,l=t.containerPadding,c=l===void 0?5:l,d=t.popperConfig,h=d===void 0?{}:d,m=t.transition,v=vE(),y=v[0],b=v[1],x=vE(),w=x[0],_=x[1],S=o$(b,e),E=RE(t.container),j=RE(t.target),T=A.useState(!t.show),O=T[0],q=T[1],D=WL(j,y,s$({placement:i,enableEvents:!!t.show,containerPadding:c||5,flip:r,offset:a,arrowElement:w,popperConfig:h})),R=D.styles,L=D.attributes,$=Ld(D,["styles","attributes"]);t.show?O&&q(!1):!t.transition&&!O&&q(!0);var C=function(){q(!0),t.onExited&&t.onExited.apply(t,arguments)},P=t.show||m&&!O;if(r$(y,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!P)return null;var U=t.children(vt({},$,{show:!!t.show,props:vt({},L.popper,{style:R.popper,ref:S}),arrowProps:vt({},L.arrow,{style:R.arrow,ref:_})}));if(m){var z=t.onExit,W=t.onExiting,ee=t.onEnter,B=t.onEntering,K=t.onEntered;U=Y.createElement(m,{in:t.show,appear:!0,onExit:z,onExiting:W,onExited:C,onEnter:ee,onEntering:B,onEntered:K},U)}return E?NO.createPortal(U,E):null});bb.displayName="Overlay";bb.propTypes={show:ue.bool,placement:ue.oneOf(db),target:ue.any,container:ue.any,flip:ue.bool,children:ue.func.isRequired,containerPadding:ue.number,popperConfig:ue.object,rootClose:ue.bool,rootCloseEvent:ue.oneOf(["click","mousedown"]),rootCloseDisabled:ue.bool,onHide:function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];if(e.rootClose){var l;return(l=ue.func).isRequired.apply(l,[e].concat(a))}return ue.func.apply(ue,[e].concat(a))},transition:ue.elementType,onEnter:ue.func,onEntering:ue.func,onEntered:ue.func,onExit:ue.func,onExiting:ue.func,onExited:ue.func};var wp,kE;function l$(){if(kE)return wp;kE=1;function t(){this.__data__=[],this.size=0}return wp=t,wp}var _p,ME;function Kd(){if(ME)return _p;ME=1;var t=Wl();function e(r,a){for(var i=r.length;i--;)if(t(r[i][0],a))return i;return-1}return _p=e,_p}var Sp,qE;function c$(){if(qE)return Sp;qE=1;var t=Kd(),e=Array.prototype,r=e.splice;function a(i){var l=this.__data__,c=t(l,i);if(c<0)return!1;var d=l.length-1;return c==d?l.pop():r.call(l,c,1),--this.size,!0}return Sp=a,Sp}var Ep,PE;function u$(){if(PE)return Ep;PE=1;var t=Kd();function e(r){var a=this.__data__,i=t(a,r);return i<0?void 0:a[i][1]}return Ep=e,Ep}var jp,LE;function d$(){if(LE)return jp;LE=1;var t=Kd();function e(r){return t(this.__data__,r)>-1}return jp=e,jp}var Np,$E;function f$(){if($E)return Np;$E=1;var t=Kd();function e(r,a){var i=this.__data__,l=t(i,r);return l<0?(++this.size,i.push([r,a])):i[l][1]=a,this}return Np=e,Np}var Tp,zE;function Xd(){if(zE)return Tp;zE=1;var t=l$(),e=c$(),r=u$(),a=d$(),i=f$();function l(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Tp=l,Tp}var Op,UE;function h$(){if(UE)return Op;UE=1;var t=Xd();function e(){this.__data__=new t,this.size=0}return Op=e,Op}var Cp,IE;function m$(){if(IE)return Cp;IE=1;function t(e){var r=this.__data__,a=r.delete(e);return this.size=r.size,a}return Cp=t,Cp}var Ap,BE;function p$(){if(BE)return Ap;BE=1;function t(e){return this.__data__.get(e)}return Ap=t,Ap}var Rp,HE;function v$(){if(HE)return Rp;HE=1;function t(e){return this.__data__.has(e)}return Rp=t,Rp}var Dp,FE;function g$(){if(FE)return Dp;FE=1;var t=jn(),e=t["__core-js_shared__"];return Dp=e,Dp}var kp,GE;function y$(){if(GE)return kp;GE=1;var t=g$(),e=(function(){var a=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""})();function r(a){return!!e&&e in a}return kp=r,kp}var Mp,WE;function PA(){if(WE)return Mp;WE=1;var t=Function.prototype,e=t.toString;function r(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}return Mp=r,Mp}var qp,YE;function b$(){if(YE)return qp;YE=1;var t=rb(),e=y$(),r=ea(),a=PA(),i=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,d=Object.prototype,h=c.toString,m=d.hasOwnProperty,v=RegExp("^"+h.call(m).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function y(b){if(!r(b)||e(b))return!1;var x=t(b)?v:l;return x.test(a(b))}return qp=y,qp}var Pp,VE;function x$(){if(VE)return Pp;VE=1;function t(e,r){return e?.[r]}return Pp=t,Pp}var Lp,KE;function As(){if(KE)return Lp;KE=1;var t=b$(),e=x$();function r(a,i){var l=e(a,i);return t(l)?l:void 0}return Lp=r,Lp}var $p,XE;function xb(){if(XE)return $p;XE=1;var t=As(),e=jn(),r=t(e,"Map");return $p=r,$p}var zp,QE;function Qd(){if(QE)return zp;QE=1;var t=As(),e=t(Object,"create");return zp=e,zp}var Up,JE;function w$(){if(JE)return Up;JE=1;var t=Qd();function e(){this.__data__=t?t(null):{},this.size=0}return Up=e,Up}var Ip,ZE;function _$(){if(ZE)return Ip;ZE=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Ip=t,Ip}var Bp,ej;function S$(){if(ej)return Bp;ej=1;var t=Qd(),e="__lodash_hash_undefined__",r=Object.prototype,a=r.hasOwnProperty;function i(l){var c=this.__data__;if(t){var d=c[l];return d===e?void 0:d}return a.call(c,l)?c[l]:void 0}return Bp=i,Bp}var Hp,tj;function E$(){if(tj)return Hp;tj=1;var t=Qd(),e=Object.prototype,r=e.hasOwnProperty;function a(i){var l=this.__data__;return t?l[i]!==void 0:r.call(l,i)}return Hp=a,Hp}var Fp,rj;function j$(){if(rj)return Fp;rj=1;var t=Qd(),e="__lodash_hash_undefined__";function r(a,i){var l=this.__data__;return this.size+=this.has(a)?0:1,l[a]=t&&i===void 0?e:i,this}return Fp=r,Fp}var Gp,nj;function N$(){if(nj)return Gp;nj=1;var t=w$(),e=_$(),r=S$(),a=E$(),i=j$();function l(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Gp=l,Gp}var Wp,aj;function T$(){if(aj)return Wp;aj=1;var t=N$(),e=Xd(),r=xb();function a(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Wp=a,Wp}var Yp,sj;function O$(){if(sj)return Yp;sj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Yp=t,Yp}var Vp,ij;function Jd(){if(ij)return Vp;ij=1;var t=O$();function e(r,a){var i=r.__data__;return t(a)?i[typeof a=="string"?"string":"hash"]:i.map}return Vp=e,Vp}var Kp,oj;function C$(){if(oj)return Kp;oj=1;var t=Jd();function e(r){var a=t(this,r).delete(r);return this.size-=a?1:0,a}return Kp=e,Kp}var Xp,lj;function A$(){if(lj)return Xp;lj=1;var t=Jd();function e(r){return t(this,r).get(r)}return Xp=e,Xp}var Qp,cj;function R$(){if(cj)return Qp;cj=1;var t=Jd();function e(r){return t(this,r).has(r)}return Qp=e,Qp}var Jp,uj;function D$(){if(uj)return Jp;uj=1;var t=Jd();function e(r,a){var i=t(this,r),l=i.size;return i.set(r,a),this.size+=i.size==l?0:1,this}return Jp=e,Jp}var Zp,dj;function wb(){if(dj)return Zp;dj=1;var t=T$(),e=C$(),r=A$(),a=R$(),i=D$();function l(c){var d=-1,h=c==null?0:c.length;for(this.clear();++d<h;){var m=c[d];this.set(m[0],m[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=a,l.prototype.set=i,Zp=l,Zp}var ev,fj;function k$(){if(fj)return ev;fj=1;var t=Xd(),e=xb(),r=wb(),a=200;function i(l,c){var d=this.__data__;if(d instanceof t){var h=d.__data__;if(!e||h.length<a-1)return h.push([l,c]),this.size=++d.size,this;d=this.__data__=new r(h)}return d.set(l,c),this.size=d.size,this}return ev=i,ev}var tv,hj;function _b(){if(hj)return tv;hj=1;var t=Xd(),e=h$(),r=m$(),a=p$(),i=v$(),l=k$();function c(d){var h=this.__data__=new t(d);this.size=h.size}return c.prototype.clear=e,c.prototype.delete=r,c.prototype.get=a,c.prototype.has=i,c.prototype.set=l,tv=c,tv}var rv,mj;function M$(){if(mj)return rv;mj=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return rv=e,rv}var nv,pj;function q$(){if(pj)return nv;pj=1;function t(e){return this.__data__.has(e)}return nv=t,nv}var av,vj;function P$(){if(vj)return av;vj=1;var t=wb(),e=M$(),r=q$();function a(i){var l=-1,c=i==null?0:i.length;for(this.__data__=new t;++l<c;)this.add(i[l])}return a.prototype.add=a.prototype.push=e,a.prototype.has=r,av=a,av}var sv,gj;function L$(){if(gj)return sv;gj=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i;)if(r(e[a],a,e))return!0;return!1}return sv=t,sv}var iv,yj;function $$(){if(yj)return iv;yj=1;function t(e,r){return e.has(r)}return iv=t,iv}var ov,bj;function LA(){if(bj)return ov;bj=1;var t=P$(),e=L$(),r=$$(),a=1,i=2;function l(c,d,h,m,v,y){var b=h&a,x=c.length,w=d.length;if(x!=w&&!(b&&w>x))return!1;var _=y.get(c),S=y.get(d);if(_&&S)return _==d&&S==c;var E=-1,j=!0,T=h&i?new t:void 0;for(y.set(c,d),y.set(d,c);++E<x;){var O=c[E],q=d[E];if(m)var D=b?m(q,O,E,d,c,y):m(O,q,E,c,d,y);if(D!==void 0){if(D)continue;j=!1;break}if(T){if(!e(d,function(R,L){if(!r(T,L)&&(O===R||v(O,R,h,m,y)))return T.push(L)})){j=!1;break}}else if(!(O===q||v(O,q,h,m,y))){j=!1;break}}return y.delete(c),y.delete(d),j}return ov=l,ov}var lv,xj;function $A(){if(xj)return lv;xj=1;var t=jn(),e=t.Uint8Array;return lv=e,lv}var cv,wj;function z$(){if(wj)return cv;wj=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i,l){a[++r]=[l,i]}),a}return cv=t,cv}var uv,_j;function U$(){if(_j)return uv;_j=1;function t(e){var r=-1,a=Array(e.size);return e.forEach(function(i){a[++r]=i}),a}return uv=t,uv}var dv,Sj;function I$(){if(Sj)return dv;Sj=1;var t=Vi(),e=$A(),r=Wl(),a=LA(),i=z$(),l=U$(),c=1,d=2,h="[object Boolean]",m="[object Date]",v="[object Error]",y="[object Map]",b="[object Number]",x="[object RegExp]",w="[object Set]",_="[object String]",S="[object Symbol]",E="[object ArrayBuffer]",j="[object DataView]",T=t?t.prototype:void 0,O=T?T.valueOf:void 0;function q(D,R,L,$,C,P,U){switch(L){case j:if(D.byteLength!=R.byteLength||D.byteOffset!=R.byteOffset)return!1;D=D.buffer,R=R.buffer;case E:return!(D.byteLength!=R.byteLength||!P(new e(D),new e(R)));case h:case m:case b:return r(+D,+R);case v:return D.name==R.name&&D.message==R.message;case x:case _:return D==R+"";case y:var z=i;case w:var W=$&c;if(z||(z=l),D.size!=R.size&&!W)return!1;var ee=U.get(D);if(ee)return ee==R;$|=d,U.set(D,R);var B=a(z(D),z(R),$,C,P,U);return U.delete(D),B;case S:if(O)return O.call(D)==O.call(R)}return!1}return dv=q,dv}var fv,Ej;function Sb(){if(Ej)return fv;Ej=1;function t(e,r){for(var a=-1,i=r.length,l=e.length;++a<i;)e[l+a]=r[a];return e}return fv=t,fv}var hv,jj;function Yr(){if(jj)return hv;jj=1;var t=Array.isArray;return hv=t,hv}var mv,Nj;function zA(){if(Nj)return mv;Nj=1;var t=Sb(),e=Yr();function r(a,i,l){var c=i(a);return e(a)?c:t(c,l(a))}return mv=r,mv}var pv,Tj;function B$(){if(Tj)return pv;Tj=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=0,c=[];++a<i;){var d=e[a];r(d,a,e)&&(c[l++]=d)}return c}return pv=t,pv}var vv,Oj;function UA(){if(Oj)return vv;Oj=1;function t(){return[]}return vv=t,vv}var gv,Cj;function Eb(){if(Cj)return gv;Cj=1;var t=B$(),e=UA(),r=Object.prototype,a=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,l=i?function(c){return c==null?[]:(c=Object(c),t(i(c),function(d){return a.call(c,d)}))}:e;return gv=l,gv}var yv,Aj;function H$(){if(Aj)return yv;Aj=1;function t(e,r){for(var a=-1,i=Array(e);++a<e;)i[a]=r(a);return i}return yv=t,yv}var bv,Rj;function F$(){if(Rj)return bv;Rj=1;var t=Ki(),e=Pa(),r="[object Arguments]";function a(i){return e(i)&&t(i)==r}return bv=a,bv}var xv,Dj;function jb(){if(Dj)return xv;Dj=1;var t=F$(),e=Pa(),r=Object.prototype,a=r.hasOwnProperty,i=r.propertyIsEnumerable,l=t((function(){return arguments})())?t:function(c){return e(c)&&a.call(c,"callee")&&!i.call(c,"callee")};return xv=l,xv}var pl={exports:{}},wv,kj;function G$(){if(kj)return wv;kj=1;function t(){return!1}return wv=t,wv}pl.exports;var Mj;function Zd(){return Mj||(Mj=1,(function(t,e){var r=jn(),a=G$(),i=e&&!e.nodeType&&e,l=i&&!0&&t&&!t.nodeType&&t,c=l&&l.exports===i,d=c?r.Buffer:void 0,h=d?d.isBuffer:void 0,m=h||a;t.exports=m})(pl,pl.exports)),pl.exports}var _v,qj;function W$(){if(qj)return _v;qj=1;var t=Ki(),e=nb(),r=Pa(),a="[object Arguments]",i="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",m="[object Map]",v="[object Number]",y="[object Object]",b="[object RegExp]",x="[object Set]",w="[object String]",_="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",j="[object Float32Array]",T="[object Float64Array]",O="[object Int8Array]",q="[object Int16Array]",D="[object Int32Array]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",$="[object Uint16Array]",C="[object Uint32Array]",P={};P[j]=P[T]=P[O]=P[q]=P[D]=P[R]=P[L]=P[$]=P[C]=!0,P[a]=P[i]=P[S]=P[l]=P[E]=P[c]=P[d]=P[h]=P[m]=P[v]=P[y]=P[b]=P[x]=P[w]=P[_]=!1;function U(z){return r(z)&&e(z.length)&&!!P[t(z)]}return _v=U,_v}var Sv,Pj;function ef(){if(Pj)return Sv;Pj=1;function t(e){return function(r){return e(r)}}return Sv=t,Sv}var vl={exports:{}};vl.exports;var Lj;function Nb(){return Lj||(Lj=1,(function(t,e){var r=xA(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l&&r.process,d=(function(){try{var h=i&&i.require&&i.require("util").types;return h||c&&c.binding&&c.binding("util")}catch{}})();t.exports=d})(vl,vl.exports)),vl.exports}var Ev,$j;function Tb(){if($j)return Ev;$j=1;var t=W$(),e=ef(),r=Nb(),a=r&&r.isTypedArray,i=a?e(a):t;return Ev=i,Ev}var jv,zj;function IA(){if(zj)return jv;zj=1;var t=H$(),e=jb(),r=Yr(),a=Zd(),i=ab(),l=Tb(),c=Object.prototype,d=c.hasOwnProperty;function h(m,v){var y=r(m),b=!y&&e(m),x=!y&&!b&&a(m),w=!y&&!b&&!x&&l(m),_=y||b||x||w,S=_?t(m.length,String):[],E=S.length;for(var j in m)(v||d.call(m,j))&&!(_&&(j=="length"||x&&(j=="offset"||j=="parent")||w&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||i(j,E)))&&S.push(j);return S}return jv=h,jv}var Nv,Uj;function Ob(){if(Uj)return Nv;Uj=1;var t=Object.prototype;function e(r){var a=r&&r.constructor,i=typeof a=="function"&&a.prototype||t;return r===i}return Nv=e,Nv}var Tv,Ij;function BA(){if(Ij)return Tv;Ij=1;function t(e,r){return function(a){return e(r(a))}}return Tv=t,Tv}var Ov,Bj;function Y$(){if(Bj)return Ov;Bj=1;var t=BA(),e=t(Object.keys,Object);return Ov=e,Ov}var Cv,Hj;function V$(){if(Hj)return Cv;Hj=1;var t=Ob(),e=Y$(),r=Object.prototype,a=r.hasOwnProperty;function i(l){if(!t(l))return e(l);var c=[];for(var d in Object(l))a.call(l,d)&&d!="constructor"&&c.push(d);return c}return Cv=i,Cv}var Av,Fj;function Zl(){if(Fj)return Av;Fj=1;var t=IA(),e=V$(),r=Yl();function a(i){return r(i)?t(i):e(i)}return Av=a,Av}var Rv,Gj;function HA(){if(Gj)return Rv;Gj=1;var t=zA(),e=Eb(),r=Zl();function a(i){return t(i,r,e)}return Rv=a,Rv}var Dv,Wj;function K$(){if(Wj)return Dv;Wj=1;var t=HA(),e=1,r=Object.prototype,a=r.hasOwnProperty;function i(l,c,d,h,m,v){var y=d&e,b=t(l),x=b.length,w=t(c),_=w.length;if(x!=_&&!y)return!1;for(var S=x;S--;){var E=b[S];if(!(y?E in c:a.call(c,E)))return!1}var j=v.get(l),T=v.get(c);if(j&&T)return j==c&&T==l;var O=!0;v.set(l,c),v.set(c,l);for(var q=y;++S<x;){E=b[S];var D=l[E],R=c[E];if(h)var L=y?h(R,D,E,c,l,v):h(D,R,E,l,c,v);if(!(L===void 0?D===R||m(D,R,d,h,v):L)){O=!1;break}q||(q=E=="constructor")}if(O&&!q){var $=l.constructor,C=c.constructor;$!=C&&"constructor"in l&&"constructor"in c&&!(typeof $=="function"&&$ instanceof $&&typeof C=="function"&&C instanceof C)&&(O=!1)}return v.delete(l),v.delete(c),O}return Dv=i,Dv}var kv,Yj;function X$(){if(Yj)return kv;Yj=1;var t=As(),e=jn(),r=t(e,"DataView");return kv=r,kv}var Mv,Vj;function Q$(){if(Vj)return Mv;Vj=1;var t=As(),e=jn(),r=t(e,"Promise");return Mv=r,Mv}var qv,Kj;function J$(){if(Kj)return qv;Kj=1;var t=As(),e=jn(),r=t(e,"Set");return qv=r,qv}var Pv,Xj;function Z$(){if(Xj)return Pv;Xj=1;var t=As(),e=jn(),r=t(e,"WeakMap");return Pv=r,Pv}var Lv,Qj;function tf(){if(Qj)return Lv;Qj=1;var t=X$(),e=xb(),r=Q$(),a=J$(),i=Z$(),l=Ki(),c=PA(),d="[object Map]",h="[object Object]",m="[object Promise]",v="[object Set]",y="[object WeakMap]",b="[object DataView]",x=c(t),w=c(e),_=c(r),S=c(a),E=c(i),j=l;return(t&&j(new t(new ArrayBuffer(1)))!=b||e&&j(new e)!=d||r&&j(r.resolve())!=m||a&&j(new a)!=v||i&&j(new i)!=y)&&(j=function(T){var O=l(T),q=O==h?T.constructor:void 0,D=q?c(q):"";if(D)switch(D){case x:return b;case w:return d;case _:return m;case S:return v;case E:return y}return O}),Lv=j,Lv}var $v,Jj;function ez(){if(Jj)return $v;Jj=1;var t=_b(),e=LA(),r=I$(),a=K$(),i=tf(),l=Yr(),c=Zd(),d=Tb(),h=1,m="[object Arguments]",v="[object Array]",y="[object Object]",b=Object.prototype,x=b.hasOwnProperty;function w(_,S,E,j,T,O){var q=l(_),D=l(S),R=q?v:i(_),L=D?v:i(S);R=R==m?y:R,L=L==m?y:L;var $=R==y,C=L==y,P=R==L;if(P&&c(_)){if(!c(S))return!1;q=!0,$=!1}if(P&&!$)return O||(O=new t),q||d(_)?e(_,S,E,j,T,O):r(_,S,R,E,j,T,O);if(!(E&h)){var U=$&&x.call(_,"__wrapped__"),z=C&&x.call(S,"__wrapped__");if(U||z){var W=U?_.value():_,ee=z?S.value():S;return O||(O=new t),T(W,ee,E,j,O)}}return P?(O||(O=new t),a(_,S,E,j,T,O)):!1}return $v=w,$v}var zv,Zj;function Cb(){if(Zj)return zv;Zj=1;var t=ez(),e=Pa();function r(a,i,l,c,d){return a===i?!0:a==null||i==null||!e(a)&&!e(i)?a!==a&&i!==i:t(a,i,l,c,r,d)}return zv=r,zv}var Uv,eN;function FA(){if(eN)return Uv;eN=1;var t=Cb();function e(r,a){return t(r,a)}return Uv=e,Uv}var tz=FA();const rz=Qt(tz);function ys(t,e){var r=Ud(t);return r?r.innerHeight:e?t.clientHeight:rn(t).height}function ec(t,e,r){t.closest&&!r&&t.closest(e);var a=t;do{if(Hd(a,e))return a;a=a.parentElement}while(a&&a!==r&&a.nodeType===document.ELEMENT_NODE);return null}const nz=Object.freeze(Object.defineProperty({__proto__:null,default:ec},Symbol.toStringTag,{value:"Module"}));var Iv,tN;function az(){if(tN)return Iv;tN=1;function t(e,r,a,i){for(var l=e.length,c=a+(i?1:-1);i?c--:++c<l;)if(r(e[c],c,e))return c;return-1}return Iv=t,Iv}var Bv,rN;function sz(){if(rN)return Bv;rN=1;var t=_b(),e=Cb(),r=1,a=2;function i(l,c,d,h){var m=d.length,v=m,y=!h;if(l==null)return!v;for(l=Object(l);m--;){var b=d[m];if(y&&b[2]?b[1]!==l[b[0]]:!(b[0]in l))return!1}for(;++m<v;){b=d[m];var x=b[0],w=l[x],_=b[1];if(y&&b[2]){if(w===void 0&&!(x in l))return!1}else{var S=new t;if(h)var E=h(w,_,x,l,c,S);if(!(E===void 0?e(_,w,r|a,h,S):E))return!1}}return!0}return Bv=i,Bv}var Hv,nN;function GA(){if(nN)return Hv;nN=1;var t=ea();function e(r){return r===r&&!t(r)}return Hv=e,Hv}var Fv,aN;function iz(){if(aN)return Fv;aN=1;var t=GA(),e=Zl();function r(a){for(var i=e(a),l=i.length;l--;){var c=i[l],d=a[c];i[l]=[c,d,t(d)]}return i}return Fv=r,Fv}var Gv,sN;function WA(){if(sN)return Gv;sN=1;function t(e,r){return function(a){return a==null?!1:a[e]===r&&(r!==void 0||e in Object(a))}}return Gv=t,Gv}var Wv,iN;function oz(){if(iN)return Wv;iN=1;var t=sz(),e=iz(),r=WA();function a(i){var l=e(i);return l.length==1&&l[0][2]?r(l[0][0],l[0][1]):function(c){return c===i||t(c,i,l)}}return Wv=a,Wv}var Yv,oN;function Ab(){if(oN)return Yv;oN=1;var t=Yr(),e=Vl(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;function i(l,c){if(t(l))return!1;var d=typeof l;return d=="number"||d=="symbol"||d=="boolean"||l==null||e(l)?!0:a.test(l)||!r.test(l)||c!=null&&l in Object(c)}return Yv=i,Yv}var Vv,lN;function lz(){if(lN)return Vv;lN=1;var t=wb(),e="Expected a function";function r(a,i){if(typeof a!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var l=function(){var c=arguments,d=i?i.apply(this,c):c[0],h=l.cache;if(h.has(d))return h.get(d);var m=a.apply(this,c);return l.cache=h.set(d,m)||h,m};return l.cache=new(r.Cache||t),l}return r.Cache=t,Vv=r,Vv}var Kv,cN;function cz(){if(cN)return Kv;cN=1;var t=lz(),e=500;function r(a){var i=t(a,function(c){return l.size===e&&l.clear(),c}),l=i.cache;return i}return Kv=r,Kv}var Xv,uN;function uz(){if(uN)return Xv;uN=1;var t=cz(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=t(function(i){var l=[];return i.charCodeAt(0)===46&&l.push(""),i.replace(e,function(c,d,h,m){l.push(h?m.replace(r,"$1"):d||c)}),l});return Xv=a,Xv}var Qv,dN;function Rb(){if(dN)return Qv;dN=1;function t(e,r){for(var a=-1,i=e==null?0:e.length,l=Array(i);++a<i;)l[a]=r(e[a],a,e);return l}return Qv=t,Qv}var Jv,fN;function dz(){if(fN)return Jv;fN=1;var t=Vi(),e=Rb(),r=Yr(),a=Vl(),i=t?t.prototype:void 0,l=i?i.toString:void 0;function c(d){if(typeof d=="string")return d;if(r(d))return e(d,c)+"";if(a(d))return l?l.call(d):"";var h=d+"";return h=="0"&&1/d==-1/0?"-0":h}return Jv=c,Jv}var Zv,hN;function fz(){if(hN)return Zv;hN=1;var t=dz();function e(r){return r==null?"":t(r)}return Zv=e,Zv}var eg,mN;function rf(){if(mN)return eg;mN=1;var t=Yr(),e=Ab(),r=uz(),a=fz();function i(l,c){return t(l)?l:e(l,c)?[l]:r(a(l))}return eg=i,eg}var tg,pN;function tc(){if(pN)return tg;pN=1;var t=Vl();function e(r){if(typeof r=="string"||t(r))return r;var a=r+"";return a=="0"&&1/r==-1/0?"-0":a}return tg=e,tg}var rg,vN;function nf(){if(vN)return rg;vN=1;var t=rf(),e=tc();function r(a,i){i=t(i,a);for(var l=0,c=i.length;a!=null&&l<c;)a=a[e(i[l++])];return l&&l==c?a:void 0}return rg=r,rg}var ng,gN;function hz(){if(gN)return ng;gN=1;var t=nf();function e(r,a,i){var l=r==null?void 0:t(r,a);return l===void 0?i:l}return ng=e,ng}var ag,yN;function mz(){if(yN)return ag;yN=1;function t(e,r){return e!=null&&r in Object(e)}return ag=t,ag}var sg,bN;function pz(){if(bN)return sg;bN=1;var t=rf(),e=jb(),r=Yr(),a=ab(),i=nb(),l=tc();function c(d,h,m){h=t(h,d);for(var v=-1,y=h.length,b=!1;++v<y;){var x=l(h[v]);if(!(b=d!=null&&m(d,x)))break;d=d[x]}return b||++v!=y?b:(y=d==null?0:d.length,!!y&&i(y)&&a(x,y)&&(r(d)||e(d)))}return sg=c,sg}var ig,xN;function vz(){if(xN)return ig;xN=1;var t=mz(),e=pz();function r(a,i){return a!=null&&e(a,i,t)}return ig=r,ig}var og,wN;function gz(){if(wN)return og;wN=1;var t=Cb(),e=hz(),r=vz(),a=Ab(),i=GA(),l=WA(),c=tc(),d=1,h=2;function m(v,y){return a(v)&&i(y)?l(c(v),y):function(b){var x=e(b,v);return x===void 0&&x===y?r(b,v):t(y,x,d|h)}}return og=m,og}var lg,_N;function af(){if(_N)return lg;_N=1;function t(e){return e}return lg=t,lg}var cg,SN;function yz(){if(SN)return cg;SN=1;function t(e){return function(r){return r?.[e]}}return cg=t,cg}var ug,EN;function bz(){if(EN)return ug;EN=1;var t=nf();function e(r){return function(a){return t(a,r)}}return ug=e,ug}var dg,jN;function xz(){if(jN)return dg;jN=1;var t=yz(),e=bz(),r=Ab(),a=tc();function i(l){return r(l)?t(a(l)):e(l)}return dg=i,dg}var fg,NN;function sf(){if(NN)return fg;NN=1;var t=oz(),e=gz(),r=af(),a=Yr(),i=xz();function l(c){return typeof c=="function"?c:c==null?r:typeof c=="object"?a(c)?e(c[0],c[1]):t(c):i(c)}return fg=l,fg}var hg,TN;function YA(){if(TN)return hg;TN=1;var t=az(),e=sf(),r=_A(),a=Math.max;function i(l,c,d){var h=l==null?0:l.length;if(!h)return-1;var m=d==null?0:r(d);return m<0&&(m=a(h+m,0)),t(l,e(c,3),m)}return hg=i,hg}var wz=YA();const _z=Qt(wz);var mg,ON;function Sz(){if(ON)return mg;ON=1;var t=Math.ceil,e=Math.max;function r(a,i,l,c){for(var d=-1,h=e(t((i-a)/(l||1)),0),m=Array(h);h--;)m[c?h:++d]=a,a+=l;return m}return mg=r,mg}var pg,CN;function Ez(){if(CN)return pg;CN=1;var t=Sz(),e=zd(),r=wA();function a(i){return function(l,c,d){return d&&typeof d!="number"&&e(l,c,d)&&(c=d=void 0),l=r(l),c===void 0?(c=l,l=0):c=r(c),d=d===void 0?l<c?1:-1:r(d),t(l,c,d,i)}}return pg=a,pg}var vg,AN;function jz(){if(AN)return vg;AN=1;var t=Ez(),e=t();return vg=e,vg}var Nz=jz();const Tz=Qt(Nz);var RN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Oz(t,e){return!!(t===e||RN(t)&&RN(e))}function Cz(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Oz(t[r],e[r]))return!1;return!0}function VA(t,e){e===void 0&&(e=Cz);var r=null;function a(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(r&&r.lastThis===this&&e(i,r.lastArgs))return r.lastResult;var c=t.apply(this,i);return r={lastResult:c,lastArgs:i,lastThis:this},c}return a.clear=function(){r=null},a}function ql(t,e){var r=Ud(t);return r?r.innerWidth:e?t.clientWidth:rn(t).width}var gg,DN;function Az(){if(DN)return gg;DN=1;var t=Vi(),e=jb(),r=Yr(),a=t?t.isConcatSpreadable:void 0;function i(l){return r(l)||e(l)||!!(a&&l&&l[a])}return gg=i,gg}var yg,kN;function KA(){if(kN)return yg;kN=1;var t=Sb(),e=Az();function r(a,i,l,c,d){var h=-1,m=a.length;for(l||(l=e),d||(d=[]);++h<m;){var v=a[h];i>0&&l(v)?i>1?r(v,i-1,l,c,d):t(d,v):c||(d[d.length]=v)}return d}return yg=r,yg}var bg,MN;function Rz(){if(MN)return bg;MN=1;function t(e){return function(r,a,i){for(var l=-1,c=Object(r),d=i(r),h=d.length;h--;){var m=d[e?h:++l];if(a(c[m],m,c)===!1)break}return r}}return bg=t,bg}var xg,qN;function Dz(){if(qN)return xg;qN=1;var t=Rz(),e=t();return xg=e,xg}var wg,PN;function Db(){if(PN)return wg;PN=1;var t=Dz(),e=Zl();function r(a,i){return a&&t(a,i,e)}return wg=r,wg}var _g,LN;function kz(){if(LN)return _g;LN=1;var t=Yl();function e(r,a){return function(i,l){if(i==null)return i;if(!t(i))return r(i,l);for(var c=i.length,d=a?c:-1,h=Object(i);(a?d--:++d<c)&&l(h[d],d,h)!==!1;);return i}}return _g=e,_g}var Sg,$N;function Mz(){if($N)return Sg;$N=1;var t=Db(),e=kz(),r=e(t);return Sg=r,Sg}var Eg,zN;function qz(){if(zN)return Eg;zN=1;var t=Mz(),e=Yl();function r(a,i){var l=-1,c=e(a)?Array(a.length):[];return t(a,function(d,h,m){c[++l]=i(d,h,m)}),c}return Eg=r,Eg}var jg,UN;function Pz(){if(UN)return jg;UN=1;function t(e,r){var a=e.length;for(e.sort(r);a--;)e[a]=e[a].value;return e}return jg=t,jg}var Ng,IN;function Lz(){if(IN)return Ng;IN=1;var t=Vl();function e(r,a){if(r!==a){var i=r!==void 0,l=r===null,c=r===r,d=t(r),h=a!==void 0,m=a===null,v=a===a,y=t(a);if(!m&&!y&&!d&&r>a||d&&h&&v&&!m&&!y||l&&h&&v||!i&&v||!c)return 1;if(!l&&!d&&!y&&r<a||y&&i&&c&&!l&&!d||m&&i&&c||!h&&c||!v)return-1}return 0}return Ng=e,Ng}var Tg,BN;function $z(){if(BN)return Tg;BN=1;var t=Lz();function e(r,a,i){for(var l=-1,c=r.criteria,d=a.criteria,h=c.length,m=i.length;++l<h;){var v=t(c[l],d[l]);if(v){if(l>=m)return v;var y=i[l];return v*(y=="desc"?-1:1)}}return r.index-a.index}return Tg=e,Tg}var Og,HN;function zz(){if(HN)return Og;HN=1;var t=Rb(),e=nf(),r=sf(),a=qz(),i=Pz(),l=ef(),c=$z(),d=af(),h=Yr();function m(v,y,b){y.length?y=t(y,function(_){return h(_)?function(S){return e(S,_.length===1?_[0]:_)}:_}):y=[d];var x=-1;y=t(y,l(r));var w=a(v,function(_,S,E){var j=t(y,function(T){return T(_)});return{criteria:j,index:++x,value:_}});return i(w,function(_,S){return c(_,S,b)})}return Og=m,Og}var Cg,FN;function Uz(){if(FN)return Cg;FN=1;function t(e,r,a){switch(a.length){case 0:return e.call(r);case 1:return e.call(r,a[0]);case 2:return e.call(r,a[0],a[1]);case 3:return e.call(r,a[0],a[1],a[2])}return e.apply(r,a)}return Cg=t,Cg}var Ag,GN;function XA(){if(GN)return Ag;GN=1;var t=Uz(),e=Math.max;function r(a,i,l){return i=e(i===void 0?a.length-1:i,0),function(){for(var c=arguments,d=-1,h=e(c.length-i,0),m=Array(h);++d<h;)m[d]=c[i+d];d=-1;for(var v=Array(i+1);++d<i;)v[d]=c[d];return v[i]=l(m),t(a,this,v)}}return Ag=r,Ag}var Rg,WN;function Iz(){if(WN)return Rg;WN=1;function t(e){return function(){return e}}return Rg=t,Rg}var Dg,YN;function QA(){if(YN)return Dg;YN=1;var t=As(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return Dg=e,Dg}var kg,VN;function Bz(){if(VN)return kg;VN=1;var t=Iz(),e=QA(),r=af(),a=e?function(i,l){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(l),writable:!0})}:r;return kg=a,kg}var Mg,KN;function Hz(){if(KN)return Mg;KN=1;var t=800,e=16,r=Date.now;function a(i){var l=0,c=0;return function(){var d=r(),h=e-(d-c);if(c=d,h>0){if(++l>=t)return arguments[0]}else l=0;return i.apply(void 0,arguments)}}return Mg=a,Mg}var qg,XN;function JA(){if(XN)return qg;XN=1;var t=Bz(),e=Hz(),r=e(t);return qg=r,qg}var Pg,QN;function ZA(){if(QN)return Pg;QN=1;var t=af(),e=XA(),r=JA();function a(i,l){return r(e(i,l,t),i+"")}return Pg=a,Pg}var Lg,JN;function Fz(){if(JN)return Lg;JN=1;var t=KA(),e=zz(),r=ZA(),a=zd(),i=r(function(l,c){if(l==null)return[];var d=c.length;return d>1&&a(l,c[0],c[1])?c=[]:d>2&&a(c[0],c[1],c[2])&&(c=[c[0]]),e(l,t(c,1),[])});return Lg=i,Lg}var Gz=Fz();const Wz=Qt(Gz);function eR(t){return aA(t)||yA(t)||Jy(t)||sA()}var $g,ZN;function Yz(){if(ZN)return $g;ZN=1;function t(e){var r=[];if(e!=null)for(var a in Object(e))r.push(a);return r}return $g=t,$g}var zg,e2;function Vz(){if(e2)return zg;e2=1;var t=ea(),e=Ob(),r=Yz(),a=Object.prototype,i=a.hasOwnProperty;function l(c){if(!t(c))return r(c);var d=e(c),h=[];for(var m in c)m=="constructor"&&(d||!i.call(c,m))||h.push(m);return h}return zg=l,zg}var Ug,t2;function of(){if(t2)return Ug;t2=1;var t=IA(),e=Vz(),r=Yl();function a(i){return r(i)?t(i,!0):e(i)}return Ug=a,Ug}var Ig,r2;function Kz(){if(r2)return Ig;r2=1;var t=ZA(),e=Wl(),r=zd(),a=of(),i=Object.prototype,l=i.hasOwnProperty,c=t(function(d,h){d=Object(d);var m=-1,v=h.length,y=v>2?h[2]:void 0;for(y&&r(h[0],h[1],y)&&(v=1);++m<v;)for(var b=h[m],x=a(b),w=-1,_=x.length;++w<_;){var S=x[w],E=d[S];(E===void 0||e(E,i[S])&&!l.call(d,S))&&(d[S]=b[S])}return d});return Ig=c,Ig}var Xz=Kz();const Qz=Qt(Xz);var Bg,n2;function kb(){if(n2)return Bg;n2=1;var t=QA();function e(r,a,i){a=="__proto__"&&t?t(r,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[a]=i}return Bg=e,Bg}var Hg,a2;function Jz(){if(a2)return Hg;a2=1;var t=kb(),e=Db(),r=sf();function a(i,l){var c={};return l=r(l,3),e(i,function(d,h,m){t(c,h,l(d,h,m))}),c}return Hg=a,Hg}var Zz=Jz();const eU=Qt(Zz);var Fg,s2;function tR(){if(s2)return Fg;s2=1;function t(e,r){for(var a=-1,i=e==null?0:e.length;++a<i&&r(e[a],a,e)!==!1;);return e}return Fg=t,Fg}var Gg,i2;function rR(){if(i2)return Gg;i2=1;var t=kb(),e=Wl(),r=Object.prototype,a=r.hasOwnProperty;function i(l,c,d){var h=l[c];(!(a.call(l,c)&&e(h,d))||d===void 0&&!(c in l))&&t(l,c,d)}return Gg=i,Gg}var Wg,o2;function rc(){if(o2)return Wg;o2=1;var t=rR(),e=kb();function r(a,i,l,c){var d=!l;l||(l={});for(var h=-1,m=i.length;++h<m;){var v=i[h],y=c?c(l[v],a[v],v,l,a):void 0;y===void 0&&(y=a[v]),d?e(l,v,y):t(l,v,y)}return l}return Wg=r,Wg}var Yg,l2;function tU(){if(l2)return Yg;l2=1;var t=rc(),e=Zl();function r(a,i){return a&&t(i,e(i),a)}return Yg=r,Yg}var Vg,c2;function rU(){if(c2)return Vg;c2=1;var t=rc(),e=of();function r(a,i){return a&&t(i,e(i),a)}return Vg=r,Vg}var gl={exports:{}};gl.exports;var u2;function nU(){return u2||(u2=1,(function(t,e){var r=jn(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,l=i&&i.exports===a,c=l?r.Buffer:void 0,d=c?c.allocUnsafe:void 0;function h(m,v){if(v)return m.slice();var y=m.length,b=d?d(y):new m.constructor(y);return m.copy(b),b}t.exports=h})(gl,gl.exports)),gl.exports}var Kg,d2;function aU(){if(d2)return Kg;d2=1;function t(e,r){var a=-1,i=e.length;for(r||(r=Array(i));++a<i;)r[a]=e[a];return r}return Kg=t,Kg}var Xg,f2;function sU(){if(f2)return Xg;f2=1;var t=rc(),e=Eb();function r(a,i){return t(a,e(a),i)}return Xg=r,Xg}var Qg,h2;function lf(){if(h2)return Qg;h2=1;var t=BA(),e=t(Object.getPrototypeOf,Object);return Qg=e,Qg}var Jg,m2;function nR(){if(m2)return Jg;m2=1;var t=Sb(),e=lf(),r=Eb(),a=UA(),i=Object.getOwnPropertySymbols,l=i?function(c){for(var d=[];c;)t(d,r(c)),c=e(c);return d}:a;return Jg=l,Jg}var Zg,p2;function iU(){if(p2)return Zg;p2=1;var t=rc(),e=nR();function r(a,i){return t(a,e(a),i)}return Zg=r,Zg}var e0,v2;function aR(){if(v2)return e0;v2=1;var t=zA(),e=nR(),r=of();function a(i){return t(i,r,e)}return e0=a,e0}var t0,g2;function oU(){if(g2)return t0;g2=1;var t=Object.prototype,e=t.hasOwnProperty;function r(a){var i=a.length,l=new a.constructor(i);return i&&typeof a[0]=="string"&&e.call(a,"index")&&(l.index=a.index,l.input=a.input),l}return t0=r,t0}var r0,y2;function Mb(){if(y2)return r0;y2=1;var t=$A();function e(r){var a=new r.constructor(r.byteLength);return new t(a).set(new t(r)),a}return r0=e,r0}var n0,b2;function lU(){if(b2)return n0;b2=1;var t=Mb();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return n0=e,n0}var a0,x2;function cU(){if(x2)return a0;x2=1;var t=/\w*$/;function e(r){var a=new r.constructor(r.source,t.exec(r));return a.lastIndex=r.lastIndex,a}return a0=e,a0}var s0,w2;function uU(){if(w2)return s0;w2=1;var t=Vi(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function a(i){return r?Object(r.call(i)):{}}return s0=a,s0}var i0,_2;function dU(){if(_2)return i0;_2=1;var t=Mb();function e(r,a){var i=a?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return i0=e,i0}var o0,S2;function fU(){if(S2)return o0;S2=1;var t=Mb(),e=lU(),r=cU(),a=uU(),i=dU(),l="[object Boolean]",c="[object Date]",d="[object Map]",h="[object Number]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",S="[object Float64Array]",E="[object Int8Array]",j="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",q="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]";function L($,C,P){var U=$.constructor;switch(C){case x:return t($);case l:case c:return new U(+$);case w:return e($,P);case _:case S:case E:case j:case T:case O:case q:case D:case R:return i($,P);case d:return new U;case h:case y:return new U($);case m:return r($);case v:return new U;case b:return a($)}}return o0=L,o0}var l0,E2;function sR(){if(E2)return l0;E2=1;var t=ea(),e=Object.create,r=(function(){function a(){}return function(i){if(!t(i))return{};if(e)return e(i);a.prototype=i;var l=new a;return a.prototype=void 0,l}})();return l0=r,l0}var c0,j2;function hU(){if(j2)return c0;j2=1;var t=sR(),e=lf(),r=Ob();function a(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return c0=a,c0}var u0,N2;function mU(){if(N2)return u0;N2=1;var t=tf(),e=Pa(),r="[object Map]";function a(i){return e(i)&&t(i)==r}return u0=a,u0}var d0,T2;function pU(){if(T2)return d0;T2=1;var t=mU(),e=ef(),r=Nb(),a=r&&r.isMap,i=a?e(a):t;return d0=i,d0}var f0,O2;function vU(){if(O2)return f0;O2=1;var t=tf(),e=Pa(),r="[object Set]";function a(i){return e(i)&&t(i)==r}return f0=a,f0}var h0,C2;function gU(){if(C2)return h0;C2=1;var t=vU(),e=ef(),r=Nb(),a=r&&r.isSet,i=a?e(a):t;return h0=i,h0}var m0,A2;function yU(){if(A2)return m0;A2=1;var t=_b(),e=tR(),r=rR(),a=tU(),i=rU(),l=nU(),c=aU(),d=sU(),h=iU(),m=HA(),v=aR(),y=tf(),b=oU(),x=fU(),w=hU(),_=Yr(),S=Zd(),E=pU(),j=ea(),T=gU(),O=Zl(),q=of(),D=1,R=2,L=4,$="[object Arguments]",C="[object Array]",P="[object Boolean]",U="[object Date]",z="[object Error]",W="[object Function]",ee="[object GeneratorFunction]",B="[object Map]",K="[object Number]",ae="[object Object]",le="[object RegExp]",V="[object Set]",M="[object String]",F="[object Symbol]",ie="[object WeakMap]",ce="[object ArrayBuffer]",fe="[object DataView]",pe="[object Float32Array]",be="[object Float64Array]",De="[object Int8Array]",Me="[object Int16Array]",gt="[object Int32Array]",ht="[object Uint8Array]",Wt="[object Uint8ClampedArray]",vr="[object Uint16Array]",xt="[object Uint32Array]",Ae={};Ae[$]=Ae[C]=Ae[ce]=Ae[fe]=Ae[P]=Ae[U]=Ae[pe]=Ae[be]=Ae[De]=Ae[Me]=Ae[gt]=Ae[B]=Ae[K]=Ae[ae]=Ae[le]=Ae[V]=Ae[M]=Ae[F]=Ae[ht]=Ae[Wt]=Ae[vr]=Ae[xt]=!0,Ae[z]=Ae[W]=Ae[ie]=!1;function Pt(ke,te,xe,_e,Xe,st){var it,Ze=te&D,de=te&R,ne=te&L;if(xe&&(it=Xe?xe(ke,_e,Xe,st):xe(ke)),it!==void 0)return it;if(!j(ke))return ke;var ge=_(ke);if(ge){if(it=b(ke),!Ze)return c(ke,it)}else{var Ee=y(ke),dt=Ee==W||Ee==ee;if(S(ke))return l(ke,Ze);if(Ee==ae||Ee==$||dt&&!Xe){if(it=de||dt?{}:w(ke),!Ze)return de?h(ke,i(it,ke)):d(ke,a(it,ke))}else{if(!Ae[Ee])return Xe?ke:{};it=x(ke,Ee,Ze)}}st||(st=new t);var rr=st.get(ke);if(rr)return rr;st.set(ke,it),T(ke)?ke.forEach(function(ft){it.add(Pt(ft,te,xe,ft,ke,st))}):E(ke)&&ke.forEach(function(ft,Ue){it.set(Ue,Pt(ft,te,xe,Ue,ke,st))});var Vr=ne?de?v:m:de?q:O,gr=ge?void 0:Vr(ke);return e(gr||ke,function(ft,Ue){gr&&(Ue=ft,ft=ke[Ue]),r(it,Ue,Pt(ft,te,xe,Ue,ke,st))}),it}return m0=Pt,m0}var p0,R2;function bU(){if(R2)return p0;R2=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return p0=t,p0}var v0,D2;function xU(){if(D2)return v0;D2=1;var t=nf(),e=bA();function r(a,i){return i.length<2?a:t(a,e(i,0,-1))}return v0=r,v0}var g0,k2;function wU(){if(k2)return g0;k2=1;var t=rf(),e=bU(),r=xU(),a=tc();function i(l,c){return c=t(c,l),l=r(l,c),l==null||delete l[a(e(c))]}return g0=i,g0}var y0,M2;function _U(){if(M2)return y0;M2=1;var t=Ki(),e=lf(),r=Pa(),a="[object Object]",i=Function.prototype,l=Object.prototype,c=i.toString,d=l.hasOwnProperty,h=c.call(Object);function m(v){if(!r(v)||t(v)!=a)return!1;var y=e(v);if(y===null)return!0;var b=d.call(y,"constructor")&&y.constructor;return typeof b=="function"&&b instanceof b&&c.call(b)==h}return y0=m,y0}var b0,q2;function SU(){if(q2)return b0;q2=1;var t=_U();function e(r){return t(r)?void 0:r}return b0=e,b0}var x0,P2;function EU(){if(P2)return x0;P2=1;var t=KA();function e(r){var a=r==null?0:r.length;return a?t(r,1):[]}return x0=e,x0}var w0,L2;function jU(){if(L2)return w0;L2=1;var t=EU(),e=XA(),r=JA();function a(i){return r(e(i,void 0,t),i+"")}return w0=a,w0}var _0,$2;function NU(){if($2)return _0;$2=1;var t=Rb(),e=yU(),r=wU(),a=rf(),i=rc(),l=SU(),c=jU(),d=aR(),h=1,m=2,v=4,y=c(function(b,x){var w={};if(b==null)return w;var _=!1;x=t(x,function(E){return E=a(E,b),_||(_=E.length>1),E}),i(b,d(b),w),_&&(w=e(w,h|m|v,l));for(var S=x.length;S--;)r(w,x[S]);return w});return _0=y,_0}var TU=NU();const OU=Qt(TU);var S0,z2;function CU(){if(z2)return S0;z2=1;var t=tR(),e=sR(),r=Db(),a=sf(),i=lf(),l=Yr(),c=Zd(),d=rb(),h=ea(),m=Tb();function v(y,b,x){var w=l(y),_=w||c(y)||m(y);if(b=a(b,4),x==null){var S=y&&y.constructor;_?x=w?new S:[]:h(y)?x=d(S)?e(i(y)):{}:x={}}return(_?t:r)(y,function(E,j,T){return b(x,E,j,T)}),x}return S0=v,S0}var AU=CU();const RU=Qt(AU);var Vu={exports:{}},DU=Vu.exports,U2;function kU(){return U2||(U2=1,(function(t,e){(function(r,a){t.exports=a()})(DU,(function(){return function(r,a,i){a.prototype.isBetween=function(l,c,d,h){var m=i(l),v=i(c),y=(h=h||"()")[0]==="(",b=h[1]===")";return(y?this.isAfter(m,d):!this.isBefore(m,d))&&(b?this.isBefore(v,d):!this.isAfter(v,d))||(y?this.isBefore(m,d):!this.isAfter(m,d))&&(b?this.isAfter(v,d):!this.isBefore(v,d))}}}))})(Vu)),Vu.exports}kU();var Ku={exports:{}},MU=Ku.exports,I2;function qU(){return I2||(I2=1,(function(t,e){(function(r,a){t.exports=a()})(MU,(function(){return function(r,a){a.prototype.isSameOrAfter=function(i,l){return this.isSame(i,l)||this.isAfter(i,l)}}}))})(Ku)),Ku.exports}qU();var Xu={exports:{}},PU=Xu.exports,B2;function LU(){return B2||(B2=1,(function(t,e){(function(r,a){t.exports=a()})(PU,(function(){return function(r,a){a.prototype.isSameOrBefore=function(i,l){return this.isSame(i,l)||this.isBefore(i,l)}}}))})(Xu)),Xu.exports}LU();var Qu={exports:{}},$U=Qu.exports,H2;function zU(){return H2||(H2=1,(function(t,e){(function(r,a){t.exports=a()})($U,(function(){return function(r,a,i){var l=a.prototype,c=function(y){return y&&(y.indexOf?y:y.s)},d=function(y,b,x,w,_){var S=y.name?y:y.$locale(),E=c(S[b]),j=c(S[x]),T=E||j.map((function(q){return q.slice(0,w)}));if(!_)return T;var O=S.weekStart;return T.map((function(q,D){return T[(D+(O||0))%7]}))},h=function(){return i.Ls[i.locale()]},m=function(y,b){return y.formats[b]||(function(x){return x.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(w,_,S){return _||S.slice(1)}))})(y.formats[b.toUpperCase()])},v=function(){var y=this;return{months:function(b){return b?b.format("MMMM"):d(y,"months")},monthsShort:function(b){return b?b.format("MMM"):d(y,"monthsShort","months",3)},firstDayOfWeek:function(){return y.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):d(y,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):d(y,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):d(y,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return m(y.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};l.localeData=function(){return v.bind(this)()},i.localeData=function(){var y=h();return{firstDayOfWeek:function(){return y.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(b){return m(y,b)},meridiem:y.meridiem,ordinal:y.ordinal}},i.months=function(){return d(h(),"months")},i.monthsShort=function(){return d(h(),"monthsShort","months",3)},i.weekdays=function(y){return d(h(),"weekdays",null,null,y)},i.weekdaysShort=function(y){return d(h(),"weekdaysShort","weekdays",3,y)},i.weekdaysMin=function(y){return d(h(),"weekdaysMin","weekdays",2,y)}}}))})(Qu)),Qu.exports}zU();var Ju={exports:{}},UU=Ju.exports,F2;function IU(){return F2||(F2=1,(function(t,e){(function(r,a){t.exports=a()})(UU,(function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(a,i,l){var c=i.prototype,d=c.format;l.en.formats=r,c.format=function(h){h===void 0&&(h="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,v=(function(y,b){return y.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(x,w,_){var S=_&&_.toUpperCase();return w||b[_]||r[_]||b[S].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(E,j,T){return j||T.slice(1)}))}))})(h,m===void 0?{}:m);return d.call(this,v)}}}))})(Ju)),Ju.exports}IU();var Zu={exports:{}},BU=Zu.exports,G2;function HU(){return G2||(G2=1,(function(t,e){(function(r,a){t.exports=a()})(BU,(function(){return function(r,a,i){var l=function(c,d){if(!d||!d.length||d.length===1&&!d[0]||d.length===1&&Array.isArray(d[0])&&!d[0].length)return null;var h;d.length===1&&d[0].length>0&&(d=d[0]),h=(d=d.filter((function(v){return v})))[0];for(var m=1;m<d.length;m+=1)d[m].isValid()&&!d[m][c](h)||(h=d[m]);return h};i.max=function(){var c=[].slice.call(arguments,0);return l("isAfter",c)},i.min=function(){var c=[].slice.call(arguments,0);return l("isBefore",c)}}}))})(Zu)),Zu.exports}HU();var ed={exports:{}},FU=ed.exports,W2;function GU(){return W2||(W2=1,(function(t,e){(function(r,a){t.exports=a()})(FU,(function(){var r="minute",a=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(l,c,d){var h=c.prototype;d.utc=function(_){var S={date:_,utc:!0,args:arguments};return new c(S)},h.utc=function(_){var S=d(this.toDate(),{locale:this.$L,utc:!0});return _?S.add(this.utcOffset(),r):S},h.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var m=h.parse;h.parse=function(_){_.utc&&(this.$u=!0),this.$utils().u(_.$offset)||(this.$offset=_.$offset),m.call(this,_)};var v=h.init;h.init=function(){if(this.$u){var _=this.$d;this.$y=_.getUTCFullYear(),this.$M=_.getUTCMonth(),this.$D=_.getUTCDate(),this.$W=_.getUTCDay(),this.$H=_.getUTCHours(),this.$m=_.getUTCMinutes(),this.$s=_.getUTCSeconds(),this.$ms=_.getUTCMilliseconds()}else v.call(this)};var y=h.utcOffset;h.utcOffset=function(_,S){var E=this.$utils().u;if(E(_))return this.$u?0:E(this.$offset)?y.call(this):this.$offset;if(typeof _=="string"&&(_=(function(q){q===void 0&&(q="");var D=q.match(a);if(!D)return null;var R=(""+D[0]).match(i)||["-",0,0],L=R[0],$=60*+R[1]+ +R[2];return $===0?0:L==="+"?$:-$})(_),_===null))return this;var j=Math.abs(_)<=16?60*_:_;if(j===0)return this.utc(S);var T=this.clone();if(S)return T.$offset=j,T.$u=!1,T;var O=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(T=this.local().add(j+O,r)).$offset=j,T.$x.$localOffset=O,T};var b=h.format;h.format=function(_){var S=_||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,S)},h.valueOf=function(){var _=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*_},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var x=h.toDate;h.toDate=function(_){return _==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():x.call(this)};var w=h.diff;h.diff=function(_,S,E){if(_&&this.$u===_.$u)return w.call(this,_,S,E);var j=this.local(),T=d(_).local();return w.call(j,T,S,E)}}}))})(ed)),ed.exports}GU();var td={exports:{}},WU=td.exports,Y2;function YU(){return Y2||(Y2=1,(function(t,e){(function(r,a){t.exports=a()})(WU,(function(){return function(r,a){a.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}}))})(td)),td.exports}YU();function fn(t){return t.children}var pr={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},At={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},V2=Object.keys(At).map(function(t){return At[t]});ue.oneOfType([ue.string,ue.func]);ue.any;ue.func;ue.oneOfType([ue.arrayOf(ue.oneOf(V2)),ue.objectOf(function(t,e){var r=V2.indexOf(e)!==-1&&typeof t[e]=="boolean";if(r)return null;for(var a=arguments.length,i=new Array(a>2?a-2:0),l=2;l<a;l++)i[l-2]=arguments[l];return ue.elementType.apply(ue,[t,e].concat(i))})]);ue.oneOfType([ue.oneOf(["overlap","no-overlap"]),ue.func]);var K2={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function iR(t,e){var r=Gt(t,"month");return Gt(r,"week",e.startOfWeek())}function oR(t,e){var r=xd(t,"month");return xd(r,"week",e.startOfWeek())}function VU(t,e){for(var r=iR(t,e),a=oR(t,e),i=[];Wi(r,a,"day");)i.push(r),r=an(r,1,"day");return i}function KU(t,e){var r=Gt(t,e);return Gi(r,t)?r:an(r,1,e)}function XU(t,e){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",a=t,i=[];Wi(a,e,r);)i.push(a),a=an(a,1,r);return i}function QU(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Gt(t,"day"),t=Rl(t,Rl(e)),t=Mi(t,Mi(e)),t=Al(t,Al(e)),Cl(t,Cl(e)))}function X2(t){return Rl(t)===0&&Mi(t)===0&&Al(t)===0&&Cl(t)===0}function JU(t,e,r,a){return r==="day"&&(r="date"),Math.abs(F1[r](t,void 0,a)-F1[r](e,void 0,a))}function qb(t,e,r){return!r||r==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Gt(t,r)/K2[r]-+Gt(e,r)/K2[r]))}var ZU=ue.oneOfType([ue.string,ue.func]);function eI(t,e,r,a,i){var l=typeof a=="function"?a(r,i,t):e.call(t,r,a,i);return Sl(l==null||typeof l=="string","`localizer format(..)` must return a string, null, or undefined"),l}function tI(t,e,r){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+r,0,0)}function Pb(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function rI(t,e){return qb(t,e,"minutes")+Pb(t,e)}function nI(t){var e=Gt(t,"day");return qb(e,t,"minutes")+Pb(e,t)}function aI(t,e){return tb(t,e,"day")}function sI(t,e,r){var a=Gi(t,e,"minutes");return a?Gl(e,r,"minutes"):$d(e,r,"minutes")}function Oy(t,e){return JU(t,e,"day")}function iI(t){var e=t.evtA,r=e.start,a=e.end,i=e.allDay,l=t.evtB,c=l.start,d=l.end,h=l.allDay,m=+Gt(r,"day")-+Gt(c,"day"),v=Oy(r,a),y=Oy(c,d);return m||y-v||!!h-!!i||+r-+c||+a-+d}function oI(t){var e=t.event,r=e.start,a=e.end,i=t.range,l=i.start,c=i.end,d=Gt(r,"day"),h=Wi(d,c,"day"),m=eb(d,a,"minutes"),v=m?$d(a,l,"minutes"):Gl(a,l,"minutes");return h&&v}function lI(t,e){return Gi(t,e,"day")}function cI(t,e){return X2(t)&&X2(e)}var uI=Dt(function t(e){var r=this;Rt(this,t),Sl(typeof e.format=="function","date localizer `format(..)` must be a function"),Sl(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||ZU,this.formats=e.formats,this.format=function(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return eI.apply(void 0,[r,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||QU,this.inRange=e.inRange||mA,this.lt=e.lt||tb,this.lte=e.lte||Wi,this.gt=e.gt||$d,this.gte=e.gte||Gl,this.eq=e.eq||Gi,this.neq=e.neq||eb,this.startOf=e.startOf||Gt,this.endOf=e.endOf||xd,this.add=e.add||an,this.range=e.range||XU,this.diff=e.diff||qb,this.ceil=e.ceil||KU,this.min=e.min||fA,this.max=e.max||hA,this.minutes=e.minutes||Mi,this.daySpan=e.daySpan||Oy,this.firstVisibleDay=e.firstVisibleDay||iR,this.lastVisibleDay=e.lastVisibleDay||oR,this.visibleDays=e.visibleDays||VU,this.getSlotDate=e.getSlotDate||tI,this.getTimezoneOffset=e.getTimezoneOffset||function(a){return a.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||Pb,this.getTotalMin=e.getTotalMin||rI,this.getMinutesFromMidnight=e.getMinutesFromMidnight||nI,this.continuesPrior=e.continuesPrior||aI,this.continuesAfter=e.continuesAfter||sI,this.sortEvents=e.sortEvents||iI,this.inEventRange=e.inEventRange||oI,this.isSameDate=e.isSameDate||lI,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||cI,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function dI(t,e,r,a){var i=Je(Je({},t.formats),r);return Je(Je({},t),{},{messages:a,startOfWeek:function(){return t.startOfWeek(e)},format:function(c,d){return t.format(c,i[d]||d,e)}})}var fI=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.navigate=function(c){r.props.onNavigate(c)},r.view=function(c){r.props.onView(c)},r}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.localizer.messages,l=a.label;return Y.createElement("div",{className:"rbc-toolbar"},Y.createElement("span",{className:"rbc-btn-group"},Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,pr.TODAY)},i.today),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,pr.PREVIOUS)},i.previous),Y.createElement("button",{type:"button",onClick:this.navigate.bind(null,pr.NEXT)},i.next)),Y.createElement("span",{className:"rbc-toolbar-label"},l),Y.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(a){var i=this,l=this.props.views,c=this.props.view;if(l.length>1)return l.map(function(d){return Y.createElement("button",{type:"button",key:d,className:ut({"rbc-active":c===d}),onClick:i.view.bind(null,d)},a[d])})}}])})(Y.Component);function nt(t,e){t&&t.apply(null,[].concat(e))}var hI={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function mI(t){return Je(Je({},hI),t)}function pI(t){var e=t.ref,r=t.callback;A.useEffect(function(){var a=function(l){e.current&&!e.current.contains(l.target)&&r()};return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[e,r])}var vI=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],lR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.style,l=a.className,c=a.event,d=a.selected,h=a.isAllDay,m=a.onSelect,v=a.onDoubleClick,y=a.onKeyPress,b=a.localizer,x=a.continuesPrior,w=a.continuesAfter,_=a.accessors,S=a.getters,E=a.children,j=a.components,T=j.event,O=j.eventWrapper,q=a.slotStart,D=a.slotEnd,R=_n(a,vI);delete R.resizable;var L=_.title(c),$=_.tooltip(c),C=_.end(c),P=_.start(c),U=_.allDay(c),z=h||U||b.diff(P,b.ceil(C,"day"),"day")>1,W=S.eventProp(c,P,C,d),ee=Y.createElement("div",{className:"rbc-event-content",title:$||void 0},T?Y.createElement(T,{event:c,continuesPrior:x,continuesAfter:w,title:L,isAllDay:U,localizer:b,slotStart:q,slotEnd:D}):L);return Y.createElement(O,Object.assign({},this.props,{type:"date"}),Y.createElement("div",Object.assign({},R,{style:Je(Je({},W.style),i),className:ut("rbc-event",l,W.className,{"rbc-selected":d,"rbc-event-allday":z,"rbc-event-continues-prior":x,"rbc-event-continues-after":w}),onClick:function(K){return m&&m(c,K)},onDoubleClick:function(K){return v&&v(c,K)},onKeyDown:function(K){return y&&y(c,K)}}),typeof E=="function"?E(ee):ee))}}])})(Y.Component);function cf(t,e){return!t||e==null?!1:rz(t,e)}function cR(t,e){var r=t.right-t.left,a=r/e;return a}function uR(t,e,r,a){var i=cR(t,a);return r?a-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function gI(t,e){var r=e.x,a=e.y;return a>=t.top&&a<=t.bottom&&r>=t.left&&r<=t.right}function yI(t,e,r,a,i){var l=-1,c=-1,d=a-1,h=cR(e,a),m=uR(e,r.x,i,a),v=e.top<r.y&&e.bottom>r.y,y=e.top<t.y&&e.bottom>t.y,b=t.y>e.bottom,x=e.top>t.y,w=r.top<e.top&&r.bottom>e.bottom;return w&&(l=0,c=d),v&&(x?(l=0,c=m):b&&(l=m,c=d)),y&&(l=c=i?d-Math.floor((t.x-e.left)/h):Math.floor((t.x-e.left)/h),v?m<l?l=m:c=m:t.y<r.y?c=d:l=0),{startIdx:l,endIdx:c}}function bI(t){var e=t.target,r=t.offset,a=t.container,i=t.box,l=rn(e),c=l.top,d=l.left,h=l.width,m=l.height,v=rn(a),y=v.top,b=v.left,x=v.width,w=v.height,_=rn(i),S=_.width,E=_.height,j=y+w,T=b+x,O=c+E,q=d+S,D=r.x,R=r.y,L=O>j?c-E-R:c+R+m,$=q>T?d+D-S+h:d+D;return{topOffset:L,leftOffset:$}}function xI(t){var e=t.containerRef,r=t.accessors,a=t.getters,i=t.selected,l=t.components,c=t.localizer,d=t.position,h=t.show,m=t.events,v=t.slotStart,y=t.slotEnd,b=t.onSelect,x=t.onDoubleClick,w=t.onKeyPress,_=t.handleDragStart,S=t.popperRef,E=t.target,j=t.offset;pI({ref:S,callback:h}),A.useLayoutEffect(function(){var q=bI({target:E,offset:j,container:e.current,box:S.current}),D=q.topOffset,R=q.leftOffset;S.current.style.top="".concat(D,"px"),S.current.style.left="".concat(R,"px")},[j.x,j.y,E]);var T=d.width,O={minWidth:T+T/2};return Y.createElement("div",{style:O,className:"rbc-overlay",ref:S},Y.createElement("div",{className:"rbc-overlay-header"},c.format(v,"dayHeaderFormat")),m.map(function(q,D){return Y.createElement(lR,{key:D,type:"popup",localizer:c,event:q,getters:a,onSelect:b,accessors:r,components:l,onDoubleClick:x,onKeyPress:w,continuesPrior:c.lt(r.end(q),v,"day"),continuesAfter:c.gte(r.start(q),y,"day"),slotStart:v,slotEnd:y,selected:cf(q,i),draggable:!0,onDragStart:function(){return _(q)},onDragEnd:function(){return h()}})}))}var dR=Y.forwardRef(function(t,e){return Y.createElement(xI,Object.assign({},t,{popperRef:e}))});dR.propTypes={accessors:ue.object.isRequired,getters:ue.object.isRequired,selected:ue.object,components:ue.object.isRequired,localizer:ue.object.isRequired,position:ue.object.isRequired,show:ue.func.isRequired,events:ue.array.isRequired,slotStart:ue.instanceOf(Date).isRequired,slotEnd:ue.instanceOf(Date),onSelect:ue.func,onDoubleClick:ue.func,onKeyPress:ue.func,handleDragStart:ue.func,style:ue.object,offset:ue.shape({x:ue.number,y:ue.number})};function wI(t){var e=t.containerRef,r=t.popupOffset,a=r===void 0?5:r,i=t.overlay,l=t.accessors,c=t.localizer,d=t.components,h=t.getters,m=t.selected,v=t.handleSelectEvent,y=t.handleDoubleClickEvent,b=t.handleKeyPressEvent,x=t.handleDragStart,w=t.onHide,_=t.overlayDisplay,S=A.useRef(null);if(!i.position)return null;var E=a;isNaN(a)||(E={x:a,y:a});var j=i.position,T=i.events,O=i.date,q=i.end;return Y.createElement(bb,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:w,target:i.target},function(D){var R=D.props;return Y.createElement(dR,Object.assign({},R,{containerRef:e,ref:S,target:i.target,offset:E,accessors:l,getters:h,selected:m,components:d,localizer:c,position:j,show:_,events:T,slotStart:O,slotEnd:q,onSelect:v,onDoubleClick:y,onKeyPress:b,handleDragStart:x}))})}var Lb=Y.forwardRef(function(t,e){return Y.createElement(wI,Object.assign({},t,{containerRef:e}))});Lb.propTypes={popupOffset:ue.oneOfType([ue.number,ue.shape({x:ue.number,y:ue.number})]),overlay:ue.shape({position:ue.object,events:ue.array,date:ue.instanceOf(Date),end:ue.instanceOf(Date)}),accessors:ue.object.isRequired,localizer:ue.object.isRequired,components:ue.object.isRequired,getters:ue.object.isRequired,selected:ue.object,handleSelectEvent:ue.func,handleDoubleClickEvent:ue.func,handleKeyPressEvent:ue.func,handleDragStart:ue.func,onHide:ue.func,overlayDisplay:ue.func};function Xt(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return vn(r,t,e,{passive:!1})}function _I(t,e,r){return!t||Qn(t,document.elementFromPoint(e,r))}function SI(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return ec(i,".rbc-event",t)}function EI(t,e){var r=e.clientX,a=e.clientY,i=document.elementFromPoint(r,a);return ec(i,".rbc-show-more",t)}function Sd(t,e){return!!SI(t,e)}function jI(t,e){return!!EI(t,e)}function el(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var Q2=5,NI=250,fR=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.global,i=a===void 0?!1:a,l=r.longPressThreshold,c=l===void 0?250:l,d=r.validContainers,h=d===void 0?[]:d;Rt(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=c,this.validContainers=h,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Xt("touchmove",function(){},window),this._removeKeyDownListener=Xt("keydown",this._keyListener),this._removeKeyUpListener=Xt("keyup",this._keyListener),this._removeDropFromOutsideListener=Xt("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Xt("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Dt(t,[{key:"on",value:function(r,a){var i=this._listeners[r]||(this._listeners[r]=[]);return i.push(a),{remove:function(){var c=i.indexOf(a);c!==-1&&i.splice(c,1)}}}},{key:"emit",value:function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),l=1;l<a;l++)i[l-1]=arguments[l];var c,d=this._listeners[r]||[];return d.forEach(function(h){c===void 0&&(c=h.apply(void 0,i))}),c}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var a=this._selectRect;return!a||!this.selecting?!1:J2(a,Os(r))}},{key:"filter",value:function(r){var a=this._selectRect;return!a||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,a){var i=this,l=null,c=null,d=null,h=function(b){l=setTimeout(function(){v(),r(b)},i.longPressThreshold),c=Xt("touchmove",function(){return v()}),d=Xt("touchend",function(){return v()})},m=Xt("touchstart",h),v=function(){l&&clearTimeout(l),c&&c(),d&&d(),l=null,c=null,d=null};return a&&h(a),function(){v(),m()}}},{key:"_addInitialEventListener",value:function(){var r=this,a=Xt("mousedown",function(l){r._removeInitialEventListener(),r._handleInitialEvent(l),r._removeInitialEventListener=Xt("mousedown",r._handleInitialEvent)}),i=Xt("touchstart",function(l){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,l)});this._removeInitialEventListener=function(){a(),i()}}},{key:"_dropFromOutsideListener",value:function(r){var a=el(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY;this.emit("dropFromOutside",{x:i,y:l,clientX:c,clientY:d}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var a=el(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY;this.emit("dragOverFromOutside",{x:i,y:l,clientX:c,clientY:d}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var a=el(r),i=a.clientX,l=a.clientY,c=a.pageX,d=a.pageY,h=this.container(),m,v;if(!(r.which===3||r.button===2||!_I(h,i,l))){if(!this.globalMouse&&h&&!Qn(h,r.target)){var y=TI(0),b=y.top,x=y.left,w=y.bottom,_=y.right;if(v=Os(h),m=J2({top:v.top-b,left:v.left-x,bottom:v.bottom+w,right:v.right+_},{top:d,left:c}),!m)return}var S=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:c,y:d,clientX:i,clientY:l});if(S!==!1)switch(r.type){case"mousedown":this._removeEndListener=Xt("mouseup",this._handleTerminatingEvent),this._onEscListener=Xt("keydown",this._handleTerminatingEvent),this._removeMoveListener=Xt("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Xt("touchend",this._handleTerminatingEvent),this._removeMoveListener=Xt("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var a=r.target,i=this.validContainers;return!i||!i.length||!a?!0:i.some(function(l){return!!a.closest(l)})}},{key:"_handleTerminatingEvent",value:function(r){var a=this.selecting,i=this._selectRect;if(!a&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var l=!this.container||Qn(this.container(),r.target),c=this._isWithinValidContainer(r);return r.key==="Escape"||!c?this.emit("reset"):!a&&l?this._handleClickEvent(r):a?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var a=el(r),i=a.pageX,l=a.pageY,c=a.clientX,d=a.clientY,h=new Date().getTime();return this._lastClickData&&h-this._lastClickData.timestamp<NI?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:l,clientX:c,clientY:d})):(this._lastClickData={timestamp:h},this.emit("click",{x:i,y:l,clientX:c,clientY:d}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var a=this._initialEventData,i=a.x,l=a.y,c=el(r),d=c.pageX,h=c.pageY,m=Math.abs(i-d),v=Math.abs(l-h),y=Math.min(d,i),b=Math.min(h,l),x=this.selecting,w=this.isClick(d,h);w&&!x&&!(m||v)||(!x&&!w&&this.emit("selectStart",this._initialEventData),w||(this.selecting=!0,this._selectRect={top:b,left:y,x:d,y:h,right:y+m,bottom:b+v},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,a){var i=this._initialEventData,l=i.x,c=i.y,d=i.isTouch;return!d&&Math.abs(r-l)<=Q2&&Math.abs(a-c)<=Q2}}])})();function TI(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Xn(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function J2(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=Os(t),i=a.top,l=a.left,c=a.right,d=c===void 0?l:c,h=a.bottom,m=h===void 0?i:h,v=Os(e),y=v.top,b=v.left,x=v.right,w=x===void 0?b:x,_=v.bottom,S=_===void 0?y:_;return!(m-r<y||i+r>S||d-r<b||l+r>w)}function Os(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),r=e.left+Z2("left"),a=e.top+Z2("top");return{top:a,left:r,right:(t.offsetWidth||0)+r,bottom:(t.offsetHeight||0)+a}}function Z2(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var OI=(function(t){function e(r,a){var i;return Rt(this,e),i=Jt(this,e,[r,a]),i.state={selecting:!1},i.containerRef=A.createRef(),i}return Zt(e,t),Dt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(a){!a.selectable&&this.props.selectable&&this._selectable(),a.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var a=this.props,i=a.range,l=a.getNow,c=a.getters,d=a.date,h=a.components.dateCellWrapper,m=a.localizer,v=this.state,y=v.selecting,b=v.startIdx,x=v.endIdx,w=l();return Y.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(_,S){var E=y&&S>=b&&S<=x,j=c.dayProp(_),T=j.className,O=j.style;return Y.createElement(h,{key:S,value:_,range:i},Y.createElement("div",{style:O,className:ut("rbc-day-bg",T,E&&"rbc-selected-cell",m.isSameDate(_,w)&&"rbc-today",d&&m.neq(d,_,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var a=this,i=this.containerRef.current,l=this._selector=new fR(this.props.container,{longPressThreshold:this.props.longPressThreshold}),c=function(h,m){if(!Sd(i,h)&&!jI(i,h)){var v=Os(i),y=a.props,b=y.range,x=y.rtl;if(gI(v,h)){var w=uR(v,h.x,x,b.length);a._selectSlot({startIdx:w,endIdx:w,action:m,box:h})}}a._initial={},a.setState({selecting:!1})};l.on("selecting",function(d){var h=a.props,m=h.range,v=h.rtl,y=-1,b=-1;if(a.state.selecting||(nt(a.props.onSelectStart,[d]),a._initial={x:d.x,y:d.y}),l.isSelected(i)){var x=Os(i),w=yI(a._initial,x,d,m.length,v);y=w.startIdx,b=w.endIdx}a.setState({selecting:!0,startIdx:y,endIdx:b})}),l.on("beforeSelect",function(d){if(a.props.selectable==="ignoreEvents")return!Sd(a.containerRef.current,d)}),l.on("click",function(d){return c(d,"click")}),l.on("doubleClick",function(d){return c(d,"doubleClick")}),l.on("select",function(d){a._selectSlot(Je(Je({},a.state),{},{action:"select",bounds:d})),a._initial={},a.setState({selecting:!1}),nt(a.props.onSelectEnd,[a.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(a){var i=a.endIdx,l=a.startIdx,c=a.action,d=a.bounds,h=a.box;i!==-1&&l!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:l,end:i,action:c,bounds:d,box:h,resourceId:this.props.resourceId})}}])})(Y.Component),Ur={propTypes:{slotMetrics:ue.object.isRequired,selected:ue.object,isAllDay:ue.bool,accessors:ue.object.isRequired,localizer:ue.object.isRequired,components:ue.object.isRequired,getters:ue.object.isRequired,onSelect:ue.func,onDoubleClick:ue.func,onKeyPress:ue.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,r){var a=e.selected;e.isAllDay;var i=e.accessors,l=e.getters,c=e.onSelect,d=e.onDoubleClick,h=e.onKeyPress,m=e.localizer,v=e.slotMetrics,y=e.components,b=e.resizable,x=v.continuesPrior(r),w=v.continuesAfter(r);return Y.createElement(lR,{event:r,getters:l,localizer:m,accessors:i,components:y,onSelect:c,onDoubleClick:d,onKeyPress:h,continuesPrior:x,continuesAfter:w,slotStart:v.first,slotEnd:v.last,selected:cf(r,a),resizable:b})},renderSpan:function(e,r,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",l=Math.abs(r)/e*100+"%";return Y.createElement("div",{key:a,className:"rbc-row-segment",style:{WebkitFlexBasis:l,flexBasis:l,maxWidth:l}},i)}},hR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this,i=this.props,l=i.segments,c=i.slotMetrics.slots,d=i.className,h=1;return Y.createElement("div",{className:ut(d,"rbc-row")},l.reduce(function(m,v,y){var b=v.event,x=v.left,w=v.right,_=v.span,S="_lvl_"+y,E=x-h,j=Ur.renderEvent(a.props,b);return E&&m.push(Ur.renderSpan(c,E,"".concat(S,"_gap"))),m.push(Ur.renderSpan(c,_,S,j)),h=w+1,m},[]))}}])})(Y.Component);hR.defaultProps=Je({},Ur.defaultProps);function mR(t){var e=t.dateRange,r=t.unit,a=r===void 0?"day":r,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,a)}}function CI(t,e,r,a){var i=mR({dateRange:e,localizer:a}),l=i.first,c=i.last,d=a.diff(l,c,"day"),h=a.max(a.startOf(r.start(t),"day"),l),m=a.min(a.ceil(r.end(t),"day"),c),v=_z(e,function(b){return a.isSameDate(b,h)}),y=a.diff(h,m,"day");return y=Math.min(y,d),y=Math.max(y-a.segmentOffset,1),{event:t,span:y,left:v+1,right:Math.max(v+y,1)}}function Cy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,a,i,l=[],c=[];for(r=0;r<t.length;r++){for(i=t[r],a=0;a<l.length&&AI(i,l[a]);a++);a>=e?c.push(i):(l[a]||(l[a]=[])).push(i)}for(r=0;r<l.length;r++)l[r].sort(function(d,h){return d.left-h.left});return{levels:l,extra:c}}function Pl(t,e,r,a,i){var l={start:a.start(t),end:a.end(t)},c={start:e,end:r};return i.inEventRange({event:l,range:c})}function AI(t,e){return e.some(function(r){return r.left<=t.right&&r.right>=t.left})}function RI(t,e,r){var a=Wu(t),i=[],l=[];a.forEach(function(h){var m=e.start(h),v=e.end(h);r.daySpan(m,v)>1?i.push(h):l.push(h)});var c=i.sort(function(h,m){return Ay(h,m,e,r)}),d=l.sort(function(h,m){return Ay(h,m,e,r)});return[].concat(Wu(c),Wu(d))}function Ay(t,e,r,a){var i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)},l={start:r.start(e),end:r.end(e),allDay:r.allDay(e)};return a.sortEvents({evtA:i,evtB:l})}var Ry=function(e,r){return e.left<=r&&e.right>=r},E0=function(e,r){return e.filter(function(a){return Ry(a,r)}).map(function(a){return a.event})},pR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){for(var a=this.props,i=a.segments,l=a.slotMetrics.slots,c=Cy(i).levels[0],d=1,h=1,m=[];d<=l;){var v="_lvl_"+d,y=c.filter(function(O){return Ry(O,d)})[0]||{},b=y.event,x=y.left,w=y.right,_=y.span;if(!b){var S=this.getHiddenEventsForSlot(i,d);if(S.length>0){var E=d-h;E&&m.push(Ur.renderSpan(l,E,v+"_gap")),m.push(Ur.renderSpan(l,1,v,this.renderShowMore(i,d))),h=d=d+1;continue}d++;continue}var j=Math.max(0,x-h);if(this.canRenderSlotEvent(x,_)){var T=Ur.renderEvent(this.props,b);j&&m.push(Ur.renderSpan(l,j,v+"_gap")),m.push(Ur.renderSpan(l,_,v,T)),h=d=w+1}else j&&m.push(Ur.renderSpan(l,j,v+"_gap")),m.push(Ur.renderSpan(l,1,v,this.renderShowMore(i,d))),h=d=d+1}return Y.createElement("div",{className:"rbc-row"},m)}},{key:"getHiddenEventsForSlot",value:function(a,i){var l=E0(a,i),c=Cy(a).levels[0],d=c.filter(function(h){return Ry(h,i)}).map(function(h){return h.event});return l.filter(function(h){return!d.some(function(m){return m===h})})}},{key:"canRenderSlotEvent",value:function(a,i){var l=this.props.segments;return Tz(a,a+i).every(function(c){var d=E0(l,c).length;return d===1})}},{key:"renderShowMore",value:function(a,i){var l=this,c=this.props,d=c.localizer,h=c.slotMetrics,m=c.components,v=h.getEventsForSlot(i),y=E0(a,i),b=y.length;if(m!=null&&m.showMore){var x=m.showMore,w=h.getDateForSlot(i-1);return b?Y.createElement(x,{localizer:d,slotDate:w,slot:i,count:b,events:v,remainingEvents:y}):!1}return b?Y.createElement("button",{type:"button",key:"sm_"+i,className:ut("rbc-button-link","rbc-show-more"),onClick:function(S){return l.showMore(i,S)}},d.messages.showMore(b,y,v)):!1}},{key:"showMore",value:function(a,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(a,i.target)}}])})(Y.Component);pR.defaultProps=Je({},Ur.defaultProps);var DI=function(e){var r=e.children;return Y.createElement("div",{className:"rbc-row-content-scroll-container"},r)},kI=function(e,r){return e.left<=r&&e.right>=r},MI=function(e,r){return e[0].range===r[0].range&&e[0].events===r[0].events};function vR(){return VA(function(t){for(var e=t.range,r=t.events,a=t.maxRows,i=t.minRows,l=t.accessors,c=t.localizer,d=mR({dateRange:e,localizer:c}),h=d.first,m=d.last,v=r.map(function(_){return CI(_,e,l,c)}),y=Cy(v,Math.max(a-1,1)),b=y.levels,x=y.extra,w=x.length>0?i-1:i;b.length<w;)b.push([]);return{first:h,last:m,levels:b,extra:x,range:e,slots:e.length,clone:function(S){var E=vR();return E(Je(Je({},t),S))},getDateForSlot:function(S){return e[S]},getSlotForDate:function(S){return e.find(function(E){return c.isSameDate(E,S)})},getEventsForSlot:function(S){return v.filter(function(E){return kI(E,S)}).map(function(E){return E.event})},continuesPrior:function(S){return c.continuesPrior(l.start(S),h)},continuesAfter:function(S){var E=l.start(S),j=l.end(S);return c.continuesAfter(E,j,m)}}},MI)}var Ll=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.handleSelectSlot=function(c){var d=r.props,h=d.range,m=d.onSelectSlot;m(h.slice(c.start,c.end+1),c)},r.handleShowMore=function(c,d){var h=r.props,m=h.range,v=h.onShowMore,y=r.slotMetrics(r.props),b=Fd(r.containerRef.current,".rbc-row-bg")[0],x;b&&(x=b.children[c-1]);var w=y.getEventsForSlot(c);v(w,m[c-1],x,c,d)},r.getContainer=function(){var c=r.props.container;return c?c():r.containerRef.current},r.renderHeadingCell=function(c,d){var h=r.props,m=h.renderHeader,v=h.getNow,y=h.localizer;return m({date:c,key:"header_".concat(d),className:ut("rbc-date-cell",y.isSameDate(c,v())&&"rbc-now")})},r.renderDummy=function(){var c=r.props,d=c.className,h=c.range,m=c.renderHeader,v=c.showAllEvents;return Y.createElement("div",{className:d,ref:r.containerRef},Y.createElement("div",{className:ut("rbc-row-content",v&&"rbc-row-content-scrollable")},m&&Y.createElement("div",{className:"rbc-row",ref:r.headingRowRef},h.map(r.renderHeadingCell)),Y.createElement("div",{className:"rbc-row",ref:r.eventRowRef},Y.createElement("div",{className:"rbc-row-segment"},Y.createElement("div",{className:"rbc-event"},Y.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=A.createRef(),r.headingRowRef=A.createRef(),r.eventRowRef=A.createRef(),r.slotMetrics=vR(),r}return Zt(e,t),Dt(e,[{key:"getRowLimit",value:function(){var a,i=ys(this.eventRowRef.current),l=(a=this.headingRowRef)!==null&&a!==void 0&&a.current?ys(this.headingRowRef.current):0,c=ys(this.containerRef.current)-l;return Math.max(Math.floor(c/i),1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.rtl,c=a.range,d=a.className,h=a.selected,m=a.selectable,v=a.renderForMeasure,y=a.accessors,b=a.getters,x=a.components,w=a.getNow,_=a.renderHeader,S=a.onSelect,E=a.localizer,j=a.onSelectStart,T=a.onSelectEnd,O=a.onDoubleClick,q=a.onKeyPress,D=a.resourceId,R=a.longPressThreshold,L=a.isAllDay,$=a.resizable,C=a.showAllEvents;if(v)return this.renderDummy();var P=this.slotMetrics(this.props),U=P.levels,z=P.extra,W=C?DI:fn,ee=x.weekWrapper,B={selected:h,accessors:y,getters:b,localizer:E,components:x,onSelect:S,onDoubleClick:O,onKeyPress:q,resourceId:D,slotMetrics:P,resizable:$};return Y.createElement("div",{className:d,role:"rowgroup",ref:this.containerRef},Y.createElement(OI,{localizer:E,date:i,getNow:w,rtl:l,range:c,selectable:m,container:this.getContainer,getters:b,onSelectStart:j,onSelectEnd:T,onSelectSlot:this.handleSelectSlot,components:x,longPressThreshold:R,resourceId:D}),Y.createElement("div",{className:ut("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},_&&Y.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},c.map(this.renderHeadingCell)),Y.createElement(W,null,Y.createElement(ee,Object.assign({isAllDay:L},B,{rtl:this.props.rtl}),U.map(function(K,ae){return Y.createElement(hR,Object.assign({key:ae,segments:K},B))}),!!z.length&&Y.createElement(pR,Object.assign({segments:z,onShowMore:this.handleShowMore},B))))))}}])})(Y.Component);Ll.defaultProps={minRows:0,maxRows:1/0};var $b=function(e){var r=e.label;return Y.createElement("span",{role:"columnheader","aria-sort":"none"},r)},qI=function(e){var r=e.label,a=e.drilldownView,i=e.onDrillDown;return a?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},r):Y.createElement("span",null,r)},PI=["date","className"],LI=function(e,r,a,i,l){return e.filter(function(c){return Pl(c,r,a,i,l)})},uf=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(c,d){var h=r.props,m=h.events,v=h.components,y=h.selectable,b=h.getNow,x=h.selected,w=h.date,_=h.localizer,S=h.longPressThreshold,E=h.accessors,j=h.getters,T=h.showAllEvents,O=r.state,q=O.needLimitMeasure,D=O.rowLimit,R=LI(Wu(m),c[0],c[c.length-1],E,_),L=RI(R,E,_);return Y.createElement(Ll,{key:d,ref:d===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:b,date:w,range:c,events:L,maxRows:T?1/0:D,selected:x,selectable:y,components:v,accessors:E,getters:j,localizer:_,renderHeader:r.readerDateHeading,renderForMeasure:q,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:S,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:T})},r.readerDateHeading=function(c){var d=c.date,h=c.className,m=_n(c,PI),v=r.props,y=v.date,b=v.getDrilldownView,x=v.localizer,w=x.neq(y,d,"month"),_=x.isSameDate(d,y),S=b(d),E=x.format(d,"dateFormat"),j=r.props.components.dateHeader||qI;return Y.createElement("div",Object.assign({},m,{className:ut(h,w&&"rbc-off-range",_&&"rbc-current"),role:"cell"}),Y.createElement(j,{label:E,date:d,drilldownView:S,isOffRange:w,onDrillDown:function(O){return r.handleHeadingClick(d,S,O)}}))},r.handleSelectSlot=function(c,d){r._pendingSelection=r._pendingSelection.concat(c),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(d)})},r.handleHeadingClick=function(c,d,h){h.preventDefault(),r.clearSelection(),nt(r.props.onDrillDown,[c,d])},r.handleSelectEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){r.clearSelection();for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onKeyPressEvent,d)},r.handleShowMore=function(c,d,h,m,v){var y=r.props,b=y.popup,x=y.onDrillDown,w=y.onShowMore,_=y.getDrilldownView,S=y.doShowMoreDrillDown;if(r.clearSelection(),b){var E=Bd(h,r.containerRef.current);r.setState({overlay:{date:d,events:c,position:E,target:v}})}else S&&nt(x,[d,_(d)||At.DAY]);nt(w,[c,d,m])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=A.createRef(),r.slotRowRef=A.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Zt(e,t),Dt(e,[{key:"componentDidMount",value:function(){var a=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||Kl(function(){i=!1,a.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.className,d=l.visibleDays(i,l),h=OP(d,7);return this._weekCount=h.length,Y.createElement("div",{className:ut("rbc-month-view",c),role:"table","aria-label":"Month View",ref:this.containerRef},Y.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(h[0])),h.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(a){var i=this.props,l=i.localizer,c=i.components,d=a[0],h=a[a.length-1],m=c.header||$b;return l.range(d,h,"day").map(function(v,y){return Y.createElement("div",{key:"header_"+y,className:"rbc-header"},Y.createElement(m,{date:v,localizer:l,label:l.format(v,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var a,i,l=this,c=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,h=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(Lb,{overlay:c,accessors:h,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(a){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(d,h){return+d-+h});var l=new Date(i[0]),c=new Date(i[i.length-1]);c.setDate(i[i.length-1].getDate()+1),nt(this.props.onSelectSlot,{slots:i,start:l,end:c,action:a.action,bounds:a.bounds,box:a.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(a,i){var l=a.date,c=a.localizer;return{date:l,needLimitMeasure:c.neq(l,i.date,"month")}}}])})(Y.Component);uf.range=function(t,e){var r=e.localizer,a=r.firstVisibleDay(t,r),i=r.lastVisibleDay(t,r);return{start:a,end:i}};uf.navigate=function(t,e,r){var a=r.localizer;switch(e){case pr.PREVIOUS:return a.add(t,-1,"month");case pr.NEXT:return a.add(t,1,"month");default:return t}};uf.title=function(t,e){var r=e.localizer;return r.format(t,"monthHeaderFormat")};var eT=function(e){var r=e.min,a=e.max,i=e.step,l=e.slots,c=e.localizer;return"".concat(+c.startOf(r,"minutes"))+"".concat(+c.startOf(a,"minutes"))+"".concat(i,"-").concat(l)};function zb(t){for(var e=t.min,r=t.max,a=t.step,i=t.timeslots,l=t.localizer,c=eT({step:a,localizer:l}),d=1+l.getTotalMin(e,r),h=l.getMinutesFromMidnight(e),m=Math.ceil((d-1)/(a*i)),v=m*i,y=new Array(m),b=new Array(v),x=0;x<m;x++){y[x]=new Array(i);for(var w=0;w<i;w++){var _=x*i+w,S=_*a;b[_]=y[x][w]=l.getSlotDate(e,h,S)}}var E=b.length*a;b.push(l.getSlotDate(e,h,E));function j(T){var O=l.diff(e,T,"minutes")+l.getDstOffset(e,T);return Math.min(O,d)}return{groups:y,update:function(O){return eT(O)!==c?zb(O):this},dateIsInGroup:function(O,q){var D=y[q+1];return l.inRange(O,y[q][0],D?D[0]:r,"minutes")},nextSlot:function(O){var q=b[Math.min(b.findIndex(function(D){return D===O||l.eq(D,O)})+1,b.length-1)];return l.eq(q,O)&&(q=l.add(O,a,"minutes")),q},closestSlotToPosition:function(O){var q=Math.min(b.length-1,Math.max(0,Math.floor(O*v)));return b[q]},closestSlotFromPoint:function(O,q){var D=Math.abs(q.top-q.bottom);return this.closestSlotToPosition((O.y-q.top)/D)},closestSlotFromDate:function(O){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(l.lt(O,e,"minutes"))return b[0];if(l.gt(O,r,"minutes"))return b[b.length-1];var D=l.diff(e,O,"minutes");return b[(D-D%a)/a+q]},startsBeforeDay:function(O){return l.lt(O,e,"day")},startsAfterDay:function(O){return l.gt(O,r,"day")},startsBefore:function(O){return l.lt(l.merge(e,O),e,"minutes")},startsAfter:function(O){return l.gt(l.merge(r,O),r,"minutes")},getRange:function(O,q,D,R){D||(O=l.min(r,l.max(e,O))),R||(q=l.min(r,l.max(e,q)));var L=j(O),$=j(q),C=$>a*v&&!l.eq(r,q)?(L-a)/(a*v)*100:L/(a*v)*100;return{top:C,height:$/(a*v)*100-C,start:j(O),startDate:O,end:j(q),endDate:q}},getCurrentTimePosition:function(O){var q=j(O),D=q/(a*v)*100;return D}}}var $I=(function(){function t(e,r){var a=r.accessors,i=r.slotMetrics;Rt(this,t);var l=i.getRange(a.start(e),a.end(e)),c=l.start,d=l.startDate,h=l.end,m=l.endDate,v=l.top,y=l.height;this.start=c,this.end=h,this.startMs=+d,this.endMs=+m,this.top=v,this.height=y,this.data=e}return Dt(t,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(i,l){return Math.max(i,l.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var a=100-this.container._width;return a/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,a=Math.min(100,this._width*1.7);if(this.rows)return a;if(this.leaves)return this.leaves.length>0?a:r;var i=this.row.leaves,l=i.indexOf(this);return l===i.length-1?r:a}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,a=r.leaves,i=r.xOffset,l=r._width,c=a.indexOf(this)+1;return i+c*l}}])})();function zI(t,e,r){return Math.abs(e.start-t.start)<r||e.start>t.start&&e.start<t.end}function UI(t){for(var e=Wz(t,["startMs",function(d){return-d.endMs}]),r=[];e.length>0;){var a=e.shift();r.push(a);for(var i=0;i<e.length;i++){var l=e[i];if(!(a.endMs>l.startMs)){if(i>0){var c=e.splice(i,1)[0];r.push(c)}break}}}return r}function gR(t){for(var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=e.map(function(v){return new $I(v,{slotMetrics:a,accessors:i})}),c=UI(l),d=[],h=function(){var y=c[m],b=d.find(function(_){return _.end>y.start||Math.abs(y.start-_.start)<r});if(!b)return y.rows=[],d.push(y),1;y.container=b;for(var x=null,w=b.rows.length-1;!x&&w>=0;w--)zI(b.rows[w],y,r)&&(x=b.rows[w]);x?(x.leaves.push(y),y.row=x):(y.leaves=[],b.rows.push(y))},m=0;m<c.length;m++)h();return c.map(function(v){return{event:v.data,style:{top:v.top,height:v.height,width:v.width,xOffset:Math.max(0,v.xOffset)}}})}function yR(t,e,r){for(var a=0;a<t.friends.length;++a)if(!(r.indexOf(t.friends[a])>-1)){e=e>t.friends[a].idx?e:t.friends[a].idx,r.push(t.friends[a]);var i=yR(t.friends[a],e,r);e=e>i?e:i}return e}function II(t){var e=t.events,r=t.minimumStartDifference,a=t.slotMetrics,i=t.accessors,l=gR({events:e,minimumStartDifference:r,slotMetrics:a,accessors:i});l.sort(function(ee,B){return ee=ee.style,B=B.style,ee.top!==B.top?ee.top>B.top?1:-1:ee.height!==B.height?ee.top+ee.height<B.top+B.height?1:-1:0});for(var c=0;c<l.length;++c)l[c].friends=[],delete l[c].style.left,delete l[c].style.left,delete l[c].idx,delete l[c].size;for(var d=0;d<l.length-1;++d)for(var h=l[d],m=h.style.top,v=h.style.top+h.style.height,y=d+1;y<l.length;++y){var b=l[y],x=b.style.top,w=b.style.top+b.style.height;(x>=m&&w<=v||w>m&&w<=v||x>=m&&x<v)&&(h.friends.push(b),b.friends.push(h))}for(var _=0;_<l.length;++_){for(var S=l[_],E=[],j=0;j<100;++j)E.push(1);for(var T=0;T<S.friends.length;++T)S.friends[T].idx!==void 0&&(E[S.friends[T].idx]=0);S.idx=E.indexOf(1)}for(var O=0;O<l.length;++O){var q=0;if(!l[O].size){var D=[],R=yR(l[O],0,D);q=100/(R+1),l[O].size=q;for(var L=0;L<D.length;++L)D[L].size=q}}for(var $=0;$<l.length;++$){var C=l[$];C.style.left=C.idx*C.size;for(var P=0,U=0;U<C.friends.length;++U){var z=C.friends[U].idx;P=P>z?P:z}P<=C.idx&&(C.size=100-C.idx*C.size);var W=C.idx===0?0:3;C.style.width="calc(".concat(C.size,"% - ").concat(W,"px)"),C.style.height="calc(".concat(C.style.height,"% - 2px)"),C.style.xOffset="calc(".concat(C.style.left,"% + ").concat(W,"px)")}return l}var tT={overlap:gR,"no-overlap":II};function BI(t){return!!(t&&t.constructor&&t.call&&t.apply)}function HI(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,r=e;return e in tT&&(r=tT[e]),BI(r)?r.apply(this,arguments):[]}var bR=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.renderSlot,l=a.resource,c=a.group,d=a.getters,h=a.components,m=h===void 0?{}:h,v=m.timeSlotWrapper,y=v===void 0?fn:v,b=d?d.slotGroupProp(c):{};return Y.createElement("div",Object.assign({className:"rbc-timeslot-group"},b),c.map(function(x,w){var _=d?d.slotProp(x,l):{};return Y.createElement(y,{key:w,value:x,resource:l},Y.createElement("div",Object.assign({},_,{className:ut("rbc-time-slot",_.className)}),i&&i(x,w)))}))}}])})(A.Component);function qu(t){return typeof t=="string"?t:t+"%"}function FI(t){var e=t.style,r=t.className,a=t.event,i=t.accessors,l=t.rtl,c=t.selected,d=t.label,h=t.continuesPrior,m=t.continuesAfter,v=t.getters,y=t.onClick,b=t.onDoubleClick,x=t.isBackgroundEvent,w=t.onKeyPress,_=t.components,S=_.event,E=_.eventWrapper,j=i.title(a),T=i.tooltip(a),O=i.end(a),q=i.start(a),D=v.eventProp(a,q,O,c),R=[Y.createElement("div",{key:"1",className:"rbc-event-label"},d),Y.createElement("div",{key:"2",className:"rbc-event-content"},S?Y.createElement(S,{event:a,title:j}):j)],L=e.height,$=e.top,C=e.width,P=e.xOffset,U=Je(Je({},D.style),{},ms({top:qu($),height:qu(L),width:qu(C)},l?"right":"left",qu(P)));return Y.createElement(E,Object.assign({type:"time"},t),Y.createElement("div",{role:"button",tabIndex:0,onClick:y,onDoubleClick:b,style:U,onKeyDown:w,title:T?(typeof d=="string"?d+": ":"")+T:void 0,className:ut(x?"rbc-background-event":"rbc-event",r,D.className,{"rbc-selected":c,"rbc-event-continues-earlier":h,"rbc-event-continues-later":m})},R))}var GI=function(e){var r=e.children,a=e.className,i=e.style,l=e.innerRef;return Y.createElement("div",{className:a,style:i,ref:l},r)},WI=Y.forwardRef(function(t,e){return Y.createElement(GI,Object.assign({},t,{innerRef:e}))}),YI=["dayProp"],VI=["eventContainerWrapper","timeIndicatorWrapper"],xR=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(c){var d=c.events,h=c.isBackgroundEvent,m=r.props,v=m.rtl,y=m.selected,b=m.accessors,x=m.localizer,w=m.getters,_=m.components,S=m.step,E=m.timeslots,j=m.dayLayoutAlgorithm,T=m.resizable,O=r,q=O.slotMetrics,D=x.messages,R=HI({events:d,accessors:b,slotMetrics:q,minimumStartDifference:Math.ceil(S*E/2),dayLayoutAlgorithm:j});return R.map(function(L,$){var C,P=L.event,U=L.style,z=b.end(P),W=b.start(P),ee=(C=b.eventId(P))!==null&&C!==void 0?C:"evt_"+$,B="eventTimeRangeFormat",K,ae=q.startsBeforeDay(W),le=q.startsAfterDay(z);ae?B="eventTimeRangeEndFormat":le&&(B="eventTimeRangeStartFormat"),ae&&le?K=D.allDay:K=x.format({start:W,end:z},B);var V=ae||q.startsBefore(W),M=le||q.startsAfter(z);return Y.createElement(FI,{style:U,event:P,label:K,key:ee,getters:w,rtl:v,components:_,continuesPrior:V,continuesAfter:M,accessors:b,resource:r.props.resource,selected:cf(P,y),onClick:function(ie){return r._select(Je(Je(Je({},P),r.props.resource&&{sourceResource:r.props.resource}),h&&{isBackgroundEvent:!0}),ie)},onDoubleClick:function(ie){return r._doubleClick(P,ie)},isBackgroundEvent:h,onKeyPress:function(ie){return r._keyPress(P,ie)},resizable:T})})},r._selectable=function(){var c=r.containerRef.current,d=r.props,h=d.longPressThreshold,m=d.localizer,v=r._selector=new fR(function(){return c},{longPressThreshold:h}),y=function(_){var S=r.props.onSelecting,E=r.state||{},j=b(_),T=j.startDate,O=j.endDate;S&&(m.eq(E.startDate,T,"minutes")&&m.eq(E.endDate,O,"minutes")||S({start:T,end:O,resourceId:r.props.resource})===!1)||(r.state.start!==j.start||r.state.end!==j.end||r.state.selecting!==j.selecting)&&r.setState(j)},b=function(_){var S=r.slotMetrics.closestSlotFromPoint(_,Os(c));r.state.selecting||(r._initialSlot=S);var E=r._initialSlot;m.lte(E,S)?S=r.slotMetrics.nextSlot(S):m.gt(E,S)&&(E=r.slotMetrics.nextSlot(E));var j=r.slotMetrics.getRange(m.min(E,S),m.max(E,S));return Je(Je({},j),{},{selecting:!0,top:"".concat(j.top,"%"),height:"".concat(j.height,"%")})},x=function(_,S){if(!Sd(r.containerRef.current,_)){var E=b(_),j=E.startDate,T=E.endDate;r._selectSlot({startDate:j,endDate:T,action:S,box:_})}r.setState({selecting:!1})};v.on("selecting",y),v.on("selectStart",y),v.on("beforeSelect",function(w){if(r.props.selectable==="ignoreEvents")return!Sd(r.containerRef.current,w)}),v.on("click",function(w){return x(w,"click")}),v.on("doubleClick",function(w){return x(w,"doubleClick")}),v.on("select",function(w){r.state.selecting&&(r._selectSlot(Je(Je({},r.state),{},{action:"select",bounds:w})),r.setState({selecting:!1}))}),v.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(c){for(var d=c.startDate,h=c.endDate,m=c.action,v=c.bounds,y=c.box,b=d,x=[];r.props.localizer.lte(b,h);)x.push(b),b=new Date(+b+r.props.step*60*1e3);nt(r.props.onSelectSlot,{slots:x,start:d,end:h,resourceId:r.props.resource,action:m,bounds:v,box:y})},r._select=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onSelectEvent,d)},r._doubleClick=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onDoubleClickEvent,d)},r._keyPress=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onKeyPressEvent,d)},r.slotMetrics=zb(r.props),r.containerRef=A.createRef(),r}return Zt(e,t),Dt(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(a,i){this.props.selectable&&!a.selectable&&this._selectable(),!this.props.selectable&&a.selectable&&this._teardownSelectable();var l=this.props,c=l.getNow,d=l.isNow,h=l.localizer,m=l.date,v=l.min,y=l.max,b=h.neq(a.getNow(),c(),"minutes");if(a.isNow!==d||b){if(this.clearTimeIndicatorInterval(),d){var x=!b&&h.eq(a.date,m,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(x)}}else d&&(h.neq(a.min,v,"minutes")||h.neq(a.max,y,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var a=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){a.intervalTriggered=!0,a.positionTimeIndicator(),a.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var a=this.props,i=a.min,l=a.max,c=a.getNow,d=c();if(d>=i&&d<=l){var h=this.slotMetrics.getCurrentTimePosition(d);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:h})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var a=this.props,i=a.date,l=a.max,c=a.rtl,d=a.isNow,h=a.resource,m=a.accessors,v=a.localizer,y=a.getters,b=y.dayProp,x=_n(y,YI),w=a.components,_=w.eventContainerWrapper,S=w.timeIndicatorWrapper,E=_n(w,VI);this.slotMetrics=this.slotMetrics.update(this.props);var j=this.slotMetrics,T=this.state,O=T.selecting,q=T.top,D=T.height,R=T.startDate,L=T.endDate,$={start:R,end:L},C=b(l,h),P=C.className,U=C.style,z={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},W=E.dayColumnWrapper||WI;return Y.createElement(W,{ref:this.containerRef,date:i,style:U,className:ut(P,"rbc-day-slot","rbc-time-column",d&&"rbc-now",d&&"rbc-today",O&&"rbc-slot-selecting"),slotMetrics:j,resource:h},j.groups.map(function(ee,B){return Y.createElement(bR,{key:B,group:ee,resource:h,getters:x,components:E})}),Y.createElement(_,{localizer:v,resource:h,accessors:m,getters:x,components:E,slotMetrics:j},Y.createElement("div",{className:ut("rbc-events-container",c&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),O&&Y.createElement("div",{className:"rbc-slot-selection",style:{top:q,height:D}},Y.createElement("span",null,v.format($,"selectRangeFormat"))),d&&this.intervalTriggered&&Y.createElement(S,z,Y.createElement("div",z)))}}])})(Y.Component);xR.defaultProps={dragThroughEvents:!0,timeslots:2};var wR=function(e){var r=e.label;return Y.createElement(Y.Fragment,null,r)},KI=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.handleHeaderClick=function(c,d,h){h.preventDefault(),nt(r.props.onDrillDown,[c,d])},r.renderRow=function(c){var d=r.props,h=d.events,m=d.rtl,v=d.selectable,y=d.getNow,b=d.range,x=d.getters,w=d.localizer,_=d.accessors,S=d.components,E=d.resizable,j=_.resourceId(c),T=c?h.filter(function(O){return _.resource(O)===j}):h;return Y.createElement(Ll,{isAllDay:!0,rtl:m,getNow:y,minRows:2,maxRows:r.props.allDayMaxRows+1,range:b,events:T,resourceId:j,className:"rbc-allday-cell",selectable:v,selected:r.props.selected,components:S,accessors:_,getters:x,localizer:w,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:E})},r}return Zt(e,t),Dt(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,c=l.localizer,d=l.getDrilldownView,h=l.getNow,m=l.getters.dayProp,v=l.components.header,y=v===void 0?$b:v,b=h();return a.map(function(x,w){var _=d(x),S=c.format(x,"dayFormat"),E=m(x),j=E.className,T=E.style,O=Y.createElement(y,{date:x,label:S,localizer:c});return Y.createElement("div",{key:w,style:T,className:ut("rbc-header",j,c.isSameDate(x,b)&&"rbc-today")},_?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(D){return i.handleHeaderClick(x,_,D)}},O):Y.createElement("span",null,O))})}},{key:"render",value:function(){var a=this,i=this.props,l=i.width,c=i.rtl,d=i.resources,h=i.range,m=i.events,v=i.getNow,y=i.accessors,b=i.selectable,x=i.components,w=i.getters,_=i.scrollRef,S=i.localizer,E=i.isOverflowing,j=i.components,T=j.timeGutterHeader,O=j.resourceHeader,q=O===void 0?wR:O,D=i.resizable,R={};E&&(R[c?"marginLeft":"marginRight"]="".concat(Jl()-1,"px"));var L=d.groupEvents(m);return Y.createElement("div",{style:R,ref:_,className:ut("rbc-time-header",E&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:l,minWidth:l,maxWidth:l}},T&&Y.createElement(T,null)),d.map(function($,C){var P=ws($,2),U=P[0],z=P[1];return Y.createElement("div",{className:"rbc-time-header-content",key:U||C},z&&Y.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(C)},Y.createElement("div",{className:"rbc-header"},Y.createElement(q,{index:C,label:y.resourceTitle(z),resource:z}))),Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(h.length<=1?" rbc-time-header-cell-single-day":"")},a.renderHeaderCells(h)),Y.createElement(Ll,{isAllDay:!0,rtl:c,getNow:v,minRows:2,maxRows:a.props.allDayMaxRows+1,range:h,events:L.get(U)||[],resourceId:z&&U,className:"rbc-allday-cell",selectable:b,selected:a.props.selected,components:x,accessors:y,getters:w,localizer:S,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:D}))}))}}])})(Y.Component),XI=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.handleHeaderClick=function(c,d,h){h.preventDefault(),nt(r.props.onDrillDown,[c,d])},r}return Zt(e,t),Dt(e,[{key:"renderHeaderCells",value:function(a){var i=this,l=this.props,c=l.localizer,d=l.getDrilldownView,h=l.getNow,m=l.getters.dayProp,v=l.components,y=v.header,b=y===void 0?$b:y,x=v.resourceHeader,w=x===void 0?wR:x,_=l.resources,S=l.accessors,E=l.events,j=l.rtl,T=l.selectable,O=l.components,q=l.getters,D=l.resizable,R=h(),L=_.groupEvents(E);return a.map(function($,C){var P=d($),U=c.format($,"dayFormat"),z=m($),W=z.className,ee=z.style,B=Y.createElement(b,{date:$,label:U,localizer:c});return Y.createElement("div",{key:C,className:"rbc-time-header-content rbc-resource-grouping"},Y.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(a.length<=1?" rbc-time-header-cell-single-day":"")},Y.createElement("div",{style:ee,className:ut("rbc-header",W,c.isSameDate($,R)&&"rbc-today")},P?Y.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(ae){return i.handleHeaderClick($,P,ae)}},B):Y.createElement("span",null,B))),Y.createElement("div",{className:"rbc-row"},_.map(function(K,ae){var le=ws(K,2),V=le[0],M=le[1];return Y.createElement("div",{key:"resource_".concat(V,"_").concat(ae),className:ut("rbc-header",W,c.isSameDate($,R)&&"rbc-today")},Y.createElement(w,{index:ae,label:S.resourceTitle(M),resource:M}))})),Y.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},_.map(function(K,ae){var le=ws(K,2),V=le[0],M=le[1],F=(L.get(V)||[]).filter(function(ie){return c.isSameDate(ie.start,$)||c.isSameDate(ie.end,$)});return Y.createElement(Ll,{key:"resource_".concat(V,"_").concat(ae),isAllDay:!0,rtl:j,getNow:h,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[$],events:F,resourceId:M&&V,className:"rbc-allday-cell",selectable:T,selected:i.props.selected,components:O,accessors:S,getters:q,localizer:c,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:D})})))})}},{key:"render",value:function(){var a=this.props,i=a.width,l=a.rtl,c=a.range,d=a.scrollRef,h=a.isOverflowing,m=a.components.timeGutterHeader,v={};return h&&(v[l?"marginLeft":"marginRight"]="".concat(Jl()-1,"px")),Y.createElement("div",{style:v,ref:d,className:ut("rbc-time-header",h&&"rbc-overflowing")},Y.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},m&&Y.createElement(m,null)),this.renderHeaderCells(c))}}])})(Y.Component);function QI(t){var e=t.min,r=t.max,a=t.localizer;return a.getTimezoneOffset(e)!==a.getTimezoneOffset(r)?{start:a.add(e,-1,"day"),end:a.add(r,-1,"day")}:{start:e,end:r}}var JI=function(e){var r=e.min,a=e.max,i=e.timeslots,l=e.step,c=e.localizer,d=e.getNow,h=e.resource,m=e.components,v=e.getters,y=e.gutterRef,b=m.timeGutterWrapper,x=A.useMemo(function(){return QI({min:r,max:a,localizer:c})},[r?.toISOString(),a?.toISOString(),c]),w=x.start,_=x.end,S=A.useState(zb({min:w,max:_,timeslots:i,step:l,localizer:c})),E=ws(S,2),j=E[0],T=E[1];A.useEffect(function(){j&&T(j.update({min:w,max:_,timeslots:i,step:l,localizer:c}))},[w?.toISOString(),_?.toISOString(),i,l]);var O=A.useCallback(function(q,D){if(D)return null;var R=j.dateIsInGroup(d(),D);return Y.createElement("span",{className:ut("rbc-label",R&&"rbc-now")},c.format(q,"timeGutterFormat"))},[j,c,d]);return Y.createElement(b,{slotMetrics:j},Y.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:y},j.groups.map(function(q,D){return Y.createElement(bR,{key:D,group:q,resource:h,components:m,renderSlot:O,getters:v})})))},ZI=Y.forwardRef(function(t,e){return Y.createElement(JI,Object.assign({gutterRef:e},t))}),j0={};function eB(t,e){return{map:function(a){return t?t.map(function(i,l){return a([e.resourceId(i),i],l)}):[a([j0,null],0)]},groupEvents:function(a){var i=new Map;return t?(a.forEach(function(l){var c=e.resource(l)||j0;if(Array.isArray(c))c.forEach(function(h){var m=i.get(h)||[];m.push(l),i.set(h,m)});else{var d=i.get(c)||[];d.push(l),i.set(c,d)}}),i):(i.set(j0,a),i)}}}var Xi=(function(t){function e(r){var a;return Rt(this,e),a=Jt(this,e,[r]),a.handleScroll=function(i){a.scrollRef.current&&(a.scrollRef.current.scrollLeft=i.target.scrollLeft)},a.handleResize=function(){Dl(a.rafHandle),a.rafHandle=Kl(a.checkOverflow)},a.handleKeyPressEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onKeyPressEvent,l)},a.handleSelectEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onSelectEvent,l)},a.handleDoubleClickEvent=function(){a.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];nt(a.props.onDoubleClickEvent,l)},a.handleShowMore=function(i,l,c,d,h){var m=a.props,v=m.popup,y=m.onDrillDown,b=m.onShowMore,x=m.getDrilldownView,w=m.doShowMoreDrillDown;if(a.clearSelection(),v){var _=Bd(c,a.containerRef.current);a.setState({overlay:{date:l,events:i,position:Je(Je({},_),{},{width:"200px"}),target:h}})}else w&&nt(y,[l,x(l)||At.DAY]);nt(b,[i,l,d])},a.handleSelectAllDaySlot=function(i,l){var c=a.props.onSelectSlot,d=new Date(i[0]),h=new Date(i[i.length-1]);h.setDate(i[i.length-1].getDate()+1),nt(c,{slots:i,start:d,end:h,action:l.action,resourceId:l.resourceId})},a.overlayDisplay=function(){a.setState({overlay:null})},a.checkOverflow=function(){if(!a._updatingOverflow){var i=a.contentRef.current;if(i!=null&&i.scrollHeight){var l=i.scrollHeight>i.clientHeight;a.state.isOverflowing!==l&&(a._updatingOverflow=!0,a.setState({isOverflowing:l},function(){a._updatingOverflow=!1}))}}},a.memoizedResources=VA(function(i,l){return eB(i,l)}),a.state={gutterWidth:void 0,isOverflowing:null},a.scrollRef=Y.createRef(),a.contentRef=Y.createRef(),a.containerRef=Y.createRef(),a._scrollRatio=null,a.gutterRef=A.createRef(),a}return Zt(e,t),Dt(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),Dl(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(a,i,l,c,d,h,m,v,y,b){var x=this.props,w=x.min,_=x.max,S=(c.get(i)||[]).filter(function(j){return h.inRange(a,m.start(j),m.end(j),"day")}),E=(d.get(i)||[]).filter(function(j){return h.inRange(a,m.start(j),m.end(j),"day")});return Y.createElement(xR,Object.assign({},this.props,{localizer:h,min:h.merge(a,w),max:h.merge(a,_),resource:l&&i,components:v,isNow:h.isSameDate(a,b),key:"".concat(i,"-").concat(a),date:a,events:S,backgroundEvents:E,dayLayoutAlgorithm:y}))}},{key:"renderResourcesFirst",value:function(a,i,l,c,d,h,m,v,y){var b=this;return i.map(function(x){var w=ws(x,2),_=w[0],S=w[1];return a.map(function(E){return b.renderDayColumn(E,_,S,l,c,d,h,v,y,m)})})}},{key:"renderRangeFirst",value:function(a,i,l,c,d,h,m,v,y){var b=this;return a.map(function(x){return Y.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:x},i.map(function(w){var _=ws(w,2),S=_[0],E=_[1];return Y.createElement("div",{style:{flex:1},key:h.resourceId(E)},b.renderDayColumn(x,S,E,l,c,d,h,v,y,m))}))})}},{key:"renderEvents",value:function(a,i,l,c){var d=this.props,h=d.accessors,m=d.localizer,v=d.resourceGroupingLayout,y=d.components,b=d.dayLayoutAlgorithm,x=this.memoizedResources(this.props.resources,h),w=x.groupEvents(i),_=x.groupEvents(l);return v?this.renderRangeFirst(a,x,w,_,m,h,c,y,b):this.renderResourcesFirst(a,x,w,_,m,h,c,y,b)}},{key:"render",value:function(){var a,i=this.props,l=i.events,c=i.backgroundEvents,d=i.range,h=i.width,m=i.rtl,v=i.selected,y=i.getNow,b=i.resources,x=i.components,w=i.accessors,_=i.getters,S=i.localizer,E=i.min,j=i.max,T=i.showMultiDayTimes,O=i.longPressThreshold,q=i.resizable,D=i.resourceGroupingLayout;h=h||this.state.gutterWidth;var R=d[0],L=d[d.length-1];this.slots=d.length;var $=[],C=[],P=[];l.forEach(function(z){if(Pl(z,R,L,w,S)){var W=w.start(z),ee=w.end(z);w.allDay(z)||S.startAndEndAreDateOnly(W,ee)||!T&&!S.isSameDate(W,ee)?$.push(z):C.push(z)}}),c.forEach(function(z){Pl(z,R,L,w,S)&&P.push(z)}),$.sort(function(z,W){return Ay(z,W,w,S)});var U={range:d,events:$,width:h,rtl:m,getNow:y,localizer:S,selected:v,allDayMaxRows:this.props.showAllEvents?1/0:(a=this.props.allDayMaxRows)!==null&&a!==void 0?a:1/0,resources:this.memoizedResources(b,w),selectable:this.props.selectable,accessors:w,getters:_,components:x,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:O,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:q};return Y.createElement("div",{className:ut("rbc-time-view",b&&"rbc-time-view-resources"),ref:this.containerRef},b&&b.length>1&&D?Y.createElement(XI,U):Y.createElement(KI,U),this.props.popup&&this.renderOverlay(),Y.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Y.createElement(ZI,{date:R,ref:this.gutterRef,localizer:S,min:S.merge(R,E),max:S.merge(R,j),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:x,className:"rbc-time-gutter",getters:_}),this.renderEvents(d,C,P,y())))}},{key:"renderOverlay",value:function(){var a,i,l=this,c=(a=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&a!==void 0?a:{},d=this.props,h=d.accessors,m=d.localizer,v=d.components,y=d.getters,b=d.selected,x=d.popupOffset,w=d.handleDragStart,_=function(){return l.setState({overlay:null})};return Y.createElement(Lb,{overlay:c,accessors:h,localizer:m,components:v,getters:y,selected:b,popupOffset:x,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:w,show:!!c.position,overlayDisplay:this.overlayDisplay,onHide:_})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var a=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,l=(i=a.gutterRef)!==null&&i!==void 0&&i.current?ql(a.gutterRef.current):void 0;l&&a.state.gutterWidth!==l&&a.setState({gutterWidth:l})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var a=this.contentRef.current;a.scrollTop=a.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=a.min,l=a.max,c=a.scrollToTime,d=a.localizer,h=d.diff(d.merge(c,i),c,"milliseconds"),m=d.diff(i,l,"milliseconds");this._scrollRatio=h/m}}])})(A.Component);Xi.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var tB=["date","localizer","min","max","scrollToTime","enableAutoScroll"],df=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,h=a.max,m=h===void 0?l.endOf(new Date,"day"):h,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=_n(a,tB),_=e.range(i,{localizer:l});return Y.createElement(Xi,Object.assign({},w,{range:_,eventOffset:10,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);df.range=function(t,e){var r=e.localizer;return[r.startOf(t,"day")]};df.navigate=function(t,e,r){var a=r.localizer;switch(e){case pr.PREVIOUS:return a.add(t,-1,"day");case pr.NEXT:return a.add(t,1,"day");default:return t}};df.title=function(t,e){var r=e.localizer;return r.format(t,"dayHeaderFormat")};var rB=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Da=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,h=a.max,m=h===void 0?l.endOf(new Date,"day"):h,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=_n(a,rB),_=e.range(i,this.props);return Y.createElement(Xi,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);Da.defaultProps=Xi.defaultProps;Da.navigate=function(t,e,r){var a=r.localizer;switch(e){case pr.PREVIOUS:return a.add(t,-1,"week");case pr.NEXT:return a.add(t,1,"week");default:return t}};Da.range=function(t,e){var r=e.localizer,a=r.startOfWeek(),i=r.startOf(t,"week",a),l=r.endOf(t,"week",a);return r.range(i,l)};Da.title=function(t,e){var r=e.localizer,a=Da.range(t,{localizer:r}),i=eR(a),l=i[0],c=i.slice(1);return r.format({start:l,end:c.pop()},"dayRangeHeaderFormat")};var nB=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function Ub(t,e){return Da.range(t,e).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var nc=(function(t){function e(){return Rt(this,e),Jt(this,e,arguments)}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.date,l=a.localizer,c=a.min,d=c===void 0?l.startOf(new Date,"day"):c,h=a.max,m=h===void 0?l.endOf(new Date,"day"):h,v=a.scrollToTime,y=v===void 0?l.startOf(new Date,"day"):v,b=a.enableAutoScroll,x=b===void 0?!0:b,w=_n(a,nB),_=Ub(i,this.props);return Y.createElement(Xi,Object.assign({},w,{range:_,eventOffset:15,localizer:l,min:d,max:m,scrollToTime:y,enableAutoScroll:x}))}}])})(Y.Component);nc.defaultProps=Xi.defaultProps;nc.range=Ub;nc.navigate=Da.navigate;nc.title=function(t,e){var r=e.localizer,a=Ub(t,{localizer:r}),i=eR(a),l=i[0],c=i.slice(1);return r.format({start:l,end:c.pop()},"dayRangeHeaderFormat")};var ff=30;function hf(t){var e=t.accessors,r=t.components,a=t.date,i=t.events,l=t.getters,c=t.length,d=c===void 0?ff:c,h=t.localizer,m=t.onDoubleClickEvent,v=t.onSelectEvent,y=t.selected,b=A.useRef(null),x=A.useRef(null),w=A.useRef(null),_=A.useRef(null),S=A.useRef(null);A.useEffect(function(){T()});var E=function(L,$,C){var P=r.event,U=r.date;return $=$.filter(function(z){return Pl(z,h.startOf(L,"day"),h.endOf(L,"day"),e,h)}),$.map(function(z,W){var ee=e.title(z),B=e.end(z),K=e.start(z),ae=l.eventProp(z,K,B,cf(z,y)),le=W===0&&h.format(L,"agendaDateFormat"),V=W===0?Y.createElement("td",{rowSpan:$.length,className:"rbc-agenda-date-cell"},U?Y.createElement(U,{day:L,label:le}):le):!1;return Y.createElement("tr",{key:C+"_"+W,className:ae.className,style:ae.style},V,Y.createElement("td",{className:"rbc-agenda-time-cell"},j(L,z)),Y.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(F){return v&&v(z,F)},onDoubleClick:function(F){return m&&m(z,F)}},P?Y.createElement(P,{event:z,title:ee}):ee))},[])},j=function(L,$){var C="",P=r.time,U=h.messages.allDay,z=e.end($),W=e.start($);return e.allDay($)||(h.eq(W,z)?U=h.format(W,"agendaTimeFormat"):h.isSameDate(W,z)?U=h.format({start:W,end:z},"agendaTimeRangeFormat"):h.isSameDate(L,W)?U=h.format(W,"agendaTimeFormat"):h.isSameDate(L,z)&&(U=h.format(z,"agendaTimeFormat"))),h.gt(L,W,"day")&&(C="rbc-continues-prior"),h.lt(L,z,"day")&&(C+=" rbc-continues-after"),Y.createElement("span",{className:C.trim()},P?Y.createElement(P,{event:$,day:L,label:U}):U)},T=function(){if(S.current){var L=b.current,$=S.current.firstChild;if($){var C=_.current.scrollHeight>_.current.clientHeight,P=[],U=P;P=[ql($.children[0]),ql($.children[1])],(U[0]!==P[0]||U[1]!==P[1])&&(x.current.style.width=P[0]+"px",w.current.style.width=P[1]+"px"),C?(Yd(L,"rbc-header-overflowing"),L.style.marginRight=Jl()+"px"):Vd(L,"rbc-header-overflowing")}}},O=h.messages,q=h.add(a,d,"day"),D=h.range(a,q,"day");return i=i.filter(function(R){return Pl(R,h.startOf(a,"day"),h.endOf(q,"day"),e,h)}),i.sort(function(R,L){return+e.start(R)-+e.start(L)}),Y.createElement("div",{className:"rbc-agenda-view"},i.length!==0?Y.createElement(Y.Fragment,null,Y.createElement("table",{ref:b,className:"rbc-agenda-table"},Y.createElement("thead",null,Y.createElement("tr",null,Y.createElement("th",{className:"rbc-header",ref:x},O.date),Y.createElement("th",{className:"rbc-header",ref:w},O.time),Y.createElement("th",{className:"rbc-header"},O.event)))),Y.createElement("div",{className:"rbc-agenda-content",ref:_},Y.createElement("table",{className:"rbc-agenda-table"},Y.createElement("tbody",{ref:S},D.map(function(R,L){return E(R,i,L)}))))):Y.createElement("span",{className:"rbc-agenda-empty"},O.noEventsInRange))}hf.range=function(t,e){var r=e.length,a=r===void 0?ff:r,i=e.localizer,l=i.add(t,a,"day");return{start:t,end:l}};hf.navigate=function(t,e,r){var a=r.length,i=a===void 0?ff:a,l=r.localizer;switch(e){case pr.PREVIOUS:return l.add(t,-i,"day");case pr.NEXT:return l.add(t,i,"day");default:return t}};hf.title=function(t,e){var r=e.length,a=r===void 0?ff:r,i=e.localizer,l=i.add(t,a,"day");return i.format({start:t,end:l},"agendaHeaderFormat")};var rd=ms(ms(ms(ms(ms({},At.MONTH,uf),At.WEEK,Da),At.WORK_WEEK,nc),At.DAY,df),At.AGENDA,hf),aB=["action","date","today"];function sB(t,e){var r=e.action,a=e.date,i=e.today,l=_n(e,aB);switch(t=typeof t=="string"?rd[t]:t,r){case pr.TODAY:a=i||new Date;break;case pr.DATE:break;default:Sl(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),a=t.navigate(a,r,l)}return a}function iB(t,e){var r=null;return typeof e=="function"?r=e(t):typeof e=="string"&&Xn(t)==="object"&&t!=null&&e in t&&(r=t[e]),r}var Wn=function(e){return function(r){return iB(r,e)}},oB=["view","date","getNow","onNavigate"],lB=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function _R(t){if(Array.isArray(t))return t;for(var e=[],r=0,a=Object.entries(t);r<a.length;r++){var i=ws(a[r],2),l=i[0],c=i[1];c&&e.push(l)}return e}function cB(t,e){var r=e.views,a=_R(r);return a.indexOf(t)!==-1}var SR=(function(t){function e(){var r;Rt(this,e);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return r=Jt(this,e,[].concat(i)),r.getViews=function(){var c=r.props.views;return Array.isArray(c)?RU(c,function(d,h){return d[h]=rd[h]},{}):Xn(c)==="object"?eU(c,function(d,h){return d===!0?rd[h]:d}):rd},r.getView=function(){var c=r.getViews();return c[r.props.view]},r.getDrilldownView=function(c){var d=r.props,h=d.view,m=d.drilldownView,v=d.getDrilldownView;return v?v(c,h,Object.keys(r.getViews())):m},r.handleRangeChange=function(c,d,h){var m=r.props,v=m.onRangeChange,y=m.localizer;v&&d.range&&v(d.range(c,{localizer:y}),h)},r.handleNavigate=function(c,d){var h=r.props,m=h.view,v=h.date,y=h.getNow,b=h.onNavigate,x=_n(h,oB),w=r.getView(),_=y();v=sB(w,Je(Je({},x),{},{action:c,date:d||v||_,today:_})),b(v,m,c),r.handleRangeChange(v,w)},r.handleViewChange=function(c){c!==r.props.view&&cB(c,r.props)&&r.props.onView(c);var d=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),d[c],c)},r.handleSelectEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onSelectEvent,d)},r.handleDoubleClickEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onDoubleClickEvent,d)},r.handleKeyPressEvent=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];nt(r.props.onKeyPressEvent,d)},r.handleSelectSlot=function(c){nt(r.props.onSelectSlot,c)},r.handleDrillDown=function(c,d){var h=r.props.onDrillDown;if(h){h(c,d,r.drilldownView);return}d&&r.handleViewChange(d),r.handleNavigate(pr.DATE,c)},r.state={context:e.getContext(r.props)},r}return Zt(e,t),Dt(e,[{key:"render",value:function(){var a=this.props,i=a.view,l=a.toolbar,c=a.events,d=a.backgroundEvents,h=a.resourceGroupingLayout,m=a.style,v=a.className,y=a.elementProps,b=a.date,x=a.getNow,w=a.length,_=a.showMultiDayTimes,S=a.onShowMore,E=a.doShowMoreDrillDown;a.components,a.formats,a.messages,a.culture;var j=_n(a,lB);b=b||x();var T=this.getView(),O=this.state.context,q=O.accessors,D=O.components,R=O.getters,L=O.localizer,$=O.viewNames,C=D.toolbar||fI,P=T.title(b,{localizer:L,length:w});return Y.createElement("div",Object.assign({},y,{className:ut(v,"rbc-calendar",j.rtl&&"rbc-rtl"),style:m}),l&&Y.createElement(C,{date:b,view:i,views:$,label:P,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:L}),Y.createElement(T,Object.assign({},j,{events:c,backgroundEvents:d,date:b,getNow:x,length:w,localizer:L,getters:R,components:D,accessors:q,showMultiDayTimes:_,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:S,doShowMoreDrillDown:E,resourceGroupingLayout:h})))}}],[{key:"getDerivedStateFromProps",value:function(a){return{context:e.getContext(a)}}},{key:"getContext",value:function(a){var i=a.startAccessor,l=a.endAccessor,c=a.allDayAccessor,d=a.tooltipAccessor,h=a.titleAccessor,m=a.resourceAccessor,v=a.resourceIdAccessor,y=a.resourceTitleAccessor,b=a.eventIdAccessor,x=a.eventPropGetter,w=a.backgroundEventPropGetter,_=a.slotPropGetter,S=a.slotGroupPropGetter,E=a.dayPropGetter,j=a.view,T=a.views,O=a.localizer,q=a.culture,D=a.messages,R=D===void 0?{}:D,L=a.components,$=L===void 0?{}:L,C=a.formats,P=C===void 0?{}:C,U=_R(T),z=mI(R);return{viewNames:U,localizer:dI(O,q,P,z),getters:{eventProp:function(){return x&&x.apply(void 0,arguments)||{}},backgroundEventProp:function(){return w&&w.apply(void 0,arguments)||{}},slotProp:function(){return _&&_.apply(void 0,arguments)||{}},slotGroupProp:function(){return S&&S.apply(void 0,arguments)||{}},dayProp:function(){return E&&E.apply(void 0,arguments)||{}}},components:Qz($[j]||{},OU($,U),{eventWrapper:fn,backgroundEventWrapper:fn,eventContainerWrapper:fn,dateCellWrapper:fn,weekWrapper:fn,timeSlotWrapper:fn,timeGutterWrapper:fn,timeIndicatorWrapper:fn}),accessors:{start:Wn(i),end:Wn(l),allDay:Wn(c),tooltip:Wn(d),title:Wn(h),resource:Wn(m),resourceId:Wn(v),resourceTitle:Wn(y),eventId:Wn(b)}}}}])})(Y.Component);SR.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:At.MONTH,views:[At.MONTH,At.WEEK,At.DAY,At.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:At.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var uB=uA(SR,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),dB=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"P",r),"  ").concat(a.format(l,"P",r))},N0=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"p",r),"  ").concat(a.format(l,"p",r))},fB=function(e,r,a){var i=e.start;return"".concat(a.format(i,"h:mma",r),"  ")},hB=function(e,r,a){var i=e.end;return"  ".concat(a.format(i,"h:mma",r))},mB=function(e,r,a){var i=e.start,l=e.end;return"".concat(a.format(i,"MMMM dd",r),"  ").concat(a.format(l,Gi(i,l,"month")?"dd":"MMMM dd",r))},pB={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:N0,eventTimeRangeFormat:N0,eventTimeRangeStartFormat:fB,eventTimeRangeEndFormat:hB,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:mB,agendaHeaderFormat:dB,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:N0},vB=function(e){var r=e.startOfWeek,a=e.getDay,i=e.format,l=e.locales;return new uI({formats:pB,firstOfWeek:function(d){return a(r(new Date,{locale:l[d]}))},format:function(d,h,m){return i(new Date(d),h,{locale:l[m]})}})},tl={},T0={exports:{}},rT;function er(){return rT||(rT=1,(function(t){function e(r){return r&&r.__esModule?r:{default:r}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(T0)),T0.exports}var Pu={},O0={exports:{}},C0={exports:{}},A0={exports:{}},R0={exports:{}},nT;function Qi(){return nT||(nT=1,(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(R0)),R0.exports}var D0={exports:{}},aT;function gB(){return aT||(aT=1,(function(t){var e=Qi().default;function r(a,i){if(e(a)!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var c=l.call(a,i||"default");if(e(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(D0)),D0.exports}var sT;function ER(){return sT||(sT=1,(function(t){var e=Qi().default,r=gB();function a(i){var l=r(i,"string");return e(l)=="symbol"?l:l+""}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(A0)),A0.exports}var iT;function jR(){return iT||(iT=1,(function(t){var e=ER();function r(a,i,l){return(i=e(i))in a?Object.defineProperty(a,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[i]=l,a}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(C0)),C0.exports}var oT;function za(){return oT||(oT=1,(function(t){var e=jR();function r(i,l){var c=Object.keys(i);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(i);l&&(d=d.filter(function(h){return Object.getOwnPropertyDescriptor(i,h).enumerable})),c.push.apply(c,d)}return c}function a(i){for(var l=1;l<arguments.length;l++){var c=arguments[l]!=null?arguments[l]:{};l%2?r(Object(c),!0).forEach(function(d){e(i,d,c[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach(function(d){Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(c,d))})}return i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(O0)),O0.exports}var k0={exports:{}},M0={exports:{}},lT;function yB(){return lT||(lT=1,(function(t){function e(r,a){if(r==null)return{};var i={};for(var l in r)if({}.hasOwnProperty.call(r,l)){if(a.indexOf(l)!==-1)continue;i[l]=r[l]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(M0)),M0.exports}var cT;function Ib(){return cT||(cT=1,(function(t){var e=yB();function r(a,i){if(a==null)return{};var l,c,d=e(a,i);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(c=0;c<h.length;c++)l=h[c],i.indexOf(l)===-1&&{}.propertyIsEnumerable.call(a,l)&&(d[l]=a[l])}return d}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(k0)),k0.exports}var q0={exports:{}},uT;function Rs(){return uT||(uT=1,(function(t){function e(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(q0)),q0.exports}var P0={exports:{}},dT;function Ds(){return dT||(dT=1,(function(t){var e=ER();function r(i,l){for(var c=0;c<l.length;c++){var d=l[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(i,e(d.key),d)}}function a(i,l,c){return l&&r(i.prototype,l),c&&r(i,c),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(P0)),P0.exports}var L0={exports:{}},$0={exports:{}},fT;function bB(){return fT||(fT=1,(function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})($0)),$0.exports}var z0={exports:{}},hT;function xB(){return hT||(hT=1,(function(t){function e(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t.exports=e=function(){return!!r},t.exports.__esModule=!0,t.exports.default=t.exports)()}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(z0)),z0.exports}var U0={exports:{}},I0={exports:{}},mT;function wB(){return mT||(mT=1,(function(t){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(I0)),I0.exports}var pT;function _B(){return pT||(pT=1,(function(t){var e=Qi().default,r=wB();function a(i,l){if(l&&(e(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(i)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports})(U0)),U0.exports}var vT;function Ji(){return vT||(vT=1,(function(t){var e=bB(),r=xB(),a=_B();function i(l,c,d){return c=e(c),a(l,r()?Reflect.construct(c,d||[],e(l).constructor):c.apply(l,d))}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports})(L0)),L0.exports}var B0={exports:{}},H0={exports:{}},gT;function SB(){return gT||(gT=1,(function(t){function e(r,a){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},t.exports.__esModule=!0,t.exports.default=t.exports,e(r,a)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(H0)),H0.exports}var yT;function Zi(){return yT||(yT=1,(function(t){var e=SB();function r(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),i&&e(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(B0)),B0.exports}const ac=Sn(J6);var Nr={},is={},bT;function EB(){return bT||(bT=1,Object.defineProperty(is,"__esModule",{value:!0}),is.views=is.navigate=void 0,is.navigate={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},is.views={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"}),is}var xT;function jB(){if(xT)return Nr;xT=1;var t=er().default;Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.views=Nr.dateRangeFormat=Nr.dateFormat=Nr.accessor=Nr.DayLayoutAlgorithmPropType=void 0;var e=t(Zy()),r=EB(),a=Object.keys(r.views).map(function(i){return r.views[i]});return Nr.accessor=e.default.oneOfType([e.default.string,e.default.func]),Nr.dateFormat=e.default.any,Nr.dateRangeFormat=e.default.func,Nr.views=e.default.oneOfType([e.default.arrayOf(e.default.oneOf(a)),e.default.objectOf(function(i,l){var c=a.indexOf(l)!==-1&&typeof i[l]=="boolean";if(c)return null;for(var d=arguments.length,h=new Array(d>2?d-2:0),m=2;m<d;m++)h[m-2]=arguments[m];return e.default.elementType.apply(e.default,[i,l].concat(h))})]),Nr.DayLayoutAlgorithmPropType=e.default.oneOfType([e.default.oneOf(["overlap","no-overlap"]),e.default.func]),Nr}var rl={},wi={},wT;function NR(){if(wT)return wi;wT=1;var t=er().default;Object.defineProperty(wi,"__esModule",{value:!0}),wi.accessor=r,wi.wrapAccessor=void 0;var e=t(Qi());function r(a,i){var l=null;return typeof i=="function"?l=i(a):typeof i=="string"&&(0,e.default)(a)==="object"&&a!=null&&i in a&&(l=a[i]),l}return wi.wrapAccessor=function(i){return function(l){return r(l,i)}},wi}var nl={},_T;function mf(){if(_T)return nl;_T=1;var t=er().default;Object.defineProperty(nl,"__esModule",{value:!0}),nl.DnDContext=void 0;var e=t(Cr());return nl.DnDContext=e.default.createContext(),nl}var ST;function NB(){if(ST)return rl;ST=1;var t=er().default;Object.defineProperty(rl,"__esModule",{value:!0}),rl.default=void 0;var e=t(za()),r=t(Rs()),a=t(Ds()),i=t(Ji()),l=t(Zi()),c=t(Cr()),d=t(ac),h=NR(),m=mf(),v=(function(y){function b(){var x;(0,r.default)(this,b);for(var w=arguments.length,_=new Array(w),S=0;S<w;S++)_[S]=arguments[S];return x=(0,i.default)(this,b,[].concat(_)),x.handleResizeUp=function(E){E.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","UP")},x.handleResizeDown=function(E){E.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","DOWN")},x.handleResizeLeft=function(E){E.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","LEFT")},x.handleResizeRight=function(E){E.button===0&&x.context.draggable.onBeginAction(x.props.event,"resize","RIGHT")},x.handleStartDragging=function(E){var j;if(E.button===0){var T=(j=E.target.getAttribute("class"))===null||j===void 0?void 0:j.includes("rbc-addons-dnd-resize");if(!T){var O=(0,e.default)({},x.props.event);O.sourceResource=x.props.resource,x.context.draggable.onBeginAction(x.props.event,"move")}}},x}return(0,l.default)(b,y),(0,a.default)(b,[{key:"renderAnchor",value:function(w){var _=w==="Up"||w==="Down"?"ns":"ew";return c.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-anchor"),onMouseDown:this["handleResize".concat(w)]},c.default.createElement("div",{className:"rbc-addons-dnd-resize-".concat(_,"-icon")}))}},{key:"render",value:function(){var w=this.props,_=w.event,S=w.type,E=w.continuesPrior,j=w.continuesAfter,T=w.resizable,O=this.props.children;if(_.__isPreview)return c.default.cloneElement(O,{className:(0,d.default)(O.props.className,"rbc-addons-dnd-drag-preview")});var q=this.context.draggable,D=q.draggableAccessor,R=q.resizableAccessor,L=D?!!(0,h.accessor)(_,D):!0;if(!L)return O;var $=T&&(R?!!(0,h.accessor)(_,R):!0);if($||L){var C={onMouseDown:this.handleStartDragging,onTouchStart:this.handleStartDragging};if($){var P=null,U=null;S==="date"?(P=!E&&this.renderAnchor("Left"),U=!j&&this.renderAnchor("Right")):(P=!E&&this.renderAnchor("Up"),U=!j&&this.renderAnchor("Down")),C.children=c.default.createElement("div",{className:"rbc-addons-dnd-resizable"},P,O.props.children,U)}q.dragAndDropAction.interacting&&q.dragAndDropAction.event===_&&(C.className=(0,d.default)(O.props.className,"rbc-addons-dnd-dragged-event")),O=c.default.cloneElement(O,C)}return O}}])})(c.default.Component);return v.contextType=m.DnDContext,rl.default=v,rl}var al={},F0={exports:{}},ET;function TR(){return ET||(ET=1,(function(t){var e=Qi().default;function r(a,i){if(typeof WeakMap=="function")var l=new WeakMap,c=new WeakMap;return(t.exports=r=function(h,m){if(!m&&h&&h.__esModule)return h;var v,y,b={__proto__:null,default:h};if(h===null||e(h)!="object"&&typeof h!="function")return b;if(v=m?c:l){if(v.has(h))return v.get(h);v.set(h,b)}for(var x in h)x!=="default"&&{}.hasOwnProperty.call(h,x)&&((y=(v=Object.defineProperty)&&Object.getOwnPropertyDescriptor(h,x))&&(y.get||y.set)?v(b,x,y):b[x]=h[x]);return b},t.exports.__esModule=!0,t.exports.default=t.exports)(a,i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(F0)),F0.exports}function Bb(t,e,r,a){if(r===void 0&&(r=!1),a===void 0&&(a=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,r,a),t.dispatchEvent(i)}}function TB(t){var e=Ft(t,"transitionDuration")||"",r=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*r}function OB(t,e,r){r===void 0&&(r=5);var a=!1,i=setTimeout(function(){a||Bb(t,"transitionend",!0)},e+r),l=vn(t,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(i),l()}}function Hb(t,e,r,a){r==null&&(r=TB(t)||0);var i=OB(t,r,a),l=vn(t,"transitionend",e);return function(){i(),l()}}var jT={transition:"","transition-duration":"","transition-delay":"","transition-timing-function":""};function NT(t){var e=t.node,r=t.properties,a=t.duration,i=a===void 0?200:a,l=t.easing,c=t.callback,d=[],h={},m="";Object.keys(r).forEach(function(b){var x=r[b];EA(b)?m+=b+"("+x+") ":(h[b]=x,d.push(SA(b)))}),m&&(h.transform=m,d.push("transform"));function v(b){b.target===b.currentTarget&&(Ft(e,jT),c&&c.call(this,b))}i>0&&(h.transition=d.join(", "),h["transition-duration"]=i/1e3+"s",h["transition-delay"]="0s",h["transition-timing-function"]=l||"linear");var y=Hb(e,v,i);return e.clientLeft,Ft(e,h),{cancel:function(){y(),Ft(e,jT)}}}function OR(t,e,r,a,i){if(!("nodeType"in t))return NT(t);if(!e)throw new Error("must include properties to animate");return typeof a=="function"&&(i=a,a=""),NT({node:t,properties:e,duration:r,easing:a,callback:i})}function CR(t,e,r){if(t){if(typeof r>"u")return t.getAttribute(e);!r&&r!==""?t.removeAttribute(e):t.setAttribute(e,String(r))}}function AR(t){return t?Array.from(t.children):[]}function RR(t){if(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}return null}var CB=Function.prototype.bind.call(Function.prototype.call,[].slice);function DR(t){return t?CB(t.childNodes):[]}function kR(t,e){return function(a){var i=a.currentTarget,l=a.target,c=Fd(i,t);c.some(function(d){return Qn(d,l)})&&e.call(this,a)}}function MR(t,e){return t&&e&&e.parentNode?(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t):null}var AB=/^(?:input|select|textarea|button)$/i;function qR(t){return t?AB.test(t.nodeName):!1}function PR(t){return t?!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length):!1}function LR(t,e,r){e===void 0&&(e=null),r===void 0&&(r=null);for(var a=[];t;t=t.nextElementSibling)if(t!==e){if(r&&Hd(t,r))break;a.push(t)}return a}function $R(t,e){return LR(t,t,e)}function RB(t,e){var r=null,a=[];for(r=t?t[e]:null;r&&r.nodeType!==9;)a.push(r),r=r[e]||null;return a}function zR(t){return RB(t,"parentElement")}function UR(t,e){return t&&e?(e.firstElementChild?e.insertBefore(t,e.firstElementChild):e.appendChild(t),t):null}function IR(t){return t&&t.parentNode?(t.parentNode.removeChild(t),t):null}function Fb(t,e){var r=Ft(t,"position"),a=r==="absolute",i=t.ownerDocument;if(r==="fixed")return i||document;for(;(t=t.parentNode)&&!jA(t);){var l=a&&Ft(t,"position")==="static",c=(Ft(t,"overflow")||"")+(Ft(t,"overflow-y")||"")+Ft(t,"overflow-x");if(!l&&/(auto|scroll)/.test(c)&&(e||ys(t)<t.scrollHeight))return t}return i||document}function BR(t,e){var r=rn(t),a={top:0,left:0};if(t){var i=e||Fb(t),l=Ud(i),c=qi(i),d=ys(i,!0);l||(a=rn(i)),r={top:r.top-a.top,left:r.left-a.left,height:r.height,width:r.width};var h=r.height,m=r.top+(l?0:c),v=m+h;c=c>m?m:v>c+d?v-d:c;var y=Kl(function(){return qi(i,c)});return function(){return Dl(y)}}}function HR(t){return LR(t&&t.parentElement?t.parentElement.firstElementChild:null,t)}var DB=/&nbsp;/gi,kB=/\xA0/g,MB=/\s+([^\s])/gm;function FR(t,e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);var a="";return t&&(a=(t.textContent||"").replace(DB," ").replace(kB," "),e&&(a=a.trim()),r&&(a=a.replace(MB," $1"))),a}function GR(t,e){t.classList?t.classList.toggle(e):Wd(t,e)?Vd(t,e):Yd(t,e)}const qB={addEventListener:cb,removeEventListener:yb,triggerEvent:Bb,animate:OR,filter:kR,listen:vn,style:Ft,getComputedStyle:ib,attribute:CR,activeElement:qA,ownerDocument:La,ownerWindow:sb,requestAnimationFrame:Kl,cancelAnimationFrame:Dl,matches:Hd,height:ys,width:ql,offset:rn,offsetParent:ob,position:Bd,contains:Qn,scrollbarSize:Jl,scrollLeft:Id,scrollParent:Fb,scrollTo:BR,scrollTop:qi,querySelectorAll:Fd,closest:ec,addClass:Yd,removeClass:Vd,hasClass:Wd,toggleClass:GR,transitionEnd:Hb,childNodes:DR,childElements:AR,nextUntil:$R,parents:zR,siblings:HR,clear:RR,insertAfter:MR,isInput:qR,isVisible:PR,prepend:UR,remove:IR,text:FR},PB=Object.freeze(Object.defineProperty({__proto__:null,activeElement:qA,addClass:Yd,addEventListener:cb,animate:OR,attribute:CR,cancelAnimationFrame:Dl,childElements:AR,childNodes:DR,clear:RR,closest:ec,contains:Qn,default:qB,filter:kR,getComputedStyle:ib,hasClass:Wd,height:ys,insertAfter:MR,isInput:qR,isVisible:PR,listen:vn,matches:Hd,nextUntil:$R,offset:rn,offsetParent:ob,ownerDocument:La,ownerWindow:sb,parents:zR,position:Bd,prepend:UR,querySelectorAll:Fd,remove:IR,removeClass:Vd,removeEventListener:yb,requestAnimationFrame:Kl,scrollLeft:Id,scrollParent:Fb,scrollTo:BR,scrollTop:qi,scrollbarSize:Jl,siblings:HR,style:Ft,text:FR,toggleClass:GR,transitionEnd:Hb,triggerEvent:Bb,width:ql},Symbol.toStringTag,{value:"Module"})),LB=Sn(PB);var Lu={exports:{}},TT;function $B(){return TT||(TT=1,(function(t,e){e.__esModule=!0,e.default=a;var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(i,l){return r(i.querySelectorAll(l))}t.exports=e.default})(Lu,Lu.exports)),Lu.exports}var Jr={};const zB=Sn(DP),UB=Sn(nz),IB=Sn(YL);var OT;function WR(){if(OT)return Jr;OT=1;var t=er().default;Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.default=void 0,Jr.getBoundsForNode=T,Jr.getEventNodeFromPoint=m,Jr.getShowMoreNodeFromPoint=v,Jr.isEvent=y,Jr.isShowMore=b,Jr.objectsCollide=j;var e=t(Qi()),r=t(Rs()),a=t(Ds()),i=t(zB),l=t(UB),c=t(IB);function d(q,D){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return(0,c.default)(R,q,D,{passive:!1})}function h(q,D,R){return!q||(0,i.default)(q,document.elementFromPoint(D,R))}function m(q,D){var R=D.clientX,L=D.clientY,$=document.elementFromPoint(R,L);return(0,l.default)($,".rbc-event",q)}function v(q,D){var R=D.clientX,L=D.clientY,$=document.elementFromPoint(R,L);return(0,l.default)($,".rbc-show-more",q)}function y(q,D){return!!m(q,D)}function b(q,D){return!!v(q,D)}function x(q){var D=q;return q.touches&&q.touches.length&&(D=q.touches[0]),{clientX:D.clientX,clientY:D.clientY,pageX:D.pageX,pageY:D.pageY}}var w=5,_=250,S=(function(){function q(D){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=R.global,$=L===void 0?!1:L,C=R.longPressThreshold,P=C===void 0?250:C,U=R.validContainers,z=U===void 0?[]:U;(0,r.default)(this,q),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=D,this.globalMouse=!D||$,this.longPressThreshold=P,this.validContainers=z,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=d("touchmove",function(){},window),this._removeKeyDownListener=d("keydown",this._keyListener),this._removeKeyUpListener=d("keyup",this._keyListener),this._removeDropFromOutsideListener=d("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=d("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return(0,a.default)(q,[{key:"on",value:function(R,L){var $=this._listeners[R]||(this._listeners[R]=[]);return $.push(L),{remove:function(){var P=$.indexOf(L);P!==-1&&$.splice(P,1)}}}},{key:"emit",value:function(R){for(var L=arguments.length,$=new Array(L>1?L-1:0),C=1;C<L;C++)$[C-1]=arguments[C];var P,U=this._listeners[R]||[];return U.forEach(function(z){P===void 0&&(P=z.apply(void 0,$))}),P}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(R){var L=this._selectRect;return!L||!this.selecting?!1:j(L,T(R))}},{key:"filter",value:function(R){var L=this._selectRect;return!L||!this.selecting?[]:R.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(R,L){var $=this,C=null,P=null,U=null,z=function(K){C=setTimeout(function(){ee(),R(K)},$.longPressThreshold),P=d("touchmove",function(){return ee()}),U=d("touchend",function(){return ee()})},W=d("touchstart",z),ee=function(){C&&clearTimeout(C),P&&P(),U&&U(),C=null,P=null,U=null};return L&&z(L),function(){ee(),W()}}},{key:"_addInitialEventListener",value:function(){var R=this,L=d("mousedown",function(C){R._removeInitialEventListener(),R._handleInitialEvent(C),R._removeInitialEventListener=d("mousedown",R._handleInitialEvent)}),$=d("touchstart",function(C){R._removeInitialEventListener(),R._removeInitialEventListener=R._addLongPressListener(R._handleInitialEvent,C)});this._removeInitialEventListener=function(){L(),$()}}},{key:"_dropFromOutsideListener",value:function(R){var L=x(R),$=L.pageX,C=L.pageY,P=L.clientX,U=L.clientY;this.emit("dropFromOutside",{x:$,y:C,clientX:P,clientY:U}),R.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(R){var L=x(R),$=L.pageX,C=L.pageY,P=L.clientX,U=L.clientY;this.emit("dragOverFromOutside",{x:$,y:C,clientX:P,clientY:U}),R.preventDefault()}},{key:"_handleInitialEvent",value:function(R){if(this._initialEvent=R,!this.isDetached){var L=x(R),$=L.clientX,C=L.clientY,P=L.pageX,U=L.pageY,z=this.container(),W,ee;if(!(R.which===3||R.button===2||!h(z,$,C))){if(!this.globalMouse&&z&&!(0,i.default)(z,R.target)){var B=E(0),K=B.top,ae=B.left,le=B.bottom,V=B.right;if(ee=T(z),W=j({top:ee.top-K,left:ee.left-ae,bottom:ee.bottom+le,right:ee.right+V},{top:U,left:P}),!W)return}var M=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(R.type),x:P,y:U,clientX:$,clientY:C});if(M!==!1)switch(R.type){case"mousedown":this._removeEndListener=d("mouseup",this._handleTerminatingEvent),this._onEscListener=d("keydown",this._handleTerminatingEvent),this._removeMoveListener=d("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(R),this._removeEndListener=d("touchend",this._handleTerminatingEvent),this._removeMoveListener=d("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(R){var L=R.target,$=this.validContainers;return!$||!$.length||!L?!0:$.some(function(C){return!!L.closest(C)})}},{key:"_handleTerminatingEvent",value:function(R){var L=this.selecting,$=this._selectRect;if(!L&&R.type.includes("key")&&(R=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!R){var C=!this.container||(0,i.default)(this.container(),R.target),P=this._isWithinValidContainer(R);return R.key==="Escape"||!P?this.emit("reset"):!L&&C?this._handleClickEvent(R):L?this.emit("select",$):this.emit("reset")}}},{key:"_handleClickEvent",value:function(R){var L=x(R),$=L.pageX,C=L.pageY,P=L.clientX,U=L.clientY,z=new Date().getTime();return this._lastClickData&&z-this._lastClickData.timestamp<_?(this._lastClickData=null,this.emit("doubleClick",{x:$,y:C,clientX:P,clientY:U})):(this._lastClickData={timestamp:z},this.emit("click",{x:$,y:C,clientX:P,clientY:U}))}},{key:"_handleMoveEvent",value:function(R){if(!(this._initialEventData===null||this.isDetached)){var L=this._initialEventData,$=L.x,C=L.y,P=x(R),U=P.pageX,z=P.pageY,W=Math.abs($-U),ee=Math.abs(C-z),B=Math.min(U,$),K=Math.min(z,C),ae=this.selecting,le=this.isClick(U,z);le&&!ae&&!(W||ee)||(!ae&&!le&&this.emit("selectStart",this._initialEventData),le||(this.selecting=!0,this._selectRect={top:K,left:B,x:U,y:z,right:B+W,bottom:K+ee},this.emit("selecting",this._selectRect)),R.preventDefault())}}},{key:"_keyListener",value:function(R){this.ctrl=R.metaKey||R.ctrlKey}},{key:"isClick",value:function(R,L){var $=this._initialEventData,C=$.x,P=$.y,U=$.isTouch;return!U&&Math.abs(R-C)<=w&&Math.abs(L-P)<=w}}])})();function E(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(0,e.default)(q)!=="object"&&(q={top:q,left:q,right:q,bottom:q}),q}function j(q,D){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,L=T(q),$=L.top,C=L.left,P=L.right,U=P===void 0?C:P,z=L.bottom,W=z===void 0?$:z,ee=T(D),B=ee.top,K=ee.left,ae=ee.right,le=ae===void 0?K:ae,V=ee.bottom,M=V===void 0?B:V;return!(W-R<B||$+R>M||U-R<K||C+R>le)}function T(q){if(!q.getBoundingClientRect)return q;var D=q.getBoundingClientRect(),R=D.left+O("left"),L=D.top+O("top");return{top:L,left:R,right:(q.offsetWidth||0)+R,bottom:(q.offsetHeight||0)+L}}function O(q){if(q==="left")return window.pageXOffset||document.body.scrollLeft||0;if(q==="top")return window.pageYOffset||document.body.scrollTop||0}return Jr.default=S,Jr}var sl={},CT;function BB(){if(CT)return sl;CT=1;var t=er().default;Object.defineProperty(sl,"__esModule",{value:!0}),sl.default=void 0;var e=t(jR()),r=t(za()),a=t(ac),i=t(Cr());function l(d){return typeof d=="string"?d:d+"%"}function c(d){var h=d.style,m=d.className,v=d.event,y=d.accessors,b=d.rtl,x=d.selected,w=d.label,_=d.continuesPrior,S=d.continuesAfter,E=d.getters,j=d.onClick,T=d.onDoubleClick,O=d.isBackgroundEvent,q=d.onKeyPress,D=d.components,R=D.event,L=D.eventWrapper,$=y.title(v),C=y.tooltip(v),P=y.end(v),U=y.start(v),z=E.eventProp(v,U,P,x),W=[i.default.createElement("div",{key:"1",className:"rbc-event-label"},w),i.default.createElement("div",{key:"2",className:"rbc-event-content"},R?i.default.createElement(R,{event:v,title:$}):$)],ee=h.height,B=h.top,K=h.width,ae=h.xOffset,le=(0,r.default)((0,r.default)({},z.style),{},(0,e.default)({top:l(B),height:l(ee),width:l(K)},b?"right":"left",l(ae)));return i.default.createElement(L,Object.assign({type:"time"},d),i.default.createElement("div",{role:"button",tabIndex:0,onClick:j,onDoubleClick:T,style:le,onKeyDown:q,title:C?(typeof w=="string"?w+": ":"")+C:void 0,className:(0,a.default)(O?"rbc-background-event":"rbc-event",m,z.className,{"rbc-selected":x,"rbc-event-continues-earlier":_,"rbc-event-continues-later":S})},W))}return sl.default=c,sl}var ja={},AT;function Gb(){if(AT)return ja;AT=1;var t=er().default;Object.defineProperty(ja,"__esModule",{value:!0}),ja.dragAccessors=void 0,ja.eventTimes=m,ja.mergeComponents=d,ja.pointInColumn=h;var e=t(za()),r=t(Ib()),a=NR(),i=Cr(),l=["children"];ja.dragAccessors={start:(0,a.wrapAccessor)(function(v){return v.start}),end:(0,a.wrapAccessor)(function(v){return v.end})};function c(){for(var v=arguments.length,y=new Array(v),b=0;b<v;b++)y[b]=arguments[b];var x=function(_){var S=_.children,E=(0,r.default)(_,l);return y.filter(Boolean).reduceRight(function(j,T){return(0,i.createElement)(T,E,j)},S)};return x}function d(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=arguments.length>1?arguments[1]:void 0,b=Object.keys(y),x=(0,e.default)({},v);return b.forEach(function(w){x[w]=v[w]?c(v[w],y[w]):y[w]}),x}function h(v,y){var b=v.left,x=v.right,w=v.top,_=y.x,S=y.y;return _<x+10&&_>b&&S>w}function m(v,y,b){var x=y.start(v),w=y.end(v),_=b.eq(x,w,"minutes")&&b.diff(x,w,"minutes")===0;_&&(w=b.add(w,1,"day"));var S=b.diff(x,w,"milliseconds");return{start:x,end:w,duration:S}}return ja}var RT;function HB(){if(RT)return al;RT=1;var t=TR().default,e=er().default;Object.defineProperty(al,"__esModule",{value:!0}),al.default=void 0;var r=e(za()),a=e(Rs()),i=e(Ds()),l=e(Ji()),c=e(Zi()),d=LB,h=e($B()),m=e(Cr()),v=mf(),y=t(WR()),b=e(BB()),x=Gb(),w=(function(_){function S(){var E;(0,a.default)(this,S);for(var j=arguments.length,T=new Array(j),O=0;O<j;O++)T[O]=arguments[O];return E=(0,l.default)(this,S,[].concat(T)),E.handleMove=function(q,D){if(!(0,x.pointInColumn)(D,q))return E.reset();var R=E.context.draggable.dragAndDropAction.event,L=E.props,$=L.accessors,C=L.slotMetrics,P=C.closestSlotFromPoint({y:q.y-E.eventOffsetTop,x:q.x},D),U=(0,x.eventTimes)(R,$,E.props.localizer),z=U.duration,W=E.props.localizer.add(P,z,"milliseconds");E.update(R,C.getRange(P,W,!1,!0))},E.handleDropFromOutside=function(q,D){var R=E.props,L=R.slotMetrics,$=R.resource,C=L.closestSlotFromPoint({y:q.y,x:q.x},D),P=E._calculateDnDEnd(C);E.context.draggable.onDropFromOutside({start:C,end:P,allDay:!1,resource:$}),E.reset()},E.handleDragOverFromOutside=function(q,D){var R=E.props.slotMetrics,L=R.closestSlotFromPoint({y:q.y,x:q.x},D),$=E._calculateDnDEnd(L),C=E.context.draggable.dragFromOutsideItem();E.update(C,R.getRange(L,$,!1,!0))},E._calculateDnDEnd=function(q){var D=E.props,R=D.accessors,L=D.slotMetrics,$=D.localizer,C=E.context.draggable.dragFromOutsideItem(),P=(0,x.eventTimes)(C,R,$),U=P.duration,z=L.nextSlot(q),W=!isNaN(U);if(W){var ee=$.add(q,U,"milliseconds");z=new Date(Math.max(ee,z))}return z},E.updateParentScroll=function(q,D){setTimeout(function(){var R=(0,h.default)(D,".rbc-addons-dnd-drag-preview")[0];R&&(R.offsetTop<q.scrollTop?(0,d.scrollTop)(q,Math.max(R.offsetTop,0)):R.offsetTop+R.offsetHeight>q.scrollTop+q.clientHeight&&(0,d.scrollTop)(q,Math.min(R.offsetTop-q.offsetHeight+R.offsetHeight,q.scrollHeight)))})},E._selectable=function(){var q=E.ref.current,D=q.children[0],R=!1,L=E._selector=new y.default(function(){return q.closest(".rbc-time-view")}),$=(0,d.scrollParent)(q);L.on("beforeSelect",function(C){var P=E.context.draggable.dragAndDropAction;if(!P.action)return!1;if(P.action==="resize")return(0,x.pointInColumn)((0,y.getBoundsForNode)(D),C);var U=(0,y.getEventNodeFromPoint)(D,C);if(!U)return!1;E.eventOffsetTop=C.y-(0,y.getBoundsForNode)(U).top}),L.on("selecting",function(C){var P=(0,y.getBoundsForNode)(D),U=E.context.draggable.dragAndDropAction;U.action==="move"&&(E.updateParentScroll($,D),E.handleMove(C,P)),U.action==="resize"&&(E.updateParentScroll($,D),E.handleResize(C,P))}),L.on("dropFromOutside",function(C){if(E.context.draggable.onDropFromOutside){var P=(0,y.getBoundsForNode)(D);(0,x.pointInColumn)(P,C)&&E.handleDropFromOutside(C,P)}}),L.on("dragOverFromOutside",function(C){var P=E.context.draggable.dragFromOutsideItem?E.context.draggable.dragFromOutsideItem():null;if(P){var U=(0,y.getBoundsForNode)(D);if(!(0,x.pointInColumn)(U,C))return E.reset();E.handleDragOverFromOutside(C,U)}}),L.on("selectStart",function(){R=!0,E.context.draggable.onStart()}),L.on("select",function(C){var P=(0,y.getBoundsForNode)(D);R=!1;var U=E.context.draggable.dragAndDropAction;if(U.action==="resize")E.handleInteractionEnd();else{if(!E.state.event||!(0,x.pointInColumn)(P,C))return;E.handleInteractionEnd()}}),L.on("click",function(){R&&E.reset(),E.context.draggable.onEnd(null)}),L.on("reset",function(){E.reset(),E.context.draggable.onEnd(null)})},E.handleInteractionEnd=function(){var q=E.props.resource,D=E.state.event;E.reset(),E.context.draggable.onEnd({start:D.start,end:D.end,resourceId:q})},E._teardownSelectable=function(){E._selector&&(E._selector.teardown(),E._selector=null)},E.state={},E.ref=m.default.createRef(),E}return(0,c.default)(S,_),(0,i.default)(S,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.event&&this.setState({event:null,top:null,height:null})}},{key:"update",value:function(j,T){var O=T.startDate,q=T.endDate,D=T.top,R=T.height,L=this.state.event;L&&O===L.start&&q===L.end||this.setState({top:D,height:R,event:(0,r.default)((0,r.default)({},j),{},{start:O,end:q})})}},{key:"handleResize",value:function(j,T){var O=this.props,q=O.accessors,D=O.slotMetrics,R=O.localizer,L=this.context.draggable.dragAndDropAction,$=L.event,C=L.direction,P=D.closestSlotFromPoint(j,T),U=(0,x.eventTimes)($,q,R),z=U.start,W=U.end,ee;if(C==="UP"){var B=R.min(P,D.closestSlotFromDate(W,-1));ee=D.getRange(B,W),ee=(0,r.default)((0,r.default)({},ee),{},{endDate:W})}else if(C==="DOWN"){var K=R.max(P,D.closestSlotFromDate(z));ee=D.getRange(z,K),ee=(0,r.default)((0,r.default)({},ee),{},{startDate:z})}this.update($,ee)}},{key:"renderContent",value:function(){var j=this.props,T=j.children,O=j.accessors,q=j.components,D=j.getters,R=j.slotMetrics,L=j.localizer,$=this.state,C=$.event,P=$.top,U=$.height;if(!C)return T;var z=T.props.children,W=C.start,ee=C.end,B,K="eventTimeRangeFormat",ae=R.startsBeforeDay(W),le=R.startsAfterDay(ee);return ae?K="eventTimeRangeEndFormat":le&&(K="eventTimeRangeStartFormat"),ae&&le?B=L.messages.allDay:B=L.format({start:W,end:ee},K),m.default.cloneElement(T,{children:m.default.createElement(m.default.Fragment,null,z,C&&m.default.createElement(b.default,{event:C,label:B,className:"rbc-addons-dnd-drag-preview",style:{top:P,height:U,width:100},getters:D,components:q,accessors:(0,r.default)((0,r.default)({},O),x.dragAccessors),continuesPrior:ae,continuesAfter:le}))})}},{key:"render",value:function(){return m.default.createElement("div",{ref:this.ref},this.renderContent())}}])})(m.default.Component);return w.contextType=v.DnDContext,al.default=w,al}var il={},G0={exports:{}},W0={exports:{}},Y0={exports:{}},DT;function YR(){return DT||(DT=1,(function(t){function e(r,a){(a==null||a>r.length)&&(a=r.length);for(var i=0,l=Array(a);i<a;i++)l[i]=r[i];return l}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Y0)),Y0.exports}var kT;function FB(){return kT||(kT=1,(function(t){var e=YR();function r(a){if(Array.isArray(a))return e(a)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(W0)),W0.exports}var V0={exports:{}},MT;function GB(){return MT||(MT=1,(function(t){function e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(V0)),V0.exports}var K0={exports:{}},qT;function WB(){return qT||(qT=1,(function(t){var e=YR();function r(a,i){if(a){if(typeof a=="string")return e(a,i);var l={}.toString.call(a).slice(8,-1);return l==="Object"&&a.constructor&&(l=a.constructor.name),l==="Map"||l==="Set"?Array.from(a):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?e(a,i):void 0}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(K0)),K0.exports}var X0={exports:{}},PT;function YB(){return PT||(PT=1,(function(t){function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(X0)),X0.exports}var LT;function VR(){return LT||(LT=1,(function(t){var e=FB(),r=GB(),a=WB(),i=YB();function l(c){return e(c)||r(c)||a(c)||i()}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports})(G0)),G0.exports}var ol={},ll={},cl={},$T;function VB(){if($T)return cl;$T=1;var t=er().default;Object.defineProperty(cl,"__esModule",{value:!0}),cl.default=void 0;var e=t(za()),r=t(Ib()),a=t(Rs()),i=t(Ds()),l=t(Ji()),c=t(Zi()),d=t(Cr()),h=t(ac),m=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],v=(function(y){function b(){return(0,a.default)(this,b),(0,l.default)(this,b,arguments)}return(0,c.default)(b,y),(0,i.default)(b,[{key:"render",value:function(){var w=this.props,_=w.style,S=w.className,E=w.event,j=w.selected,T=w.isAllDay,O=w.onSelect,q=w.onDoubleClick,D=w.onKeyPress,R=w.localizer,L=w.continuesPrior,$=w.continuesAfter,C=w.accessors,P=w.getters,U=w.children,z=w.components,W=z.event,ee=z.eventWrapper,B=w.slotStart,K=w.slotEnd,ae=(0,r.default)(w,m);delete ae.resizable;var le=C.title(E),V=C.tooltip(E),M=C.end(E),F=C.start(E),ie=C.allDay(E),ce=T||ie||R.diff(F,R.ceil(M,"day"),"day")>1,fe=P.eventProp(E,F,M,j),pe=d.default.createElement("div",{className:"rbc-event-content",title:V||void 0},W?d.default.createElement(W,{event:E,continuesPrior:L,continuesAfter:$,title:le,isAllDay:ie,localizer:R,slotStart:B,slotEnd:K}):le);return d.default.createElement(ee,Object.assign({},this.props,{type:"date"}),d.default.createElement("div",Object.assign({},ae,{style:(0,e.default)((0,e.default)({},fe.style),_),className:(0,h.default)("rbc-event",S,fe.className,{"rbc-selected":j,"rbc-event-allday":ce,"rbc-event-continues-prior":L,"rbc-event-continues-after":$}),onClick:function(De){return O&&O(E,De)},onDoubleClick:function(De){return q&&q(E,De)},onKeyDown:function(De){return D&&D(E,De)}}),typeof U=="function"?U(pe):pe))}}])})(d.default.Component);return cl.default=v,cl}var Na={},zT;function KR(){if(zT)return Na;zT=1;var t=er().default;Object.defineProperty(Na,"__esModule",{value:!0}),Na.dateCellSelection=c,Na.getSlotAtX=i,Na.isSelected=r,Na.pointInBox=l,Na.slotWidth=a;var e=t(FA());function r(d,h){return!d||h==null?!1:(0,e.default)(d,h)}function a(d,h){var m=d.right-d.left,v=m/h;return v}function i(d,h,m,v){var y=a(d,v);return m?v-1-Math.floor((h-d.left)/y):Math.floor((h-d.left)/y)}function l(d,h){var m=h.x,v=h.y;return v>=d.top&&v<=d.bottom&&m>=d.left&&m<=d.right}function c(d,h,m,v,y){var b=-1,x=-1,w=v-1,_=a(h,v),S=i(h,m.x,y,v),E=h.top<m.y&&h.bottom>m.y,j=h.top<d.y&&h.bottom>d.y,T=d.y>h.bottom,O=h.top>d.y,q=m.top<h.top&&m.bottom>h.bottom;return q&&(b=0,x=w),E&&(O?(b=0,x=S):T&&(b=S,x=w)),j&&(b=x=y?w-Math.floor((d.x-h.left)/_):Math.floor((d.x-h.left)/_),E?S<b?b=S:x=S:d.y<m.y?x=w:b=0),{startIdx:b,endIdx:x}}return Na}var UT;function KB(){if(UT)return ll;UT=1;var t=er().default;Object.defineProperty(ll,"__esModule",{value:!0}),ll.default=void 0;var e=t(Zy()),r=t(Cr()),a=t(VB()),i=KR();return ll.default={propTypes:{slotMetrics:e.default.object.isRequired,selected:e.default.object,isAllDay:e.default.bool,accessors:e.default.object.isRequired,localizer:e.default.object.isRequired,components:e.default.object.isRequired,getters:e.default.object.isRequired,onSelect:e.default.func,onDoubleClick:e.default.func,onKeyPress:e.default.func},defaultProps:{segments:[],selected:{}},renderEvent:function(c,d){var h=c.selected;c.isAllDay;var m=c.accessors,v=c.getters,y=c.onSelect,b=c.onDoubleClick,x=c.onKeyPress,w=c.localizer,_=c.slotMetrics,S=c.components,E=c.resizable,j=_.continuesPrior(d),T=_.continuesAfter(d);return r.default.createElement(a.default,{event:d,getters:v,localizer:w,accessors:m,components:S,onSelect:y,onDoubleClick:b,onKeyPress:x,continuesPrior:j,continuesAfter:T,slotStart:_.first,slotEnd:_.last,selected:(0,i.isSelected)(d,h),resizable:E})},renderSpan:function(c,d,h){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",v=Math.abs(d)/c*100+"%";return r.default.createElement("div",{key:h,className:"rbc-row-segment",style:{WebkitFlexBasis:v,flexBasis:v,maxWidth:v}},m)}},ll}var IT;function XB(){if(IT)return ol;IT=1;var t=er().default;Object.defineProperty(ol,"__esModule",{value:!0}),ol.default=void 0;var e=t(za()),r=t(Rs()),a=t(Ds()),i=t(Ji()),l=t(Zi()),c=t(ac),d=t(Cr()),h=t(KB()),m=(function(v){function y(){return(0,r.default)(this,y),(0,i.default)(this,y,arguments)}return(0,l.default)(y,v),(0,a.default)(y,[{key:"render",value:function(){var x=this,w=this.props,_=w.segments,S=w.slotMetrics.slots,E=w.className,j=1;return d.default.createElement("div",{className:(0,c.default)(E,"rbc-row")},_.reduce(function(T,O,q){var D=O.event,R=O.left,L=O.right,$=O.span,C="_lvl_"+q,P=R-j,U=h.default.renderEvent(x.props,D);return P&&T.push(h.default.renderSpan(S,P,"".concat(C,"_gap"))),T.push(h.default.renderSpan(S,$,C,U)),j=L+1,T},[]))}}])})(d.default.Component);return m.defaultProps=(0,e.default)({},h.default.defaultProps),ol.default=m,ol}var dn={},BT;function QB(){if(BT)return dn;BT=1;var t=er().default;Object.defineProperty(dn,"__esModule",{value:!0}),dn.endOfRange=a,dn.eventLevels=l,dn.eventSegments=i,dn.inRange=c,dn.segsOverlap=d,dn.sortEvents=m,dn.sortWeekEvents=h;var e=t(VR()),r=t(YA());function a(v){var y=v.dateRange,b=v.unit,x=b===void 0?"day":b,w=v.localizer;return{first:y[0],last:w.add(y[y.length-1],1,x)}}function i(v,y,b,x){var w=a({dateRange:y,localizer:x}),_=w.first,S=w.last,E=x.diff(_,S,"day"),j=x.max(x.startOf(b.start(v),"day"),_),T=x.min(x.ceil(b.end(v),"day"),S),O=(0,r.default)(y,function(D){return x.isSameDate(D,j)}),q=x.diff(j,T,"day");return q=Math.min(q,E),q=Math.max(q-x.segmentOffset,1),{event:v,span:q,left:O+1,right:Math.max(O+q,1)}}function l(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,b,x,w,_=[],S=[];for(b=0;b<v.length;b++){for(w=v[b],x=0;x<_.length&&d(w,_[x]);x++);x>=y?S.push(w):(_[x]||(_[x]=[])).push(w)}for(b=0;b<_.length;b++)_[b].sort(function(E,j){return E.left-j.left});return{levels:_,extra:S}}function c(v,y,b,x,w){var _={start:x.start(v),end:x.end(v)},S={start:y,end:b};return w.inEventRange({event:_,range:S})}function d(v,y){return y.some(function(b){return b.left<=v.right&&b.right>=v.left})}function h(v,y,b){var x=(0,e.default)(v),w=[],_=[];x.forEach(function(j){var T=y.start(j),O=y.end(j);b.daySpan(T,O)>1?w.push(j):_.push(j)});var S=w.sort(function(j,T){return m(j,T,y,b)}),E=_.sort(function(j,T){return m(j,T,y,b)});return[].concat((0,e.default)(S),(0,e.default)(E))}function m(v,y,b,x){var w={start:b.start(v),end:b.end(v),allDay:b.allDay(v)},_={start:b.start(y),end:b.end(y),allDay:b.allDay(y)};return x.sortEvents({evtA:w,evtB:_})}return dn}var HT;function JB(){if(HT)return il;HT=1;var t=TR().default,e=er().default;Object.defineProperty(il,"__esModule",{value:!0}),il.default=void 0;var r=e(za()),a=e(VR()),i=e(Rs()),l=e(Ds()),c=e(Ji()),d=e(Zi()),h=e(Cr()),m=e(XB()),v=t(WR()),y=QB(),b=KR(),x=Gb(),w=mf(),_=(function(S){function E(){var j;(0,i.default)(this,E);for(var T=arguments.length,O=new Array(T),q=0;q<T;q++)O[q]=arguments[q];return j=(0,c.default)(this,E,[].concat(O)),j.handleMove=function(D,R,L){if(!(0,b.pointInBox)(R,D))return j.reset();var $=j.context.draggable.dragAndDropAction.event||L,C=j.props,P=C.accessors,U=C.slotMetrics,z=C.rtl,W=C.localizer,ee=(0,b.getSlotAtX)(R,D.x,z,U.slots),B=U.getDateForSlot(ee),K=(0,x.eventTimes)($,P,W),ae=K.start,le=K.duration;ae=W.merge(B,ae);var V=W.add(ae,le,"milliseconds");j.update($,ae,V)},j.handleDropFromOutside=function(D,R){if(j.context.draggable.onDropFromOutside){var L=j.props,$=L.slotMetrics,C=L.rtl,P=L.localizer,U=(0,b.getSlotAtX)(R,D.x,C,$.slots),z=$.getDateForSlot(U);j.context.draggable.onDropFromOutside({start:z,end:P.add(z,1,"day"),allDay:!1})}},j.handleDragOverFromOutside=function(D,R){var L=j.context.draggable.dragFromOutsideItem?j.context.draggable.dragFromOutsideItem():null;L&&j.handleMove(D,R,L)},j._selectable=function(){var D=j.ref.current.closest(".rbc-month-row, .rbc-allday-cell"),R=D.closest(".rbc-month-view, .rbc-time-view"),L=D.classList.contains("rbc-month-row"),$=j._selector=new v.default(function(){return R},{validContainers:(0,a.default)(L?[]:[".rbc-day-slot",".rbc-allday-cell"])});$.on("beforeSelect",function(C){var P=j.props.isAllDay,U=j.context.draggable.dragAndDropAction.action,z=(0,v.getBoundsForNode)(D),W=(0,b.pointInBox)(z,C);return U==="move"||U==="resize"&&(!P||W)}),$.on("selecting",function(C){var P=(0,v.getBoundsForNode)(D),U=j.context.draggable.dragAndDropAction;U.action==="move"&&j.handleMove(C,P),U.action==="resize"&&j.handleResize(C,P)}),$.on("selectStart",function(){return j.context.draggable.onStart()}),$.on("select",function(C){var P=(0,v.getBoundsForNode)(D);j.state.segment&&((0,b.pointInBox)(P,C)?j.handleInteractionEnd():j.reset())}),$.on("dropFromOutside",function(C){if(j.context.draggable.onDropFromOutside){var P=(0,v.getBoundsForNode)(D);(0,b.pointInBox)(P,C)&&j.handleDropFromOutside(C,P)}}),$.on("dragOverFromOutside",function(C){if(j.context.draggable.dragFromOutsideItem){var P=(0,v.getBoundsForNode)(D);j.handleDragOverFromOutside(C,P)}}),$.on("click",function(){return j.context.draggable.onEnd(null)}),$.on("reset",function(){j.reset(),j.context.draggable.onEnd(null)})},j.handleInteractionEnd=function(){var D=j.props,R=D.resourceId,L=D.isAllDay,$=j.state.segment.event;j.reset(),j.context.draggable.onEnd({start:$.start,end:$.end,resourceId:R,isAllDay:L})},j._teardownSelectable=function(){j._selector&&(j._selector.teardown(),j._selector=null)},j.state={},j.ref=h.default.createRef(),j}return(0,d.default)(E,S),(0,l.default)(E,[{key:"componentDidMount",value:function(){this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"reset",value:function(){this.state.segment&&this.setState({segment:null})}},{key:"update",value:function(T,O,q){var D=(0,y.eventSegments)((0,r.default)((0,r.default)({},T),{},{end:q,start:O,__isPreview:!0}),this.props.slotMetrics.range,x.dragAccessors,this.props.localizer),R=this.state.segment;R&&D.span===R.span&&D.left===R.left&&D.right===R.right||this.setState({segment:D})}},{key:"handleResize",value:function(T,O){var q=this.context.draggable.dragAndDropAction,D=q.event,R=q.direction,L=this.props,$=L.accessors,C=L.slotMetrics,P=L.rtl,U=L.localizer,z=(0,x.eventTimes)(D,$,U),W=z.start,ee=z.end,B=(0,b.getSlotAtX)(O,T.x,P,C.slots),K=C.getDateForSlot(B),ae=(0,b.pointInBox)(O,T);if(R==="RIGHT"){if(ae){if(C.last<W)return this.reset();U.eq(U.startOf(ee,"day"),ee)?ee=U.add(K,1,"day"):ee=K}else if(U.inRange(W,C.first,C.last)||O.bottom<T.y&&+C.first>+W)ee=U.add(C.last,1,"milliseconds");else{this.setState({segment:null});return}var le=$.end(D);ee=U.merge(ee,le),U.lt(ee,W)&&(ee=le)}else if(R==="LEFT"){if(ae){if(C.first>ee)return this.reset();W=K}else if(U.inRange(ee,C.first,C.last)||O.top>T.y&&U.lt(C.last,ee))W=U.add(C.first,-1,"milliseconds");else{this.reset();return}var V=$.start(D);W=U.merge(W,V),U.gt(W,ee)&&(W=V)}this.update(D,W,ee)}},{key:"render",value:function(){var T=this.props,O=T.children,q=T.accessors,D=this.state.segment;return h.default.createElement("div",{ref:this.ref,className:"rbc-addons-dnd-row-body"},O,D&&h.default.createElement(m.default,Object.assign({},this.props,{selected:null,className:"rbc-addons-dnd-drag-row",segments:[D],accessors:(0,r.default)((0,r.default)({},q),x.dragAccessors)})))}}])})(h.default.Component);return _.contextType=w.DnDContext,il.default=_,il}var FT;function ZB(){if(FT)return Pu;FT=1;var t=er().default;Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.default=_;var e=t(za()),r=t(Ib()),a=t(Rs()),i=t(Ds()),l=t(Ji()),c=t(Zi()),d=t(Cr()),h=t(ac);jB();var m=t(NB()),v=t(HB()),y=t(JB()),b=Gb(),x=mf(),w=["selectable","elementProps","components"];function _(S){var E=(function(j){function T(){var O;(0,a.default)(this,T);for(var q=arguments.length,D=new Array(q),R=0;R<q;R++)D[R]=arguments[R];return O=(0,l.default)(this,T,[].concat(D)),O.defaultOnDragOver=function(L){L.preventDefault()},O.handleBeginAction=function(L,$,C){O.setState({event:L,action:$,direction:C});var P=O.props.onDragStart;P&&P({event:L,action:$,direction:C})},O.handleInteractionStart=function(){O.state.interacting===!1&&O.setState({interacting:!0})},O.handleInteractionEnd=function(L){var $=O.state,C=$.action,P=$.event;if(C&&(O.setState({action:null,event:null,interacting:!1,direction:null}),L!=null)){L.event=P;var U=O.props,z=U.onEventDrop,W=U.onEventResize;C==="move"&&z&&z(L),C==="resize"&&W&&W(L)}},O.state={interacting:!1},O}return(0,c.default)(T,j),(0,i.default)(T,[{key:"getDnDContextValue",value:function(){return{draggable:{onStart:this.handleInteractionStart,onEnd:this.handleInteractionEnd,onBeginAction:this.handleBeginAction,onDropFromOutside:this.props.onDropFromOutside,dragFromOutsideItem:this.props.dragFromOutsideItem,draggableAccessor:this.props.draggableAccessor,resizableAccessor:this.props.resizableAccessor,dragAndDropAction:this.state}}}},{key:"render",value:function(){var q=this.props,D=q.selectable,R=q.elementProps,L=q.components,$=(0,r.default)(q,w),C=this.state.interacting;delete $.onEventDrop,delete $.onEventResize,$.selectable=D?"ignoreEvents":!1,this.components=(0,b.mergeComponents)(L,{eventWrapper:m.default,eventContainerWrapper:v.default,weekWrapper:y.default});var P=this.props.onDropFromOutside?(0,e.default)((0,e.default)({},R),{},{onDragOver:this.props.onDragOver||this.defaultOnDragOver}):R;$.className=(0,h.default)($.className,"rbc-addons-dnd",!!C&&"rbc-addons-dnd-is-dragging");var U=this.getDnDContextValue();return d.default.createElement(x.DnDContext.Provider,{value:U},d.default.createElement(S,Object.assign({},$,{elementProps:P,components:this.components})))}}])})(d.default.Component);return E.defaultProps=(0,e.default)((0,e.default)({},S.defaultProps),{},{draggableAccessor:null,resizableAccessor:null,resizable:!0}),E}return Pu}var GT;function e8(){if(GT)return tl;GT=1;var t=er().default;Object.defineProperty(tl,"__esModule",{value:!0}),tl.default=void 0;var e=t(ZB());return tl.default=e.default,tl}var t8=e8();const r8=Qt(t8),XR=6048e5,n8=864e5,$u=43200,WT=1440,YT=Symbol.for("constructDateFrom");function Gr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&YT in t?t[YT](e):t instanceof Date?new t.constructor(e):new Date(e)}function at(t,e){return Gr(e||t,t)}function Cs(t,e,r){const a=at(t,r?.in);return isNaN(e)?Gr(t,NaN):(e&&a.setDate(a.getDate()+e),a)}function Wb(t,e,r){const a=at(t,r?.in);if(isNaN(e))return Gr(t,NaN);if(!e)return a;const i=a.getDate(),l=Gr(t,a.getTime());l.setMonth(a.getMonth()+e+1,0);const c=l.getDate();return i>=c?l:(a.setFullYear(l.getFullYear(),l.getMonth(),i),a)}let a8={};function eo(){return a8}function ka(t,e){const r=eo(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=at(t,e?.in),l=i.getDay(),c=(l<a?7:0)+l-a;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function Ed(t,e){return ka(t,{...e,weekStartsOn:1})}function QR(t,e){const r=at(t,e?.in),a=r.getFullYear(),i=Gr(r,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=Ed(i),c=Gr(r,0);c.setFullYear(a,0,4),c.setHours(0,0,0,0);const d=Ed(c);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function jd(t){const e=at(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function to(t,...e){const r=Gr.bind(null,t||e.find(a=>typeof a=="object"));return e.map(r)}function Ir(t,e){const r=at(t,e?.in);return r.setHours(0,0,0,0),r}function s8(t,e,r){const[a,i]=to(r?.in,t,e),l=Ir(a),c=Ir(i),d=+l-jd(l),h=+c-jd(c);return Math.round((d-h)/n8)}function i8(t,e){const r=QR(t,e),a=Gr(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Ed(a)}function JR(t,e,r){return Cs(t,e*7,r)}function nd(t,e){const r=+at(t)-+at(e);return r<0?-1:r>0?1:r}function o8(t){return Gr(t,Date.now())}function ZR(t,e,r){const[a,i]=to(r?.in,t,e);return+Ir(a)==+Ir(i)}function l8(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function c8(t){return!(!l8(t)&&typeof t!="number"||isNaN(+at(t)))}function u8(t,e,r){const[a,i]=to(r?.in,t,e),l=a.getFullYear()-i.getFullYear(),c=a.getMonth()-i.getMonth();return l*12+c}function d8(t){return e=>{const a=(t?Math[t]:Math.trunc)(e);return a===0?0:a}}function f8(t,e){return+at(t)-+at(e)}function h8(t,e){const r=at(t,e?.in);return r.setHours(23,59,59,999),r}function eD(t,e){const r=at(t,e?.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function m8(t,e){const r=at(t,e?.in);return+h8(r,e)==+eD(r,e)}function p8(t,e,r){const[a,i,l]=to(r?.in,t,t,e),c=nd(i,l),d=Math.abs(u8(i,l));if(d<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-c*d);let h=nd(i,l)===-c;m8(a)&&d===1&&nd(a,l)===1&&(h=!1);const m=c*(d-+h);return m===0?0:m}function v8(t,e,r){const a=f8(t,e)/1e3;return d8(r?.roundingMethod)(a)}function g8(t,e){const r=at(t,e?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function y8(t,e){const r=at(t,e?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function tD(t,e){const r=eo(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=at(t,e?.in),l=i.getDay(),c=(l<a?-7:0)+6-(l-a);return i.setDate(i.getDate()+c),i.setHours(23,59,59,999),i}const b8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},x8=(t,e,r)=>{let a;const i=b8[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Oi(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const w8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},E8={date:Oi({formats:w8,defaultWidth:"full"}),time:Oi({formats:_8,defaultWidth:"full"}),dateTime:Oi({formats:S8,defaultWidth:"full"})},j8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N8=(t,e,r,a)=>j8[t];function mn(t){return(e,r)=>{const a=r?.context?String(r.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const c=t.defaultFormattingWidth||t.defaultWidth,d=r?.width?String(r.width):c;i=t.formattingValues[d]||t.formattingValues[c]}else{const c=t.defaultWidth,d=r?.width?String(r.width):t.defaultWidth;i=t.values[d]||t.values[c]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const T8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},A8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},D8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},k8=(t,e)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},M8={ordinalNumber:k8,era:mn({values:T8,defaultWidth:"wide"}),quarter:mn({values:O8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:mn({values:C8,defaultWidth:"wide"}),day:mn({values:A8,defaultWidth:"wide"}),dayPeriod:mn({values:R8,defaultWidth:"wide",formattingValues:D8,defaultFormattingWidth:"wide"})};function pn(t){return(e,r={})=>{const a=r.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const c=l[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?P8(d,y=>y.test(c)):q8(d,y=>y.test(c));let m;m=t.valueCallback?t.valueCallback(h):h,m=r.valueCallback?r.valueCallback(m):m;const v=e.slice(c.length);return{value:m,rest:v}}}function q8(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function P8(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function rD(t){return(e,r={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],l=e.match(t.parsePattern);if(!l)return null;let c=t.valueCallback?t.valueCallback(l[0]):l[0];c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(i.length);return{value:c,rest:d}}}const L8=/^(\d+)(th|st|nd|rd)?/i,$8=/\d+/i,z8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},U8={any:[/^b/i,/^(a|c)/i]},I8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},B8={any:[/1/i,/2/i,/3/i,/4/i]},H8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Y8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K8={ordinalNumber:rD({matchPattern:L8,parsePattern:$8,valueCallback:t=>parseInt(t,10)}),era:pn({matchPatterns:z8,defaultMatchWidth:"wide",parsePatterns:U8,defaultParseWidth:"any"}),quarter:pn({matchPatterns:I8,defaultMatchWidth:"wide",parsePatterns:B8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pn({matchPatterns:H8,defaultMatchWidth:"wide",parsePatterns:F8,defaultParseWidth:"any"}),day:pn({matchPatterns:G8,defaultMatchWidth:"wide",parsePatterns:W8,defaultParseWidth:"any"}),dayPeriod:pn({matchPatterns:Y8,defaultMatchWidth:"any",parsePatterns:V8,defaultParseWidth:"any"})},nD={code:"en-US",formatDistance:x8,formatLong:E8,formatRelative:N8,localize:M8,match:K8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function X8(t,e){const r=at(t,e?.in);return s8(r,y8(r))+1}function Q8(t,e){const r=at(t,e?.in),a=+Ed(r)-+i8(r);return Math.round(a/XR)+1}function aD(t,e){const r=at(t,e?.in),a=r.getFullYear(),i=eo(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=Gr(e?.in||t,0);c.setFullYear(a+1,0,l),c.setHours(0,0,0,0);const d=ka(c,e),h=Gr(e?.in||t,0);h.setFullYear(a,0,l),h.setHours(0,0,0,0);const m=ka(h,e);return+r>=+d?a+1:+r>=+m?a:a-1}function J8(t,e){const r=eo(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=aD(t,e),l=Gr(e?.in||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),ka(l,e)}function Z8(t,e){const r=at(t,e?.in),a=+ka(r,e)-+J8(r,e);return Math.round(a/XR)+1}function We(t,e){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return r+a}const Ta={y(t,e){const r=t.getFullYear(),a=r>0?r:1-r;return We(e==="yy"?a%100:a,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):We(r+1,2)},d(t,e){return We(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return We(t.getHours()%12||12,e.length)},H(t,e){return We(t.getHours(),e.length)},m(t,e){return We(t.getMinutes(),e.length)},s(t,e){return We(t.getSeconds(),e.length)},S(t,e){const r=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return We(i,e.length)}},_i={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VT={G:function(t,e,r){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return Ta.y(t,e)},Y:function(t,e,r,a){const i=aD(t,a),l=i>0?i:1-i;if(e==="YY"){const c=l%100;return We(c,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):We(l,e.length)},R:function(t,e){const r=QR(t);return We(r,e.length)},u:function(t,e){const r=t.getFullYear();return We(r,e.length)},Q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return We(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return We(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){const a=t.getMonth();switch(e){case"M":case"MM":return Ta.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return We(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){const i=Z8(t,a);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):We(i,e.length)},I:function(t,e,r){const a=Q8(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):We(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ta.d(t,e)},D:function(t,e,r){const a=X8(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):We(a,e.length)},E:function(t,e,r){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return We(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return We(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return We(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const a=t.getHours();let i;switch(a===12?i=_i.noon:a===0?i=_i.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const a=t.getHours();let i;switch(a>=17?i=_i.evening:a>=12?i=_i.afternoon:a>=4?i=_i.morning:i=_i.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Ta.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ta.H(t,e)},K:function(t,e,r){const a=t.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):We(a,e.length)},k:function(t,e,r){let a=t.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):We(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ta.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ta.s(t,e)},S:function(t,e){return Ta.S(t,e)},X:function(t,e,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return XT(a);case"XXXX":case"XX":return ds(a);case"XXXXX":case"XXX":default:return ds(a,":")}},x:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"x":return XT(a);case"xxxx":case"xx":return ds(a);case"xxxxx":case"xxx":default:return ds(a,":")}},O:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+KT(a,":");case"OOOO":default:return"GMT"+ds(a,":")}},z:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+KT(a,":");case"zzzz":default:return"GMT"+ds(a,":")}},t:function(t,e,r){const a=Math.trunc(+t/1e3);return We(a,e.length)},T:function(t,e,r){return We(+t,e.length)}};function KT(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?r+String(i):r+String(i)+e+We(l,2)}function XT(t,e){return t%60===0?(t>0?"-":"+")+We(Math.abs(t)/60,2):ds(t,e)}function ds(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=We(Math.trunc(a/60),2),l=We(a%60,2);return r+i+e+l}const QT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},sD=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},eH=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return QT(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",QT(a,e)).replace("{{time}}",sD(i,e))},tH={p:sD,P:eH},rH=/^D+$/,nH=/^Y+$/,aH=["D","DD","YY","YYYY"];function sH(t){return rH.test(t)}function iH(t){return nH.test(t)}function oH(t,e,r){const a=lH(t,e,r);if(console.warn(a),aH.includes(t))throw new RangeError(a)}function lH(t,e,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dH=/^'([^]*?)'?$/,fH=/''/g,hH=/[a-zA-Z]/;function Ct(t,e,r){const a=eo(),i=r?.locale??a.locale??nD,l=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,d=at(t,r?.in);if(!c8(d))throw new RangeError("Invalid time value");let h=e.match(uH).map(v=>{const y=v[0];if(y==="p"||y==="P"){const b=tH[y];return b(v,i.formatLong)}return v}).join("").match(cH).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:mH(v)};if(VT[y])return{isToken:!0,value:v};if(y.match(hH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(h=i.localize.preprocessor(d,h));const m={firstWeekContainsDate:l,weekStartsOn:c,locale:i};return h.map(v=>{if(!v.isToken)return v.value;const y=v.value;(!r?.useAdditionalWeekYearTokens&&iH(y)||!r?.useAdditionalDayOfYearTokens&&sH(y))&&oH(y,e,String(t));const b=VT[y[0]];return b(d,y,i.localize,m)}).join("")}function mH(t){const e=t.match(dH);return e?e[1].replace(fH,"'"):t}function pH(t,e,r){const a=eo(),i=r?.locale??a.locale??nD,l=2520,c=nd(t,e);if(isNaN(c))throw new RangeError("Invalid time value");const d=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:c}),[h,m]=to(r?.in,...c>0?[e,t]:[t,e]),v=v8(m,h),y=(jd(m)-jd(h))/1e3,b=Math.round((v-y)/60);let x;if(b<2)return r?.includeSeconds?v<5?i.formatDistance("lessThanXSeconds",5,d):v<10?i.formatDistance("lessThanXSeconds",10,d):v<20?i.formatDistance("lessThanXSeconds",20,d):v<40?i.formatDistance("halfAMinute",0,d):v<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):b===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",b,d);if(b<45)return i.formatDistance("xMinutes",b,d);if(b<90)return i.formatDistance("aboutXHours",1,d);if(b<WT){const w=Math.round(b/60);return i.formatDistance("aboutXHours",w,d)}else{if(b<l)return i.formatDistance("xDays",1,d);if(b<$u){const w=Math.round(b/WT);return i.formatDistance("xDays",w,d)}else if(b<$u*2)return x=Math.round(b/$u),i.formatDistance("aboutXMonths",x,d)}if(x=p8(m,h),x<12){const w=Math.round(b/$u);return i.formatDistance("xMonths",w,d)}else{const w=x%12,_=Math.trunc(x/12);return w<3?i.formatDistance("aboutXYears",_,d):w<9?i.formatDistance("overXYears",_,d):i.formatDistance("almostXYears",_+1,d)}}function Nd(t,e){return pH(t,o8(t),e)}function vH(t,e){return at(t,e?.in).getDay()}function gH(t,e,r){const[a,i]=to(r?.in,t,e);return a.getFullYear()===i.getFullYear()&&a.getMonth()===i.getMonth()}function yH(t,e,r){return Cs(t,-1,r)}function iD(t,e,r){const a=at(t,r?.in);return a.setHours(e),a}function oD(t,e,r){const a=at(t,r?.in);return a.setMinutes(e),a}function lD(t,e,r){return Wb(t,-e,r)}function bH(t,e,r){return JR(t,-1,r)}const xH={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},wH=(t,e,r)=>{let a;const i=xH[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"en "+a:"hace "+a:a},_H={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},SH={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},EH={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jH={date:Oi({formats:_H,defaultWidth:"full"}),time:Oi({formats:SH,defaultWidth:"full"}),dateTime:Oi({formats:EH,defaultWidth:"full"})},NH={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},TH={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},OH=(t,e,r,a)=>e.getHours()!==1?TH[t]:NH[t],CH={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},AH={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},RH={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},DH={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},kH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},MH={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},qH=(t,e)=>Number(t)+"",PH={ordinalNumber:qH,era:mn({values:CH,defaultWidth:"wide"}),quarter:mn({values:AH,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:mn({values:RH,defaultWidth:"wide"}),day:mn({values:DH,defaultWidth:"wide"}),dayPeriod:mn({values:kH,defaultWidth:"wide",formattingValues:MH,defaultFormattingWidth:"wide"})},LH=/^(\d+)()?/i,$H=/\d+/i,zH={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},UH={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},IH={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},BH={any:[/1/i,/2/i,/3/i,/4/i]},HH={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},FH={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},GH={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},WH={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},YH={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},VH={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},KH={ordinalNumber:rD({matchPattern:LH,parsePattern:$H,valueCallback:function(t){return parseInt(t,10)}}),era:pn({matchPatterns:zH,defaultMatchWidth:"wide",parsePatterns:UH,defaultParseWidth:"any"}),quarter:pn({matchPatterns:IH,defaultMatchWidth:"wide",parsePatterns:BH,defaultParseWidth:"any",valueCallback:t=>t+1}),month:pn({matchPatterns:HH,defaultMatchWidth:"wide",parsePatterns:FH,defaultParseWidth:"any"}),day:pn({matchPatterns:GH,defaultMatchWidth:"wide",parsePatterns:WH,defaultParseWidth:"any"}),dayPeriod:pn({matchPatterns:YH,defaultMatchWidth:"any",parsePatterns:VH,defaultParseWidth:"any"})},qt={code:"es",formatDistance:wH,formatLong:jH,formatRelative:OH,localize:PH,match:KH,options:{weekStartsOn:1,firstWeekContainsDate:1}},XH={es:qt},QH=vB({format:Ct,startOfWeek:()=>ka(new Date,{weekStartsOn:1}),getDay:vH,locales:XH}),JH={allDay:"Todo el da",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango.",showMore:t=>`+ ${t} ms`},ZH={month:"Mes",week:"Semana",day:"Da",agenda:"Agenda"},ul={step:15,timeslots:4,minTime:new Date(0,0,0,7,0,0),maxTime:new Date(0,0,0,22,0,0),defaultView:"week"};function e7(t,e){switch(e){case"month":return Ct(t,"MMMM yyyy",{locale:qt});case"week":{const r=ka(t,{weekStartsOn:1}),a=tD(t,{weekStartsOn:1});return gH(r,a)?`${Ct(r,"d",{locale:qt})} - ${Ct(a,"d MMMM yyyy",{locale:qt})}`:`${Ct(r,"d MMM",{locale:qt})} - ${Ct(a,"d MMM yyyy",{locale:qt})}`}case"day":return Ct(t,"EEEE, d 'de' MMMM yyyy",{locale:qt});case"agenda":return Ct(t,"MMMM yyyy",{locale:qt});default:return Ct(t,"MMMM yyyy",{locale:qt})}}function t7({currentDate:t,currentView:e,onNavigate:r,onViewChange:a,eventsToday:i=0,onNewAppointment:l,isRefreshing:c=!1}){const d=["month","week","day","agenda"],h=A.useMemo(()=>e7(t,e),[t,e]),m=A.useMemo(()=>{const v=new Date;return t.toDateString()===v.toDateString()},[t]);return f.jsx("div",{className:"flex flex-col gap-4 mb-6",children:f.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[l&&f.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-xl transition-all shadow-sm hover:shadow-md active:scale-[0.98]",children:[f.jsx(xn,{className:"h-4 w-4"}),f.jsx("span",{children:"Nueva Cita"})]}),f.jsxs("div",{className:"flex items-center bg-slate-100 rounded-xl p-1 shadow-inner",children:[f.jsx("button",{onClick:()=>r("PREV"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Anterior",children:f.jsx(Ky,{className:"h-5 w-5 text-slate-600"})}),f.jsx("button",{onClick:()=>r("TODAY"),disabled:m,className:`px-4 py-2 text-sm font-semibold rounded-lg transition-all ${m?"text-slate-400 cursor-default":"text-indigo-600 hover:bg-white hover:shadow-sm active:scale-95"}`,children:"Hoy"}),f.jsx("button",{onClick:()=>r("NEXT"),className:"p-2.5 rounded-lg hover:bg-white hover:shadow-sm transition-all active:scale-95","aria-label":"Siguiente",children:f.jsx(Ri,{className:"h-5 w-5 text-slate-600"})})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-slate-800 capitalize whitespace-nowrap",children:h}),c&&f.jsx(Tt,{className:"h-4 w-4 text-slate-400 animate-spin"}),i>0&&f.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-indigo-50 text-indigo-700 text-xs font-semibold rounded-full border border-indigo-100",children:[f.jsx(nn,{className:"h-3.5 w-3.5"}),i," hoy"]})]})]}),f.jsx("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-xl shadow-inner",children:d.map(v=>f.jsx("button",{onClick:()=>a(v),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${e===v?"bg-white text-indigo-600 shadow-sm":"text-slate-600 hover:text-slate-800 hover:bg-white/50"}`,children:ZH[v]},v))})]})})}const pf="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/create-calendar-event",r7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function n7(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),c=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],h=r.toTimeString().slice(0,5),m=await fetch(pf,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"create",calendarId:t.calendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:c,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:h,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id,htmlLink:v.event?.htmlLink}:{success:!1,error:v.error||"Failed to create appointment"}}async function a7(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(pf,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"delete",calendarId:t.calendarId,eventId:t.eventId})}),a=await r.json();return r.ok?{success:!0}:{success:!1,error:a.error||"Failed to delete appointment"}}async function s7(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t.appointmentDate),a=new Date(r.getTime()+t.service.duration_minutes*60*1e3),i=r.toISOString(),l=a.toISOString(),c=[`Cliente: ${t.client.name}`,`Telfono: ${t.client.phone}`,t.client.email?`Email: ${t.client.email}`:null,`Servicio: ${t.service.name}`,`Duracin: ${t.service.duration_minutes} min`,`Precio: ${t.service.price}`,t.notes?`
Notas: ${t.notes}`:null].filter(Boolean).join(`
`),d=r.toISOString().split("T")[0],h=r.toTimeString().slice(0,5),m=await fetch(pf,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,oldCalendarId:t.oldCalendarId,summary:`${t.service.name} - ${t.client.name}`,startTime:i,endTime:l,description:c,logData:{salonId:t.salonId,clientId:t.client.id,clientName:t.client.name,clientPhone:t.client.phone,clientEmail:t.client.email,serviceName:t.service.name,servicePrice:t.service.price,staffId:t.staffId,staffName:t.staffName,appointmentDate:d,appointmentTime:h,durationMinutes:t.service.duration_minutes,notes:t.notes}})}),v=await m.json();return m.ok?{success:!0,eventId:v.event?.id}:{success:!1,error:v.error||"Failed to update appointment"}}async function i7(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=t.newStart.toISOString(),a=t.newEnd.toISOString(),i=t.newStart.toISOString().split("T")[0],l=t.newStart.toTimeString().slice(0,5),c=await fetch(pf,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({action:"update",eventId:t.eventId,calendarId:t.calendarId,summary:t.title,startTime:r,endTime:a,description:t.description,logData:{appointmentDate:i,appointmentTime:l}})}),d=await c.json();return c.ok?{success:!0}:{success:!1,error:d.error||"Failed to reschedule appointment"}}async function cD(t){const{data:e,error:r}=await Te.from("clients").select("*").eq("salon_id",t).order("name");if(r)throw new Error("Failed to fetch clients");return e||[]}async function Td(t){const{data:e,error:r}=await Te.from("services").select("*").eq("salon_id",t).eq("active",!0).order("category").order("display_order");if(r)throw new Error("Failed to fetch services");return e||[]}async function o7(t,e,r,a){const{data:i,error:l}=await Te.from("clients").insert({salon_id:t,name:e.trim(),phone:r.trim(),email:a?.trim()||null,source:"manual"}).select().single();if(l)throw l.code==="23505"?new Error("Ya existe un cliente con ese telfono"):new Error("Failed to create client");return i}async function uD(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=new Date(t);r.setHours(0,0,0,0);const a=new Date(t);a.setHours(23,59,59,999);const i=await fetch(r7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify({timeMin:r.toISOString(),timeMax:a.toISOString()})});if(!i.ok)throw new Error("Failed to fetch events");return((await i.json()).events||[]).map(c=>({...c,start:new Date(c.start),end:new Date(c.end)}))}const l7={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"};function c7(t){return t.blocks&&t.blocks.length>0?{enabled:t.enabled,blocks:t.blocks}:t.enabled&&t.open&&t.close?{enabled:!0,blocks:[{open:t.open,close:t.close}]}:{enabled:t.enabled,blocks:[]}}function dD(t,e,r){const a=t.getDay(),i=l7[a],l=e||r;if(!l)return u7();const c=l[i],d=c7(c);if(!d.enabled||d.blocks.length===0)return[];const h=[];for(const m of d.blocks){const[v,y]=m.open.split(":").map(Number),[b,x]=m.close.split(":").map(Number);let w=v,_=y;for(;w<b||w===b&&_<x;)h.push(`${w.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`),_+=15,_>=60&&(_=0,w+=1)}return h}function u7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&(t.push(`${e.toString().padStart(2,"0")}:15`),t.push(`${e.toString().padStart(2,"0")}:30`),t.push(`${e.toString().padStart(2,"0")}:45`));return t}function fD(t,e,r,a,i,l){const c=t.filter(d=>d.calendarId===e&&(!l||d.googleEventId!==l));return console.log("Staff events for calendar",e,":",c.map(d=>({title:d.title,start:d.start,end:d.end}))),a.map(d=>{const[h,m]=d.split(":").map(Number),v=new Date(i);v.setHours(h,m,0,0);const y=new Date(v.getTime()+r*60*1e3),b=c.some(x=>{const w=new Date(x.start),_=new Date(x.end),S=v<_&&y>w;return S&&console.log(`Slot ${d} conflicts with event:`,{eventTitle:x.title,eventStart:w.toISOString(),eventEnd:_.toISOString(),slotStart:v.toISOString(),slotEnd:y.toISOString()}),S});return{slot:d,available:!b}})}function d7({event:t,onClose:e,onDelete:r,onEdit:a,canDelete:i=!1,canEdit:l=!1}){const[c,d]=A.useState(!1),[h,m]=A.useState(!1),[v,y]=A.useState(null),b=A.useCallback(S=>{S.key==="Escape"&&e()},[e]),x=A.useCallback(S=>{S.target===S.currentTarget&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",b),document.body.style.overflow="hidden",m(!1),y(null),d(!1)),()=>{document.removeEventListener("keydown",b),document.body.style.overflow="unset"}),[t,b]);const w=async()=>{if(!(!t||!t.googleEventId||!t.calendarId))try{d(!0),y(null);const S=await a7({calendarId:t.calendarId,eventId:t.googleEventId});S.success?(r?.(),e()):y(S.error||"Error al eliminar la cita")}catch(S){y(S instanceof Error?S.message:"Error al eliminar la cita")}finally{d(!1)}};if(!t)return null;const _=t.color||"#4F46E5";return f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:x,role:"dialog","aria-modal":"true","aria-labelledby":"event-title",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden animate-slideUp",children:[f.jsx("div",{className:"h-1.5",style:{backgroundColor:_}}),f.jsx("div",{className:"p-6 pb-4",children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{id:"event-title",className:"text-xl font-semibold text-slate-800 leading-tight",children:t.title}),t.staffName&&f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:_}}),f.jsx("span",{className:"text-sm text-slate-500",children:t.staffName})]})]}),f.jsx("button",{onClick:e,className:"p-2 -m-2 hover:bg-slate-100 rounded-lg transition-colors","aria-label":"Cerrar",children:f.jsx(fr,{className:"h-5 w-5 text-slate-400"})})]})}),f.jsxs("div",{className:"px-6 pb-6 space-y-4",children:[f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[f.jsx(nn,{className:"h-5 w-5 text-slate-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-700",children:Ct(t.start,"EEEE, d 'de' MMMM",{locale:qt})}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(sn,{className:"h-4 w-4 text-slate-400"}),f.jsx("span",{className:"text-sm text-slate-500",children:t.allDay?"Todo el da":`${Ct(t.start,"HH:mm")} - ${Ct(t.end,"HH:mm")}`})]})]})]}),t.location&&f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[f.jsx(f6,{className:"h-5 w-5 text-slate-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Ubicacin"}),f.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.location})]})]}),t.staffName&&f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[f.jsx(wn,{className:"h-5 w-5 text-slate-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Asignado a"}),f.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:t.staffName})]})]}),t.description&&f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[f.jsx(t6,{className:"h-5 w-5 text-slate-400 mt-0.5"}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Descripcin"}),f.jsx("p",{className:"text-sm text-slate-500 mt-1 whitespace-pre-wrap break-words",children:t.description})]})]})]}),v&&f.jsx("div",{className:"px-6 pb-4",children:f.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl text-red-600 text-sm",children:v})}),f.jsx("div",{className:"px-6 pb-6",children:h?f.jsxs("div",{className:"space-y-3",children:[f.jsx("p",{className:"text-center text-sm text-slate-600",children:"Seguro que quieres eliminar esta cita?"}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>m(!1),disabled:c,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors",children:"Cancelar"}),f.jsx("button",{onClick:w,disabled:c,className:"flex-1 py-3 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:c?f.jsxs(f.Fragment,{children:[f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Eliminando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Aa,{className:"h-4 w-4"}),"Eliminar"]})})]})]}):f.jsxs("div",{className:"flex gap-3",children:[l&&t.googleEventId&&f.jsxs("button",{onClick:()=>{a?.(t),e()},className:"px-4 py-3 bg-indigo-50 text-indigo-600 font-medium rounded-xl hover:bg-indigo-100 transition-colors flex items-center gap-2",children:[f.jsx(XC,{className:"h-4 w-4"}),"Editar"]}),i&&t.googleEventId&&f.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-3 bg-red-50 text-red-600 font-medium rounded-xl hover:bg-red-100 transition-colors flex items-center gap-2",children:[f.jsx(Aa,{className:"h-4 w-4"}),"Eliminar"]}),f.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-100 text-slate-700 font-medium rounded-xl hover:bg-slate-200 transition-colors focus:outline-none focus:ring-2 focus:ring-slate-300",children:"Cerrar"})]})})]})})}function f7({staffCalendars:t,selectedStaff:e,onToggleStaff:r,onSelectAll:a,onDeselectAll:i}){const l=A.useMemo(()=>e.length===t.length,[e.length,t.length]),c=e.length===0;return t.length===0?null:f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600",children:[f.jsx(vs,{className:"h-4 w-4"}),f.jsx("span",{children:"Calendarios del equipo"}),f.jsxs("span",{className:"text-slate-400",children:["(",e.length,"/",t.length,")"]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:a,disabled:l,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Todos"}),f.jsx("span",{className:"text-slate-300",children:"|"}),f.jsx("button",{onClick:i,disabled:c,className:"text-xs font-medium text-indigo-600 hover:text-indigo-700 disabled:text-slate-400 disabled:cursor-not-allowed transition-colors",children:"Ninguno"})]})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(d=>{const h=e.includes(d.staffId);return f.jsxs("button",{onClick:()=>r(d.staffId),className:`group flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium transition-all ${h?"text-white shadow-md hover:shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,style:{backgroundColor:h?d.color:void 0},children:[f.jsx("span",{className:`flex items-center justify-center w-5 h-5 rounded-full transition-all ${h?"bg-white/20":""}`,style:{backgroundColor:h?void 0:d.color+"20"},children:h?f.jsx(Kn,{className:"h-3 w-3"}):f.jsx("span",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:d.color}})}),d.staffName]},d.staffId)})})]})}const h7=r8(uB);function hD({events:t,staffCalendars:e=[],isLoading:r=!1,isRefreshing:a=!1,showStaffFilter:i=!1,onEventClick:l,onNewAppointment:c,onEventDelete:d,onEventEdit:h,onEventReschedule:m,canDeleteEvents:v=!1,canEditEvents:y=!1,canDragEvents:b=!1}){const[x,w]=A.useState(new Date),[_,S]=A.useState(ul.defaultView),[E,j]=A.useState(null),[T,O]=A.useState([]),q=A.useMemo(()=>e.map(V=>V.staffId).sort().join(","),[e]),[D,R]=A.useState("");q!==D&&e.length>0&&(O(e.map(V=>V.staffId)),R(q));const L=A.useMemo(()=>i?T.length===0?[]:t.filter(V=>V.staffId&&T.includes(V.staffId)):t,[t,T,i]),$=A.useMemo(()=>{const V=new Date;return L.filter(M=>new Date(M.start).toDateString()===V.toDateString()).length},[L]),C=A.useCallback(V=>{w(M=>{switch(V){case"PREV":return _==="month"?lD(M,1):_==="week"?bH(M):yH(M);case"NEXT":return _==="month"?Wb(M,1):_==="week"?JR(M,1):Cs(M,1);case"TODAY":default:return new Date}})},[_]),P=A.useCallback(V=>{S(V)},[]),U=A.useCallback(V=>{j(V),l?.(V)},[l]),z=A.useCallback(V=>{O(M=>M.includes(V)?M.filter(F=>F!==V):[...M,V])},[]),W=A.useCallback(()=>{O(e.map(V=>V.staffId))},[e]),ee=A.useCallback(()=>{O([])},[]),B=A.useCallback(V=>({style:{backgroundColor:V.color||"#4F46E5",borderRadius:"8px",opacity:.95,color:"white",border:"none",display:"block",fontSize:"0.8rem",fontWeight:500,boxShadow:"0 1px 3px rgba(0,0,0,0.1)"}}),[]),K=A.useCallback(({event:V,start:M,end:F})=>{if(!b||!m)return;const ie=new Date;new Date(M)<ie||m(V,new Date(M),new Date(F))},[b,m]),ae=A.useCallback(({event:V,start:M,end:F})=>{if(!b||!m)return;const ie=new Date;new Date(M)<ie||m(V,new Date(M),new Date(F))},[b,m]),le=A.useCallback(V=>!(!b||!V.googleEventId||new Date(V.start)<new Date),[b]);return f.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[f.jsxs("div",{className:"p-6 pb-0",children:[f.jsx(t7,{currentDate:x,currentView:_,onNavigate:C,onViewChange:P,eventsToday:$,onNewAppointment:c,isRefreshing:a}),i&&e.length>0&&f.jsx(f7,{staffCalendars:e,selectedStaff:T,onToggleStaff:z,onSelectAll:W,onDeselectAll:ee})]}),f.jsxs("div",{className:"relative px-6 pb-6",children:[r&&f.jsx("div",{className:"absolute inset-0 bg-white/90 backdrop-blur-sm flex items-center justify-center z-10 rounded-xl",children:f.jsxs("div",{className:"flex items-center gap-3 bg-white px-6 py-4 rounded-xl shadow-lg border border-slate-100",children:[f.jsx("div",{className:"w-5 h-5 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-slate-600 font-medium",children:"Cargando calendario..."})]})}),f.jsx("div",{className:"calendar-container",style:{height:650},children:f.jsx(h7,{localizer:QH,events:L,startAccessor:"start",endAccessor:"end",date:x,view:_,onNavigate:w,onView:V=>P(V),onSelectEvent:U,eventPropGetter:B,messages:JH,culture:"es",views:[At.MONTH,At.WEEK,At.DAY,At.AGENDA],toolbar:!1,popup:!0,selectable:!1,step:ul.step,timeslots:ul.timeslots,min:ul.minTime,max:ul.maxTime,dayLayoutAlgorithm:"no-overlap",draggableAccessor:le,resizable:b,onEventDrop:K,onEventResize:ae})})]}),f.jsx(d7,{event:E,onClose:()=>j(null),onDelete:()=>{j(null),d?.()},onEdit:V=>{j(null),h?.(V)},canDelete:v,canEdit:y})]})}async function JT(t){const{data:e,error:r}=await Te.from("staff_services").select("service_id").eq("staff_id",t);if(r)throw new Error(r.message);return(e||[]).map(a=>a.service_id)}async function mD(t){const{data:e,error:r}=await Te.from("staff_services").select(`
      staff_id,
      service_id,
      profiles!inner (salon_id)
    `).eq("profiles.salon_id",t);if(r)throw new Error(r.message);const a={};for(const i of e||[])a[i.staff_id]||(a[i.staff_id]=[]),a[i.staff_id].push(i.service_id);return a}async function m7(t,e){const{error:r}=await Te.from("staff_services").delete().eq("staff_id",t);if(r)throw new Error(r.message);if(e.length>0){const a=e.map(l=>({staff_id:t,service_id:l})),{error:i}=await Te.from("staff_services").insert(a);if(i)throw new Error(i.message)}}const ZT=[{number:1,title:"Cliente",icon:wn},{number:2,title:"Servicio",icon:Fl},{number:3,title:"Profesional",icon:Pd},{number:4,title:"Fecha",icon:nn},{number:5,title:"Confirmar",icon:Kn}];function p7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&(t.push(`${e.toString().padStart(2,"0")}:15`),t.push(`${e.toString().padStart(2,"0")}:30`),t.push(`${e.toString().padStart(2,"0")}:45`));return t}const v7=p7();function g7({isOpen:t,onClose:e,onSuccess:r,salonId:a,staffList:i,salonWorkingHours:l}){const[c,d]=A.useState(1),[h,m]=A.useState([]),[v,y]=A.useState([]),[b,x]=A.useState(!0),[w,_]=A.useState(null),[S,E]=A.useState(null),[j,T]=A.useState(null),[O,q]=A.useState(Ir(new Date)),[D,R]=A.useState(null),[L,$]=A.useState(""),[C,P]=A.useState(""),[U,z]=A.useState(""),[W,ee]=A.useState(!1),[B,K]=A.useState(""),[ae,le]=A.useState(""),[V,M]=A.useState(""),[F,ie]=A.useState(!1),[ce,fe]=A.useState(!1),[pe,be]=A.useState(null),[,De]=A.useState([]),[Me,gt]=A.useState(!1),[ht,Wt]=A.useState([]),[vr,xt]=A.useState({});A.useEffect(()=>{t&&a&&(x(!0),Promise.all([cD(a),Td(a),mD(a)]).then(([ne,ge,Ee])=>{m(ne),y(ge),xt(Ee)}).catch(ne=>{console.error("Error loading data:",ne),be("Error al cargar datos")}).finally(()=>x(!1)))},[t,a]),A.useEffect(()=>{t||(d(1),_(null),E(null),T(null),q(Ir(new Date)),R(null),$(""),P(""),z(""),ee(!1),K(""),le(""),M(""),be(null),De([]),Wt([]),xt({}))},[t]),A.useEffect(()=>{if(c===4&&j&&S){gt(!0),R(null);const ne=j.workingHours,ge=dD(O,ne,l);if(ge.length===0){Wt([]),gt(!1);return}uD(O).then(Ee=>{De(Ee);const dt=fD(Ee,j.calendarId,S.duration_minutes,ge,O),rr=new Date,Vr=ZR(O,rr),gr=dt.map(ft=>{if(Vr){const[Ue,yr]=ft.slot.split(":").map(Number),Yt=new Date;if(Yt.setHours(Ue,yr,0,0),Yt<=rr)return{...ft,available:!1}}return ft});Wt(gr)}).catch(Ee=>{console.error("Error loading availability:",Ee),Wt(ge.map(dt=>({slot:dt,available:!0})))}).finally(()=>gt(!1))}},[c,O,j,S,l]);const Ae=A.useCallback(ne=>{ne.key==="Escape"&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",Ae),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",Ae),document.body.style.overflow="unset"}),[t,Ae]);const Pt=h.filter(ne=>ne.name.toLowerCase().includes(C.toLowerCase())||ne.phone.includes(C)),te=v.filter(ne=>ne.name.toLowerCase().includes(U.toLowerCase())||(ne.category?.toLowerCase().includes(U.toLowerCase())??!1)).reduce((ne,ge)=>{const Ee=ge.category||"Otros";return ne[Ee]||(ne[Ee]=[]),ne[Ee].push(ge),ne},{}),xe=()=>{const ne=Cs(O,-1);ne>=Ir(new Date)&&q(ne)},_e=()=>{q(Cs(O,1))},Xe=async()=>{if(!(!B.trim()||!ae.trim()))try{ie(!0),be(null);const ne=await o7(a,B,ae,V||void 0);m(ge=>[...ge,ne].sort((Ee,dt)=>Ee.name.localeCompare(dt.name))),_(ne),ee(!1),K(""),le(""),M(""),d(2)}catch(ne){be(ne instanceof Error?ne.message:"Error al crear cliente")}finally{ie(!1)}},st=async()=>{if(!w||!S||!j||!D){be("Faltan datos para crear la cita");return}try{fe(!0),be(null);const[ne,ge]=D.split(":").map(Number),Ee=oD(iD(O,ne),ge),dt=await n7({calendarId:j.calendarId,client:w,service:S,staffId:j.staffId,staffName:j.staffName,appointmentDate:Ee,notes:L.trim()||void 0,salonId:a});dt.success?(r(),e()):be(dt.error||"Error al crear la cita")}catch(ne){be(ne instanceof Error?ne.message:"Error al crear la cita")}finally{fe(!1)}},it=()=>{switch(c){case 1:return!!w;case 2:return!!S;case 3:return!!j;case 4:return!!D;case 5:return!0;default:return!1}},Ze=()=>{c<5&&it()&&d(ne=>ne+1)},de=()=>{c>1&&d(ne=>ne-1)};return t?f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:ne=>ne.target===ne.currentTarget&&e(),children:f.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h2",{className:"text-lg font-bold text-white",children:"Nueva Cita"}),f.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:ZT.map((ne,ge)=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${c>=ne.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:c>ne.number?f.jsx(Kn,{className:"h-4 w-4"}):ne.number}),ge<ZT.length-1&&f.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${c>ne.number?"bg-indigo-600":"bg-slate-600"}`})]},ne.number))}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[b?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):f.jsxs(f.Fragment,{children:[c===1&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),W?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),f.jsx("input",{type:"text",value:B,onChange:ne=>K(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",autoFocus:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),f.jsx("input",{type:"tel",value:ae,onChange:ne=>le(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email (opcional)"}),f.jsx("input",{type:"email",value:V,onChange:ne=>M(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>ee(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsx("button",{onClick:Xe,disabled:!B.trim()||!ae.trim()||F,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:F?"Creando...":"Crear cliente"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"relative",children:[f.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:C,onChange:ne=>P(ne.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),f.jsxs("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 text-sm text-indigo-400 hover:text-indigo-300",children:[f.jsx(xn,{className:"h-4 w-4"}),"Crear nuevo cliente"]}),f.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Pt.length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):Pt.map(ne=>f.jsxs("button",{onClick:()=>{_(ne),d(2)},className:`w-full text-left p-3 rounded-lg border transition-colors ${w?.id===ne.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsx("div",{className:"font-medium text-white",children:ne.name}),f.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Hl,{className:"h-3 w-3"}),ne.phone]}),ne.email&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Md,{className:"h-3 w-3"}),ne.email]})]})]},ne.id))})]})]}),c===2&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),f.jsxs("div",{className:"relative",children:[f.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:U,onChange:ne=>z(ne.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),f.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(te).length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(te).map(([ne,ge])=>f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:ne}),f.jsx("div",{className:"space-y-2",children:ge.map(Ee=>f.jsxs("button",{onClick:()=>{E(Ee),d(3)},className:`w-full text-left p-3 rounded-lg border transition-colors ${S?.id===Ee.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"font-medium text-white",children:Ee.name}),f.jsxs("span",{className:"text-indigo-400 font-semibold",children:[Ee.price,""]})]}),f.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[f.jsx(sn,{className:"h-3 w-3"}),Ee.duration_minutes," min"]})]},Ee.id))})]},ne))})]}),c===3&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-sm text-slate-400",children:['Selecciona el profesional para "',S?.name,'"']}),(()=>{const ne=i.filter(ge=>{const Ee=vr[ge.staffId]||[];return S?Ee.includes(S.id):!0});return i.length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):ne.length===0?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[f.jsx(gn,{className:"h-5 w-5 text-amber-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-300 font-medium",children:"No hay profesionales asignados a este servicio"}),f.jsxs("p",{className:"text-sm text-amber-300/70 mt-1",children:['Contacta al administrador para asignar profesionales a "',S?.name,'".']})]})]}),f.jsx("button",{onClick:()=>d(2),className:"w-full py-2 text-sm text-indigo-400 hover:text-indigo-300",children:"Seleccionar otro servicio"})]}):f.jsxs("div",{className:"space-y-2",children:[ne.map(ge=>f.jsxs("button",{onClick:()=>{T(ge),d(4)},className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${j?.staffId===ge.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:ge.color},children:ge.staffName.charAt(0).toUpperCase()}),f.jsx("span",{className:"font-medium text-white",children:ge.staffName})]},ge.staffId)),ne.length<i.length&&f.jsxs("p",{className:"text-xs text-slate-500 text-center pt-2",children:["Mostrando ",ne.length," de ",i.length," profesionales"]})]})})()]}),c===4&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),f.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[f.jsx("button",{onClick:xe,disabled:O<=Ir(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:f.jsx(Ky,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-medium text-white",children:Ct(O,"EEEE, d 'de' MMMM",{locale:qt})}),f.jsx("div",{className:"text-sm text-slate-400",children:Ct(O,"yyyy")})]}),f.jsx("button",{onClick:_e,className:"p-2 text-slate-400 hover:text-white transition-colors",children:f.jsx(Ri,{className:"h-5 w-5"})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),Me&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[f.jsx(Tt,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),f.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),f.jsx("span",{children:"Disponible"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),f.jsx("span",{children:"Ocupado"})]})]}),f.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 max-h-60 overflow-y-auto",children:(ht.length>0?ht:v7.map(ne=>({slot:ne,available:!0}))).map(({slot:ne,available:ge})=>f.jsx("button",{onClick:()=>ge&&R(ne),disabled:!ge,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${D===ne?"bg-indigo-600 text-white":ge?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:ne},ne))}),!Me&&ht.length===0&&f.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[f.jsx(gn,{className:"h-4 w-4 text-amber-400 mt-0.5"}),f.jsx("div",{className:"text-sm text-amber-300",children:"Da no laborable para este profesional. Selecciona otro da."})]}),!Me&&ht.length>0&&!ht.some(ne=>ne.available)&&f.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[f.jsx(gn,{className:"h-4 w-4 text-amber-400 mt-0.5"}),f.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),c===5&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los detalles de la cita"}),f.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(wn,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),f.jsx("div",{className:"text-white font-medium",children:w?.name}),f.jsx("div",{className:"text-sm text-slate-400",children:w?.phone})]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Fl,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),f.jsx("div",{className:"text-white font-medium",children:S?.name}),f.jsxs("div",{className:"text-sm text-slate-400",children:[S?.duration_minutes," min"]})]}),f.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[S?.price,""]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Pd,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),f.jsx("div",{className:"text-white font-medium",children:j?.staffName})]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(nn,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),f.jsx("div",{className:"text-white font-medium",children:Ct(O,"EEEE, d 'de' MMMM",{locale:qt})}),f.jsx("div",{className:"text-sm text-slate-400",children:D})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),f.jsx("textarea",{value:L,onChange:ne=>$(ne.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]})]})]}),pe&&f.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:pe})]}),f.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[f.jsx("button",{onClick:c===1?e:de,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:c===1?"Cancelar":"Atrs"}),c<5?f.jsxs("button",{onClick:Ze,disabled:!it(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",f.jsx(Ri,{className:"h-4 w-4"})]}):f.jsx("button",{onClick:st,disabled:ce,className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:ce?f.jsxs(f.Fragment,{children:[f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Creando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Kn,{className:"h-4 w-4"}),"Crear Cita"]})})]})]})}):null}const eO=[{number:1,title:"Cliente",icon:wn},{number:2,title:"Servicio",icon:Fl},{number:3,title:"Profesional",icon:Pd},{number:4,title:"Fecha",icon:nn},{number:5,title:"Confirmar",icon:Kn}];function y7(){const t=[];for(let e=9;e<=20;e++)t.push(`${e.toString().padStart(2,"0")}:00`),e<20&&(t.push(`${e.toString().padStart(2,"0")}:15`),t.push(`${e.toString().padStart(2,"0")}:30`),t.push(`${e.toString().padStart(2,"0")}:45`));return t}const b7=y7();function x7(t){if(!t)return{};const e={},r=t.split(`
`);for(const a of r)a.startsWith("Cliente: ")?e.clientName=a.replace("Cliente: ","").trim():a.startsWith("Telfono: ")?e.clientPhone=a.replace("Telfono: ","").trim():a.startsWith("Email: ")?e.clientEmail=a.replace("Email: ","").trim():a.startsWith("Servicio: ")?e.serviceName=a.replace("Servicio: ","").trim():a.startsWith("Notas: ")&&(e.notes=a.replace("Notas: ","").trim());return e}function w7({event:t,onClose:e,onSuccess:r,salonId:a,staffList:i,salonWorkingHours:l}){const[c,d]=A.useState(1),[h,m]=A.useState([]),[v,y]=A.useState([]),[b,x]=A.useState(!0),[w,_]=A.useState(null),[S,E]=A.useState(null),[j,T]=A.useState(null),[O,q]=A.useState(new Date),[D,R]=A.useState(""),[L,$]=A.useState(null),[C,P]=A.useState(null),[U,z]=A.useState(null),[W,ee]=A.useState(Ir(new Date)),[B,K]=A.useState(null),[ae,le]=A.useState(""),[V,M]=A.useState(""),[F,ie]=A.useState(""),[ce,fe]=A.useState(!1),[pe,be]=A.useState(null),[De,Me]=A.useState(!1),[gt,ht]=A.useState([]),[Wt,vr]=A.useState({});A.useEffect(()=>{t&&a&&(x(!0),d(1),be(null),Promise.all([cD(a),Td(a),mD(a)]).then(([de,ne,ge])=>{m(de),y(ne),vr(ge);const Ee=x7(t.description),dt=de.find(Ue=>Ue.phone===Ee.clientPhone||Ue.name===Ee.clientName);dt&&($(dt),_(dt));const rr=ne.find(Ue=>Ue.name===Ee.serviceName);rr&&(P(rr),E(rr));const Vr=i.find(Ue=>Ue.staffId===t.staffId||Ue.calendarId===t.calendarId);Vr&&(z(Vr),T(Vr));const gr=Ir(new Date(t.start)),ft=Ct(new Date(t.start),"HH:mm");ee(gr),q(gr),K(ft),R(ft),Ee.notes&&le(Ee.notes)}).catch(de=>{console.error("Error loading data:",de),be("Error al cargar datos")}).finally(()=>x(!1)))},[t,a,i]),A.useEffect(()=>{if(c===4&&U&&C&&t){Me(!0);const de=U.workingHours,ne=dD(W,de,l);if(ne.length===0){ht([]),Me(!1);return}uD(W).then(ge=>{const Ee=fD(ge,U.calendarId,C.duration_minutes,ne,W,t.googleEventId),dt=new Date,rr=ZR(W,dt),Vr=Ee.map(gr=>{if(rr){const[ft,Ue]=gr.slot.split(":").map(Number),yr=new Date;if(yr.setHours(ft,Ue,0,0),yr<=dt)return{...gr,available:!1}}return gr});ht(Vr)}).catch(ge=>{console.error("Error loading availability:",ge),ht(ne.map(Ee=>({slot:Ee,available:!0})))}).finally(()=>Me(!1))}},[c,W,U,C,t,l]);const xt=A.useCallback(de=>{de.key==="Escape"&&e()},[e]);A.useEffect(()=>(t&&(document.addEventListener("keydown",xt),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",xt),document.body.style.overflow="unset"}),[t,xt]);const Ae=h.filter(de=>de.name.toLowerCase().includes(V.toLowerCase())||de.phone.includes(V)),ke=v.filter(de=>de.name.toLowerCase().includes(F.toLowerCase())||(de.category?.toLowerCase().includes(F.toLowerCase())??!1)).reduce((de,ne)=>{const ge=ne.category||"Otros";return de[ge]||(de[ge]=[]),de[ge].push(ne),de},{}),te=()=>{const de=Cs(W,-1);de>=Ir(new Date)&&(ee(de),K(null))},xe=()=>{ee(Cs(W,1)),K(null)},_e=()=>L?.id!==w?.id||C?.id!==S?.id||U?.staffId!==j?.staffId||W.getTime()!==O.getTime()||B!==D,Xe=async()=>{if(!t||!L||!C||!U||!B){be("Faltan datos para actualizar la cita");return}if(!t.googleEventId){be("No se puede editar esta cita (falta ID de Google Calendar)");return}try{fe(!0),be(null);const[de,ne]=B.split(":").map(Number),ge=oD(iD(W,de),ne),Ee=U.calendarId!==j?.calendarId,dt=await s7({eventId:t.googleEventId,calendarId:U.calendarId,oldCalendarId:Ee?j?.calendarId:void 0,client:L,service:C,staffId:U.staffId,staffName:U.staffName,appointmentDate:ge,notes:ae.trim()||void 0,salonId:a});dt.success?(r(),e()):be(dt.error||"Error al actualizar la cita")}catch(de){be(de instanceof Error?de.message:"Error al actualizar la cita")}finally{fe(!1)}},st=()=>{switch(c){case 1:return!!L;case 2:return!!C;case 3:return!!U;case 4:return!!B;case 5:return!0;default:return!1}},it=()=>{c<5&&st()&&d(de=>de+1)},Ze=()=>{c>1&&d(de=>de-1)};return t?f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:de=>de.target===de.currentTarget&&e(),children:f.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-lg max-h-[90vh] flex flex-col border border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(XC,{className:"h-5 w-5 text-indigo-400"}),f.jsx("h2",{className:"text-lg font-bold text-white",children:"Editar Cita"})]}),f.jsx("button",{onClick:e,className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsx("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-700/50 border-b border-slate-700",children:eO.map((de,ne)=>f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium transition-colors ${c>=de.number?"bg-indigo-600 text-white":"bg-slate-600 text-slate-400"}`,children:c>de.number?f.jsx(Kn,{className:"h-4 w-4"}):de.number}),ne<eO.length-1&&f.jsx("div",{className:`w-6 sm:w-10 h-0.5 mx-1 ${c>de.number?"bg-indigo-600":"bg-slate-600"}`})]},de.number))}),f.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[b?f.jsx("div",{className:"flex items-center justify-center py-12",children:f.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):f.jsxs(f.Fragment,{children:[c===1&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el cliente para la cita"}),f.jsxs("div",{className:"relative",children:[f.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:V,onChange:de=>M(de.target.value),placeholder:"Buscar por nombre o telfono...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),f.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Ae.length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron clientes"}):Ae.map(de=>f.jsxs("button",{onClick:()=>$(de),className:`w-full text-left p-3 rounded-lg border transition-colors ${L?.id===de.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"font-medium text-white",children:de.name}),w?.id===de.id&&f.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),f.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-3 mt-1",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Hl,{className:"h-3 w-3"}),de.phone]}),de.email&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Md,{className:"h-3 w-3"}),de.email]})]})]},de.id))})]}),c===2&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona el servicio"}),f.jsxs("div",{className:"relative",children:[f.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:F,onChange:de=>ie(de.target.value),placeholder:"Buscar servicio...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),f.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:Object.keys(ke).length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No se encontraron servicios"}):Object.entries(ke).map(([de,ne])=>f.jsxs("div",{children:[f.jsx("h4",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-2",children:de}),f.jsx("div",{className:"space-y-2",children:ne.map(ge=>f.jsxs("button",{onClick:()=>P(ge),className:`w-full text-left p-3 rounded-lg border transition-colors ${C?.id===ge.id?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium text-white",children:ge.name}),S?.id===ge.id&&f.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]}),f.jsxs("span",{className:"text-indigo-400 font-semibold",children:[ge.price,""]})]}),f.jsxs("div",{className:"text-sm text-slate-400 flex items-center gap-1 mt-1",children:[f.jsx(sn,{className:"h-3 w-3"}),ge.duration_minutes," min"]})]},ge.id))})]},de))})]}),c===3&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("p",{className:"text-sm text-slate-400",children:['Selecciona el profesional para "',C?.name,'"']}),(()=>{const de=i.filter(ne=>{const ge=Wt[ne.staffId]||[];return C?ge.includes(C.id):!0});return i.length===0?f.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay profesionales con calendario configurado"}):de.length===0?f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"p-4 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-3",children:[f.jsx(gn,{className:"h-5 w-5 text-amber-400 mt-0.5"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-amber-300 font-medium",children:"No hay profesionales asignados a este servicio"}),f.jsxs("p",{className:"text-sm text-amber-300/70 mt-1",children:['Contacta al administrador para asignar profesionales a "',C?.name,'".']})]})]}),f.jsx("button",{onClick:()=>d(2),className:"w-full py-2 text-sm text-indigo-400 hover:text-indigo-300",children:"Seleccionar otro servicio"})]}):f.jsxs("div",{className:"space-y-2",children:[de.map(ne=>f.jsxs("button",{onClick:()=>z(ne),className:`w-full text-left p-4 rounded-lg border transition-colors flex items-center gap-3 ${U?.staffId===ne.staffId?"bg-indigo-600/20 border-indigo-500":"bg-slate-700/50 border-slate-600 hover:bg-slate-700"}`,children:[f.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-white font-medium",style:{backgroundColor:ne.color},children:ne.staffName.charAt(0).toUpperCase()}),f.jsx("span",{className:"font-medium text-white flex-1",children:ne.staffName}),j?.staffId===ne.staffId&&f.jsx("span",{className:"text-xs text-slate-400 bg-slate-600 px-2 py-0.5 rounded",children:"Original"})]},ne.staffId)),de.length<i.length&&f.jsxs("p",{className:"text-xs text-slate-500 text-center pt-2",children:["Mostrando ",de.length," de ",i.length," profesionales"]})]})})()]}),c===4&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Selecciona fecha y hora"}),f.jsxs("div",{className:"flex items-center justify-between bg-slate-700/50 rounded-lg p-3",children:[f.jsx("button",{onClick:te,disabled:W<=Ir(new Date),className:"p-2 text-slate-400 hover:text-white disabled:opacity-30 transition-colors",children:f.jsx(Ky,{className:"h-5 w-5"})}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-medium text-white",children:Ct(W,"EEEE, d 'de' MMMM",{locale:qt})}),f.jsx("div",{className:"text-sm text-slate-400",children:Ct(W,"yyyy")})]}),f.jsx("button",{onClick:xe,className:"p-2 text-slate-400 hover:text-white transition-colors",children:f.jsx(Ri,{className:"h-5 w-5"})})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("h4",{className:"text-sm font-medium text-slate-300",children:"Hora disponible"}),De&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[f.jsx(Tt,{className:"h-3 w-3 animate-spin"}),"Verificando..."]})]}),f.jsxs("div",{className:"flex items-center gap-4 mb-3 text-xs text-slate-400",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-slate-700"}),f.jsx("span",{children:"Disponible"})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("div",{className:"w-3 h-3 rounded bg-slate-800 border border-slate-600"}),f.jsx("span",{children:"Ocupado"})]})]}),f.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 max-h-60 overflow-y-auto",children:(gt.length>0?gt:b7.map(de=>({slot:de,available:!0}))).map(({slot:de,available:ne})=>f.jsx("button",{onClick:()=>ne&&K(de),disabled:!ne,className:`py-2 px-3 rounded-lg text-sm font-medium transition-colors ${B===de?"bg-indigo-600 text-white":ne?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-800 text-slate-500 cursor-not-allowed border border-slate-600"}`,children:de},de))}),!De&&gt.length===0&&f.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[f.jsx(gn,{className:"h-4 w-4 text-amber-400 mt-0.5"}),f.jsx("div",{className:"text-sm text-amber-300",children:"Da no laborable para este profesional. Selecciona otro da."})]}),!De&&gt.length>0&&!gt.some(de=>de.available)&&f.jsxs("div",{className:"mt-3 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg flex items-start gap-2",children:[f.jsx(gn,{className:"h-4 w-4 text-amber-400 mt-0.5"}),f.jsx("div",{className:"text-sm text-amber-300",children:"No hay horas disponibles para este da. Prueba otro da o selecciona otro profesional."})]})]})]}),c===5&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Revisa los cambios de la cita"}),f.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(wn,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Cliente"}),f.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[L?.name,L?.id!==w?.id&&f.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),f.jsx("div",{className:"text-sm text-slate-400",children:L?.phone})]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Fl,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Servicio"}),f.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[C?.name,C?.id!==S?.id&&f.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),f.jsxs("div",{className:"text-sm text-slate-400",children:[C?.duration_minutes," min"]})]}),f.jsxs("div",{className:"text-indigo-400 font-bold text-lg",children:[C?.price,""]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Pd,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Profesional"}),f.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[U?.staffName,U?.staffId!==j?.staffId&&f.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]})]})]}),f.jsx("div",{className:"border-t border-slate-600"}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(nn,{className:"h-5 w-5 text-slate-400"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"text-xs text-slate-500",children:"Fecha y hora"}),f.jsxs("div",{className:"text-white font-medium flex items-center gap-2",children:[Ct(W,"EEEE, d 'de' MMMM",{locale:qt}),(W.getTime()!==O.getTime()||B!==D)&&f.jsx("span",{className:"text-xs text-amber-400",children:"(cambiado)"})]}),f.jsx("div",{className:"text-sm text-slate-400",children:B})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas (opcional)"}),f.jsx("textarea",{value:ae,onChange:de=>le(de.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Notas adicionales..."})]}),!_e()&&f.jsx("div",{className:"p-3 bg-slate-700/50 border border-slate-600 rounded-lg text-slate-400 text-sm text-center",children:"No se han realizado cambios"})]})]}),pe&&f.jsx("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-400 text-sm",children:pe})]}),f.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 border-t border-slate-700",children:[f.jsx("button",{onClick:c===1?e:Ze,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:c===1?"Cancelar":"Atrs"}),c<5?f.jsxs("button",{onClick:it,disabled:!st(),className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:["Siguiente",f.jsx(Ri,{className:"h-4 w-4"})]}):f.jsx("button",{onClick:Xe,disabled:ce||!_e(),className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center gap-2",children:ce?f.jsxs(f.Fragment,{children:[f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Guardando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Kn,{className:"h-4 w-4"}),"Guardar Cambios"]})})]})]})}):null}const _7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/google-calendar";async function S7(t,e){const{data:{session:r}}=await Te.auth.getSession();if(!r)throw new Error("No authenticated session");const a=await fetch(_7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({timeMin:t.toISOString(),timeMax:e.toISOString()})});if(!a.ok){const c=await a.json();throw new Error(c.error||"Failed to fetch calendar events")}const i=await a.json();if(i.error)throw new Error(i.error);return{events:i.events.map(c=>({...c,start:new Date(c.start),end:new Date(c.end)})),staffList:i.staffList||[],role:i.role,salon:i.salon}}const tO=3,E7=300*1e3;function j7(){const t=new Date,e=lD(t,tO),r=Wb(t,tO),a=ka(g8(e),{weekStartsOn:1}),i=tD(eD(r),{weekStartsOn:1});return{start:a,end:i}}function pD(){const[t,e]=A.useState([]),[r,a]=A.useState([]),[i,l]=A.useState(null),[c,d]=A.useState(!0),[h,m]=A.useState(!1),[v,y]=A.useState(null),[b,x]=A.useState(null),w=A.useRef(!0),_=A.useRef(null),S=A.useRef(!1),E=A.useCallback(async(T=!1)=>{T?m(!0):d(!0);try{const{start:O,end:q}=j7(),D=await S7(O,q);if(!w.current)return;e(D.events),a(D.staffList),l(D.salon),y(null),x(new Date),_.current={start:O,end:q}}catch(O){if(!w.current)return;const q=O instanceof Error?O.message:"Error al cargar eventos";y(q),console.error("Calendar error:",O)}finally{w.current&&(d(!1),m(!1))}},[]),j=A.useCallback(async()=>{const T=t.length>0||r.length>0;await E(T)},[E,t.length,r.length]);return A.useEffect(()=>(w.current=!0,S.current||(S.current=!0,E(!1)),()=>{w.current=!1}),[E]),A.useEffect(()=>{const T=setInterval(()=>{w.current&&!c&&!h&&E(!0)},E7);return()=>clearInterval(T)},[E,c,h]),{events:t,staffList:r,salon:i,isInitialLoading:c,isRefreshing:h,error:v,lastUpdated:b,refresh:j}}const ad={monday:{enabled:!0,blocks:[{open:"09:00",close:"20:00"}]},tuesday:{enabled:!0,blocks:[{open:"09:00",close:"20:00"}]},wednesday:{enabled:!0,blocks:[{open:"09:00",close:"20:00"}]},thursday:{enabled:!0,blocks:[{open:"09:00",close:"20:00"}]},friday:{enabled:!0,blocks:[{open:"09:00",close:"20:00"}]},saturday:{enabled:!0,blocks:[{open:"09:00",close:"14:00"}]},sunday:{enabled:!1,blocks:[]}},N7={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"},T7=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function O7(){const t=[];for(let e=7;e<=22;e++)for(let r=0;r<60&&!(e===22&&r>0);r+=15)t.push(`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`);return t}const rO=O7();function os(t){return t.blocks&&t.blocks.length>0?{enabled:t.enabled,blocks:t.blocks}:t.enabled&&t.open&&t.close?{enabled:!0,blocks:[{open:t.open,close:t.close}]}:{enabled:t.enabled,blocks:t.enabled?[{open:"09:00",close:"20:00"}]:[]}}function nO(t){return t?{monday:os(t.monday),tuesday:os(t.tuesday),wednesday:os(t.wednesday),thursday:os(t.thursday),friday:os(t.friday),saturday:os(t.saturday),sunday:os(t.sunday)}:ad}function vD({value:t,onChange:e,showInheritOption:r=!1,inheritLabel:a="Usar horario del saln"}){const[i,l]=A.useState(t!==null),[c,d]=A.useState(()=>nO(t));A.useEffect(()=>{l(t!==null),d(nO(t))},[t]);const h=w=>{l(w),e(w?c:null)},m=w=>{const _=!c[w].enabled,S={...c,[w]:{enabled:_,blocks:_?[{open:"09:00",close:"20:00"}]:[]}};d(S),i&&e(S)},v=(w,_,S,E)=>{const j=[...c[w].blocks];j[_]={...j[_],[S]:E};const T={...c,[w]:{...c[w],blocks:j}};d(T),i&&e(T)},y=w=>{const _=c[w].blocks,S=_[_.length-1];let E="17:00",j="20:00";if(S){const q=parseInt(S.close.split(":")[0]),D=parseInt(S.close.split(":")[1]);let R=q+1;R>21&&(R=21),E=`${R.toString().padStart(2,"0")}:${D.toString().padStart(2,"0")}`;let L=R+3;L>22&&(L=22),j=`${L.toString().padStart(2,"0")}:00`}const T=[..._,{open:E,close:j}],O={...c,[w]:{...c[w],blocks:T}};d(O),i&&e(O)},b=(w,_)=>{const S=c[w].blocks.filter((j,T)=>T!==_);if(S.length===0){const j={...c,[w]:{enabled:!1,blocks:[]}};d(j),i&&e(j);return}const E={...c,[w]:{...c[w],blocks:S}};d(E),i&&e(E)},x=(w,_)=>_===0?"07:00":c[w].blocks[_-1].close;return f.jsxs("div",{className:"space-y-4",children:[r&&f.jsxs("div",{onClick:()=>h(!i),className:"flex items-center gap-3 cursor-pointer select-none",role:"button",tabIndex:0,onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&(w.preventDefault(),h(!i))},children:[f.jsx("div",{className:`p-1 rounded-lg transition-colors ${i?"text-indigo-400 hover:bg-indigo-500/20":"text-slate-500 hover:bg-slate-600"}`,children:i?f.jsx(xy,{className:"h-6 w-6"}):f.jsx(by,{className:"h-6 w-6"})}),f.jsx("span",{className:"text-sm text-slate-300",children:i?"Horario personalizado":a})]}),(!r||i)&&f.jsxs("div",{className:"space-y-3",children:[T7.map(w=>f.jsx("div",{className:`p-3 rounded-lg border transition-colors ${c[w].enabled?"bg-slate-700/50 border-slate-600":"bg-slate-800/50 border-slate-700 opacity-60"}`,children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{type:"button",onClick:()=>m(w),className:`p-1 rounded transition-colors ${c[w].enabled?"text-green-400 hover:bg-green-500/20":"text-slate-500 hover:bg-slate-600"}`,children:c[w].enabled?f.jsx(xy,{className:"h-5 w-5"}):f.jsx(by,{className:"h-5 w-5"})}),f.jsx("span",{className:"w-24 font-medium text-white text-sm",children:N7[w]}),c[w].enabled?f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"space-y-2",children:c[w].blocks.map((_,S)=>f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(sn,{className:"h-4 w-4 text-slate-400 flex-shrink-0"}),f.jsx("select",{value:_.open,onChange:E=>v(w,S,"open",E.target.value),className:"bg-slate-700 border border-slate-600 rounded px-2 py-1 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:rO.filter(E=>E>=x(w,S)).map(E=>f.jsx("option",{value:E,children:E},E))}),f.jsx("span",{className:"text-slate-400",children:"-"}),f.jsx("select",{value:_.close,onChange:E=>v(w,S,"close",E.target.value),className:"bg-slate-700 border border-slate-600 rounded px-2 py-1 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:rO.filter(E=>E>_.open).map(E=>f.jsx("option",{value:E,children:E},E))}),c[w].blocks.length>1&&f.jsx("button",{type:"button",onClick:()=>b(w,S),className:"p-1 text-red-400 hover:bg-red-500/20 rounded transition-colors",title:"Eliminar bloque",children:f.jsx(Aa,{className:"h-4 w-4"})})]},S))}),c[w].blocks.length<3&&f.jsxs("button",{type:"button",onClick:()=>y(w),className:"mt-2 flex items-center gap-1 text-xs text-indigo-400 hover:text-indigo-300 transition-colors",children:[f.jsx(xn,{className:"h-3 w-3"}),"Aadir horario partido"]})]}):f.jsx("span",{className:"text-sm text-slate-500 italic",children:"Cerrado"})]})},w)),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Puedes aadir hasta 3 bloques horarios por da para configurar horarios partidos (ej: 09:00-14:00 y 17:00-20:00)"})]})]})}const C7="https://qtbdvbhewbrgvweeruhz.supabase.co/functions/v1/manage-users";async function gD(){const{data:t,error:e}=await Te.from("salons").select("*").order("name");if(e)throw new Error(e.message);return t||[]}async function A7(t){const{data:e,error:r}=await Te.from("salons").insert([{...t,slug:t.slug||t.name.toLowerCase().replace(/\s+/g,"-")}]).select().single();if(r)throw new Error(r.message);return e}async function yD(t,e){const{data:r,error:a}=await Te.from("salons").update(e).eq("id",t).select().single();if(a)throw new Error(a.message);return r}async function R7(t){const{error:e}=await Te.from("salons").delete().eq("id",t);if(e)throw new Error(e.message)}async function D7(){const{data:t,error:e}=await Te.from("profiles").select("*").order("full_name");if(e)throw new Error(e.message);return t||[]}async function vf(t){const{data:{session:e}}=await Te.auth.getSession();if(!e)throw new Error("No authenticated session");const r=await fetch(C7,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.access_token}`},body:JSON.stringify(t)}),a=await r.json();if(!r.ok)throw new Error(a.error||"Error en la operacin");return a}async function k7(t){return(await vf({action:"create",...t})).user}async function M7(t,e){return(await vf({action:"update",user_id:t,...e})).user}async function q7(t,e){await vf({action:"update_password",user_id:t,password:e})}async function P7(t){await vf({action:"delete",user_id:t})}async function L7(){const[t,e]=await Promise.all([Te.from("salons").select("id",{count:"exact",head:!0}),Te.from("profiles").select("role")]);if(t.error)throw new Error(t.error.message);if(e.error)throw new Error(e.error.message);const r=e.data||[];return{totalSalons:t.count||0,totalUsers:r.length,totalAdmins:r.filter(a=>a.role==="admin").length,totalStaff:r.filter(a=>a.role==="staff").length}}const aO={username:"",password:"",full_name:"",role:"staff",salon_id:"",google_calendar_id:"",selectedServiceIds:[],working_hours:null};function bD({onUpdate:t,salonFilter:e}){const[r,a]=A.useState([]),[i,l]=A.useState([]),[c,d]=A.useState(!0),[h,m]=A.useState(null),[v,y]=A.useState(""),[b,x]=A.useState(e||""),[w,_]=A.useState(!1),[S,E]=A.useState(null),[j,T]=A.useState(aO),[O,q]=A.useState(!1),[D,R]=A.useState(!1),[L,$]=A.useState(null),[C,P]=A.useState(null),[U,z]=A.useState(""),[W,ee]=A.useState(!1),[B,K]=A.useState([]),[ae,le]=A.useState(!1),[V,M]=A.useState(new Set),[F,ie]=A.useState({}),ce=async()=>{try{d(!0),m(null);const[te,xe]=await Promise.all([D7(),gD()]);a(te),l(xe);const _e={};for(const Xe of te)if(Xe.role==="staff"||Xe.role==="admin")try{const st=await JT(Xe.id);_e[Xe.id]=st.length}catch{_e[Xe.id]=0}ie(_e)}catch(te){m(te instanceof Error?te.message:"Error al cargar datos")}finally{d(!1)}};A.useEffect(()=>{ce()},[]);const fe=r.filter(te=>{if(e&&te.salon_id!==e||b&&te.salon_id!==b)return!1;const xe=v.toLowerCase();return te.full_name.toLowerCase().includes(xe)||te.username?.toLowerCase().includes(xe)||te.email?.toLowerCase().includes(xe)}),pe=te=>te?i.find(_e=>_e.id===te)?.name||"Desconocido":"Sin saln",be=te=>{switch(te){case"superadmin":return"bg-purple-500/20 text-purple-400";case"admin":return"bg-indigo-500/20 text-indigo-400";default:return"bg-slate-500/20 text-slate-400"}},De=async()=>{E(null);const te=e||i[0]?.id||"";if(T({...aO,salon_id:te}),q(!1),K([]),M(new Set),_(!0),te){le(!0);try{const xe=await Td(te);K(xe);const _e=new Set(xe.map(Xe=>Xe.category||"Otros"));M(_e)}catch(xe){console.error("Error loading services:",xe)}finally{le(!1)}}},Me=async te=>{if(E(te),K([]),M(new Set),T({username:te.username||"",password:"",full_name:te.full_name,role:te.role==="superadmin"?"admin":te.role,salon_id:te.salon_id||"",google_calendar_id:te.google_calendar_id||"",selectedServiceIds:[],working_hours:te.working_hours||null}),_(!0),te.salon_id){le(!0);try{const[xe,_e]=await Promise.all([Td(te.salon_id),JT(te.id)]);K(xe),T(st=>({...st,selectedServiceIds:_e}));const Xe=new Set(xe.map(st=>st.category||"Otros"));M(Xe)}catch(xe){console.error("Error loading services:",xe)}finally{le(!1)}}},gt=async te=>{te.preventDefault(),R(!0),m(null);try{let xe;if(S)await M7(S.id,{full_name:j.full_name,role:j.role,salon_id:j.salon_id,google_calendar_id:j.google_calendar_id||void 0,working_hours:j.working_hours}),xe=S.id;else{if(!j.password){m("La contrasea es requerida"),R(!1);return}xe=(await k7({username:j.username,password:j.password,full_name:j.full_name,role:j.role,salon_id:j.salon_id,google_calendar_id:j.google_calendar_id||void 0})).id}(j.role==="staff"||j.role==="admin")&&await m7(xe,j.selectedServiceIds),_(!1),ce(),t?.()}catch(xe){m(xe instanceof Error?xe.message:"Error al guardar")}finally{R(!1)}},ht=te=>{M(xe=>{const _e=new Set(xe);return _e.has(te)?_e.delete(te):_e.add(te),_e})},Wt=te=>{T(xe=>{const _e=new Set(xe.selectedServiceIds);return _e.has(te)?_e.delete(te):_e.add(te),{...xe,selectedServiceIds:Array.from(_e)}})},vr=()=>{T(te=>({...te,selectedServiceIds:B.map(xe=>xe.id)}))},xt=()=>{T(te=>({...te,selectedServiceIds:[]}))},Ae=B.reduce((te,xe)=>{const _e=xe.category||"Otros";return te[_e]||(te[_e]=[]),te[_e].push(xe),te},{}),Pt=async()=>{if(!(!C||!U)){ee(!0);try{await q7(C,U),P(null),z("")}catch(te){m(te instanceof Error?te.message:"Error al cambiar contrasea")}finally{ee(!1)}}},ke=async te=>{try{await P7(te),$(null),ce(),t?.()}catch(xe){m(xe instanceof Error?xe.message:"Error al eliminar")}};return c?f.jsx("div",{className:"p-12 flex justify-center",children:f.jsx(Tt,{className:"h-8 w-8 animate-spin text-indigo-400"})}):f.jsxs("div",{children:[f.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[f.jsxs("div",{className:"relative flex-1 max-w-md",children:[f.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Buscar usuarios...",value:v,onChange:te=>y(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),!e&&f.jsxs("select",{value:b,onChange:te=>x(te.target.value),className:"px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:[f.jsx("option",{value:"",children:"Todos los salones"}),i.map(te=>f.jsx("option",{value:te.id,children:te.name},te.id))]})]}),f.jsxs("button",{onClick:De,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[f.jsx(xn,{className:"h-4 w-4"}),"Nuevo Usuario"]})]}),h&&f.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:h}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Usuario"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Saln"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"Calendar ID"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden sm:table-cell",children:"Servicios"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),f.jsx("tbody",{children:fe.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"px-4 py-12 text-center text-slate-400",children:v||b?"No se encontraron usuarios":"No hay usuarios registrados"})}):fe.map(te=>f.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-slate-600 rounded-lg flex items-center justify-center",children:f.jsx(wn,{className:"h-5 w-5 text-slate-300"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:te.full_name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("p",{className:"text-xs text-slate-400",children:["@",te.username]}),f.jsx("span",{className:`px-1.5 py-0.5 text-xs rounded ${be(te.role)}`,children:te.role})]})]})]})}),f.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:f.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-300",children:[f.jsx(pd,{className:"h-3.5 w-3.5 text-slate-400"}),pe(te.salon_id)]})}),f.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(nn,{className:"h-3.5 w-3.5 text-slate-400"}),f.jsx("span",{className:"text-sm text-slate-300 font-mono truncate max-w-[200px]",children:te.google_calendar_id||"-"})]})}),f.jsx("td",{className:"px-4 py-4 hidden sm:table-cell",children:(te.role==="staff"||te.role==="admin")&&te.salon_id?f.jsxs("div",{className:"flex items-center gap-1.5",children:[f.jsx(Fl,{className:"h-3.5 w-3.5 text-slate-400"}),f.jsxs("span",{className:`px-2 py-1 text-xs rounded-full ${F[te.id]>0?"bg-indigo-500/20 text-indigo-400":"bg-slate-500/20 text-slate-400"}`,children:[F[te.id]||0," servicios"]})]}):f.jsx("span",{className:"text-sm text-slate-500",children:"-"})}),f.jsx("td",{className:"px-4 py-4 text-right",children:L===te.id?f.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),f.jsx("button",{onClick:()=>ke(te.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:f.jsx(Kn,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>$(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:f.jsx(fr,{className:"h-4 w-4"})})]}):f.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[f.jsx("button",{onClick:()=>{P(te.id),z("")},className:"p-1.5 text-slate-400 hover:text-amber-400 hover:bg-amber-900/30 rounded-lg transition-colors",title:"Cambiar contrasea",children:f.jsx(s6,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>Me(te),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:f.jsx(QC,{className:"h-4 w-4"})}),te.role!=="superadmin"&&f.jsx("button",{onClick:()=>$(te.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",title:"Eliminar",children:f.jsx(Aa,{className:"h-4 w-4"})})]})})]},te.id))})]})}),w&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold",children:S?"Editar Usuario":"Nuevo Usuario"}),f.jsx("button",{onClick:()=>_(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:gt,className:"p-4 space-y-4",children:[!S&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre de usuario *"}),f.jsx("input",{type:"text",value:j.username,onChange:te=>T({...j,username:te.target.value.toLowerCase().replace(/[^a-z0-9_]/g,"")}),placeholder:"usuario123",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),f.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Solo letras minsculas, nmeros y guiones bajos"})]}),!S&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Contrasea *"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:O?"text":"password",value:j.password,onChange:te=>T({...j,password:te.target.value}),className:"w-full px-3 py-2 pr-10 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0}),f.jsx("button",{type:"button",onClick:()=>q(!O),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-slate-400 hover:text-white",children:O?f.jsx(YC,{className:"h-4 w-4"}):f.jsx(VC,{className:"h-4 w-4"})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre completo *"}),f.jsx("input",{type:"text",value:j.full_name,onChange:te=>T({...j,full_name:te.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Rol *"}),f.jsxs("select",{value:j.role,onChange:te=>T({...j,role:te.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",disabled:!!e,children:[!e&&f.jsx("option",{value:"admin",children:"Admin"}),f.jsx("option",{value:"staff",children:"Staff"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Saln *"}),f.jsxs("select",{value:j.salon_id,onChange:te=>T({...j,salon_id:te.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0,disabled:!!e,children:[f.jsx("option",{value:"",children:"Seleccionar..."}),i.map(te=>f.jsx("option",{value:te.id,children:te.name},te.id))]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Google Calendar ID"}),f.jsx("input",{type:"text",value:j.google_calendar_id,onChange:te=>T({...j,google_calendar_id:te.target.value}),placeholder:"ejemplo@group.calendar.google.com",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none font-mono text-sm"})]}),(j.role==="staff"||j.role==="admin")&&j.salon_id&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Servicios que puede realizar"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{type:"button",onClick:vr,className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded transition-colors",children:"Todos"}),f.jsx("button",{type:"button",onClick:xt,className:"text-xs px-2 py-1 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded transition-colors",children:"Ninguno"})]})]}),ae?f.jsx("div",{className:"flex items-center justify-center py-4",children:f.jsx(Tt,{className:"h-5 w-5 animate-spin text-indigo-400"})}):B.length===0?f.jsx("p",{className:"text-sm text-slate-500 py-2",children:"No hay servicios configurados para este saln"}):f.jsx("div",{className:"bg-slate-700/50 rounded-lg border border-slate-600 max-h-48 overflow-y-auto",children:Object.entries(Ae).map(([te,xe])=>f.jsxs("div",{className:"border-b border-slate-600 last:border-b-0",children:[f.jsxs("button",{type:"button",onClick:()=>ht(te),className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-slate-600/50 transition-colors",children:[V.has(te)?f.jsx(GC,{className:"h-4 w-4 text-slate-400"}):f.jsx(Ri,{className:"h-4 w-4 text-slate-400"}),f.jsx("span",{className:"text-sm font-medium text-slate-300",children:te}),f.jsxs("span",{className:"text-xs text-slate-500",children:["(",xe.filter(_e=>j.selectedServiceIds.includes(_e.id)).length,"/",xe.length,")"]})]}),V.has(te)&&f.jsx("div",{className:"pl-6 pr-3 pb-2 space-y-1",children:xe.map(_e=>f.jsxs("label",{className:"flex items-center gap-2 py-1 px-2 rounded hover:bg-slate-600/30 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:j.selectedServiceIds.includes(_e.id),onChange:()=>Wt(_e.id),className:"w-4 h-4 rounded border-slate-500 bg-slate-600 text-indigo-500 focus:ring-indigo-500 focus:ring-offset-0"}),f.jsx("span",{className:"text-sm text-slate-300",children:_e.name}),f.jsxs("span",{className:"text-xs text-slate-500",children:["(",_e.duration_minutes," min - ",_e.price,")"]})]},_e.id))})]},te))}),f.jsxs("p",{className:"text-xs text-slate-400 mt-1.5",children:[j.selectedServiceIds.length," de ",B.length," servicios seleccionados"]})]}),(j.role==="staff"||j.role==="admin")&&j.salon_id&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(sn,{className:"h-4 w-4 text-slate-400"}),f.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Horario de trabajo"})]}),f.jsx(vD,{value:j.working_hours,onChange:te=>T({...j,working_hours:te}),showInheritOption:!0,inheritLabel:"Usar horario del saln"}),f.jsx("p",{className:"text-xs text-slate-400 mt-2",children:j.working_hours===null?"El empleado usa el horario por defecto del saln":"El empleado tiene un horario personalizado"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>_(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsxs("button",{type:"submit",disabled:D,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[D&&f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),S?"Guardar":"Crear"]})]})]})]})}),C&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-sm",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Cambiar Contrasea"}),f.jsx("button",{onClick:()=>P(null),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nueva contrasea"}),f.jsx("input",{type:"password",value:U,onChange:te=>z(te.target.value),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",autoFocus:!0})]}),f.jsxs("div",{className:"flex gap-3",children:[f.jsx("button",{onClick:()=>P(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsxs("button",{onClick:Pt,disabled:W||!U,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[W&&f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),"Cambiar"]})]})]})]})})]})}const sO=[{value:"tariff_change",label:"Cambio de tarifas"},{value:"time_change",label:"Cambio de horarios"},{value:"bug",label:"Reportar error"},{value:"feature",label:"Sugerencia"},{value:"other",label:"Otro"}],iO=[{value:"open",label:"Abierto",color:"bg-blue-500/20 text-blue-400"},{value:"in_progress",label:"En progreso",color:"bg-yellow-500/20 text-yellow-400"},{value:"resolved",label:"Resuelto",color:"bg-green-500/20 text-green-400"},{value:"closed",label:"Cerrado",color:"bg-slate-500/20 text-slate-400"}],oO=[{value:"low",label:"Baja",color:"text-slate-400"},{value:"normal",label:"Normal",color:"text-blue-400"},{value:"high",label:"Alta",color:"text-orange-400"},{value:"urgent",label:"Urgente",color:"text-red-400"}];function xD({salonId:t,showAllSalons:e=!1}){const{profile:r,isSuperAdmin:a}=Bl(),[i,l]=A.useState([]),[c,d]=A.useState(!0),[h,m]=A.useState(null),[v,y]=A.useState(!1),[b,x]=A.useState(!1),[w,_]=A.useState(null),[S,E]=A.useState("other"),[j,T]=A.useState(""),[O,q]=A.useState(""),[D,R]=A.useState("normal"),[L,$]=A.useState(null),[C,P]=A.useState(""),U=async()=>{try{d(!0),m(null);let V=Te.from("tickets").select("*").order("created_at",{ascending:!1});t&&!e&&(V=V.eq("salon_id",t));const{data:M,error:F}=await V;if(F){console.error("Error fetching tickets:",F),m("No se pudieron cargar los tickets");return}if(e&&M&&M.length>0){const ie=[...new Set(M.map(pe=>pe.salon_id))],{data:ce}=await Te.from("salons").select("id, name").in("id",ie),fe=new Map(ce?.map(pe=>[pe.id,pe.name])||[]);M.forEach(pe=>{pe.salon_name=fe.get(pe.salon_id)||"Desconocido"})}l(M||[])}catch(V){console.error("Unexpected error:",V),m("Error inesperado al cargar tickets")}finally{d(!1)}};A.useEffect(()=>{U()},[t,e]);const z=async V=>{if(V.preventDefault(),!r?.salon_id&&!t){m("No se pudo determinar el saln");return}x(!0),m(null);try{const{error:M}=await Te.from("tickets").insert({salon_id:t||r?.salon_id,created_by:r?.id,type:S,subject:j.trim(),description:O.trim(),priority:D,status:"open"});if(M){console.error("Error creating ticket:",M),m("No se pudo crear el ticket");return}E("other"),T(""),q(""),R("normal"),y(!1),U()}catch(M){console.error("Unexpected error:",M),m("Error inesperado")}finally{x(!1)}},W=async(V,M)=>{$(V);try{const F={status:M};M==="resolved"&&(F.resolved_at=new Date().toISOString());const{error:ie}=await Te.from("tickets").update(F).eq("id",V);if(ie){console.error("Error updating ticket:",ie),m("No se pudo actualizar el ticket");return}U()}finally{$(null)}},ee=async V=>{if(C.trim())try{const{error:M}=await Te.from("tickets").update({admin_notes:C.trim()}).eq("id",V);if(M){console.error("Error updating notes:",M);return}P(""),_(null),U()}catch(M){console.error("Error:",M)}},B=V=>{const M=iO.find(F=>F.value===V);return f.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${M?.color}`,children:M?.label})},K=V=>{const M=oO.find(F=>F.value===V);return f.jsx("span",{className:`text-xs ${M?.color}`,children:M?.label})},ae=V=>sO.find(M=>M.value===V)?.label||V,le=V=>new Date(V).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:e?"Todos los Tickets":"Mis Tickets"}),f.jsx("p",{className:"text-sm text-slate-400",children:e?"Gestiona las solicitudes de todos los salones":"Enva solicitudes al equipo de Galia"})]}),!e&&f.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[f.jsx(xn,{className:"h-4 w-4"}),"Nuevo Ticket"]})]}),h&&f.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:h}),v&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[f.jsx("h4",{className:"text-lg font-semibold text-white",children:"Nuevo Ticket"}),f.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-white",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:z,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Tipo de solicitud"}),f.jsx("select",{value:S,onChange:V=>E(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:sO.map(V=>f.jsx("option",{value:V.value,children:V.label},V.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Prioridad"}),f.jsx("select",{value:D,onChange:V=>R(V.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",children:oO.map(V=>f.jsx("option",{value:V.value,children:V.label},V.value))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Asunto"}),f.jsx("input",{type:"text",value:j,onChange:V=>T(V.target.value),placeholder:"Resumen breve del problema",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),f.jsx("textarea",{value:O,onChange:V=>q(V.target.value),placeholder:"Describe con detalle tu solicitud...",rows:4,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none",required:!0})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),f.jsxs("button",{type:"submit",disabled:b,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[b?f.jsx(Tt,{className:"h-4 w-4 animate-spin"}):f.jsx(T6,{className:"h-4 w-4"}),"Enviar Ticket"]})]})]})]})}),w&&a&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[f.jsx("h4",{className:"text-lg font-semibold text-white",children:"Detalle del Ticket"}),f.jsx("button",{onClick:()=>_(null),className:"text-slate-400 hover:text-white",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Saln"}),f.jsx("p",{className:"text-white",children:w.salon_name})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Asunto"}),f.jsx("p",{className:"text-white",children:w.subject})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Descripcin"}),f.jsx("p",{className:"text-white whitespace-pre-wrap",children:w.description})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Tipo"}),f.jsx("p",{className:"text-white",children:ae(w.type)})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Prioridad"}),K(w.priority)]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-slate-400",children:"Estado"}),B(w.status)]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas internas"}),f.jsx("textarea",{value:C||w.admin_notes||"",onChange:V=>P(V.target.value),placeholder:"Aade notas sobre este ticket...",rows:3,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Cambiar estado"}),f.jsx("div",{className:"flex gap-2 flex-wrap",children:iO.map(V=>f.jsx("button",{onClick:()=>W(w.id,V.value),disabled:L===w.id,className:`px-3 py-1 rounded text-sm ${w.status===V.value?V.color+" ring-2 ring-offset-2 ring-offset-slate-800 ring-current":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:V.label},V.value))})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{onClick:()=>_(null),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cerrar"}),f.jsx("button",{onClick:()=>ee(w.id),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:"Guardar Notas"})]})]})]})}),c?f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):i.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(KC,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-400",children:"No hay tickets"}),!e&&f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Crea uno para enviar una solicitud al equipo de Galia"})]}):f.jsx("div",{className:"space-y-3",children:i.map(V=>f.jsxs("div",{onClick:()=>a&&_(V),className:`bg-slate-900 border border-slate-700 rounded-lg p-4 ${a?"cursor-pointer hover:border-slate-600":""}`,children:[f.jsxs("div",{className:"flex justify-between items-start gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[B(V.status),K(V.priority),f.jsx("span",{className:"text-xs text-slate-500",children:ae(V.type)})]}),f.jsx("h4",{className:"text-white font-medium truncate",children:V.subject}),f.jsx("p",{className:"text-sm text-slate-400 line-clamp-2 mt-1",children:V.description}),e&&V.salon_name&&f.jsx("p",{className:"text-xs text-indigo-400 mt-2",children:V.salon_name})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[f.jsx(sn,{className:"h-3 w-3"}),le(V.created_at)]}),V.status==="resolved"&&V.resolved_at&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-500 mt-1",children:[f.jsx(vd,{className:"h-3 w-3"}),"Resuelto"]}),a&&f.jsx(GC,{className:"h-4 w-4 text-slate-500 mt-2 ml-auto"})]})]}),V.admin_notes&&f.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-700",children:[f.jsx("p",{className:"text-xs text-slate-500 mb-1",children:"Notas del equipo:"}),f.jsx("p",{className:"text-sm text-slate-300",children:V.admin_notes})]})]},V.id))})]})}const Q0=[{value:"waiting",label:"Esperando",color:"bg-blue-500/20 text-blue-400",icon:f.jsx(sn,{className:"h-3 w-3"})},{value:"contacted",label:"Contactado",color:"bg-yellow-500/20 text-yellow-400",icon:f.jsx(ZC,{className:"h-3 w-3"})},{value:"booked",label:"Agendado",color:"bg-green-500/20 text-green-400",icon:f.jsx(zq,{className:"h-3 w-3"})},{value:"cancelled",label:"Cancelado",color:"bg-red-500/20 text-red-400",icon:f.jsx(yy,{className:"h-3 w-3"})},{value:"expired",label:"Expirado",color:"bg-slate-500/20 text-slate-400",icon:f.jsx(yy,{className:"h-3 w-3"})}];function $7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState(!1),[m,v]=A.useState(!1),[y,b]=A.useState("waiting"),[x,w]=A.useState(null),[_,S]=A.useState(""),[E,j]=A.useState(""),[T,O]=A.useState(""),[q,D]=A.useState(""),[R,L]=A.useState(""),[$,C]=A.useState(""),P=async()=>{if(t)try{i(!0),c(null);let M=Te.from("waitlist").select("*").eq("salon_id",t).order("created_at",{ascending:!1});y!=="all"&&(M=M.eq("status",y));const{data:F,error:ie}=await M;if(ie){console.error("Error fetching waitlist:",ie),c("No se pudo cargar la lista de espera");return}r(F||[])}catch(M){console.error("Unexpected error:",M),c("Error inesperado")}finally{i(!1)}};A.useEffect(()=>{P()},[t,y]);const U=async M=>{if(M.preventDefault(),!!t){v(!0),c(null);try{const{error:F}=await Te.from("waitlist").insert({salon_id:t,customer_name:_.trim(),customer_phone:E.trim(),preferred_date:T||null,preferred_time:q||null,service_type:R.trim()||null,notes:$.trim()||null,status:"waiting",source:"manual"});if(F){console.error("Error creating entry:",F),c("No se pudo aadir a la lista");return}S(""),j(""),O(""),D(""),L(""),C(""),h(!1),P()}catch(F){console.error("Unexpected error:",F),c("Error inesperado")}finally{v(!1)}}},z=async(M,F)=>{try{const ie={status:F};F==="contacted"&&(ie.contacted_at=new Date().toISOString());const{error:ce}=await Te.from("waitlist").update(ie).eq("id",M);if(ce){console.error("Error updating entry:",ce),c("No se pudo actualizar");return}P()}catch(ie){console.error("Error:",ie)}},W=async M=>{try{const{error:F}=await Te.from("waitlist").delete().eq("id",M);if(F){console.error("Error deleting entry:",F),c("No se pudo eliminar");return}w(null),P()}catch(F){console.error("Error:",F)}},ee=M=>{const F=Q0.find(ie=>ie.value===M);return f.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium ${F?.color}`,children:[F?.icon,F?.label]})},B=M=>new Date(M).toLocaleDateString("es-ES",{day:"2-digit",month:"short"}),K=M=>new Date(M).toLocaleDateString("es-ES",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"}),ae={contact:{title:"Marcar cliente como contactado?",confirm:"Contactado",color:"bg-yellow-600 hover:bg-yellow-700"},book:{title:"Marcar como cita agendada?",confirm:"Agendar",color:"bg-green-600 hover:bg-green-700"},cancel:{title:"Cancelar esta solicitud de espera?",confirm:"Cancelar cita",color:"bg-red-600 hover:bg-red-700"},delete:{title:"Desea eliminar este contacto?",confirm:"Eliminar",color:"bg-red-600 hover:bg-red-700"}},le=()=>{if(!x)return;const{entryId:M,type:F}=x;F==="contact"?z(M,"contacted"):F==="book"?z(M,"booked"):F==="cancel"?z(M,"cancelled"):F==="delete"&&W(M),w(null)},V=e.filter(M=>M.status==="waiting").length;return f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:"Lista de Espera"}),f.jsxs("p",{className:"text-sm text-slate-400",children:[V," cliente",V!==1?"s":""," esperando"]})]}),f.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[f.jsx(xn,{className:"h-4 w-4"}),"Aadir"]})]}),l&&f.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg text-red-400 text-sm",children:l}),f.jsxs("div",{className:"flex gap-2 mb-6 flex-wrap",children:[f.jsx("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${y==="all"?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Todos"}),Q0.map(M=>f.jsxs("button",{onClick:()=>b(M.value),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${y===M.value?"bg-indigo-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[M.icon,M.label]},M.value))]}),d&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[f.jsx("h4",{className:"text-lg font-semibold text-white",children:"Aadir a Lista de Espera"}),f.jsx("button",{onClick:()=>h(!1),className:"text-slate-400 hover:text-white",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:U,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre del cliente *"}),f.jsx("input",{type:"text",value:_,onChange:M=>S(M.target.value),placeholder:"Nombre completo",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),f.jsx("input",{type:"tel",value:E,onChange:M=>j(M.target.value),placeholder:"+34 600 000 000",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Fecha preferida"}),f.jsx("input",{type:"date",value:T,onChange:M=>O(M.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Hora preferida"}),f.jsx("input",{type:"time",value:q,onChange:M=>D(M.target.value),className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Servicio solicitado"}),f.jsx("input",{type:"text",value:R,onChange:M=>L(M.target.value),placeholder:"Ej: Corte y color",className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),f.jsx("textarea",{value:$,onChange:M=>C(M.target.value),placeholder:"Informacin adicional...",rows:2,className:"w-full px-3 py-2 bg-slate-900 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none resize-none"})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:()=>h(!1),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),f.jsxs("button",{type:"submit",disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:[m?f.jsx(Tt,{className:"h-4 w-4 animate-spin"}):f.jsx(xn,{className:"h-4 w-4"}),"Aadir"]})]})]})]})}),a?f.jsx("div",{className:"flex justify-center items-center py-12",children:f.jsx(Tt,{className:"h-8 w-8 text-indigo-500 animate-spin"})}):e.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(sn,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),f.jsx("p",{className:"text-slate-400",children:y==="all"?"No hay nadie en la lista de espera":`No hay entradas con estado "${Q0.find(M=>M.value===y)?.label}"`}),f.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Aade clientes que quieran una cita cuando haya hueco"})]}):f.jsx("div",{className:"space-y-3",children:e.map(M=>f.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-start gap-4",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ee(M.status),M.source==="chatbot"&&f.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-purple-500/20 text-purple-400",children:"Chatbot"})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(wn,{className:"h-4 w-4 text-slate-500"}),f.jsx("span",{className:"text-white font-medium",children:M.customer_name})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(Hl,{className:"h-4 w-4 text-slate-500"}),f.jsx("a",{href:`tel:${M.customer_phone}`,className:"text-indigo-400 hover:text-indigo-300 text-sm",children:M.customer_phone})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-slate-400",children:[M.preferred_date&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(nn,{className:"h-3.5 w-3.5"}),B(M.preferred_date),M.preferred_time&&` a las ${M.preferred_time}`]}),M.service_type&&f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-slate-500",children:"Servicio:"}),M.service_type]})]}),M.notes&&f.jsxs("div",{className:"mt-2 flex items-start gap-1 text-sm text-slate-400",children:[f.jsx(KC,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),f.jsx("span",{children:M.notes})]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsx("p",{className:"text-xs text-slate-500 mb-2",children:K(M.created_at)}),f.jsxs("div",{className:"flex gap-1",children:[M.status==="waiting"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>w({entryId:M.id,type:"contact"}),title:"Marcar como contactado",className:"p-1.5 bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30 rounded transition-colors",children:f.jsx(ZC,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>w({entryId:M.id,type:"book"}),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:f.jsx(vd,{className:"h-4 w-4"})})]}),M.status==="contacted"&&f.jsx("button",{onClick:()=>w({entryId:M.id,type:"book"}),title:"Marcar como agendado",className:"p-1.5 bg-green-500/20 text-green-400 hover:bg-green-500/30 rounded transition-colors",children:f.jsx(vd,{className:"h-4 w-4"})}),(M.status==="waiting"||M.status==="contacted")&&f.jsx("button",{onClick:()=>w({entryId:M.id,type:"cancel"}),title:"Cancelar",className:"p-1.5 bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded transition-colors",children:f.jsx(yy,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>w({entryId:M.id,type:"delete"}),title:"Eliminar",className:"p-1.5 bg-slate-700 text-slate-400 hover:bg-slate-600 hover:text-white rounded transition-colors",children:f.jsx(Aa,{className:"h-4 w-4"})})]})]})]}),M.contacted_at&&f.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-700 text-xs text-slate-500",children:["Contactado el ",K(M.contacted_at)]})]},M.id))}),x&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-sm",children:[f.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700",children:[f.jsx("h4",{className:"text-lg font-semibold text-white",children:"Confirmar accin"}),f.jsx("button",{onClick:()=>w(null),className:"text-slate-400 hover:text-white",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsxs("div",{className:"p-4",children:[f.jsx("p",{className:"text-sm text-slate-300 mb-5",children:ae[x.type].title}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 text-slate-300 hover:text-white transition-colors",children:"Cancelar"}),f.jsx("button",{onClick:le,className:`px-4 py-2 text-white rounded-lg transition-colors ${ae[x.type].color}`,children:ae[x.type].confirm})]})]})]})})]})}const z7=["Corte","Color","Peinado","Tratamiento","Barba","Esttica","Manicura","Pedicura","Otro"];function U7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState(!1),[m,v]=A.useState(null),[y,b]=A.useState(!1),[x,w]=A.useState("all"),[_,S]=A.useState(!1),[E,j]=A.useState({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),T=async()=>{if(t)try{i(!0),c(null);let z=Te.from("services").select("*").eq("salon_id",t).order("display_order",{ascending:!0}).order("name",{ascending:!0});_||(z=z.eq("active",!0));const{data:W,error:ee}=await z;if(ee)throw ee;r(W||[])}catch(z){console.error("Error fetching services:",z),c("No se pudieron cargar los servicios.")}finally{i(!1)}};A.useEffect(()=>{T()},[t,_]);const O=()=>{v(null),j({name:"",description:"",duration_minutes:30,price:0,category:"",active:!0}),h(!0)},q=z=>{v(z),j({name:z.name,description:z.description||"",duration_minutes:z.duration_minutes,price:z.price,category:z.category||"",active:z.active}),h(!0)},D=async z=>{if(z.preventDefault(),!!t)try{b(!0),c(null);const W={salon_id:t,name:E.name.trim(),description:E.description.trim()||null,duration_minutes:E.duration_minutes,price:E.price,category:E.category||null,active:E.active};if(m){const{error:ee}=await Te.from("services").update(W).eq("id",m.id);if(ee)throw ee}else{const ee=e.reduce((K,ae)=>Math.max(K,ae.display_order),0),{error:B}=await Te.from("services").insert({...W,display_order:ee+1});if(B)throw B}h(!1),T()}catch(W){console.error("Error saving service:",W),c("No se pudo guardar el servicio.")}finally{b(!1)}},R=async z=>{try{const{error:W}=await Te.from("services").update({active:!z.active}).eq("id",z.id);if(W)throw W;T()}catch(W){console.error("Error toggling service:",W),c("No se pudo actualizar el servicio.")}},L=async z=>{if(confirm(`Eliminar "${z.name}"? Esta accin no se puede deshacer.`))try{const{error:W}=await Te.from("services").delete().eq("id",z.id);if(W)throw W;T()}catch(W){console.error("Error deleting service:",W),c("No se pudo eliminar el servicio.")}},$=z=>{if(z<60)return`${z} min`;const W=Math.floor(z/60),ee=z%60;return ee>0?`${W}h ${ee}min`:`${W}h`},C=z=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(z),P=[...new Set(e.map(z=>z.category).filter(Boolean))],U=e.filter(z=>x==="all"?!0:x==="uncategorized"?!z.category:z.category===x);return a&&e.length===0?f.jsx("div",{className:"p-6",children:f.jsx(Di,{text:"Cargando servicios..."})}):f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:"Catlogo de Servicios"}),f.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Define los servicios que ofrece tu saln. El chatbot usar esta informacin."})]}),f.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[f.jsx(xn,{className:"h-4 w-4"}),"Nuevo Servicio"]})]}),l&&f.jsx("div",{className:"mb-6",children:f.jsx(xs,{title:"Error",message:l,onRetry:T})}),f.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("label",{className:"text-sm text-slate-400",children:"Categora:"}),f.jsxs("select",{value:x,onChange:z=>w(z.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-1.5 text-sm text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[f.jsx("option",{value:"all",children:"Todas"}),P.map(z=>f.jsx("option",{value:z,children:z},z)),f.jsx("option",{value:"uncategorized",children:"Sin categora"})]})]}),f.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-400 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:_,onChange:z=>S(z.target.checked),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Mostrar inactivos"]})]}),U.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(eA,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-400",children:"No hay servicios configurados."}),f.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Crear primer servicio"})]}):f.jsx("div",{className:"grid gap-3",children:U.map(z=>f.jsx("div",{className:`bg-slate-700/50 rounded-lg p-4 border ${z.active?"border-slate-600":"border-slate-700 opacity-60"}`,children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"p-1 text-slate-500 cursor-move",children:f.jsx(n6,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h4",{className:"font-medium text-white",children:z.name}),z.category&&f.jsx("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:z.category}),!z.active&&f.jsx("span",{className:"px-2 py-0.5 bg-red-500/20 text-red-400 text-xs rounded",children:"Inactivo"})]}),z.description&&f.jsx("p",{className:"text-sm text-slate-400 mt-1",children:z.description}),f.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm",children:[f.jsxs("span",{className:"flex items-center gap-1 text-slate-400",children:[f.jsx(sn,{className:"h-4 w-4"}),$(z.duration_minutes)]}),f.jsxs("span",{className:"flex items-center gap-1 text-green-400 font-medium",children:[f.jsx(WC,{className:"h-4 w-4"}),C(z.price)]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>R(z),className:`p-2 rounded-lg transition-colors ${z.active?"text-green-400 hover:bg-green-500/20":"text-slate-500 hover:bg-slate-600"}`,title:z.active?"Desactivar":"Activar",children:z.active?f.jsx(xy,{className:"h-5 w-5"}):f.jsx(by,{className:"h-5 w-5"})}),f.jsx("button",{onClick:()=>q(z),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:f.jsx(JC,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>L(z),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:f.jsx(Aa,{className:"h-4 w-4"})})]})]})},z.id))}),d&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Servicio":"Nuevo Servicio"}),f.jsx("button",{onClick:()=>h(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),f.jsx("input",{type:"text",value:E.name,onChange:z=>j(W=>({...W,name:z.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ej: Corte de pelo",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Descripcin"}),f.jsx("textarea",{value:E.description,onChange:z=>j(W=>({...W,description:z.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Descripcin opcional del servicio"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Duracin (min) *"}),f.jsx("input",{type:"number",value:E.duration_minutes,onChange:z=>j(W=>({...W,duration_minutes:parseInt(z.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"5",step:"5",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Precio () *"}),f.jsx("input",{type:"number",value:E.price,onChange:z=>j(W=>({...W,price:parseFloat(z.target.value)||0})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",min:"0",step:"0.50",required:!0})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Categora"}),f.jsxs("select",{value:E.category,onChange:z=>j(W=>({...W,category:z.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[f.jsx("option",{value:"",children:"Sin categora"}),z7.map(z=>f.jsx("option",{value:z,children:z},z))]})]}),f.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:E.active,onChange:z=>j(W=>({...W,active:z.target.checked})),className:"rounded border-slate-600 bg-slate-700 text-indigo-600 focus:ring-indigo-500"}),"Servicio activo (visible para clientes)"]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:y||!E.name.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function I7({salonId:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState(!1),[m,v]=A.useState(null),[y,b]=A.useState(!1),[x,w]=A.useState(""),[_,S]=A.useState("all"),[E,j]=A.useState({name:"",phone:"",email:"",notes:"",source:"manual"}),T=async()=>{if(t)try{i(!0),c(null);const{data:C,error:P}=await Te.from("clients").select("*").eq("salon_id",t).order("last_contact_at",{ascending:!1});if(P)throw P;r(C||[])}catch(C){console.error("Error fetching clients:",C),c("No se pudieron cargar los clientes.")}finally{i(!1)}};A.useEffect(()=>{T()},[t]);const O=()=>{v(null),j({name:"",phone:"",email:"",notes:"",source:"manual"}),h(!0)},q=C=>{v(C),j({name:C.name,phone:C.phone,email:C.email||"",notes:C.notes||"",source:C.source}),h(!0)},D=async C=>{if(C.preventDefault(),!!t)try{b(!0),c(null);const P={salon_id:t,name:E.name.trim(),phone:E.phone.trim(),email:E.email.trim()||null,notes:E.notes.trim()||null,source:E.source};if(m){const{error:U}=await Te.from("clients").update(P).eq("id",m.id);if(U)throw U}else{const{error:U}=await Te.from("clients").insert(P);if(U)throw U.code==="23505"?new Error("Ya existe un cliente con ese telfono."):U}h(!1),T()}catch(P){console.error("Error saving client:",P),c(P instanceof Error?P.message:"No se pudo guardar el cliente.")}finally{b(!1)}},R=async C=>{if(confirm(`Eliminar a "${C.name}"? Esta accin no se puede deshacer.`))try{const{error:P}=await Te.from("clients").delete().eq("id",C.id);if(P)throw P;T()}catch(P){console.error("Error deleting client:",P),c("No se pudo eliminar el cliente.")}},L=C=>{const P={whatsapp:{color:"bg-green-500/20 text-green-400",icon:f.jsx(Qy,{className:"h-3 w-3"}),label:"WhatsApp"},manual:{color:"bg-slate-600 text-slate-300",icon:f.jsx(wn,{className:"h-3 w-3"}),label:"Manual"},web:{color:"bg-blue-500/20 text-blue-400",icon:f.jsx(nn,{className:"h-3 w-3"}),label:"Web"}},U=P[C]||P.manual;return f.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs ${U.color}`,children:[U.icon,U.label]})},$=e.filter(C=>{const P=C.name.toLowerCase().includes(x.toLowerCase())||C.phone.includes(x)||C.email&&C.email.toLowerCase().includes(x.toLowerCase()),U=_==="all"||C.source===_;return P&&U});return a&&e.length===0?f.jsx("div",{className:"p-6",children:f.jsx(Di,{text:"Cargando clientes..."})}):f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:"Base de Clientes"}),f.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[e.length," clientes registrados"]})]}),f.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:[f.jsx(xn,{className:"h-4 w-4"}),"Nuevo Cliente"]})]}),l&&f.jsx("div",{className:"mb-6",children:f.jsx(xs,{title:"Error",message:l,onRetry:T})}),f.jsxs("div",{className:"flex flex-wrap gap-3 mb-6",children:[f.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[f.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",value:x,onChange:C=>w(C.target.value),placeholder:"Buscar por nombre, telfono o email...",className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-slate-400 focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]}),f.jsxs("select",{value:_,onChange:C=>S(C.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[f.jsx("option",{value:"all",children:"Todas las fuentes"}),f.jsx("option",{value:"whatsapp",children:"WhatsApp"}),f.jsx("option",{value:"manual",children:"Manual"}),f.jsx("option",{value:"web",children:"Web"})]})]}),$.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx(wn,{className:"h-12 w-12 text-slate-600 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-400",children:x||_!=="all"?"No se encontraron clientes con esos criterios.":"No hay clientes registrados."}),!x&&_==="all"&&f.jsx("button",{onClick:O,className:"mt-4 text-indigo-400 hover:text-indigo-300 text-sm",children:"Agregar primer cliente"})]}):f.jsx("div",{className:"grid gap-3",children:$.map(C=>f.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("h4",{className:"font-medium text-white",children:C.name}),L(C.source),C.total_appointments>0&&f.jsxs("span",{className:"px-2 py-0.5 bg-indigo-500/20 text-indigo-400 text-xs rounded",children:[C.total_appointments," cita",C.total_appointments!==1?"s":""]})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-sm text-slate-400",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Hl,{className:"h-4 w-4"}),C.phone]}),C.email&&f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(Md,{className:"h-4 w-4"}),C.email]})]}),C.notes&&f.jsx("p",{className:"mt-2 text-sm text-slate-400 italic",children:C.notes}),f.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["ltimo contacto: ",Nd(new Date(C.last_contact_at),{addSuffix:!0,locale:qt})]})]}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("button",{onClick:()=>q(C),className:"p-2 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",title:"Editar",children:f.jsx(JC,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>R(C),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",title:"Eliminar",children:f.jsx(Aa,{className:"h-4 w-4"})})]})]})},C.id))}),d&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md border border-slate-700",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-bold text-white",children:m?"Editar Cliente":"Nuevo Cliente"}),f.jsx("button",{onClick:()=>h(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg transition-colors",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:D,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Nombre *"}),f.jsx("input",{type:"text",value:E.name,onChange:C=>j(P=>({...P,name:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Nombre del cliente",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Telfono *"}),f.jsx("input",{type:"tel",value:E.phone,onChange:C=>j(P=>({...P,phone:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"+34 612 345 678",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),f.jsx("input",{type:"email",value:E.email,onChange:C=>j(P=>({...P,email:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"cliente@email.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Notas"}),f.jsx("textarea",{value:E.notes,onChange:C=>j(P=>({...P,notes:C.target.value})),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:2,placeholder:"Preferencias, alergias, etc."})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsx("button",{type:"submit",disabled:y||!E.name.trim()||!E.phone.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50",children:y?"Guardando...":m?"Guardar":"Crear"})]})]})]})})]})}function B7({salon:t,onUpdate:e}){const[r,a]=A.useState(ad),[i,l]=A.useState(!1),[c,d]=A.useState(null),[h,m]=A.useState(null),[v,y]=A.useState(!1);A.useEffect(()=>{t?.working_hours?a(t.working_hours):a(ad),y(!1)},[t]);const b=w=>{a(w||ad),y(!0),m(null),d(null)},x=async()=>{if(t?.id){l(!0),d(null),m(null);try{await yD(t.id,{working_hours:r}),m("Horario del saln actualizado correctamente"),y(!1),e?.()}catch(w){d(w instanceof Error?w.message:"Error al guardar el horario")}finally{l(!1)}}};return t?f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"flex items-center justify-between mb-6",children:f.jsxs("div",{children:[f.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[f.jsx(R6,{className:"h-5 w-5"}),"Configuracin del Saln"]}),f.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Configura el horario por defecto de tu saln"})]})}),f.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600 mb-6",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-xl font-bold",children:t.name.charAt(0)})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-white",children:t.name}),t.address&&f.jsx("p",{className:"text-sm text-slate-400",children:t.address})]})]})}),f.jsxs("div",{className:"bg-slate-700/30 rounded-xl p-6 border border-slate-600",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(sn,{className:"h-5 w-5 text-indigo-400"}),f.jsx("h4",{className:"font-semibold text-white",children:"Horario del Saln"})]}),f.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Este horario se aplicar por defecto a todos los empleados que no tengan un horario personalizado. Los empleados pueden tener horarios individuales que sobrescriben este horario."}),f.jsx(vD,{value:r,onChange:b,showInheritOption:!1}),c&&f.jsxs("div",{className:"mt-4 p-3 bg-red-500/20 border border-red-500/30 rounded-lg flex items-center gap-2 text-red-400",children:[f.jsx(gn,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm",children:c})]}),h&&f.jsxs("div",{className:"mt-4 p-3 bg-green-500/20 border border-green-500/30 rounded-lg flex items-center gap-2 text-green-400",children:[f.jsx(vd,{className:"h-4 w-4"}),f.jsx("span",{className:"text-sm",children:h})]}),f.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[f.jsx("p",{className:"text-xs text-slate-500",children:v?"Tienes cambios sin guardar":"Horario sincronizado"}),f.jsx("button",{onClick:x,disabled:i||!v,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${v?"bg-indigo-600 hover:bg-indigo-700 text-white":"bg-slate-700 text-slate-400 cursor-not-allowed"}`,children:i?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Guardando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(S6,{className:"h-4 w-4"}),"Guardar Horario"]})})]})]}),f.jsxs("div",{className:"mt-6 p-4 bg-indigo-500/10 border border-indigo-500/30 rounded-lg",children:[f.jsx("h5",{className:"font-medium text-indigo-400 mb-2",children:"Cmo funciona?"}),f.jsxs("ul",{className:"text-sm text-slate-400 space-y-1",children:[f.jsx("li",{children:" El horario del saln es el horario por defecto para todo el equipo."}),f.jsx("li",{children:' Cada empleado puede tener un horario personalizado en la pestaa "Staff".'}),f.jsx("li",{children:" Si un empleado no tiene horario personalizado, usa el horario del saln."}),f.jsx("li",{children:" El chatbot de WhatsApp respeta estos horarios al ofrecer citas."})]})]})]}):f.jsx("div",{className:"p-6",children:f.jsx(Di,{text:"Cargando configuracin..."})})}function H7(){const{signOut:t}=Bl(),[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState("calendar"),[,m]=A.useState(0),[v,y]=A.useState(!1),[b,x]=A.useState(null);A.useEffect(()=>{const P=setInterval(()=>m(U=>U+1),3e4);return()=>clearInterval(P)},[]);const{events:w,staffList:_,salon:S,isInitialLoading:E,isRefreshing:j,error:T,refresh:O}=pD(),q=async P=>{if(!P){r([]),i(!1);return}try{i(!0),c(null);const{data:U,error:z}=await Te.from("logs").select("*").eq("salon_id",P).order("created_at",{ascending:!1}).limit(10);if(z){console.error("Error fetching logs:",z),c("No se pudieron cargar los logs.");return}r(U||[])}catch(U){console.error("Unexpected error fetching logs:",U),c("Error inesperado al cargar los logs.")}finally{i(!1)}};A.useEffect(()=>{S?.id&&q(S.id)},[S?.id]);const D=()=>{O(),q(S?.id)},R=async(P,U,z)=>{if(!P.googleEventId||!P.calendarId){console.error("Cannot reschedule: missing event ID or calendar ID");return}try{const W=await i7({eventId:P.googleEventId,calendarId:P.calendarId,newStart:U,newEnd:z,title:P.title,description:P.description});W.success?(O(),q(S?.id)):console.error("Reschedule failed:",W.error)}catch(W){console.error("Error rescheduling appointment:",W)}},L=()=>{O(),q(S?.id)},$=w.filter(P=>{const U=new Date;return P.start.toDateString()===U.toDateString()||P.end.toDateString()===U.toDateString()}).length,C=e.reduce((P,U)=>P+(U.revenue||0),0);return f.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[f.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-lg font-bold",children:"G"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold",children:S?.name||"Dashboard"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Administracion"}),S&&f.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${S.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[f.jsx(Qy,{className:"h-3 w-3"}),S.whatsapp_connected?`Hace ${S.whatsapp_last_ping?Nd(new Date(S.whatsapp_last_ping),{locale:qt}):"poco"}`:"Desconectado"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:L,disabled:j,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(qd,{className:`h-4 w-4 ${j?"animate-spin":""}`}),"Actualizar"]}),f.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[f.jsx(Xy,{size:18})," Salir"]})]})]})})}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:f.jsx(WC,{className:"h-5 w-5 text-green-400"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-2xl font-bold",children:["$",C.toLocaleString()]}),f.jsx("p",{className:"text-xs text-slate-400",children:"Ingresos"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-blue-500/20 rounded-lg",children:f.jsx(nn,{className:"h-5 w-5 text-blue-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:$}),f.jsx("p",{className:"text-xs text-slate-400",children:"Citas Hoy"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:f.jsx(vs,{className:"h-5 w-5 text-indigo-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:_.length}),f.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:f.jsx(P1,{className:"h-5 w-5 text-purple-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:w.length}),f.jsx("p",{className:"text-xs text-slate-400",children:"Eventos"})]})]})})]}),f.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700 overflow-x-auto",children:[f.jsxs("button",{onClick:()=>h("calendar"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="calendar"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(nn,{className:"h-4 w-4"}),"Calendario"]}),f.jsxs("button",{onClick:()=>h("clients"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="clients"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(Vq,{className:"h-4 w-4"}),"Clientes"]}),f.jsxs("button",{onClick:()=>h("staff"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="staff"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(vs,{className:"h-4 w-4"}),"Staff"]}),f.jsxs("button",{onClick:()=>h("services"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="services"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(eA,{className:"h-4 w-4"}),"Servicios"]}),f.jsxs("button",{onClick:()=>h("waitlist"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="waitlist"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(sn,{className:"h-4 w-4"}),"Espera"]}),f.jsxs("button",{onClick:()=>h("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(tA,{className:"h-4 w-4"}),"Soporte"]}),f.jsxs("button",{onClick:()=>h("logs"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="logs"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(P1,{className:"h-4 w-4"}),"Actividad"]}),f.jsxs("button",{onClick:()=>h("settings"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors whitespace-nowrap ${d==="settings"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(C6,{className:"h-4 w-4"}),"Configuracin"]})]}),f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="calendar"&&f.jsxs("div",{className:"p-6",children:[T&&f.jsx("div",{className:"mb-6",children:f.jsx(xs,{title:"Error del calendario",message:T,onRetry:O})}),E?f.jsx("div",{className:"py-12",children:f.jsx(Di,{text:"Cargando calendarios..."})}):_.length===0?f.jsx("div",{className:"py-12 flex justify-center items-center",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-slate-700",children:f.jsx(vs,{className:"h-8 w-8 text-slate-400"})}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sin calendarios configurados"}),f.jsx("p",{className:"text-slate-400",children:'No hay miembros del staff con calendarios de Google configurados. Ve a la pestana "Staff" para asignar Calendar IDs.'})]})}):f.jsx("div",{className:"calendar-dark",children:f.jsx(hD,{events:w,staffCalendars:_,isLoading:!1,isRefreshing:j,showStaffFilter:!0,onNewAppointment:()=>y(!0),onEventDelete:D,onEventEdit:P=>x(P),onEventReschedule:R,canDeleteEvents:!0,canEditEvents:!0,canDragEvents:!0})})]}),d==="clients"&&f.jsx(I7,{salonId:S?.id}),d==="staff"&&f.jsx(bD,{salonFilter:S?.id,onUpdate:O}),d==="services"&&f.jsx(U7,{salonId:S?.id}),d==="waitlist"&&f.jsx($7,{salonId:S?.id}),d==="tickets"&&f.jsx(xD,{salonId:S?.id}),d==="settings"&&f.jsx(B7,{salon:S,onUpdate:O}),d==="logs"&&f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Actividad Reciente"}),a?f.jsx("div",{className:"py-12",children:f.jsx(Di,{text:"Cargando actividad..."})}):l?f.jsx(xs,{title:"Error al cargar actividad",message:l,onRetry:q}):e.length===0?f.jsx("div",{className:"py-12 text-center text-slate-400",children:f.jsx("p",{children:"No hay actividad registrada"})}):f.jsx("div",{className:"grid gap-3",children:e.map(P=>f.jsx("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:f.jsx("div",{className:"flex items-start justify-between gap-4",children:f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f.jsx("span",{className:"font-medium text-white",children:P.action}),P.source&&f.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${P.source==="whatsapp"?"bg-green-500/20 text-green-400":P.source==="web"?"bg-blue-500/20 text-blue-400":"bg-slate-600 text-slate-300"}`,children:P.source==="whatsapp"?"WhatsApp":P.source==="web"?"Web":"Manual"}),P.revenue>0&&f.jsxs("span",{className:"px-2 py-0.5 bg-green-500/20 text-green-400 text-xs rounded font-medium",children:["+",P.revenue,""]})]}),P.service_name&&f.jsxs("div",{className:"mt-2 text-sm",children:[f.jsx("span",{className:"text-indigo-400 font-medium",children:P.service_name}),P.appointment_date&&P.appointment_time&&f.jsxs("span",{className:"text-slate-400",children:[" "," ",new Date(P.appointment_date).toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})," a las ",P.appointment_time]}),P.duration_minutes&&f.jsxs("span",{className:"text-slate-500",children:[" (",P.duration_minutes," min)"]})]}),P.client_name&&f.jsxs("div",{className:"mt-1 text-sm text-slate-400",children:["Cliente: ",f.jsx("span",{className:"text-white",children:P.client_name}),P.client_phone&&f.jsxs("span",{className:"text-slate-500",children:["  ",P.client_phone]})]}),P.details&&!P.service_name&&f.jsx("p",{className:"mt-1 text-sm text-slate-400",children:P.details}),f.jsx("p",{className:"mt-2 text-xs text-slate-500",children:Nd(new Date(P.created_at),{addSuffix:!0,locale:qt})})]})})},P.id))})]})]})]}),S?.id&&f.jsx(g7,{isOpen:v,onClose:()=>y(!1),onSuccess:D,salonId:S.id,staffList:_,salonWorkingHours:S.working_hours}),S?.id&&f.jsx(w7,{event:b,onClose:()=>x(null),onSuccess:D,salonId:S.id,staffList:_,salonWorkingHours:S.working_hours})]})}function F7(){const{profile:t,error:e,signOut:r}=Bl(),[,a]=A.useState(0);A.useEffect(()=>{const y=setInterval(()=>a(b=>b+1),3e4);return()=>clearInterval(y)},[]);const{events:i,salon:l,isInitialLoading:c,isRefreshing:d,error:h,refresh:m}=pD(),v=!!t?.google_calendar_id;return f.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[f.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-lg font-bold",children:"G"})}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-xl font-bold",children:["Hola, ",t?.full_name||"Usuario"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"text-xs text-slate-400",children:l?.name||"Tu agenda personal"}),l&&f.jsxs("div",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${l.whatsapp_connected?"bg-green-500/20 text-green-400":"bg-slate-600 text-slate-400"}`,children:[f.jsx(Qy,{className:"h-3 w-3"}),l.whatsapp_connected?`Hace ${l.whatsapp_last_ping?Nd(new Date(l.whatsapp_last_ping),{locale:qt}):"poco"}`:"Desconectado"]})]})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:m,disabled:d,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(qd,{className:`h-4 w-4 ${d?"animate-spin":""}`}),"Actualizar"]}),f.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[f.jsx(Xy,{size:18})," Salir"]})]})]})})}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e&&f.jsx("div",{className:"mb-6",children:f.jsx(xs,{title:"Error de autenticacion",message:e})}),h&&f.jsx("div",{className:"mb-6",children:f.jsx(xs,{title:"Error del calendario",message:h,onRetry:m})}),f.jsx("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:v?c?f.jsx("div",{className:"p-12",children:f.jsx(Di,{text:"Cargando tu calendario..."})}):f.jsx("div",{className:"p-6 calendar-dark",children:f.jsx(hD,{events:i,isLoading:!1,isRefreshing:d,showStaffFilter:!1})}):f.jsx("div",{className:"p-8 flex justify-center items-center min-h-[400px]",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-16 h-16 rounded-full bg-amber-500/20",children:f.jsx(gn,{className:"h-8 w-8 text-amber-400"})}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Calendario no configurado"}),f.jsx("p",{className:"text-slate-400",children:"No tienes un calendario de Google asignado. Contacta al administrador para configurar tu calendario."})]})})})]})]})}const lO={name:"",slug:"",phone:"",email:"",address:"",whatsapp_number:""};function G7({onUpdate:t}){const[e,r]=A.useState([]),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState(""),[m,v]=A.useState(!1),[y,b]=A.useState(null),[x,w]=A.useState(lO),[_,S]=A.useState(!1),[E,j]=A.useState(null),T=async()=>{try{i(!0),c(null);const C=await gD();r(C)}catch(C){c(C instanceof Error?C.message:"Error al cargar salones")}finally{i(!1)}};A.useEffect(()=>{T()},[]);const O=e.filter(C=>C.name.toLowerCase().includes(d.toLowerCase())||C.slug?.toLowerCase().includes(d.toLowerCase())),q=()=>{b(null),w(lO),v(!0)},D=C=>{b(C),w({name:C.name,slug:C.slug||"",phone:C.phone||"",email:C.email||"",address:C.address||"",whatsapp_number:C.whatsapp_number||""}),v(!0)},R=async C=>{C.preventDefault(),S(!0),c(null);try{y?await yD(y.id,x):await A7(x),v(!1),T(),t?.()}catch(P){c(P instanceof Error?P.message:"Error al guardar")}finally{S(!1)}},L=async C=>{try{await R7(C),j(null),T(),t?.()}catch(P){c(P instanceof Error?P.message:"Error al eliminar")}},$=C=>C.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return a?f.jsx("div",{className:"p-12 flex justify-center",children:f.jsx(Tt,{className:"h-8 w-8 animate-spin text-indigo-400"})}):f.jsxs("div",{children:[f.jsxs("div",{className:"p-4 border-b border-slate-700 flex flex-col sm:flex-row gap-4 justify-between",children:[f.jsxs("div",{className:"relative flex-1 max-w-md",children:[f.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),f.jsx("input",{type:"text",placeholder:"Buscar salones...",value:d,onChange:C=>h(C.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-400 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-lg transition-colors",children:[f.jsx(xn,{className:"h-4 w-4"}),"Nuevo Saln"]})]}),l&&f.jsx("div",{className:"m-4 p-3 bg-red-900/50 border border-red-700 rounded-lg text-red-300 text-sm",children:l}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-slate-700 text-left",children:[f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Saln"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden md:table-cell",children:"Contacto"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider hidden lg:table-cell",children:"WhatsApp"}),f.jsx("th",{className:"px-4 py-3 text-xs font-semibold text-slate-400 uppercase tracking-wider text-right",children:"Acciones"})]})}),f.jsx("tbody",{children:O.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:4,className:"px-4 py-12 text-center text-slate-400",children:d?"No se encontraron salones":"No hay salones registrados"})}):O.map(C=>f.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-indigo-500/20 rounded-lg flex items-center justify-center",children:f.jsx(pd,{className:"h-5 w-5 text-indigo-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-white",children:C.name}),f.jsxs("p",{className:"text-xs text-slate-400",children:["/",C.slug]})]})]})}),f.jsx("td",{className:"px-4 py-4 hidden md:table-cell",children:f.jsxs("div",{className:"space-y-1",children:[C.phone&&f.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[f.jsx(Hl,{className:"h-3.5 w-3.5 text-slate-400"}),C.phone]}),C.email&&f.jsxs("p",{className:"text-sm text-slate-300 flex items-center gap-1.5",children:[f.jsx(Md,{className:"h-3.5 w-3.5 text-slate-400"}),C.email]})]})}),f.jsx("td",{className:"px-4 py-4 hidden lg:table-cell",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-2 h-2 rounded-full ${C.whatsapp_connected?"bg-green-400":"bg-slate-500"}`}),f.jsx("span",{className:"text-sm text-slate-300",children:C.whatsapp_number||"No configurado"})]})}),f.jsx("td",{className:"px-4 py-4 text-right",children:E===C.id?f.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[f.jsx("span",{className:"text-xs text-slate-400",children:"Eliminar?"}),f.jsx("button",{onClick:()=>L(C.id),className:"p-1.5 bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:f.jsx(Kn,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>j(null),className:"p-1.5 bg-slate-600 hover:bg-slate-500 rounded-lg transition-colors",children:f.jsx(fr,{className:"h-4 w-4"})})]}):f.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[f.jsx("button",{onClick:()=>D(C),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-600 rounded-lg transition-colors",children:f.jsx(QC,{className:"h-4 w-4"})}),f.jsx("button",{onClick:()=>j(C.id),className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/30 rounded-lg transition-colors",children:f.jsx(Aa,{className:"h-4 w-4"})})]})})]},C.id))})]})}),m&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[f.jsx("h3",{className:"text-lg font-semibold",children:y?"Editar Saln":"Nuevo Saln"}),f.jsx("button",{onClick:()=>v(!1),className:"p-1 text-slate-400 hover:text-white rounded-lg hover:bg-slate-700",children:f.jsx(fr,{className:"h-5 w-5"})})]}),f.jsxs("form",{onSubmit:R,className:"p-4 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Nombre del saln *"}),f.jsx("input",{type:"text",value:x.name,onChange:C=>{w({...x,name:C.target.value,slug:y?x.slug:$(C.target.value)})},className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Slug (URL)"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-slate-400",children:"/"}),f.jsx("input",{type:"text",value:x.slug,onChange:C=>w({...x,slug:$(C.target.value)}),className:"flex-1 px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Telfono"}),f.jsx("input",{type:"tel",value:x.phone,onChange:C=>w({...x,phone:C.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Email"}),f.jsx("input",{type:"email",value:x.email,onChange:C=>w({...x,email:C.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"Direccin"}),f.jsx("input",{type:"text",value:x.address,onChange:C=>w({...x,address:C.target.value}),className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1.5",children:"WhatsApp"}),f.jsx("input",{type:"tel",value:x.whatsapp_number,onChange:C=>w({...x,whatsapp_number:C.target.value}),placeholder:"+34612345678",className:"w-full px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder:text-slate-500 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancelar"}),f.jsxs("button",{type:"submit",disabled:_,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[_&&f.jsx(Tt,{className:"h-4 w-4 animate-spin"}),y?"Guardar":"Crear"]})]})]})]})})]})}function W7(){const{signOut:t}=Bl(),[e,r]=A.useState(null),[a,i]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState("salons"),m=async()=>{try{i(!0),c(null);const v=await L7();r(v)}catch(v){c(v instanceof Error?v.message:"Error al cargar estadsticas")}finally{i(!1)}};return A.useEffect(()=>{m()},[]),f.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[f.jsx("header",{className:"bg-slate-800 border-b border-slate-700",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center",children:f.jsx("span",{className:"text-lg font-bold",children:"G"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-xl font-bold",children:"Galia Admin"}),f.jsx("p",{className:"text-xs text-slate-400",children:"Panel de Control"})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("button",{onClick:m,disabled:a,className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-300 hover:text-white hover:bg-slate-700 rounded-lg transition-colors disabled:opacity-50",children:[f.jsx(qd,{className:`h-4 w-4 ${a?"animate-spin":""}`}),"Actualizar"]}),f.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-red-400 hover:text-red-300 text-sm font-medium px-3 py-2 hover:bg-red-900/20 rounded-lg transition-colors",children:[f.jsx(Xy,{size:18})," Salir"]})]})]})})}),f.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l&&f.jsx("div",{className:"mb-6",children:f.jsx(xs,{title:"Error",message:l,onRetry:m})}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-indigo-500/20 rounded-lg",children:f.jsx(pd,{className:"h-5 w-5 text-indigo-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:e?.totalSalons||0}),f.jsx("p",{className:"text-xs text-slate-400",children:"Salones"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:f.jsx(vs,{className:"h-5 w-5 text-green-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:e?.totalUsers||0}),f.jsx("p",{className:"text-xs text-slate-400",children:"Usuarios"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-purple-500/20 rounded-lg",children:f.jsx(U6,{className:"h-5 w-5 text-purple-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:e?.totalAdmins||0}),f.jsx("p",{className:"text-xs text-slate-400",children:"Admins"})]})]})}),f.jsx("div",{className:"bg-slate-800 p-5 rounded-xl border border-slate-700",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-amber-500/20 rounded-lg",children:f.jsx(vs,{className:"h-5 w-5 text-amber-400"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-2xl font-bold",children:e?.totalStaff||0}),f.jsx("p",{className:"text-xs text-slate-400",children:"Staff"})]})]})})]}),f.jsxs("div",{className:"flex gap-1 bg-slate-800 p-1 rounded-lg mb-6 w-fit border border-slate-700",children:[f.jsxs("button",{onClick:()=>h("salons"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="salons"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(pd,{className:"h-4 w-4"}),"Salones"]}),f.jsxs("button",{onClick:()=>h("users"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="users"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(vs,{className:"h-4 w-4"}),"Usuarios"]}),f.jsxs("button",{onClick:()=>h("tickets"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-colors ${d==="tickets"?"bg-indigo-600 text-white":"text-slate-400 hover:text-white"}`,children:[f.jsx(tA,{className:"h-4 w-4"}),"Tickets"]})]}),f.jsxs("div",{className:"bg-slate-800 rounded-xl border border-slate-700 overflow-hidden",children:[d==="salons"&&f.jsx(G7,{onUpdate:m}),d==="users"&&f.jsx(bD,{onUpdate:m}),d==="tickets"&&f.jsx(xD,{showAllSalons:!0})]})]})]})}const J0=({children:t,requiredRole:e})=>{const{session:r,profile:a,loading:i}=Bl();if(i)return f.jsx("div",{className:"h-screen flex items-center justify-center text-indigo-600",children:"Cargando Galia..."});if(!r)return f.jsx(dl,{to:"/login",replace:!0});if(e&&a?.role!==e){if(e==="admin"&&a?.role==="superadmin")return t;switch(a?.role){case"superadmin":return f.jsx(dl,{to:"/superadmin",replace:!0});case"admin":return f.jsx(dl,{to:"/admin",replace:!0});default:return f.jsx(dl,{to:"/staff",replace:!0})}}return t};function Y7(){return f.jsx(G6,{children:f.jsx(Aq,{children:f.jsx(o3,{children:f.jsxs($4,{children:[f.jsx(Si,{path:"/login",element:f.jsx(Y6,{})}),f.jsx(Si,{path:"/superadmin",element:f.jsx(J0,{requiredRole:"superadmin",children:f.jsx(W7,{})})}),f.jsx(Si,{path:"/admin",element:f.jsx(J0,{requiredRole:"admin",children:f.jsx(H7,{})})}),f.jsx(Si,{path:"/staff",element:f.jsx(J0,{requiredRole:"staff",children:f.jsx(F7,{})})}),f.jsx(Si,{path:"*",element:f.jsx(dl,{to:"/login",replace:!0})})]})})})})}console.log(" Starting Galia Digital app...");const cO=document.getElementById("root");cO?(console.log(" Root element found, mounting React app..."),WM.createRoot(cO).render(f.jsx(A.StrictMode,{children:f.jsx(Y7,{})})),console.log(" React app mounted successfully")):console.error(" Root element not found!");
